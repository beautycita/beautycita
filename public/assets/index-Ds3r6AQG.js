var Y2=Object.defineProperty;var K2=(s,e,t)=>e in s?Y2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Q2=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var se=(s,e,t)=>K2(s,typeof e!="symbol"?e+"":e,t);import{a as G,j as r,b as qc,c as yn,d as bn,e as Z2,f as ey,Q as J2,g as X2}from"./utils-Bzqvt6Zl.js";import{b as e5,r as m,g as ua,a as Se,c as t5,d as T}from"./vendor-C3PBR23E.js";import{u as Cs,a as wt,L as Z,b as ql,c as ln,N as ms,R as xh,d as J,B as r5}from"./router-Y6VFMK2_.js";import{m as E,A as _e,u as s5,a as Jm}from"./ui-CBYVsFCF.js";import{u as cn,F as a5}from"./forms-CVxSTIpa.js";var Cse=Q2((Zt,Jt)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var uu={},Xm=e5;uu.createRoot=Xm.createRoot,uu.hydrateRoot=Xm.hydrateRoot;let n5={data:""},i5=s=>{if(typeof window=="object"){let e=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(s||document.head).appendChild(e),e.firstChild}return s||n5},o5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l5=/\/\*[^]*?\*\/|  +/g,ep=/\n+/g,ps=(s,e)=>{let t="",a="",n="";for(let i in s){let o=s[i];i[0]=="@"?i[1]=="i"?t=i+" "+o+";":a+=i[1]=="f"?ps(o,i):i+"{"+ps(o,i[1]=="k"?"":e)+"}":typeof o=="object"?a+=ps(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ps.p?ps.p(i,o):i+":"+o+";")}return t+(e&&n?e+"{"+n+"}":n)+a},Fr={},ty=s=>{if(typeof s=="object"){let e="";for(let t in s)e+=t+ty(s[t]);return e}return s},c5=(s,e,t,a,n)=>{let i=ty(s),o=Fr[i]||(Fr[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Fr[o]){let c=i!==s?s:(d=>{let u,h,p=[{}];for(;u=o5.exec(d.replace(l5,""));)u[4]?p.shift():u[3]?(h=u[3].replace(ep," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][u[1]]=u[2].replace(ep," ").trim();return p[0]})(s);Fr[o]=ps(n?{["@keyframes "+o]:c}:c,t?"":"."+o)}let l=t&&Fr.g?Fr.g:null;return t&&(Fr.g=Fr[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Fr[o],e,a,l),o},d5=(s,e,t)=>s.reduce((a,n,i)=>{let o=e[i];if(o&&o.call){let l=o(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ps(l,""):l===!1?"":l}return a+n+(o??"")},"");function Gl(s){let e=this||{},t=s.call?s(e.p):s;return c5(t.unshift?t.raw?d5(t,[].slice.call(arguments,1),e.p):t.reduce((a,n)=>Object.assign(a,n&&n.call?n(e.p):n),{}):t,i5(e.target),e.g,e.o,e.k)}let ry,hu,mu;Gl.bind({g:1});let Jr=Gl.bind({k:1});function u5(s,e,t,a){ps.p=e,ry=s,hu=t,mu=a}function Es(s,e){let t=this||{};return function(){let a=arguments;function n(i,o){let l=Object.assign({},i),c=l.className||n.className;t.p=Object.assign({theme:hu&&hu()},l),t.o=/ *go\d+/.test(c),l.className=Gl.apply(t,a)+(c?" "+c:"");let d=s;return s[0]&&(d=l.as||s,delete l.as),mu&&d[0]&&mu(l),ry(d,l)}return n}}var h5=s=>typeof s=="function",ul=(s,e)=>h5(s)?s(e):s,m5=(()=>{let s=0;return()=>(++s).toString()})(),sy=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),p5=20,yh="default",ay=(s,e)=>{let{toastLimit:t}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,t)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:a}=e;return ay(s,{type:s.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=e;return{...s,toasts:s.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let i=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Go=[],ny={toasts:[],pausedAt:void 0,settings:{toastLimit:p5}},_r={},iy=(s,e=yh)=>{_r[e]=ay(_r[e]||ny,s),Go.forEach(([t,a])=>{t===e&&a(_r[e])})},oy=s=>Object.keys(_r).forEach(e=>iy(s,e)),f5=s=>Object.keys(_r).find(e=>_r[e].toasts.some(t=>t.id===s)),Yl=(s=yh)=>e=>{iy(e,s)},g5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},x5=(s={},e=yh)=>{let[t,a]=m.useState(_r[e]||ny),n=m.useRef(_r[e]);m.useEffect(()=>(n.current!==_r[e]&&a(_r[e]),Go.push([e,a]),()=>{let o=Go.findIndex(([l])=>l===e);o>-1&&Go.splice(o,1)}),[e]);let i=t.toasts.map(o=>{var l,c,d;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((l=s[o.type])==null?void 0:l.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((c=s[o.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||g5[o.type],style:{...s.style,...(d=s[o.type])==null?void 0:d.style,...o.style}}});return{...t,toasts:i}},y5=(s,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...t,id:(t==null?void 0:t.id)||m5()}),Li=s=>(e,t)=>{let a=y5(e,s,t);return Yl(a.toasterId||f5(a.id))({type:2,toast:a}),a.id},xt=(s,e)=>Li("blank")(s,e);xt.error=Li("error");xt.success=Li("success");xt.loading=Li("loading");xt.custom=Li("custom");xt.dismiss=(s,e)=>{let t={type:3,toastId:s};e?Yl(e)(t):oy(t)};xt.dismissAll=s=>xt.dismiss(void 0,s);xt.remove=(s,e)=>{let t={type:4,toastId:s};e?Yl(e)(t):oy(t)};xt.removeAll=s=>xt.remove(void 0,s);xt.promise=(s,e,t)=>{let a=xt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof s=="function"&&(s=s()),s.then(n=>{let i=e.success?ul(e.success,n):void 0;return i?xt.success(i,{id:a,...t,...t==null?void 0:t.success}):xt.dismiss(a),n}).catch(n=>{let i=e.error?ul(e.error,n):void 0;i?xt.error(i,{id:a,...t,...t==null?void 0:t.error}):xt.dismiss(a)}),s};var b5=1e3,v5=(s,e="default")=>{let{toasts:t,pausedAt:a}=x5(s,e),n=m.useRef(new Map).current,i=m.useCallback((h,p=b5)=>{if(n.has(h))return;let f=setTimeout(()=>{n.delete(h),o({type:4,toastId:h})},p);n.set(h,f)},[]);m.useEffect(()=>{if(a)return;let h=Date.now(),p=t.map(f=>{if(f.duration===1/0)return;let y=(f.duration||0)+f.pauseDuration-(h-f.createdAt);if(y<0){f.visible&&xt.dismiss(f.id);return}return setTimeout(()=>xt.dismiss(f.id,e),y)});return()=>{p.forEach(f=>f&&clearTimeout(f))}},[t,a,e]);let o=m.useCallback(Yl(e),[e]),l=m.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=m.useCallback((h,p)=>{o({type:1,toast:{id:h,height:p}})},[o]),d=m.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),u=m.useCallback((h,p)=>{let{reverseOrder:f=!1,gutter:y=8,defaultPosition:x}=p||{},g=t.filter(k=>(k.position||x)===(h.position||x)&&k.height),v=g.findIndex(k=>k.id===h.id),b=g.filter((k,w)=>w<v&&k.visible).length;return g.filter(k=>k.visible).slice(...f?[b+1]:[0,b]).reduce((k,w)=>k+(w.height||0)+y,0)},[t]);return m.useEffect(()=>{t.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let p=n.get(h.id);p&&(clearTimeout(p),n.delete(h.id))}})},[t,i]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},w5=Jr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,j5=Jr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,N5=Jr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k5=Es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${j5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${N5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_5=Jr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S5=Es("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${_5} 1s linear infinite;
`,C5=Jr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,E5=Jr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,T5=Es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${E5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,P5=Es("div")`
  position: absolute;
`,A5=Es("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,O5=Jr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L5=Es("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${O5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,R5=({toast:s})=>{let{icon:e,type:t,iconTheme:a}=s;return e!==void 0?typeof e=="string"?m.createElement(L5,null,e):e:t==="blank"?null:m.createElement(A5,null,m.createElement(S5,{...a}),t!=="loading"&&m.createElement(P5,null,t==="error"?m.createElement(k5,{...a}):m.createElement(T5,{...a})))},I5=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M5=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,$5="0%{opacity:0;} 100%{opacity:1;}",D5="0%{opacity:1;} 100%{opacity:0;}",F5=Es("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,B5=Es("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,V5=(s,e)=>{let t=s.includes("top")?1:-1,[a,n]=sy()?[$5,D5]:[I5(t),M5(t)];return{animation:e?`${Jr(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jr(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},U5=m.memo(({toast:s,position:e,style:t,children:a})=>{let n=s.height?V5(s.position||e||"top-center",s.visible):{opacity:0},i=m.createElement(R5,{toast:s}),o=m.createElement(B5,{...s.ariaProps},ul(s.message,s));return m.createElement(F5,{className:s.className,style:{...n,...t,...s.style}},typeof a=="function"?a({icon:i,message:o}):m.createElement(m.Fragment,null,i,o))});u5(m.createElement);var W5=({id:s,className:e,style:t,onHeightUpdate:a,children:n})=>{let i=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;a(s,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,a]);return m.createElement("div",{ref:i,className:e,style:t},n)},z5=(s,e)=>{let t=s.includes("top"),a=t?{top:0}:{bottom:0},n=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...a,...n}},H5=Gl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qi=16,q5=({reverseOrder:s,position:e="top-center",toastOptions:t,gutter:a,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=v5(t,i);return m.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Qi,left:Qi,right:Qi,bottom:Qi,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||e,p=d.calculateOffset(u,{reverseOrder:s,gutter:a,defaultPosition:e}),f=z5(h,p);return m.createElement(W5,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?H5:"",style:f},u.type==="custom"?ul(u.message,u):n?n(u):m.createElement(U5,{toast:u,position:h}))}))},R=xt;const G5={},tp=s=>{let e;const t=new Set,a=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const f=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,f))}},n=()=>e,c={setState:a,getState:n,getInitialState:()=>d,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{(G5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},d=e=s(a,n,c);return c},Y5=s=>s?tp(s):tp;var ly={exports:{}},cy={},dy={exports:{}},uy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=m;function K5(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var Q5=typeof Object.is=="function"?Object.is:K5,Z5=Ya.useState,J5=Ya.useEffect,X5=Ya.useLayoutEffect,eN=Ya.useDebugValue;function tN(s,e){var t=e(),a=Z5({inst:{value:t,getSnapshot:e}}),n=a[0].inst,i=a[1];return X5(function(){n.value=t,n.getSnapshot=e,Gc(n)&&i({inst:n})},[s,t,e]),J5(function(){return Gc(n)&&i({inst:n}),s(function(){Gc(n)&&i({inst:n})})},[s]),eN(t),t}function Gc(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!Q5(s,t)}catch{return!0}}function rN(s,e){return e()}var sN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rN:tN;uy.useSyncExternalStore=Ya.useSyncExternalStore!==void 0?Ya.useSyncExternalStore:sN;dy.exports=uy;var aN=dy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=m,nN=aN;function iN(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var oN=typeof Object.is=="function"?Object.is:iN,lN=nN.useSyncExternalStore,cN=Kl.useRef,dN=Kl.useEffect,uN=Kl.useMemo,hN=Kl.useDebugValue;cy.useSyncExternalStoreWithSelector=function(s,e,t,a,n){var i=cN(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=uN(function(){function c(f){if(!d){if(d=!0,u=f,f=a(f),n!==void 0&&o.hasValue){var y=o.value;if(n(y,f))return h=y}return h=f}if(y=h,oN(u,f))return y;var x=a(f);return n!==void 0&&n(y,x)?(u=f,y):(u=f,h=x)}var d=!1,u,h,p=t===void 0?null:t;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,t,a,n]);var l=lN(s,i[0],i[1]);return dN(function(){o.hasValue=!0,o.value=l},[l]),hN(l),l};ly.exports=cy;var mN=ly.exports;const pN=ua(mN),hy={},{useDebugValue:fN}=Se,{useSyncExternalStoreWithSelector:gN}=pN;let rp=!1;const xN=s=>s;function yN(s,e=xN,t){(hy?"production":void 0)!=="production"&&t&&!rp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rp=!0);const a=gN(s.subscribe,s.getState,s.getServerState||s.getInitialState,e,t);return fN(a),a}const bN=s=>{(hy?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof s=="function"?Y5(s):s,t=(a,n)=>yN(e,a,n);return Object.assign(t,e),t},vN=s=>bN,wN={};function jN(s,e){let t;try{t=s()}catch{return}return{getItem:n=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=t.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const ci=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(a){return ci(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return ci(a)(t)}}}},NN=(s,e)=>(t,a,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const l=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return s((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...g)},a,n);const u=ci(i.serialize),h=()=>{const g=i.partialize({...a()});let v;const b=u({state:g,version:i.version}).then(k=>d.setItem(i.name,k)).catch(k=>{v=k});if(v)throw v;return b},p=n.setState;n.setState=(g,v)=>{p(g,v),h()};const f=s((...g)=>{t(...g),h()},a,n);let y;const x=()=>{var g;if(!d)return;o=!1,l.forEach(b=>b(a()));const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,a()))||void 0;return ci(d.getItem.bind(d))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var k;return y=i.merge(b,(k=a())!=null?k:f),t(y,!0),h()}).then(()=>{v==null||v(y,void 0),o=!0,c.forEach(b=>b(y))}).catch(b=>{v==null||v(void 0,b)})};return n.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(d=g.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},x(),y||f},kN=(s,e)=>(t,a,n)=>{let i={storage:jN(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...e},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return s((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...x)},a,n);const u=()=>{const x=i.partialize({...a()});return d.setItem(i.name,{state:x,version:i.version})},h=n.setState;n.setState=(x,g)=>{h(x,g),u()};const p=s((...x)=>{t(...x),u()},a,n);n.getInitialState=()=>p;let f;const y=()=>{var x,g;if(!d)return;o=!1,l.forEach(b=>{var k;return b((k=a())!=null?k:p)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(x=a())!=null?x:p))||void 0;return ci(d.getItem.bind(d))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var k;const[w,N]=b;if(f=i.merge(N,(k=a())!=null?k:p),t(f,!0),w)return u()}).then(()=>{v==null||v(f,void 0),f=a(),o=!0,c.forEach(b=>b(f))}).catch(b=>{v==null||v(void 0,b)})};return n.persist={setOptions:x=>{i={...i,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||y(),f||p},_N=(s,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((wN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),NN(s,e)):kN(s,e),SN=_N;class CN{constructor(){se(this,"client");this.client=G.create({baseURL:this.getApiBaseUrl(),timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}getApiBaseUrl(){const e="https://beautycita.com";return e.endsWith("/api")?e:`${e}/api`}setupInterceptors(){this.client.interceptors.request.use(e=>{const t=this.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(this.clearToken(),window.location.href="/login"),Promise.reject(e)})}getToken(){var t;let e=localStorage.getItem("beautycita-auth-token");if(!e)try{const a=localStorage.getItem("beautycita-auth");a&&(e=((t=JSON.parse(a).state)==null?void 0:t.token)||null)}catch{}return e}clearToken(){localStorage.removeItem("beautycita-auth-token")}setAuthToken(e){localStorage.setItem("beautycita-auth-token",e)}clearAuthToken(){this.clearToken()}async request(e,t,a,n){var i,o,l,c,d,u,h,p;try{const f=await this.client.request({method:e,url:t,data:a,...n});return{success:((i=f.data)==null?void 0:i.success)??!0,data:((o=f.data)==null?void 0:o.data)||f.data,message:(l=f.data)==null?void 0:l.message}}catch(f){return console.error(`API ${e.toUpperCase()} ${t} error:`,f),{success:!1,error:((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.message)||f.message||"Network error",code:(h=(u=f.response)==null?void 0:u.data)==null?void 0:h.code,data:(p=f.response)==null?void 0:p.data}}}async get(e,t){return this.request("get",e,void 0,t)}async post(e,t,a){return this.request("post",e,t,a)}async put(e,t,a){return this.request("put",e,t,a)}async patch(e,t,a){return this.request("patch",e,t,a)}async delete(e,t){return this.request("delete",e,void 0,t)}async uploadFile(e,t,a){return this.request("post",e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a})}async downloadFile(e,t){try{const a=await this.client.get(e,{responseType:"blob"}),n=new Blob([a.data]),i=window.URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=t||"download",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)}catch(a){throw console.error("Download error:",a),a}}async healthCheck(){return this.get("/health")}}const me=new CN,{get:Rse,post:Ise,put:Mse,patch:$se,delete:Dse,uploadFile:Fse,downloadFile:Bse}=me;class EN{async login(e){return me.post("/auth/login",e)}async register(e){return me.post("/auth/register",e)}async registerStylist(e){return me.post("/auth/register/stylist",e)}async logout(){return me.post("/auth/logout")}async getProfile(){return me.get("/auth/profile")}async updateProfile(e){return me.patch("/auth/profile",e)}async changePassword(e){return me.patch("/auth/change-password",e)}async forgotPassword(e){return me.post("/auth/forgot-password",{email:e})}async resetPassword(e){return me.post("/auth/reset-password",e)}async verifyEmail(e){return me.post("/auth/verify-email",{token:e})}async resendVerificationEmail(){return me.post("/auth/send-email-verification")}async refreshToken(){return me.post("/auth/refresh")}setAuthToken(e){me.setAuthToken(e)}clearAuthToken(){me.clearAuthToken()}hasRole(e,t){return(e==null?void 0:e.role)===t}hasAnyRole(e,t){return e?t.includes(e.role):!1}isAuthenticated(){return!!localStorage.getItem("beautycita-auth-token")}getCurrentUser(){var e;try{const t=localStorage.getItem("beautycita-auth");return t&&((e=JSON.parse(t).state)==null?void 0:e.user)||null}catch{return null}}}const ur=new EN,we=vN()(SN((s,e)=>({user:null,client:null,stylist:null,isAuthenticated:!1,isLoading:!1,token:null,login:async t=>{s({isLoading:!0});try{const a=await ur.login(t);if(a.success&&a.data){const{user:n,client:i,stylist:o,token:l,redirectUrl:c,requiresPhoneVerification:d,phoneVerified:u}=a.data;s({user:{...n,isActive:n.isActive??!0,emailVerified:n.emailVerified??!1,role:n.role||"CLIENT"},client:i,stylist:o,token:l,isAuthenticated:!0,isLoading:!1}),ur.setAuthToken(l);const h={redirectUrl:c,requiresPhoneVerification:d,phoneVerified:u??!1};return R.success("¡Bienvenido de vuelta!"),{success:!0,...h,user:n}}else throw new Error(a.message||"Error de autenticación")}catch(a){return s({isLoading:!1}),R.error(a.message||"Error al iniciar sesión"),{success:!1,error:a.message}}},register:async t=>{s({isLoading:!0});try{const a=await ur.register(t);if(a.success)return s({isLoading:!1}),R.success("¡Cuenta creada exitosamente! Por favor verifica tu email."),!0;throw new Error(a.message||"Error en el registro")}catch(a){return s({isLoading:!1}),R.error(a.message||"Error al crear la cuenta"),!1}},logout:()=>{ur.clearAuthToken(),s({user:null,client:null,stylist:null,token:null,isAuthenticated:!1,isLoading:!1}),R.success("Sesión cerrada correctamente")},checkAuth:async()=>{var a;let{token:t}=e();if(!t)try{const n=localStorage.getItem("beautycita-auth");n&&(t=((a=JSON.parse(n).state)==null?void 0:a.token)||null)}catch{}if(!t){s({isLoading:!1});return}s({isLoading:!0});try{ur.setAuthToken(t);const n=await ur.getProfile();if(n.success&&n.data){const{user:i,client:o,stylist:l}=n.data;s({user:{...i,isActive:i.isActive??!0,emailVerified:i.emailVerified??!1,role:i.role||"CLIENT"},client:o,stylist:l,token:t,isAuthenticated:!0,isLoading:!1})}else e().logout()}catch{e().logout()}},updateProfile:async t=>{s({isLoading:!0});try{const a=await ur.updateProfile(t);if(a.success&&a.data)return s(n=>({user:{...n.user,...a.data},isLoading:!1})),!0;throw new Error(a.message||"Error al actualizar perfil")}catch{return s({isLoading:!1}),!1}},clearError:()=>{},setLoading:t=>{s({isLoading:t})},setUser:t=>{s({user:{...t,isActive:t.isActive??!0,emailVerified:t.emailVerified??!1,role:t.role||"CLIENT"},isAuthenticated:!0})},setToken:t=>{s({token:t}),ur.setAuthToken(t)}}),{name:"beautycita-auth",partialize:s=>({token:s.token,user:s.user,client:s.client,stylist:s.stylist,isAuthenticated:s.isAuthenticated}),onRehydrateStorage:()=>s=>{s!=null&&s.token&&ur.setAuthToken(s.token)}}));function TN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const sa=m.forwardRef(TN);function PN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const pu=m.forwardRef(PN);function AN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const st=m.forwardRef(AN);function ON({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const hl=m.forwardRef(ON);function LN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const RN=m.forwardRef(LN);function IN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Ie=m.forwardRef(IN);function MN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const my=m.forwardRef(MN);function $N({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const DN=m.forwardRef($N);function FN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const di=m.forwardRef(FN);function BN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const VN=m.forwardRef(BN);function UN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))}const py=m.forwardRef(UN);function WN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const ui=m.forwardRef(WN);function zN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const bh=m.forwardRef(zN);function HN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const qN=m.forwardRef(HN);function GN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const YN=m.forwardRef(GN);function KN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const hi=m.forwardRef(KN);function QN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Jn=m.forwardRef(QN);function ZN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const JN=m.forwardRef(ZN);function XN({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const ek=m.forwardRef(XN);function tk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const vh=m.forwardRef(tk);function rk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75c1.148 0 2.278.08 3.383.237 1.037.146 1.866.966 1.866 2.013 0 3.728-2.35 6.75-5.25 6.75S6.75 18.728 6.75 15c0-1.046.83-1.867 1.866-2.013A24.204 24.204 0 0 1 12 12.75Zm0 0c2.883 0 5.647.508 8.207 1.44a23.91 23.91 0 0 1-1.152 6.06M12 12.75c-2.883 0-5.647.508-8.208 1.44.125 2.104.52 4.136 1.153 6.06M12 12.75a2.25 2.25 0 0 0 2.248-2.354M12 12.75a2.25 2.25 0 0 1-2.248-2.354M12 8.25c.995 0 1.971-.08 2.922-.236.403-.066.74-.358.795-.762a3.778 3.778 0 0 0-.399-2.25M12 8.25c-.995 0-1.97-.08-2.922-.236-.402-.066-.74-.358-.795-.762a3.734 3.734 0 0 1 .4-2.253M12 8.25a2.25 2.25 0 0 0-2.248 2.146M12 8.25a2.25 2.25 0 0 1 2.248 2.146M8.683 5a6.032 6.032 0 0 1-1.155-1.002c.07-.63.27-1.222.574-1.747m.581 2.749A3.75 3.75 0 0 1 15.318 5m0 0c.427-.283.815-.62 1.155-.999a4.471 4.471 0 0 0-.575-1.752M4.921 6a24.048 24.048 0 0 0-.392 3.314c1.668.546 3.416.914 5.223 1.082M19.08 6c.205 1.08.337 2.187.392 3.314a23.882 23.882 0 0 1-5.223 1.082"}))}const sk=m.forwardRef(rk);function ak({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const nk=m.forwardRef(ak);function ik({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const ml=m.forwardRef(ik);function ok({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z"}))}const lk=m.forwardRef(ok);function ck({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const dk=m.forwardRef(ck);function uk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Oe=m.forwardRef(uk);function hk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const mk=m.forwardRef(hk);function pk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Bn=m.forwardRef(pk);function fk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const vt=m.forwardRef(fk);function gk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Ft=m.forwardRef(gk);function xk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const fy=m.forwardRef(xk);function yk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const pl=m.forwardRef(yk);function bk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ie=m.forwardRef(bk);function vk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Ri=m.forwardRef(vk);function wk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const gy=m.forwardRef(wk);function jk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Ql=m.forwardRef(jk);function Nk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Sr=m.forwardRef(Nk);function kk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const _k=m.forwardRef(kk);function Sk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const xy=m.forwardRef(Sk);function Ck({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ve=m.forwardRef(Ck);function Ek({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const fl=m.forwardRef(Ek);function Tk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const yy=m.forwardRef(Tk);function Pk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const sp=m.forwardRef(Pk);function Ak({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const bs=m.forwardRef(Ak);function Ok({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Ge=m.forwardRef(Ok);function Lk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"}))}const ap=m.forwardRef(Lk);function Rk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Le=m.forwardRef(Rk);function Ik({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"}))}const np=m.forwardRef(Ik);function Mk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const mi=m.forwardRef(Mk);function $k({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const gl=m.forwardRef($k);function Dk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Fk=m.forwardRef(Dk);function Bk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const Vk=m.forwardRef(Bk);function Uk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const wh=m.forwardRef(Uk);function Wk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const xl=m.forwardRef(Wk);function zk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const ir=m.forwardRef(zk);function Hk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const by=m.forwardRef(Hk);function qk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const dt=m.forwardRef(qk);function Gk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Ns=m.forwardRef(Gk);function Yk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const At=m.forwardRef(Yk);function Kk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const Zs=m.forwardRef(Kk);function Qk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const Zk=m.forwardRef(Qk);function Jk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const vy=m.forwardRef(Jk);function Xk({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Ii=m.forwardRef(Xk);function e_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"}))}const t_=m.forwardRef(e_);function r_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const Ka=m.forwardRef(r_);function s_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const a_=m.forwardRef(s_);function n_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const We=m.forwardRef(n_);function i_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Mi=m.forwardRef(i_);function o_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const l_=m.forwardRef(o_);function c_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const wy=m.forwardRef(c_);function d_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const u_=m.forwardRef(d_);function h_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Lr=m.forwardRef(h_);function m_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ot=m.forwardRef(m_);function p_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const ot=m.forwardRef(p_);function f_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const g_=m.forwardRef(f_);function x_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const ip=m.forwardRef(x_);function y_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))}const b_=m.forwardRef(y_);function v_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const w_=m.forwardRef(v_);function j_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const Zl=m.forwardRef(j_);function N_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const pi=m.forwardRef(N_);function k_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const op=m.forwardRef(k_);function __({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const aa=m.forwardRef(__);function S_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const na=m.forwardRef(S_);function C_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Xt=m.forwardRef(C_);function E_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const fu=m.forwardRef(E_);function T_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const jh=m.forwardRef(T_);function P_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const gu=m.forwardRef(P_);function A_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const or=m.forwardRef(A_);function O_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const L_=m.forwardRef(O_);function R_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const lp=m.forwardRef(R_);function I_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const jy=m.forwardRef(I_);function M_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const Xr=m.forwardRef(M_);function $_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664"}))}const Qa=m.forwardRef($_);function D_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const F_=m.forwardRef(D_);function B_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const $i=m.forwardRef(B_);function V_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Ke=m.forwardRef(V_);function U_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const W_=m.forwardRef(U_);function z_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Ee=m.forwardRef(z_);function H_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const nt=m.forwardRef(H_);function q_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const cp=m.forwardRef(q_);function G_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"}))}const dp=m.forwardRef(G_);function Y_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const K_=m.forwardRef(Y_);function Q_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ts=m.forwardRef(Q_);function Z_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Wa=m.forwardRef(Z_);function J_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ct=m.forwardRef(J_);function X_({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const et=m.forwardRef(X_);function eS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const xu=m.forwardRef(eS);function tS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ks=m.forwardRef(tS);function rS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const yl=m.forwardRef(rS);function sS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const Nh=m.forwardRef(sS);function aS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const rt=m.forwardRef(aS);function nS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const De=m.forwardRef(nS);function iS(){if(console&&console.warn){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];Js(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const up={};function yu(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];Js(e[0])&&up[e[0]]||(Js(e[0])&&(up[e[0]]=new Date),iS(...e))}const Ny=(s,e)=>()=>{if(s.isInitialized)e();else{const t=()=>{setTimeout(()=>{s.off("initialized",t)},0),e()};s.on("initialized",t)}},hp=(s,e,t)=>{s.loadNamespaces(e,Ny(s,t))},mp=(s,e,t,a)=>{Js(t)&&(t=[t]),t.forEach(n=>{s.options.ns.indexOf(n)<0&&s.options.ns.push(n)}),s.loadLanguages(e,Ny(s,a))},oS=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=e.languages[0],n=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=e.services.backendConnector.state[`${l}|${c}`];return d===-1||d===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,s)?!1:!!(e.hasResourceBundle(a,s)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(a,s)&&(!n||o(i,s)))},lS=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(yu("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(s,{lng:t.lng,precheck:(n,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,s))return!1}}):oS(s,e,t)},Js=s=>typeof s=="string",cS=s=>typeof s=="object"&&s!==null,dS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},hS=s=>uS[s],mS=s=>s.replace(dS,hS);let bu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mS};const pS=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bu={...bu,...s}},fS=()=>bu;let ky;const gS=s=>{ky=s},xS=()=>ky,yS={type:"3rdParty",init(s){pS(s.options.react),gS(s)}},bS=m.createContext();class vS{constructor(){se(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}}const wS=(s,e)=>{const t=m.useRef();return m.useEffect(()=>{t.current=s},[s,e]),t.current},_y=(s,e,t,a)=>s.getFixedT(e,t,a),jS=(s,e,t,a)=>m.useCallback(_y(s,e,t,a),[s,e,t,a]),je=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:a,defaultNS:n}=m.useContext(bS)||{},i=t||a||xS();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new vS),!i){yu("You will need to pass in an i18next instance by using initReactI18next");const w=(j,_)=>Js(_)?_:cS(_)&&Js(_.defaultValue)?_.defaultValue:Array.isArray(j)?j[j.length-1]:j,N=[w,{},!1];return N.t=w,N.i18n={},N.ready=!1,N}i.options.react&&i.options.react.wait!==void 0&&yu("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...fS(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let d=n||i.options&&i.options.defaultNS;d=Js(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(w=>lS(w,i,o)),h=jS(i,e.lng||null,o.nsMode==="fallback"?d:d[0],c),p=()=>h,f=()=>_y(i,e.lng||null,o.nsMode==="fallback"?d:d[0],c),[y,x]=m.useState(p);let g=d.join();e.lng&&(g=`${e.lng}${g}`);const v=wS(g),b=m.useRef(!0);m.useEffect(()=>{const{bindI18n:w,bindI18nStore:N}=o;b.current=!0,!u&&!l&&(e.lng?mp(i,e.lng,d,()=>{b.current&&x(f)}):hp(i,d,()=>{b.current&&x(f)})),u&&v&&v!==g&&b.current&&x(f);const j=()=>{b.current&&x(f)};return w&&i&&i.on(w,j),N&&i&&i.store.on(N,j),()=>{b.current=!1,w&&i&&w.split(" ").forEach(_=>i.off(_,j)),N&&i&&N.split(" ").forEach(_=>i.store.off(_,j))}},[i,g]),m.useEffect(()=>{b.current&&u&&x(p)},[i,c,u]);const k=[y,i,u];if(k.t=y,k.i18n=i,k.ready=u,u||!u&&!l)return k;throw new Promise(w=>{e.lng?mp(i,e.lng,d,()=>w()):hp(i,d,()=>w())})};function NS({isOpen:s,onClose:e,conversationType:t="general"}){const{isAuthenticated:a}=we(),{t:n,i18n:i}=je(),[o,l]=m.useState([]),[c,d]=m.useState(""),[u,h]=m.useState(!1),[p]=m.useState(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),f=m.useRef(null),y=m.useRef(null);m.useEffect(()=>{var w;if(s)return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",g(),(w=y.current)==null||w.focus(),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}},[s]),m.useEffect(()=>{x()},[o]);const x=()=>{var w;(w=f.current)==null||w.scrollIntoView({behavior:"smooth"})},g=async()=>{try{const w=await G.get(`/api/aphrodite/conversation/${p}`);if(w.data.success&&w.data.data.messages)l(w.data.data.messages);else{const N=n("chat.welcome",{returnObjects:!0}),j=Array.isArray(N)?N[Math.floor(Math.random()*N.length)]:N;l([{role:"assistant",content:j}])}}catch(w){console.error("Error loading conversation:",w);const N=n("chat.welcome",{returnObjects:!0}),j=Array.isArray(N)?N[Math.floor(Math.random()*N.length)]:N;l([{role:"assistant",content:j}])}},v=async w=>{if(w.preventDefault(),!c.trim()||u)return;const N=c.trim();d(""),l(j=>[...j,{role:"user",content:N}]),h(!0);try{const j=await G.post("/api/aphrodite/chat",{language:i.language||"en",message:N,sessionId:p,conversationType:t});j.data.success&&l(_=>[..._,{role:"assistant",content:j.data.data.message}])}catch(j){console.error("Error sending message:",j),l(_=>[..._,{role:"assistant",content:n("chat.errors.general")}])}finally{h(!1),setTimeout(()=>{var j;(j=y.current)==null||j.focus()},100)}},b=[n("chat.suggestedQuestions.q1"),n("chat.suggestedQuestions.q2"),n("chat.suggestedQuestions.q3"),n("chat.suggestedQuestions.q4")],k=w=>{var N;d(w),(N=y.current)==null||N.focus()};return s?r.jsxs("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:e}),r.jsx("div",{className:"lg:hidden fixed inset-0 flex items-center justify-center p-4 pointer-events-none",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[65vh] flex flex-col pointer-events-auto",onClick:w=>w.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ee,{className:"w-6 h-6 text-pink-600"}),r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Aphrodite AI"})]}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-3xl",children:r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[o.length===1&&o[0].role==="assistant"&&r.jsx("div",{className:"grid grid-cols-1 gap-2 mb-3",children:b.map((w,N)=>r.jsx("button",{onClick:()=>k(w),className:"text-left p-3 bg-purple-50 text-sm text-gray-900 font-medium hover:bg-purple-100 transition-colors border border-purple-200 rounded-3xl",children:w},N))}),o.map((w,N)=>r.jsx("div",{className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] px-4 py-3 rounded-3xl ${w.role==="user"?"bg-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[w.role==="assistant"&&r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ee,{className:"w-4 h-4 text-pink-600"}),r.jsx("span",{className:"text-xs font-medium text-pink-600",children:"Aphrodite"})]}),r.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:w.content})]})},N)),u&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 rounded-3xl px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-pink-600 rounded-3xl animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-3xl animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-3xl animate-bounce",style:{animationDelay:"300ms"}})]}),r.jsx("span",{className:"text-xs text-gray-700 font-medium",children:n("chat.typing")})]})})}),r.jsx("div",{ref:f})]}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("form",{onSubmit:v,className:"flex items-center space-x-2",children:[r.jsx("input",{ref:y,type:"text",value:c,onChange:w=>d(w.target.value),placeholder:n("chat.placeholder"),className:"flex-1 px-4 py-3 bg-gray-100 rounded-3xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",disabled:u}),r.jsx("button",{type:"submit",disabled:!c.trim()||u,className:"p-3 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 text-white rounded-3xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",children:r.jsx(pi,{className:"w-5 h-5"})})]})})]})}),r.jsx("div",{className:"hidden lg:block fixed bottom-[14rem] right-6 sm:right-12 lg:right-24 max-w-sm w-[90%] sm:w-96 pointer-events-auto",onClick:w=>w.stopPropagation(),children:r.jsxs("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2",children:[o.length===1&&o[0].role==="assistant"&&r.jsx("div",{className:"grid grid-cols-1 gap-2 mb-3 pointer-events-auto",children:b.map((w,N)=>r.jsx("button",{onClick:()=>k(w),className:"text-left p-3 bg-white/20 backdrop-blur-md text-sm text-gray-900 font-medium hover:bg-purple-500/20 transition-colors border border-gray-300/30 hover:border-purple-400/50",style:{borderRadius:"0.75rem",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.12)"},children:w},N))}),o.map((w,N)=>{const j=w.role==="assistant"&&N===o.length-1;return r.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:N*.05},className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] px-4 py-3 backdrop-blur-md ${w.role==="user"?"bg-purple-600/20 text-gray-900 border border-purple-300/30":j?"bg-white/40 text-gray-900 border-2 border-gray-400/40 relative":"bg-white/30 text-gray-900 border border-gray-300/30 relative"}`,style:{borderRadius:w.role==="user"?"1rem":j?"2rem":"1rem",boxShadow:w.role==="user"?"0 10px 40px rgba(168, 85, 247, 0.15)":j?"0 15px 50px rgba(0, 0, 0, 0.15)":"0 10px 40px rgba(0, 0, 0, 0.1)"},children:[j&&r.jsx(r.Fragment,{children:r.jsx("div",{className:"absolute -bottom-3 left-4 w-6 h-6 bg-white/40 border-2 border-gray-400/40 transform rotate-45 rounded-sm",style:{clipPath:"polygon(0% 0%, 100% 0%, 0% 100%)"}})}),w.role==="assistant"&&r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ee,{className:"w-4 h-4 text-pink-600"}),r.jsx("span",{className:"text-xs font-medium text-pink-600",children:"Aphrodite"})]}),r.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap font-medium",children:w.content})]})},N)}),u&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:r.jsx("div",{className:"bg-white/30 backdrop-blur-md px-4 py-3 border border-gray-300/30",style:{borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)"},children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-pink-600 rounded-3xl animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-3xl animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-3xl animate-bounce",style:{animationDelay:"300ms"}})]}),r.jsx("span",{className:"text-xs text-gray-700 font-medium",children:n("chat.typing")})]})})}),r.jsx("div",{ref:f})]})}),r.jsx("div",{className:"hidden lg:block fixed bottom-6 right-6 sm:right-12 lg:right-24 w-[90%] sm:w-96 max-w-sm pointer-events-auto",onClick:w=>w.stopPropagation(),children:r.jsx("form",{onSubmit:v,className:"relative",children:r.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-lg border border-transparent p-1",style:{borderRadius:"0.5rem",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)"},children:[r.jsx("input",{ref:y,type:"text",value:c,onChange:w=>d(w.target.value),placeholder:n("chat.placeholder"),className:"flex-1 px-3 py-2 bg-transparent focus:outline-none focus:ring-0 border-none text-sm text-gray-900 placeholder-gray-600",disabled:u}),r.jsx("button",{type:"submit",disabled:!c.trim()||u,className:"p-2 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 text-white rounded-3xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",children:r.jsx(pi,{className:"w-4 h-4"})})]})})})]}):null}function kS({onClick:s,isOpen:e}){return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block",children:r.jsxs(E.button,{initial:{scale:0,x:0,y:0},animate:{scale:1,width:e?"16rem":"8rem",height:e?"16rem":"8rem",x:e?-450:0,y:e?50:0},transition:{duration:.8,ease:[.25,.1,.25,1]},whileHover:{scale:e?1:1.05},whileTap:{scale:.95},onClick:s,className:`fixed bottom-8 right-24 flex items-center justify-center group ${e?"z-40":"z-[9999]"}`,children:[r.jsx("img",{src:"/aphroditeSm.png",alt:"Aphrodite AI",className:"w-full h-full object-contain group-hover:scale-110 transition-transform drop-shadow-[0_0_15px_rgba(255,105,180,0.5)] group-hover:drop-shadow-[0_0_25px_rgba(255,105,180,0.8)]"}),!e&&r.jsxs("div",{className:"absolute right-full mr-3 px-3 py-2 bg-gray-900 text-white text-sm rounded-3xl whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:["Pregúntale a Aphrodite",r.jsx("div",{className:"absolute top-1/2 -right-1 transform -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"})]})]})}),r.jsxs(E.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"lg:hidden fixed bottom-6 right-6 z-[9999] w-14 h-14 bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 rounded-3xl shadow-lg flex items-center justify-center group",children:[r.jsx(Ft,{className:"w-7 h-7 text-white"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-3xl"})]})]})}var Kt=(s=>(s.MANAGE_SYSTEM_SETTINGS="MANAGE_SYSTEM_SETTINGS",s.VIEW_SYSTEM_LOGS="VIEW_SYSTEM_LOGS",s.MANAGE_ALL_USERS="MANAGE_ALL_USERS",s.VIEW_ALL_USERS="VIEW_ALL_USERS",s.APPROVE_STYLISTS="APPROVE_STYLISTS",s.SUSPEND_USERS="SUSPEND_USERS",s.VIEW_ALL_REVENUE="VIEW_ALL_REVENUE",s.MANAGE_PAYOUTS="MANAGE_PAYOUTS",s.MANAGE_REFUNDS="MANAGE_REFUNDS",s.MANAGE_PAYMENT_DISPUTES="MANAGE_PAYMENT_DISPUTES",s.VIEW_OWN_REVENUE="VIEW_OWN_REVENUE",s.REQUEST_PAYOUT="REQUEST_PAYOUT",s.MANAGE_MARKETING="MANAGE_MARKETING",s.MANAGE_REVIEWS="MANAGE_REVIEWS",s.MANAGE_NOTIFICATIONS="MANAGE_NOTIFICATIONS",s.MANAGE_SERVICES_CATALOG="MANAGE_SERVICES_CATALOG",s.VIEW_ALL_BOOKINGS="VIEW_ALL_BOOKINGS",s.VIEW_OWN_BOOKINGS="VIEW_OWN_BOOKINGS",s.MANAGE_OWN_BOOKINGS="MANAGE_OWN_BOOKINGS",s.CANCEL_ANY_BOOKING="CANCEL_ANY_BOOKING",s.MANAGE_ALL_SERVICES="MANAGE_ALL_SERVICES",s.MANAGE_OWN_SERVICES="MANAGE_OWN_SERVICES",s.MANAGE_ALL_DISPUTES="MANAGE_ALL_DISPUTES",s.VIEW_OWN_DISPUTES="VIEW_OWN_DISPUTES",s.VIEW_PLATFORM_ANALYTICS="VIEW_PLATFORM_ANALYTICS",s.VIEW_OWN_ANALYTICS="VIEW_OWN_ANALYTICS",s.VIEW_ISSUES="VIEW_ISSUES",s.MANAGE_ISSUES="MANAGE_ISSUES",s.VIEW_ADMIN_DASHBOARD="VIEW_ADMIN_DASHBOARD",s.VIEW_ADMIN_MESSAGES="VIEW_ADMIN_MESSAGES",s.VIEW_ADMIN_VIDEO="VIEW_ADMIN_VIDEO",s.MANAGE_OWN_PROFILE="MANAGE_OWN_PROFILE",s.MANAGE_OWN_PORTFOLIO="MANAGE_OWN_PORTFOLIO",s.MANAGE_OWN_SCHEDULE="MANAGE_OWN_SCHEDULE",s.VIEW_OWN_FAVORITES="VIEW_OWN_FAVORITES",s.VIEW_CALENDAR="VIEW_CALENDAR",s.MANAGE_OWN_CALENDAR="MANAGE_OWN_CALENDAR",s.VIEW_OWN_WALLET="VIEW_OWN_WALLET",s.MANAGE_PAYMENT_METHODS="MANAGE_PAYMENT_METHODS",s.VIEW_OWN_MESSAGES="VIEW_OWN_MESSAGES",s.SEND_MESSAGES="SEND_MESSAGES",s.JOIN_VIDEO_CONSULTATION="JOIN_VIDEO_CONSULTATION",s.HOST_VIDEO_CONSULTATION="HOST_VIDEO_CONSULTATION",s))(Kt||{});const _S={SUPERADMIN:Object.values(Kt),ADMIN:["VIEW_SYSTEM_LOGS","MANAGE_ALL_USERS","VIEW_ALL_USERS","APPROVE_STYLISTS","SUSPEND_USERS","VIEW_ALL_REVENUE","MANAGE_PAYOUTS","MANAGE_REFUNDS","MANAGE_PAYMENT_DISPUTES","MANAGE_MARKETING","MANAGE_REVIEWS","MANAGE_NOTIFICATIONS","MANAGE_SERVICES_CATALOG","VIEW_ALL_BOOKINGS","CANCEL_ANY_BOOKING","MANAGE_ALL_SERVICES","MANAGE_ALL_DISPUTES","VIEW_PLATFORM_ANALYTICS","VIEW_ISSUES","MANAGE_ISSUES","VIEW_ADMIN_DASHBOARD","VIEW_ADMIN_MESSAGES","VIEW_ADMIN_VIDEO","VIEW_CALENDAR","VIEW_OWN_MESSAGES","SEND_MESSAGES"],STYLIST:["VIEW_OWN_REVENUE","REQUEST_PAYOUT","VIEW_OWN_BOOKINGS","MANAGE_OWN_BOOKINGS","MANAGE_OWN_SERVICES","VIEW_OWN_DISPUTES","VIEW_OWN_ANALYTICS","MANAGE_OWN_PROFILE","MANAGE_OWN_PORTFOLIO","MANAGE_OWN_SCHEDULE","VIEW_CALENDAR","MANAGE_OWN_CALENDAR","VIEW_OWN_WALLET","MANAGE_PAYMENT_METHODS","VIEW_OWN_MESSAGES","SEND_MESSAGES","JOIN_VIDEO_CONSULTATION","HOST_VIDEO_CONSULTATION"],CLIENT:["VIEW_OWN_BOOKINGS","VIEW_OWN_DISPUTES","MANAGE_OWN_PROFILE","VIEW_OWN_FAVORITES","VIEW_CALENDAR","VIEW_OWN_WALLET","MANAGE_PAYMENT_METHODS","VIEW_OWN_MESSAGES","SEND_MESSAGES","JOIN_VIDEO_CONSULTATION"]},SS="https://beautycita.com",CS=()=>{const{i18n:s}=je(),[e,t]=m.useState({language:"es-MX",detectionMethod:"default",isLoading:!0});return m.useEffect(()=>{(async()=>{try{const n=localStorage.getItem("beautyCitaLanguage");if(n){s.changeLanguage(n),t({language:n,detectionMethod:"user-preference",isLoading:!1}),console.log("🌐 Language: User Preference ->",n);return}const i=navigator.language||navigator.languages&&navigator.languages[0]||"es-MX";let o="es-MX";i.startsWith("en")?o="en-US":i.startsWith("es")&&(o="es-MX");try{const l=await G.get(`${SS}/geolocation/detect-language`,{timeout:3e3,headers:{Accept:"application/json"}});if(l.data.success&&l.data.language){const c=l.data.language,d=o;s.changeLanguage(d),t({language:d,detectionMethod:"browser",country:l.data.country,isLoading:!1}),console.log("🌐 Language Detection:",{browser:o,geolocation:c,country:l.data.country,final:d,method:o===c?"browser-matches-geo":"browser-preference"});return}}catch(l){console.log("⚠️ Geolocation detection failed, using browser language:",l instanceof Error?l.message:"Unknown error")}s.changeLanguage(o),t({language:o,detectionMethod:"browser",isLoading:!1}),console.log("🌐 Language: Browser Language ->",o)}catch{const i="es-MX";s.changeLanguage(i),t({language:i,detectionMethod:"default",isLoading:!1}),console.log("🌐 Language: Default (error fallback) ->",i)}})()},[]),e},pp=()=>{const{i18n:s}=je(),[e,t]=Se.useState(!1),[a,n]=Se.useState(s.language),i=CS(),o=[{code:"en-US",shortCode:"en",name:"English",flag:"🇺🇸"},{code:"es-MX",shortCode:"es",name:"Español",flag:"🇲🇽"}],l=u=>{s.changeLanguage(u),localStorage.setItem("beautyCitaLanguage",u),n(u),t(!1)};Se.useEffect(()=>{n(s.language),console.log("[LanguageSwitcher] Language changed to:",s.language)},[s.language]);const c=o.find(u=>u.code===a||u.shortCode===a||a.startsWith(u.shortCode))||o[0],d=()=>{switch(i.detectionMethod){case"user-preference":return"Your choice";case"browser":return"Browser detected";case"ip-geolocation":return i.country?`Detected from ${i.country}`:"Location detected";default:return"Default"}};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-1.5 px-2.5 py-0 rounded-full hover:bg-gray-100/50 transition-all duration-300",children:[r.jsx(Ii,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-lg",children:c.flag}),r.jsx("span",{className:"text-sm text-gray-700 font-medium hidden sm:inline",children:c.name})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-3xl shadow-xl border border-gray-200 z-50",children:[!i.isLoading&&i.detectionMethod!=="user-preference"&&r.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-50 to-purple-50 border-b border-gray-200 rounded-t-xl",children:r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[r.jsx(Ee,{className:"h-3.5 w-3.5 text-purple-600"}),r.jsx("span",{className:"font-medium",children:d()})]})}),r.jsx("div",{className:"p-2",children:o.map(u=>{const h=a===u.code||a===u.shortCode;return r.jsxs("button",{onClick:()=>l(u.code),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-full transition-colors ${h?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx("span",{className:"text-lg",children:u.flag}),r.jsx("span",{className:"font-medium",children:u.name}),h&&r.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-3xl"})]},u.code)})}),r.jsx("div",{className:"px-3 py-2 border-t border-gray-100",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Your selection will be saved"})})]})]})]})};function ES({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M17.834 6.166a8.25 8.25 0 1 0 0 11.668.75.75 0 0 1 1.06 1.06c-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788 3.807-3.808 9.98-3.808 13.788 0A9.722 9.722 0 0 1 21.75 12c0 .975-.296 1.887-.809 2.571-.514.685-1.28 1.179-2.191 1.179-.904 0-1.666-.487-2.18-1.164a5.25 5.25 0 1 1-.82-6.26V8.25a.75.75 0 0 1 1.5 0V12c0 .682.208 1.27.509 1.671.3.401.659.579.991.579.332 0 .69-.178.991-.579.3-.4.509-.99.509-1.671a8.222 8.222 0 0 0-2.416-5.834ZM15.75 12a3.75 3.75 0 1 0-7.5 0 3.75 3.75 0 0 0 7.5 0Z",clipRule:"evenodd"}))}const TS=m.forwardRef(ES);function PS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const AS=m.forwardRef(PS);function OS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z",clipRule:"evenodd"}))}const LS=m.forwardRef(OS);function RS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),m.createElement("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const IS=m.forwardRef(RS);function MS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const $S=m.forwardRef(MS);function DS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"}))}const FS=m.forwardRef(DS);function BS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const VS=m.forwardRef(BS);function US({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Ps=m.forwardRef(US);function WS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M19.902 4.098a3.75 3.75 0 0 0-5.304 0l-4.5 4.5a3.75 3.75 0 0 0 1.035 6.037.75.75 0 0 1-.646 1.353 5.25 5.25 0 0 1-1.449-8.45l4.5-4.5a5.25 5.25 0 1 1 7.424 7.424l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.757-1.757a3.75 3.75 0 0 0 0-5.304Zm-7.389 4.267a.75.75 0 0 1 1-.353 5.25 5.25 0 0 1 1.449 8.45l-4.5 4.5a5.25 5.25 0 1 1-7.424-7.424l1.757-1.757a.75.75 0 1 1 1.06 1.06l-1.757 1.757a3.75 3.75 0 1 0 5.304 5.304l4.5-4.5a3.75 3.75 0 0 0-1.035-6.037.75.75 0 0 1-.354-1Z",clipRule:"evenodd"}))}const zS=m.forwardRef(WS);function HS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"}),m.createElement("path",{d:"M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.751 6.751 0 0 1-6 6.709v2.291h3a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1 0-1.5h3v-2.291a6.751 6.751 0 0 1-6-6.709v-1.5A.75.75 0 0 1 6 10.5Z"}))}const qS=m.forwardRef(HS);function GS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M15.22 3.22a.75.75 0 0 1 1.06 0L18 4.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L19.06 6l1.72 1.72a.75.75 0 0 1-1.06 1.06L18 7.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L16.94 6l-1.72-1.72a.75.75 0 0 1 0-1.06ZM1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z",clipRule:"evenodd"}))}const YS=m.forwardRef(GS);function KS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const Xn=m.forwardRef(KS);function QS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}const ZS=m.forwardRef(QS);function JS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const bl=m.forwardRef(JS);function XS({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M.97 3.97a.75.75 0 0 1 1.06 0l15 15a.75.75 0 1 1-1.06 1.06l-15-15a.75.75 0 0 1 0-1.06ZM17.25 16.06l2.69 2.69c.944.945 2.56.276 2.56-1.06V6.31c0-1.336-1.616-2.005-2.56-1.06l-2.69 2.69v8.12ZM15.75 7.5v8.068L4.682 4.5h8.068a3 3 0 0 1 3 3ZM1.5 16.5V7.682l11.773 11.773c-.17.03-.345.045-.523.045H4.5a3 3 0 0 1-3-3Z"}))}const e3=m.forwardRef(XS);function t3({title:s,titleId:e,...t},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),s?m.createElement("title",{id:e},s):null,m.createElement("path",{d:"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z"}))}const Zi=m.forwardRef(t3);function r3(){const{user:s,isAuthenticated:e,token:t,logout:a,login:n}=we();return{user:s,isAuthenticated:e,token:t,logout:a,login:n}}const s3={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},a3=(s,e,t)=>{let a;const n=s3[s];return typeof n=="string"?a=n:e===1?a=n.one:a=n.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+a:"hace "+a:a},n3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},i3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},o3={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l3={date:qc({formats:n3,defaultWidth:"full"}),time:qc({formats:i3,defaultWidth:"full"}),dateTime:qc({formats:o3,defaultWidth:"full"})},c3={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},d3={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},u3=(s,e,t,a)=>e.getHours()!==1?d3[s]:c3[s],h3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},m3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},p3={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},f3={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},g3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},x3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},y3=(s,e)=>Number(s)+"º",b3={ordinalNumber:y3,era:yn({values:h3,defaultWidth:"wide"}),quarter:yn({values:m3,defaultWidth:"wide",argumentCallback:s=>Number(s)-1}),month:yn({values:p3,defaultWidth:"wide"}),day:yn({values:f3,defaultWidth:"wide"}),dayPeriod:yn({values:g3,defaultWidth:"wide",formattingValues:x3,defaultFormattingWidth:"wide"})},v3=/^(\d+)(º)?/i,w3=/\d+/i,j3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},N3={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},k3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},_3={any:[/1/i,/2/i,/3/i,/4/i]},S3={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},C3={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},E3={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},T3={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},P3={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},A3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},O3={ordinalNumber:Z2({matchPattern:v3,parsePattern:w3,valueCallback:function(s){return parseInt(s,10)}}),era:bn({matchPatterns:j3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any"}),quarter:bn({matchPatterns:k3,defaultMatchWidth:"wide",parsePatterns:_3,defaultParseWidth:"any",valueCallback:s=>s+1}),month:bn({matchPatterns:S3,defaultMatchWidth:"wide",parsePatterns:C3,defaultParseWidth:"any"}),day:bn({matchPatterns:E3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any"}),dayPeriod:bn({matchPatterns:P3,defaultMatchWidth:"any",parsePatterns:A3,defaultParseWidth:"any"})},L3={code:"es",formatDistance:a3,formatLong:l3,formatRelative:u3,localize:b3,match:O3,options:{weekStartsOn:1,firstWeekContainsDate:1}};function R3(){const{user:s,token:e}=r3(),{i18n:t,t:a}=je(),[n,i]=m.useState(!1),[o,l]=m.useState([]),[c,d]=m.useState(0),[u,h]=m.useState(!1);m.useEffect(()=>{if(s!=null&&s.id){p();const v=setInterval(p,3e4);return()=>clearInterval(v)}},[s==null?void 0:s.id]);const p=async()=>{if(!(!(s!=null&&s.id)||!e))try{const b=await(await fetch(`https://beautycita.com/api/notifications?userId=${s.id}`,{headers:{Authorization:`Bearer ${e}`}})).json();b.success&&(l(b.notifications),d(b.unreadCount))}catch(v){console.error("Failed to fetch notifications:",v)}},f=async v=>{if(e)try{(await fetch(`https://beautycita.com/api/notifications/${v}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:s==null?void 0:s.id})})).ok&&(l(o.map(k=>k.id===v?{...k,is_read:!0}:k)),d(Math.max(0,c-1)))}catch(b){console.error("Failed to mark as read:",b)}},y=async()=>{if(e){h(!0);try{(await fetch("https://beautycita.com/api/notifications/read-all",{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:s==null?void 0:s.id})})).ok&&(l(o.map(b=>({...b,is_read:!0}))),d(0))}catch(v){console.error("Failed to mark all as read:",v)}finally{h(!1)}}},x=async v=>{var b;if(e)try{if((await fetch(`https://beautycita.com/api/notifications/${v}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:s==null?void 0:s.id})})).ok){const w=((b=o.find(N=>N.id===v))==null?void 0:b.is_read)===!1;l(o.filter(N=>N.id!==v)),w&&d(Math.max(0,c-1))}}catch(k){console.error("Failed to delete notification:",k)}},g=v=>{const b="h-5 w-5";switch(v){case"BOOKING_REQUEST":return r.jsx("span",{className:`${b} text-blue-500`,children:"📅"});case"BOOKING_CONFIRMED":return r.jsx("span",{className:`${b} text-green-500`,children:"✅"});case"BOOKING_CANCELLED":return r.jsx("span",{className:`${b} text-red-500`,children:"❌"});case"PAYMENT_RECEIVED":return r.jsx("span",{className:`${b} text-green-500`,children:"💰"});case"REMINDER":return r.jsx("span",{className:`${b} text-yellow-500`,children:"⏰"});default:return r.jsx("span",{className:`${b} text-gray-500`,children:"📬"})}};return s?r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>i(!n),className:"relative p-0.5 rounded-full hover:bg-gray-100/50 transition-colors","aria-label":"Notifications",children:[c>0?r.jsx(AS,{className:"h-4 w-4 text-primary-600"}):r.jsx(hi,{className:"h-4 w-4 text-gray-600"}),c>0&&r.jsx(E.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-3xl h-5 w-5 flex items-center justify-center",children:c>9?"9+":c})]}),r.jsx(_e,{children:n&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),r.jsxs(E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-screen max-w-md sm:w-96 bg-white rounded-3xl shadow-xl border border-gray-200 z-50 max-h-[600px] flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a("notifications.title")}),c>0&&r.jsx("button",{onClick:y,disabled:u,className:"text-sm text-primary-600 hover:text-primary-700 font-medium disabled:opacity-50",children:a("notifications.markAllRead")})]}),r.jsx("div",{className:"overflow-y-auto flex-1",children:o.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(hi,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:a("notifications.noNotifications")})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:o.map(v=>r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`p-4 hover:bg-gray-50 transition-colors ${v.is_read?"":"bg-blue-50"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:g(v.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.message}),v.service_name&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a("notifications.service"),": ",v.service_name]}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:ey(new Date(v.created_at),{addSuffix:!0,locale:t.language==="es"?L3:void 0})})]}),r.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[!v.is_read&&r.jsx("button",{onClick:()=>f(v.id),className:"p-1 rounded-full hover:bg-gray-200 transition-colors",title:a("notifications.markAsRead"),children:r.jsx(Ri,{className:"h-4 w-4 text-green-600"})}),r.jsx("button",{onClick:()=>x(v.id),className:"p-1 rounded-full hover:bg-gray-200 transition-colors",title:a("notifications.delete"),children:r.jsx(De,{className:"h-4 w-4 text-gray-400 hover:text-red-600"})})]})]})},v.id))})})]})]})})]}):null}function I3(){const[s,e]=m.useState(!1),[t,a]=m.useState(!1),[n,i]=m.useState(!1),[o,l]=m.useState(!1),{user:c,isAuthenticated:d,logout:u}=we(),h=Cs(),p=wt(),{t:f}=je();m.useEffect(()=>{const w=localStorage.getItem("darkMode")==="true";l(w)},[]);const y=()=>{const w=!o;l(w),localStorage.setItem("darkMode",String(w)),window.dispatchEvent(new Event("storage"))};m.useEffect(()=>{const w=()=>{i(window.scrollY>50)};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>window.removeEventListener("scroll",w)},[]),m.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]);const x=[{name:f("nav.home"),href:"/"},{name:f("nav.services"),href:"/services"},{name:f("nav.stylists"),href:"/stylists"},{name:f("nav.about"),href:"/about"},{name:f("nav.blog"),href:"/blog"}],g=()=>{const w=[...x];if(d&&c){const N={name:c.role==="ADMIN"||c.role==="SUPERADMIN"?"Admin":"Panel",href:c.role==="ADMIN"||c.role==="SUPERADMIN"?"/admin":"/panel"};w.splice(2,0,N)}return w},v=[{name:f("nav.profile"),href:"/profile"},{name:f("nav.bookings"),href:"/bookings"},...(c==null?void 0:c.role)==="STYLIST"?[{name:"Panel",href:"/panel"},{name:"Business",href:"/business"}]:[],...(c==null?void 0:c.role)==="CLIENT"?[{name:"Panel",href:"/panel"}]:[],...(c==null?void 0:c.role)==="ADMIN"||(c==null?void 0:c.role)==="SUPERADMIN"?[{name:"Admin",href:"/admin"}]:[]],b=()=>{u(),a(!1),p("/",{replace:!0})},k=w=>w==="/"?h.pathname==="/":h.pathname.startsWith(w);return r.jsxs(r.Fragment,{children:[r.jsxs(E.nav,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,type:"spring",damping:20},className:"fixed top-6 right-6 z-50",children:[r.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[r.jsx(Z,{to:"/",className:"group",children:r.jsxs(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2.5 rounded-full backdrop-blur-xl border shadow-lg transition-all ${o?"bg-gray-900/80 border-gray-700/50 hover:bg-gray-800/90":"bg-white/80 border-white/20 hover:bg-white/90"}`,children:[r.jsx("img",{src:"/media/brand/logo-ios-ready.svg",alt:"BeautyCita",className:"h-7 w-7 object-contain"}),r.jsx("span",{className:"text-base font-bold hero-gradient bg-clip-text text-transparent",children:"BeautyCita"})]})}),r.jsx(E.div,{whileHover:{scale:1.02},className:`flex items-center gap-1 px-3 py-2.5 rounded-full backdrop-blur-xl border shadow-lg ${o?"bg-gray-900/80 border-gray-700/50":"bg-white/80 border-white/20"}`,children:g().slice(0,4).map(w=>{const N=k(w.href),j=w.href==="/"?Mi:w.href==="/services"?Ee:w.href==="/stylists"?et:null;return r.jsx(Z,{to:w.href,className:"relative group",children:r.jsxs(E.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`relative px-3 py-1.5 rounded-full text-xs font-medium transition-all ${N?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":o?"text-gray-300 hover:text-white hover:bg-gray-800/50":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/50"}`,children:[j&&r.jsx(j,{className:"h-4 w-4 inline mr-1"}),w.name]})},w.name)})}),r.jsx(E.div,{whileHover:{scale:1.02},className:`flex items-center gap-2 px-3 py-2.5 rounded-full backdrop-blur-xl border shadow-lg ${o?"bg-gray-900/80 border-gray-700/50":"bg-white/80 border-white/20"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(E.button,{whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},onClick:y,className:`p-0.5 rounded-full transition-colors ${o?"text-yellow-400 hover:bg-yellow-500/20":"text-gray-700 hover:bg-gray-900/10"}`,"aria-label":"Toggle dark mode",children:o?r.jsx(cp,{className:"h-4 w-4"}):r.jsx(ip,{className:"h-4 w-4"})}),r.jsx(pp,{}),d&&c&&r.jsx(R3,{}),d&&c?r.jsxs("div",{className:"relative",children:[r.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(!t),className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-7 w-7 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 p-0.5",children:c.profilePictureUrl?r.jsx("img",{src:c.profilePictureUrl,alt:c.firstName,className:"h-full w-full rounded-full object-cover"}):r.jsx("div",{className:"h-full w-full rounded-full bg-white flex items-center justify-center",children:r.jsx(Ct,{className:"h-4 w-4 text-purple-600"})})}),r.jsx("span",{className:`text-xs font-medium ${o?"text-white":"text-gray-900"}`,children:c.firstName})]}),r.jsx(_e,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),r.jsxs(E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:`absolute right-0 mt-2 w-48 rounded-3xl backdrop-blur-xl shadow-xl border z-50 ${o?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"}`,children:[r.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:`text-xs font-medium ${o?"text-white":"text-gray-900"}`,children:[c.firstName," ",c.lastName]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 truncate",children:c.email})]}),r.jsx("div",{className:"py-1.5",children:v.map(w=>r.jsx(Z,{to:w.href,onClick:()=>a(!1),className:`block px-3 py-2 text-xs transition-colors rounded-full mx-1.5 ${o?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-700 hover:bg-gray-100"}`,children:w.name},w.name))}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 py-1.5",children:r.jsx("button",{onClick:b,className:"block w-full text-left px-3 py-2 text-xs text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-3xl mx-1.5",children:f("nav.logout")})})]})]})})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Z,{to:"/login",children:r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors ${o?"text-gray-300 hover:text-white hover:bg-gray-800/50":"text-gray-700 hover:bg-gray-100/50"}`,children:f("nav.login")})}),r.jsx(Z,{to:"/register",children:r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-pink-500 to-purple-600 rounded-3xl shadow-lg hover:shadow-xl transition-all",children:f("nav.register")})})]})]})})]}),r.jsx(_e,{children:!s&&r.jsx(E.div,{className:"lg:hidden",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.2},children:r.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!0),className:`flex items-center gap-2 px-4 py-3 rounded-full backdrop-blur-xl border shadow-lg ${o?"bg-gray-900/90 border-gray-700/50":"bg-white/90 border-white/20"}`,children:[r.jsx(bh,{className:`h-5 w-5 ${o?"text-white":"text-gray-900"}`}),r.jsx("span",{className:`text-sm font-medium ${o?"text-white":"text-gray-900"}`,children:"Menu"})]})})})]}),r.jsx(_e,{children:s&&r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 lg:hidden",onClick:()=>e(!1),children:[r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md"}),r.jsx(E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:120},className:`absolute top-0 right-0 h-full w-80 max-w-[85vw] ${o?"bg-gray-900":"bg-white"} shadow-2xl`,onClick:w=>w.stopPropagation(),children:r.jsxs("div",{className:"p-6 h-full overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:"/favicons/apple-touch-icon.png",alt:"BeautyCita",className:"h-8 w-8 object-contain rounded-full"}),r.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-pink-600 via-purple-600 to-blue-600 bg-clip-text text-transparent",children:"BeautyCita"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:y,className:`p-2 rounded-full ${o?"bg-yellow-500/20 text-yellow-400":"bg-gray-100 text-gray-700"}`,children:o?r.jsx(cp,{className:"h-4 w-4"}):r.jsx(ip,{className:"h-4 w-4"})}),r.jsx(pp,{})]})]}),d&&c&&r.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 p-0.5",children:c.profilePictureUrl?r.jsx("img",{src:c.profilePictureUrl,alt:c.firstName,className:"h-full w-full rounded-full object-cover"}):r.jsx("div",{className:"h-full w-full rounded-full bg-white flex items-center justify-center",children:r.jsx(Ct,{className:"h-7 w-7 text-purple-600"})})}),r.jsxs("div",{children:[r.jsxs("div",{className:`text-sm font-medium ${o?"text-white":"text-gray-900"}`,children:[c.firstName," ",c.lastName]}),r.jsx("div",{className:`text-xs ${o?"text-gray-400":"text-gray-500"}`,children:c.email})]})]})}),r.jsx("div",{className:"space-y-2 mb-6",children:g().map(w=>{const N=k(w.href);return r.jsx(Z,{to:w.href,onClick:()=>e(!1),className:`block px-4 py-3 rounded-3xl text-sm font-medium transition-all ${N?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":o?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"}`,children:w.name},w.name)})}),d&&c&&v.length>0&&r.jsx("div",{className:"space-y-2 mb-6 pb-6 border-b border-gray-200 dark:border-gray-700",children:v.map(w=>r.jsx(Z,{to:w.href,onClick:()=>e(!1),className:`block px-4 py-3 rounded-3xl text-sm transition-colors ${o?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"}`,children:w.name},w.name))}),r.jsx("div",{className:"space-y-3",children:d&&c?r.jsx("button",{onClick:()=>{b(),e(!1)},className:"w-full px-4 py-3 rounded-3xl text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-left",children:f("nav.logout")}):r.jsxs(r.Fragment,{children:[r.jsx(Z,{to:"/login",onClick:()=>e(!1),className:`block px-4 py-3 rounded-3xl text-sm font-medium text-center transition-colors ${o?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"}`,children:f("nav.login")}),r.jsx(Z,{to:"/register",onClick:()=>e(!1),className:"block px-4 py-3 rounded-3xl text-sm font-medium text-white bg-gradient-to-r from-pink-500 to-purple-600 text-center shadow-lg",children:f("nav.register")})]})})]})})]})})]})}function M3(){const s=new Date().getFullYear(),{t:e}=je(),[t,a]=m.useState(""),[n,i]=m.useState(!1),[o,l]=m.useState("idle"),[c,d]=m.useState(""),[u,h]=m.useState(!1),[p,f]=m.useState(!1);m.useEffect(()=>{const v=localStorage.getItem("darkMode")==="true";h(v);const b=localStorage.getItem("beautycita-auth-token");f(!!b)},[]);const y={company:[{name:e("nav.about"),href:"/about"},{name:e("footer.company.careers"),href:"/careers"},{name:e("footer.company.press"),href:"/press"},{name:e("footer.company.blog"),href:"/blog"}],support:[{name:e("footer.support.helpCenter"),href:"/help"},{name:e("nav.contact"),href:"/contact"},{name:e("footer.support.serviceStatus"),href:"/status"},{name:e("footer.support.reportProblem"),href:"/report"}],legal:[{name:e("footer.legal.privacy"),href:"/privacy"},{name:e("footer.legal.terms"),href:"/terms"},{name:e("footer.legal.cookies"),href:"/cookies"},{name:e("footer.legal.licenses"),href:"/licenses"}],stylists:[{name:e("footer.stylists.joinStylist"),href:"/stylist/register"},{name:e("footer.stylists.resources"),href:"/resources"},{name:e("footer.stylists.policies"),href:"/policies"},{name:e("footer.stylists.commissions"),href:"/commissions"}]},x=async v=>{if(v.preventDefault(),!!t.trim()){i(!0),l("idle"),d("");try{const b=await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.trim()})}),k=await b.json();if(b.ok)l("success"),d(k.message||"Successfully subscribed!"),a(""),setTimeout(()=>{l("idle"),d("")},5e3);else throw new Error(k.message||"Subscription failed")}catch(b){l("error"),d(b instanceof Error?b.message:"Error subscribing. Please try again."),setTimeout(()=>{l("idle"),d("")},5e3)}finally{i(!1)}}},g=[{name:"Facebook",href:"https://facebook.com/beautycita",icon:FS},{name:"Twitter",href:"https://twitter.com/beautycita",icon:TS},{name:"Instagram",href:"https://instagram.com/beautycita",icon:IS},{name:"LinkedIn",href:"https://linkedin.com/company/beautycita",icon:zS}];return r.jsx(r.Fragment,{children:r.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900 via-purple-900 to-pink-900",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black/60 to-transparent z-20 pointer-events-none"}),r.jsxs("div",{className:`relative pb-safe ${u?"bg-gray-900":"bg-gradient-to-br from-gray-900 via-purple-900 to-pink-900"}`,children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-500/10 to-purple-600/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-blue-500/10 to-purple-600/10 rounded-3xl blur-3xl"})]}),r.jsxs("div",{className:"container mx-auto px-4 max-w-7xl relative z-10",children:[r.jsxs("div",{className:"pt-16 pb-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsxs(Z,{to:"/",className:"inline-flex items-center space-x-2 mb-6 group",children:[r.jsxs(E.div,{whileHover:{scale:1.1,rotate:10},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500 to-purple-600 rounded-3xl blur-md opacity-50 group-hover:opacity-75 transition-opacity"}),r.jsx("div",{className:"relative bg-gradient-to-r from-pink-500 to-purple-600 p-2 rounded-3xl",children:r.jsx(Ee,{className:"h-6 w-6 text-white"})})]}),r.jsx("span",{className:"text-2xl font-serif font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"BeautyCita"})]}),r.jsx("p",{className:"text-gray-300 mb-6 max-w-xs leading-relaxed text-sm",children:e("footer.description")}),r.jsx("div",{className:"flex space-x-3",children:g.map(v=>r.jsx(E.a,{href:v.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.15,rotate:5},whileTap:{scale:.95},className:"p-3 bg-white/10 hover:bg-white/20 rounded-3xl transition-colors","aria-label":v.name,children:r.jsx(v.icon,{className:"h-6 w-6 text-white"})},v.name))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider",children:e("footer.companyTitle")}),r.jsx("ul",{className:"space-y-2.5",children:y.company.map(v=>r.jsx("li",{children:r.jsx(Z,{to:v.href,className:"text-gray-300 hover:text-pink-400 transition-all text-sm inline-block",children:v.name})},v.name))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider",children:e("footer.supportTitle")}),r.jsx("ul",{className:"space-y-2.5",children:y.support.map(v=>r.jsx("li",{children:r.jsx(Z,{to:v.href,className:"text-gray-300 hover:text-purple-400 transition-all text-sm inline-block",children:v.name})},v.name))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider",children:e("footer.legalTitle")}),r.jsx("ul",{className:"space-y-2.5",children:y.legal.map(v=>r.jsx("li",{children:r.jsx(Z,{to:v.href,className:"text-gray-300 hover:text-blue-400 transition-all text-sm inline-block",children:v.name})},v.name))})]}),p?r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider",children:e("footer.stylistsTitle")}),r.jsx("ul",{className:"space-y-2.5",children:y.stylists.map(v=>r.jsx("li",{children:r.jsx(Z,{to:v.href,className:"text-gray-300 hover:text-pink-400 transition-all text-sm inline-block",children:v.name})},v.name))})]}):r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider",children:"Newsletter"}),r.jsxs("div",{className:"space-y-2.5",children:[r.jsx("p",{className:"text-gray-300 text-xs",children:e("footer.newsletter.subtitle")}),r.jsxs("form",{onSubmit:x,className:"space-y-2.5",children:[r.jsx("input",{type:"email",value:t,onChange:v=>a(v.target.value),placeholder:e("footer.newsletter.placeholder"),className:"w-full px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 text-white text-sm placeholder-white/60 focus:bg-white/20 focus:border-white/40 focus:outline-none transition-all",disabled:n}),r.jsx("button",{type:"submit",disabled:n,className:"w-full px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-sm font-semibold rounded-3xl hover:from-pink-600 hover:to-purple-700 transition-all disabled:opacity-50",children:n?"Subscribing...":e("footer.newsletter.subscribe")}),o!=="idle"&&r.jsxs("div",{className:`flex items-center space-x-1 text-xs ${o==="success"?"text-green-400":"text-red-400"}`,children:[o==="success"?r.jsx(ie,{className:"h-3 w-3"}):r.jsx(by,{className:"h-3 w-3"}),r.jsx("span",{children:c})]})]})]})]})]}),r.jsx("div",{className:"py-4 border-t border-white/10",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-2",children:[r.jsx("div",{className:"text-gray-400 text-sm text-center md:text-left",children:r.jsxs("p",{className:"flex items-center justify-center md:justify-start gap-2",children:["© ",s," BeautyCita. All rights reserved.",r.jsx("span",{className:"hidden md:inline",children:"•"}),r.jsxs("span",{className:"flex items-center gap-1",children:[e("footer.madeWith")," ",r.jsx(We,{className:"h-4 w-4 text-pink-500 animate-pulse"})," ",e("footer.inMexico")]})]})}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsx(Z,{to:"/privacy",className:"text-gray-400 hover:text-pink-400 transition-colors",children:"Privacy"}),r.jsx(Z,{to:"/terms",className:"text-gray-400 hover:text-purple-400 transition-colors",children:"Terms"}),r.jsx(Z,{to:"/cookies",className:"text-gray-400 hover:text-blue-400 transition-colors",children:"Cookies"})]})]})})]})]})]})})}function $3(){const{pathname:s}=Cs(),e=m.useRef(!0),t=m.useRef(s);return m.useEffect(()=>{if(e.current){try{const o=sessionStorage.getItem("beautycita-scroll-position"),l=sessionStorage.getItem("beautycita-pathname");if(o&&l===s){const c=parseInt(o,10);isNaN(c)||window.scrollTo(0,c)}else window.scrollTo(0,0),sessionStorage.setItem("beautycita-pathname",s)}catch{window.scrollTo(0,0)}e.current=!1}else if(s!==t.current){window.scrollTo({top:0,behavior:"smooth"});try{sessionStorage.setItem("beautycita-pathname",s)}catch{}t.current=s}let a;const n=()=>{clearTimeout(a),a=window.setTimeout(()=>{try{sessionStorage.setItem("beautycita-scroll-position",window.scrollY.toString())}catch{}},100)},i=()=>{try{sessionStorage.setItem("beautycita-scroll-position",window.scrollY.toString())}catch{}};return window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("beforeunload",i),()=>{clearTimeout(a),window.removeEventListener("scroll",n),window.removeEventListener("beforeunload",i)}},[s]),null}function D3(){const[s,e]=m.useState(null),[t,a]=m.useState(!1),[n,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(null);m.useEffect(()=>{const p=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");l(p);const f=navigator.userAgent.toLowerCase(),y=/iphone|ipad|ipod/.test(f),x=/android/.test(f);if(i(y),d(y?"ios":x?"android":"desktop"),p){console.log("✅ PWA already installed");return}const g=localStorage.getItem("pwa-install-dismissed"),v=g?parseInt(g):0,b=(Date.now()-v)/(1e3*60*60*24);if(g&&b<7){console.log(`⏰ Install prompt dismissed ${Math.floor(b)} days ago`);return}const k=w=>{w.preventDefault(),console.log("📱 beforeinstallprompt event fired"),e(w),setTimeout(()=>{a(!0)},3e4)};return window.addEventListener("beforeinstallprompt",k),y&&!p&&setTimeout(()=>{a(!0)},3e4),()=>{window.removeEventListener("beforeinstallprompt",k)}},[]);const u=async()=>{if(!s&&!n){R.error("Install not available on this browser");return}if(s){s.prompt();const{outcome:p}=await s.userChoice;console.log(`User response to install prompt: ${p}`),p==="accepted"?(R.success("Installing BeautyCita..."),e(null),a(!1)):(localStorage.setItem("pwa-install-dismissed",Date.now().toString()),a(!1))}else n&&console.log("Showing iOS install instructions")},h=()=>{localStorage.setItem("pwa-install-dismissed",Date.now().toString()),a(!1),R("You can install anytime from the menu",{icon:"ℹ️",duration:3e3})};return o?null:r.jsx(_e,{children:t&&r.jsx(E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("button",{onClick:h,className:"absolute top-3 right-3 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:r.jsx(De,{className:"h-5 w-5 text-gray-500"})}),r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-500 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-2xl",children:"💅"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Install BeautyCita"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get faster access and work offline"})]})]}),r.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:"✓"}),r.jsx("span",{children:"Instant access from home screen"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:"✓"}),r.jsx("span",{children:"Works offline"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:"✓"}),r.jsx("span",{children:"Faster loading"})]})]}),n?r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-2",children:"To install on iOS:"}),r.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1 list-decimal list-inside",children:[r.jsxs("li",{children:["Tap the ",r.jsx($i,{className:"inline h-4 w-4"})," Share button"]}),r.jsx("li",{children:'Scroll down and tap "Add to Home Screen"'}),r.jsx("li",{children:'Tap "Add" to confirm'})]})]}):r.jsxs("button",{onClick:u,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:[r.jsx(pu,{className:"h-5 w-5"}),r.jsx("span",{children:"Install App"})]}),r.jsx("button",{onClick:h,className:"w-full mt-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 py-2",children:"Maybe later"})]})})})}function F3({videoSrc:s,enabled:e=!0,preload:t="metadata",threshold:a=.1,rootMargin:n="200px"}){const i=m.useRef(null),[o,l]=m.useState(!0),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[p,f]=m.useState(0),[y,x]=m.useState(!1);return m.useEffect(()=>{if(!e||!i.current)return;const v=new IntersectionObserver(b=>{b.forEach(k=>{k.isIntersecting&&x(!0)})},{threshold:a,rootMargin:n});return v.observe(i.current),()=>v.disconnect()},[e,a,n]),m.useEffect(()=>{if(!y||!e||!i.current)return;const v=i.current;l(!0),h(!1);const b=()=>{if(v.buffered.length>0){const j=v.buffered.end(v.buffered.length-1),_=v.duration;_>0&&f(j/_*100)}},k=()=>{l(!1),d(!0),f(100)},w=()=>{d(!0),l(!1)},N=()=>{h(!0),l(!1),d(!1)};return v.addEventListener("progress",b),v.addEventListener("canplay",k),v.addEventListener("loadeddata",w),v.addEventListener("error",N),t!=="none"&&v.load(),()=>{v.removeEventListener("progress",b),v.removeEventListener("canplay",k),v.removeEventListener("loadeddata",w),v.removeEventListener("error",N)}},[y,e,t,s]),{videoRef:i,isLoading:o,isLoaded:c,isError:u,progress:p,retry:()=>{i.current&&(h(!1),l(!0),f(0),i.current.load())}}}function B3({isLoading:s=!0,isError:e=!1,progress:t=0,onRetry:a,className:n=""}){return e?r.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-gradient-to-br from-pink-600 via-purple-600 to-blue-600 ${n}`,children:r.jsxs("div",{className:"text-center p-8",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mb-4",children:r.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center",children:r.jsx("span",{className:"text-3xl",children:"⚠️"})})}),r.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Video Failed to Load"}),r.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Unable to load background video"}),a&&r.jsxs("button",{onClick:a,className:"px-6 py-2 bg-white/20 backdrop-blur-md text-white rounded-3xl hover:bg-white/30 transition-colors flex items-center gap-2 mx-auto",children:[r.jsx(hl,{className:"h-4 w-4"}),"Retry"]})]})}):s?r.jsxs("div",{className:`absolute inset-0 ${n}`,children:[r.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-br from-pink-600 via-purple-600 to-blue-600",animate:{background:["linear-gradient(135deg, #ec4899 0%, #8b5cf6 50%, #3b82f6 100%)","linear-gradient(135deg, #8b5cf6 0%, #3b82f6 50%, #ec4899 100%)","linear-gradient(135deg, #3b82f6 0%, #ec4899 50%, #8b5cf6 100%)","linear-gradient(135deg, #ec4899 0%, #8b5cf6 50%, #3b82f6 100%)"]},transition:{duration:8,repeat:1/0,ease:"linear"}}),r.jsx(E.div,{className:"absolute inset-0 opacity-30",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)"},animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(E.div,{className:"w-16 h-16 mx-auto mb-4 rounded-full border-4 border-white/20 border-t-white",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),r.jsx("p",{className:"text-white text-sm font-medium mb-2",children:"Loading Experience..."}),t>0&&r.jsx("div",{className:"w-48 h-1 bg-white/20 rounded-3xl overflow-hidden mx-auto",children:r.jsx(E.div,{className:"h-full bg-white rounded-3xl",initial:{width:0},animate:{width:`${t}%`},transition:{duration:.3}})}),t>0&&r.jsxs("p",{className:"text-white/60 text-xs mt-2",children:[Math.round(t),"%"]})]})}),r.jsx("div",{className:"absolute inset-0 opacity-10",children:[...Array(20)].map((i,o)=>r.jsx(E.div,{className:"absolute w-2 h-2 bg-white rounded-3xl",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:3,repeat:1/0,delay:Math.random()*3,ease:"easeInOut"}},o))})]}):null}function Ba({videoSrc:s,children:e,height:t="h-screen",parallaxIntensity:a=.5,overlayGradient:n,isDarkMode:i=!1}){const o=m.useRef(null),[l,c]=m.useState(!1),[d,u]=m.useState(0),h=Array.isArray(s)?s:[s],p=()=>{const S=h[d];if(S.includes("-optimized")||S.includes("-mobile"))return S;const C=S.replace(".mp4","");return l?`${C}-mobile.mp4`:`${C}-optimized.mp4`},{videoRef:f,isLoading:y,isLoaded:x,isError:g,progress:v,retry:b}=F3({videoSrc:p(),enabled:!0,preload:"metadata",threshold:.25,rootMargin:"200px"}),{scrollYProgress:k}=s5({target:o,offset:["start start","end start"]}),w=Jm(k,[0,1],[0,a*500]),N=Jm(k,[0,1],[0,a*200]),j=i?"bg-gradient-to-b from-purple-900/60 via-black/50 to-black/80":"bg-gradient-to-b from-pink-900/40 via-purple-900/40 to-black/60";m.useEffect(()=>{const S=()=>{c(window.innerWidth<=768||/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),m.useEffect(()=>{const S=f.current;if(!S)return;const C=()=>{u(I=>(I+1)%h.length)};return S.addEventListener("ended",C),()=>S.removeEventListener("ended",C)},[h.length]),m.useEffect(()=>{const S=f.current;if(!S)return;const C=I=>{if(console.error("Video load error:",p()),l&&p().includes("-mobile")){const P=p().replace("-mobile","-optimized");console.log("Fallback to optimized version:",P),S.src=P,S.load()}};return S.addEventListener("error",C),()=>S.removeEventListener("error",C)},[l,d]),m.useEffect(()=>{const S=f.current;!S||!x||(S.load(),S.play().catch(()=>{}))},[d,x]);const _=()=>h[d].replace(".mp4","-poster.jpg");return r.jsxs("section",{ref:o,className:`relative ${t} overflow-hidden`,children:[r.jsxs(E.div,{className:"absolute inset-0 w-full h-[120%]",style:{y:w},children:[r.jsx("video",{ref:f,muted:!0,loop:h.length===1,playsInline:!0,preload:"metadata",poster:_(),className:`absolute inset-0 w-full h-full transition-opacity duration-700 ${x?"opacity-100":"opacity-0"}`,style:{objectFit:"cover",objectPosition:"center center"},children:r.jsx("source",{src:p(),type:"video/mp4"})},d),(y||g)&&r.jsx(B3,{isLoading:y,isError:g,progress:v,onRetry:b}),r.jsx("div",{className:`absolute inset-0 ${n||j}`})]}),r.jsx(E.div,{className:"relative z-10 h-full flex items-center justify-center",style:{y:N},children:e})]})}function vn({from:s,to:e,height:t="h-32",isDarkMode:a=!1}){const n=a?"from-gray-900":"from-white",i=a?"to-black":"to-gray-50";return r.jsx("div",{className:`${t} bg-gradient-to-b ${s||n} ${e||i} pointer-events-none`,style:{marginTop:"-1px",marginBottom:"-1px"}})}function V3({name:s,icon:e,price:t,gradient:a,size:n,index:i,isDarkMode:o=!1}){const l={large:"col-span-6 md:col-span-3 min-h-[250px]",medium:"col-span-3 md:col-span-2 min-h-[200px]",small:"col-span-3 md:col-span-2 min-h-[180px]"};return r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:i*.1},viewport:{once:!0},whileHover:{scale:1.03,y:-5},className:`
        ${l[n]}
        relative group cursor-pointer rounded-3xl overflow-hidden
        transition-all duration-300
      `,style:{background:o?"linear-gradient(135deg, rgba(17,24,39,0.9) 0%, rgba(31,41,55,0.8) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(249,250,251,0.9) 100%)"},children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a} opacity-10 group-hover:opacity-20 transition-opacity duration-300`}),r.jsxs("div",{className:"relative p-6 h-full flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx(E.div,{className:"text-5xl mb-4",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:e}),r.jsx("h3",{className:`text-xl md:text-2xl font-bold mb-2 ${o?"text-white":"text-gray-900"}`,children:s})]}),r.jsxs("div",{children:[r.jsx("div",{className:`text-lg font-semibold mb-2 ${o?"text-pink-400":"text-pink-600"}`,children:t}),r.jsxs("div",{className:`inline-flex items-center text-sm ${o?"text-gray-400":"text-gray-600"} group-hover:text-pink-500 transition-colors`,children:["Book Now",r.jsx(Ie,{className:"ml-1 h-4 w-4 group-hover:translate-x-2 transition-transform"})]})]})]})]})}function U3({name:s,avatar:e,rating:t,reviews:a,specialty:n,price:i,verified:o,index:l,isDarkMode:c=!1}){return r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},whileHover:{y:-8},className:`relative group cursor-pointer rounded-3xl overflow-hidden ${c?"bg-gray-800/50 backdrop-blur-xl":"bg-white shadow-xl"} transition-shadow hover:shadow-2xl`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e,alt:s,className:"w-full h-64 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o&&r.jsxs("div",{className:"absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center",children:[r.jsx(ie,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:`text-xl font-bold mb-1 ${c?"text-white":"text-gray-900"}`,children:s}),r.jsx("p",{className:`text-sm mb-3 ${c?"text-gray-400":"text-gray-600"}`,children:n}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),r.jsx("span",{className:`ml-1 text-sm font-semibold ${c?"text-white":"text-gray-900"}`,children:t}),r.jsxs("span",{className:`ml-1 text-xs ${c?"text-gray-500":"text-gray-400"}`,children:["(",a,")"]})]}),r.jsx("div",{className:`font-bold ${c?"text-pink-400":"text-pink-600"}`,children:i})]}),r.jsx("button",{className:"btn btn-primary w-full rounded-full",children:"Book Now"})]})]})}function W3({name:s,avatar:e,rating:t,text:a,role:n,index:i,isDarkMode:o=!1}){return r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:i*.1},viewport:{once:!0},whileHover:{y:-5},className:`p-8 rounded-3xl transition-all ${o?"bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700":"bg-gradient-to-br from-purple-50 to-pink-50 border border-pink-100"}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("img",{src:e,alt:s,className:"w-16 h-16 rounded-full border-4 border-pink-500 mr-4"}),r.jsxs("div",{children:[r.jsx("h4",{className:`font-bold ${o?"text-white":"text-gray-900"}`,children:s}),r.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:n})]})]}),r.jsx("div",{className:"flex mb-3",children:[...Array(t)].map((l,c)=>r.jsx(nt,{className:"h-5 w-5 text-yellow-400 fill-yellow-400"},c))}),r.jsxs("p",{className:`italic ${o?"text-gray-300":"text-gray-700"}`,children:['"',a,'"']})]})}function z3(){const{t:s}=je(),[e,t]=m.useState(!1),[a,n]=m.useState("waiting"),[i,o]=m.useState("waiting"),[l,c]=m.useState("waiting"),[d,u]=m.useState("waiting"),h=m.useRef(null),p=m.useRef(null),f=m.useRef(null),y=m.useRef(null);m.useEffect(()=>{localStorage.getItem("darkMode")==="true"?(t(!0),document.documentElement.classList.add("dark")):(t(!1),document.documentElement.classList.remove("dark"));const N=()=>{const j=localStorage.getItem("darkMode")==="true";t(j),j?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[]),m.useEffect(()=>{const w=new IntersectionObserver(N=>{N.forEach(j=>{j.isIntersecting&&a==="waiting"&&setTimeout(()=>{n("wave");const C=s("pages.home.services.title").replace(/\s/g,"").length*300;setTimeout(()=>{n("flip")},C)},1e3)})},{threshold:.5});return h.current&&w.observe(h.current),()=>{h.current&&w.unobserve(h.current)}},[a,s]),m.useEffect(()=>{const w=new IntersectionObserver(N=>{N.forEach(j=>{j.isIntersecting&&i==="waiting"&&setTimeout(()=>{o("wave");const C=s("pages.home.topStylists.title").replace(/\s/g,"").length*300;setTimeout(()=>{o("flip")},C)},1e3)})},{threshold:.5});return p.current&&w.observe(p.current),()=>{p.current&&w.unobserve(p.current)}},[i,s]),m.useEffect(()=>{const w=new IntersectionObserver(N=>{N.forEach(j=>{j.isIntersecting&&l==="waiting"&&setTimeout(()=>{c("wave");const C=s("pages.home.testimonials.title").replace(/\s/g,"").length*300;setTimeout(()=>{c("flip")},C)},1e3)})},{threshold:.5});return f.current&&w.observe(f.current),()=>{f.current&&w.unobserve(f.current)}},[l,s]),m.useEffect(()=>{const w=new IntersectionObserver(N=>{N.forEach(j=>{j.isIntersecting&&d==="waiting"&&setTimeout(()=>{u("wave");const C=s("pages.home.safety.title").replace(/\s/g,"").length*300;setTimeout(()=>{u("flip")},C)},1e3)})},{threshold:.5});return y.current&&w.observe(y.current),()=>{y.current&&w.unobserve(y.current)}},[d,s]);const x=Array.from({length:13},(w,N)=>`/media/img/avatar/A${N}.png`),g=[{name:s("pages.home.services.hairStyling"),icon:"💇",price:`${s("pages.home.services.fromPrice")} $80`,gradient:"from-pink-500 to-rose-600",size:"large"},{name:s("pages.home.services.nailArt"),icon:"💅",price:`${s("pages.home.services.fromPrice")} $45`,gradient:"from-purple-500 to-pink-600",size:"medium"},{name:s("pages.home.services.makeup"),icon:"💄",price:`${s("pages.home.services.fromPrice")} $65`,gradient:"from-blue-500 to-purple-600",size:"medium"},{name:s("pages.home.services.skincare"),icon:"✨",price:`${s("pages.home.services.fromPrice")} $90`,gradient:"from-teal-500 to-blue-600",size:"large"},{name:s("pages.home.services.lashes"),icon:"👁️",price:`${s("pages.home.services.fromPrice")} $55`,gradient:"from-orange-500 to-pink-600",size:"small"},{name:s("pages.home.services.brows"),icon:"🎀",price:`${s("pages.home.services.fromPrice")} $35`,gradient:"from-rose-500 to-purple-600",size:"small"}],v=[{name:"Sofia Martinez",avatar:x[0],rating:4.9,reviews:234,specialty:"Hair Color Expert",price:"$120/hr",verified:!0},{name:"Isabella Chen",avatar:x[1],rating:5,reviews:189,specialty:"Bridal Makeup",price:"$150/hr",verified:!0},{name:"Emma Rodriguez",avatar:x[2],rating:4.8,reviews:312,specialty:"Nail Artist",price:"$85/hr",verified:!0},{name:"Mia Johnson",avatar:x[4],rating:4.9,reviews:267,specialty:"Skincare Pro",price:"$110/hr",verified:!0}],b=[{name:"Jessica Parker",avatar:x[6],rating:5,text:"BeautyCita changed my life! Found my perfect stylist in minutes.",role:"Fashion Blogger"},{name:"Amanda Lee",avatar:x[7],rating:5,text:"The AI recommendations are spot on. Best beauty booking app ever!",role:"Influencer"},{name:"Sarah Wilson",avatar:x[8],rating:5,text:"Professional, secure, and so easy to use. Highly recommend!",role:"Entrepreneur"}],k=(w,N)=>{let j=0;return w.split("").map((_,S)=>{if(_===" ")return r.jsx("span",{className:"inline-block",style:{width:"0.25em"},children:" "},S);const C=j;j++;const I=w.replace(/\s/g,"").length;let P,A,L;if(N==="wave")P=I*.3,A=C*.3,L="letter-wave-once";else if(N==="flip")P=I*1.5,A=C*1.5,L="letter-flip";else return r.jsx("span",{className:"inline-block",children:_},S);return r.jsx("span",{className:L,style:{animationDuration:`${P}s`,animationDelay:`${A}s`},children:_},S)})};return r.jsxs("div",{className:`min-h-screen transition-colors duration-500 ${e?"dark bg-black":"bg-white"}`,children:[r.jsx(Ba,{videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/hero0-optimized.mp4",height:"h-screen",parallaxIntensity:.3,isDarkMode:e,children:r.jsx("div",{className:"text-center px-4",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[r.jsxs(E.h1,{className:"text-5xl md:text-7xl lg:text-8xl font-serif font-bold text-white mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:[s("pages.home.hero.title1"),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:s("pages.home.hero.title2")})]}),r.jsx(E.p,{className:"text-xl md:text-2xl text-gray-200 mb-10 max-w-3xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.7},children:s("pages.home.hero.subtitle")}),r.jsxs(E.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},children:[r.jsxs(Z,{to:"/services",className:"btn btn-primary btn-lg rounded-full group",children:[s("pages.home.hero.cta1"),r.jsx(Ie,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),r.jsx(Z,{to:"/blog",className:"btn btn-secondary btn-lg rounded-full",children:s("pages.home.hero.cta2")})]}),r.jsxs(E.div,{className:"mt-16 flex flex-wrap justify-center items-center gap-6 text-white/80 mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1.1},children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(ie,{className:"h-5 w-5 text-green-400"}),r.jsx("span",{className:"text-sm",children:s("pages.home.trustBadges.verifiedPros")})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(Ke,{className:"h-5 w-5 text-blue-400"}),r.jsx("span",{className:"text-sm",children:s("pages.home.trustBadges.securePayments")})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(nt,{className:"h-5 w-5 text-yellow-400"}),r.jsx("span",{className:"text-sm",children:s("pages.home.trustBadges.fiveStarRated")})]})]})]})})}),r.jsx(vn,{from:e?"from-black":"from-black/60",to:e?"to-gray-900":"to-white",height:"h-24",isDarkMode:e}),r.jsx("section",{className:`py-16 ${e?"bg-gray-900":"bg-white"}`,children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{icon:et,number:"15K+",label:s("pages.home.stats.verifiedStylists")},{icon:Oe,number:"250K+",label:s("pages.home.stats.bookingsMade")},{icon:Xn,number:"4.9★",label:s("pages.home.stats.averageRating")},{icon:Wa,number:"98%",label:s("pages.home.stats.satisfaction")}].map((w,N)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:N*.1},viewport:{once:!0,margin:"-100px"},className:"text-center group cursor-pointer",children:[r.jsx(E.div,{whileHover:{scale:1.2,rotate:5},transition:{type:"spring",stiffness:300},children:r.jsx(w.icon,{className:`h-10 w-10 mx-auto mb-3 ${e?"text-pink-400":"text-pink-600"}`})}),r.jsx("div",{className:"text-4xl font-bold mb-1 bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:w.number}),r.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:w.label})]},w.label))})})}),r.jsx(vn,{from:e?"from-gray-900":"from-white",to:e?"to-black":"to-gray-50",height:"h-16",isDarkMode:e}),r.jsx("section",{className:`py-24 ${e?"bg-black":"bg-gray-50"}`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("div",{className:"animated-title-container",children:r.jsx("h2",{ref:h,className:`animated-title font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:k(s("pages.home.services.title"),a)})}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.home.services.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-6xl mx-auto",children:g.map((w,N)=>r.jsx(V3,{...w,index:N,isDarkMode:e},w.name))})]})}),r.jsx(vn,{from:e?"from-black":"from-gray-50",to:e?"to-gray-900":"to-purple-50",height:"h-20",isDarkMode:e}),r.jsx("section",{className:`py-24 ${e?"bg-gray-900":"bg-gradient-to-b from-purple-50 to-pink-50"}`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("div",{className:"animated-title-container",children:r.jsx("h2",{ref:p,className:`animated-title font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:k(s("pages.home.topStylists.title"),i)})}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.home.topStylists.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:v.map((w,N)=>r.jsx(U3,{...w,index:N,isDarkMode:e},w.name))})]})}),r.jsx(Ba,{videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/salon-optimized.mp4",height:"h-[60vh]",parallaxIntensity:.3,overlayGradient:"bg-gradient-to-b from-pink-900/70 via-purple-900/70 to-black/80",isDarkMode:e,children:r.jsx("div",{className:"text-center px-4 text-white",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},children:[r.jsx("h2",{className:"text-4xl md:text-6xl font-serif font-bold mb-6",children:"Love Your Look, Love Your Life"}),r.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto mb-8",children:"Join thousands of happy clients who discovered their perfect style with BeautyCita"}),r.jsxs(Z,{to:"/services",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-bold text-lg hover:shadow-2xl transition-all transform hover:scale-105",children:[r.jsx(Ee,{className:"mr-2 h-6 w-6"}),"Find Your Stylist Now"]})]})})}),r.jsx(vn,{from:"from-black/80",to:e?"to-black":"to-white",height:"h-20",isDarkMode:e}),r.jsx("section",{className:`py-24 ${e?"bg-black":"bg-white"}`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("div",{className:"animated-title-container",children:r.jsx("h2",{ref:f,className:`animated-title font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:k(s("pages.home.testimonials.title"),l)})}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.home.testimonials.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:b.map((w,N)=>r.jsx(W3,{...w,index:N,isDarkMode:e},w.name))})]})}),r.jsx(Ba,{videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/makeup-optimized.mp4",height:"h-[70vh]",parallaxIntensity:.4,overlayGradient:"bg-gradient-to-b from-purple-900/60 via-pink-900/60 to-black/80",isDarkMode:e,children:r.jsx("div",{className:"text-center px-4 text-white",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},children:[r.jsx("h2",{className:"text-5xl md:text-6xl font-serif font-bold mb-6",children:s("pages.home.videoSection.title")}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-2xl mx-auto",children:s("pages.home.videoSection.subtitle")}),r.jsxs(Z,{to:"/portfolio",className:"btn btn-outline btn-lg rounded-full",children:[r.jsx(jh,{className:"h-6 w-6"}),s("pages.home.videoSection.cta")]})]})})}),r.jsx(vn,{from:"from-black/80",to:e?"to-gray-900":"to-blue-50",height:"h-20",isDarkMode:e}),r.jsx("section",{className:`py-24 ${e?"bg-gray-900":"bg-gradient-to-b from-blue-50 to-purple-50"}`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("div",{className:"animated-title-container",children:r.jsx("h2",{ref:y,className:`animated-title font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:k(s("pages.home.safety.title"),d)})}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.home.safety.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[{icon:Ke,title:s("pages.home.safety.verifiedPros"),desc:s("pages.home.safety.verifiedProsDesc"),color:"from-green-500 to-teal-600",link:"/verified-professionals"},{icon:Lr,title:s("pages.home.safety.securePayments"),desc:s("pages.home.safety.securePaymentsDesc"),color:"from-blue-500 to-purple-600",link:"/secure-payments"},{icon:Ka,title:s("pages.home.safety.disputeResolution"),desc:s("pages.home.safety.disputeResolutionDesc"),color:"from-purple-500 to-pink-600",link:"/dispute-resolution"},{icon:Ge,title:s("pages.home.safety.moneyBack"),desc:s("pages.home.safety.moneyBackDesc"),color:"from-pink-500 to-red-600",link:"/money-back-guarantee"}].map((w,N)=>r.jsx(Z,{to:w.link,children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:N*.1},viewport:{once:!0},whileHover:{y:-5,scale:1.02},className:`p-6 rounded-3xl text-center transition-all cursor-pointer select-none ${e?"bg-gray-800 hover:bg-gray-700":"bg-white shadow-lg hover:shadow-xl"}`,children:[r.jsx(E.div,{className:`inline-flex p-4 rounded-3xl bg-gradient-to-br ${w.color} mb-4`,whileHover:{rotate:5},children:r.jsx(w.icon,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:`text-xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:w.title}),r.jsx("p",{className:`${e?"text-gray-400":"text-gray-600"}`,children:w.desc})]})},w.title))}),r.jsx(E.div,{className:"text-center mt-12",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5},viewport:{once:!0},children:r.jsxs(Z,{to:"/client-protection",className:`inline-flex items-center font-semibold ${e?"text-pink-400 hover:text-pink-300":"text-pink-600 hover:text-pink-700"} transition-colors group`,children:[s("pages.home.safety.learnMore"),r.jsx(Ie,{className:"ml-2 h-5 w-5 group-hover:translate-x-2 transition-transform"})]})})]})}),r.jsx(Ba,{videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/dancing-optimized.mp4",height:"h-[60vh] md:h-[50vh]",parallaxIntensity:.2,overlayGradient:"bg-gradient-to-r from-pink-900/90 via-purple-900/90 to-blue-900/90",isDarkMode:e,children:r.jsx("div",{className:"text-center px-4 text-white pb-16",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[r.jsx(E.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:3,repeat:1/0},className:"inline-block mb-6",children:r.jsx(Xn,{className:"h-16 md:h-20 w-16 md:w-20 text-yellow-300"})}),r.jsx("h2",{className:"text-5xl md:text-7xl lg:text-8xl font-serif font-bold mb-6",children:s("pages.home.finalCta.title")}),r.jsx("p",{className:"text-xl md:text-2xl mb-12 max-w-3xl mx-auto",children:s("pages.home.finalCta.subtitle")}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[r.jsx(Z,{to:"/register",className:"btn btn-primary btn-lg rounded-full",children:s("pages.home.finalCta.cta1")}),r.jsx(Z,{to:"/services",className:"btn btn-outline btn-lg rounded-full",children:s("pages.home.finalCta.cta2")})]})]})})})]})}function jt({title:s,subtitle:e,children:t,gradient:a="from-pink-500 via-purple-500 to-blue-500",isDarkMode:n=!1,backgroundImage:i,videoSrc:o,height:l="h-96"}){return r.jsxs("section",{className:`relative ${l} overflow-hidden`,children:[r.jsxs("div",{className:"absolute inset-0",children:[o?r.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:r.jsx("source",{src:o,type:"video/mp4"})}):i?r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${i})`}}):r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a}`}),r.jsx("div",{className:`absolute inset-0 ${n?"bg-gradient-to-b from-purple-900/60 via-black/50 to-black/80":"bg-gradient-to-b from-pink-900/40 via-purple-900/40 to-black/60"}`})]}),r.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-4",children:r.jsxs(E.div,{className:"text-center max-w-4xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[r.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-serif font-bold text-white mb-6 leading-tight",children:s}),e&&r.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-2xl mx-auto",children:e}),t]})})]})}function $t({children:s,className:e="",background:t="white",isDarkMode:a=!1,id:n}){const i={white:a?"bg-gray-900":"bg-white",gray:a?"bg-black":"bg-gray-50",gradient:a?"bg-gradient-to-br from-gray-900 to-black":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",dark:"bg-gradient-to-br from-gray-900 to-black"};return r.jsx("section",{id:n,className:`py-16 md:py-24 ${i[t]} ${e}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:s})})}function xe({children:s,gradient:e,className:t="",isDarkMode:a=!1,hoverable:n=!0,delay:i=0}){const o=a?"bg-gray-800/50 backdrop-blur-xl border border-gray-700":"bg-white shadow-lg border border-gray-100";return r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i},viewport:{once:!0},whileHover:n?{y:-5,scale:1.02}:{},className:`relative rounded-2xl overflow-hidden ${o} ${t}`,children:[e&&r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e} opacity-5`}),r.jsx("div",{className:"relative z-10 p-6 md:p-8",children:s})]})}function H3({stats:s,columns:e=4,isDarkMode:t=!1}){const a={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-3",4:"grid-cols-2 md:grid-cols-4"};return r.jsx("div",{className:`grid ${a[e]} gap-8`,children:s.map((n,i)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0,margin:"-100px"},className:"text-center group cursor-pointer",children:[n.icon&&r.jsx(E.div,{whileHover:{scale:1.2,rotate:5},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center mb-3 ${n.gradient?`bg-gradient-to-br ${n.gradient} p-3 rounded-3xl text-white`:""}`,children:n.icon}),r.jsx("div",{className:`text-4xl font-bold mb-1 bg-gradient-to-r ${n.gradient||"from-pink-500 to-purple-600"} bg-clip-text text-transparent`,children:n.number}),r.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:n.label})]},n.label))})}function vu({icon:s,title:e,description:t,gradient:a="from-pink-500 to-purple-600",isDarkMode:n=!1,index:i=0}){return r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0},whileHover:{y:-5},className:`p-6 rounded-3xl text-center ${n?"bg-gray-800 hover:bg-gray-700":"bg-white shadow-lg hover:shadow-xl"} transition-all`,children:[r.jsx(E.div,{className:`inline-flex p-4 rounded-3xl bg-gradient-to-br ${a} mb-4`,whileHover:{rotate:5},children:r.jsx("div",{className:"h-8 w-8 text-white",children:s})}),r.jsx("h3",{className:`text-xl font-bold mb-2 ${n?"text-white":"text-gray-900"}`,children:e}),r.jsx("p",{className:`${n?"text-gray-400":"text-gray-600"}`,children:t})]})}function kh({title:s,description:e,primaryAction:t,secondaryAction:a,gradient:n="from-pink-600 via-purple-600 to-blue-600",icon:i,children:o}){return r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:`bg-gradient-to-r ${n} rounded-3xl p-8 md:p-12 text-white text-center`,children:[i&&r.jsx(E.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:3,repeat:1/0},className:"inline-block mb-6",children:i}),r.jsx("h2",{className:"text-3xl md:text-5xl font-serif font-bold mb-6",children:s}),r.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:e}),(t||a||o)&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t&&r.jsx(Z,{to:t.to,onClick:t.onClick,className:"btn btn-primary btn-lg rounded-full",children:t.label}),a&&r.jsx(Z,{to:a.to,onClick:a.onClick,className:"btn btn-outline btn-lg rounded-full",children:a.label}),o]})]})}var fp={exports:{}};function q3(s,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(s,[])).next())})}function G3(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Yc,gp;function Y3(){return gp||(gp=1,Yc=function s(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var a,n,i;if(Array.isArray(e)){if(a=e.length,a!=t.length)return!1;for(n=a;n--!==0;)if(!s(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),a=i.length,a!==Object.keys(t).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=a;n--!==0;){var o=i[n];if(!s(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),Yc}var K3=Y3(),Q3=G3(K3);const wu="__googleMapsScriptId";var Ys;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(Ys||(Ys={}));class zs{constructor({apiKey:e,authReferrerPolicy:t,channel:a,client:n,id:i=wu,language:o,libraries:l=[],mapIds:c,nonce:d,region:u,retries:h=3,url:p="https://maps.googleapis.com/maps/api/js",version:f}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=a,this.client=n,this.id=i||wu,this.language=o,this.libraries=l,this.mapIds=c,this.nonce=d,this.region=u,this.retries=h,this.url=p,this.version=f,zs.instance){if(!Q3(this.options,zs.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(zs.instance.options)}`);return zs.instance}zs.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ys.FAILURE:this.done?Ys.SUCCESS:this.loading?Ys.LOADING:Ys.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(a=>{a?t(a.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}const a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(i=>!a[i]&&delete a[i]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(i=>{let o,l,c,d="The Google Maps JavaScript API",u="google",h="importLibrary",p="__ib__",f=document,y=window;y=y[u]||(y[u]={});const x=y.maps||(y.maps={}),g=new Set,v=new URLSearchParams,b=()=>o||(o=new Promise((k,w)=>q3(this,void 0,void 0,function*(){var N;yield l=f.createElement("script"),l.id=this.id,v.set("libraries",[...g]+"");for(c in i)v.set(c.replace(/[A-Z]/g,j=>"_"+j[0].toLowerCase()),i[c]);v.set("callback",u+".maps."+p),l.src=this.url+"?"+v,x[p]=k,l.onerror=()=>o=w(Error(d+" could not load.")),l.nonce=this.nonce||((N=f.querySelector("script[nonce]"))===null||N===void 0?void 0:N.nonce)||"",f.head.append(l)})));x[h]?console.warn(d+" only loads once. Ignoring:",i):x[h]=(k,...w)=>g.add(k)&&b().then(()=>x[h](k,...w))})(a);const n=this.libraries.map(i=>this.importLibrary(i));n.length||n.push(this.importLibrary("core")),Promise.all(n).then(()=>this.callback(),i=>{const o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const Z3=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ID:wu,Loader:zs,get LoaderStatus(){return Ys}},Symbol.toStringTag,{value:"Module"})),J3=t5(Z3);(function(s,e){(function(t,a){a(e,J3,m)})(T,function(t,a,n){function i(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var o=i(n);t.Status=void 0,function(c){c.LOADING="LOADING",c.FAILURE="FAILURE",c.SUCCESS="SUCCESS"}(t.Status||(t.Status={}));const l=({children:c,render:d,callback:u,...h})=>{const[p,f]=n.useState(t.Status.LOADING);return n.useEffect(()=>{const y=new a.Loader(h),x=g=>{u&&u(g,y),f(g)};x(t.Status.LOADING),y.load().then(()=>x(t.Status.SUCCESS),()=>x(t.Status.FAILURE))},[]),p===t.Status.SUCCESS&&c?o.default.createElement(o.default.Fragment,null,c):d?d(p):o.default.createElement(o.default.Fragment,null)};t.Wrapper=l,Object.defineProperty(t,"__esModule",{value:!0})})})(fp,fp.exports);const X3=[{id:1,name:"Isabella Rodriguez",business:"Bella Color Studio",specialty:["Hair Coloring","Balayage","Highlights"],latitude:20.6077,longitude:-105.24,rating:4.9,reviews:847,priceRange:"$$",availability:!0,neighborhood:"Zona Romántica",services:["Corte","Color","Peinado","Tratamientos"],phone:"+52 322 222 1234",instagram:"@bellacolorstudio",verified:!0},{id:2,name:"Sofia Mendoza",business:"Salón Elite Centro",specialty:["Bridal Hair","Updos","Extensions"],latitude:20.6134,longitude:-105.2298,rating:4.8,reviews:623,priceRange:"$$$",availability:!0,neighborhood:"Centro",services:["Peinados de Novia","Extensiones","Maquillaje"],phone:"+52 322 223 5678",instagram:"@salonelitecentro",verified:!0},{id:3,name:"Carmen Vásquez",business:"Beauty Corner Romántica",specialty:["Nails","Manicure","Pedicure"],latitude:20.6089,longitude:-105.2389,rating:4.7,reviews:392,priceRange:"$",availability:!1,neighborhood:"Zona Romántica",services:["Manicure","Pedicure","Uñas Acrílicas"],phone:"+52 322 224 9012",verified:!0},{id:4,name:"Alejandra Torres",business:"Marina Beauty Lounge",specialty:["Luxury Treatments","Facials","Anti-aging"],latitude:20.6234,longitude:-105.2567,rating:5,reviews:234,priceRange:"$$$$",availability:!0,neighborhood:"Marina Vallarta",services:["Faciales","Tratamientos Anti-edad","Spa"],phone:"+52 322 225 3456",instagram:"@marinabeautylounge",verified:!0},{id:5,name:"Ricardo Silva",business:"Men's Style Marina",specialty:["Men's Cuts","Beard Styling","Hair Styling"],latitude:20.6201,longitude:-105.2534,rating:4.9,reviews:456,priceRange:"$$",availability:!0,neighborhood:"Marina Vallarta",services:["Cortes Masculinos","Arreglo de Barba","Styling"],phone:"+52 322 226 7890",instagram:"@mensstylemarina",verified:!0},{id:6,name:"Lupita Hernández",business:"Estética Versalles",specialty:["Family Salon","Kids Cuts","Women's Styling"],latitude:20.6312,longitude:-105.2123,rating:4.6,reviews:578,priceRange:"$",availability:!0,neighborhood:"Versalles",services:["Cortes Familiares","Niños","Styling Femenino"],phone:"+52 322 227 1234",verified:!0},{id:7,name:"Mónica Ramirez",business:"Glamour Fluvial",specialty:["Wedding Makeup","Evening Looks","Photography Makeup"],latitude:20.6289,longitude:-105.2089,rating:4.8,reviews:291,priceRange:"$$$",availability:!1,neighborhood:"Fluvial Vallarta",services:["Maquillaje de Boda","Looks de Noche","Fotografía"],phone:"+52 322 228 5678",instagram:"@glamourfluvial",verified:!0},{id:8,name:"Fernanda López",business:"Glorias Beauty Spa",specialty:["Resort Services","Beach Hair","Vacation Looks"],latitude:20.6445,longitude:-105.2267,rating:4.7,reviews:689,priceRange:"$$",availability:!0,neighborhood:"Las Glorias",services:["Servicios de Resort","Peinados de Playa","Looks Vacacionales"],phone:"+52 322 229 9012",instagram:"@gloriasbeautyspa",verified:!0},{id:9,name:"Daniela Martínez",business:"Hotel Zone Hair Studio",specialty:["Express Services","Blowouts","Quick Styling"],latitude:20.6401,longitude:-105.2298,rating:4.5,reviews:445,priceRange:"$",availability:!0,neighborhood:"Zona Hotelera",services:["Servicios Express","Brushing","Styling Rápido"],phone:"+52 322 230 3456",verified:!0},{id:10,name:"Valentina Cruz",business:"Conchas Chinas Luxury Salon",specialty:["High-end Cuts","Color Correction","Luxury Treatments"],latitude:20.5934,longitude:-105.2445,rating:4.9,reviews:156,priceRange:"$$$$",availability:!0,neighborhood:"Conchas Chinas",services:["Cortes de Lujo","Corrección de Color","Tratamientos Premium"],phone:"+52 322 231 7890",instagram:"@conchaschinassalon",verified:!0},{id:11,name:"Paola Jiménez",business:"Nails & More PV",specialty:["Nail Art","Gel Manicures","Nail Extensions"],latitude:20.6156,longitude:-105.2345,rating:4.6,reviews:334,priceRange:"$",availability:!0,neighborhood:"Centro",services:["Arte en Uñas","Manicure Gel","Extensiones"],phone:"+52 322 232 1234",instagram:"@nailsandmorepv",verified:!0},{id:12,name:"Gabriela Sánchez",business:"Brow Bar Vallarta",specialty:["Eyebrow Threading","Microblading","Lash Extensions"],latitude:20.6198,longitude:-105.2234,rating:4.8,reviews:267,priceRange:"$$",availability:!1,neighborhood:"Centro",services:["Depilación de Cejas","Microblading","Extensiones de Pestañas"],phone:"+52 322 233 5678",instagram:"@browbarvallarta",verified:!0}],qs=class qs{constructor(){se(this,"currentLocation",null);se(this,"stylists",X3)}static getInstance(){return qs.instance||(qs.instance=new qs),qs.instance}async requestLocationPermission(){return new Promise(e=>{if(!navigator.geolocation){e({granted:!1,error:"Geolocation is not supported by this browser"});return}if(this.currentLocation){e({granted:!0,location:this.currentLocation});return}console.log("🌍 Requesting location permission for BeautyCita..."),navigator.geolocation.getCurrentPosition(async t=>{const a={latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,timestamp:new Date};try{const n=await this.getAddressFromCoordinates(a.latitude,a.longitude);a.address=n}catch{console.log("Could not get address from coordinates")}this.currentLocation=a,console.log("✅ Location permission granted for BeautyCita:",a),e({granted:!0,location:a})},t=>{let a="Location access denied";switch(t.code){case t.PERMISSION_DENIED:a="Location access denied by user";break;case t.POSITION_UNAVAILABLE:a="Location information unavailable";break;case t.TIMEOUT:a="Location request timed out";break}console.log("❌ Location permission denied for BeautyCita:",a),e({granted:!1,error:a})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})}async getAddressFromCoordinates(e,t){try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=16&addressdetails=1`);if(!a.ok)throw new Error("Geocoding failed");return(await a.json()).display_name||`${e.toFixed(4)}, ${t.toFixed(4)}`}catch{return`${e.toFixed(4)}, ${t.toFixed(4)}`}}calculateDistance(e,t,a,n){const o=this.toRadians(a-e),l=this.toRadians(n-t),c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.toRadians(e))*Math.cos(this.toRadians(a))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}toRadians(e){return e*(Math.PI/180)}getCurrentLocation(){return this.currentLocation}setCurrentLocation(e){this.currentLocation={latitude:e.latitude,longitude:e.longitude,accuracy:0,timestamp:new Date}}async getNearbyStylists(e=25,t=20){if(!this.currentLocation)throw new Error("Location not available - please enable location access");return this.stylists.map(n=>({...n,distance:this.calculateDistance(this.currentLocation.latitude,this.currentLocation.longitude,n.latitude,n.longitude)})).filter(n=>n.distance<=e).sort((n,i)=>n.distance-i.distance).slice(0,t)}async searchStylists(e){return(await this.getNearbyStylists(e.radius||25)).filter(a=>!(e.specialty&&!a.specialty.some(n=>n.toLowerCase().includes(e.specialty.toLowerCase()))||e.priceRange&&!e.priceRange.includes(a.priceRange)||e.rating&&a.rating<e.rating||e.availability!==void 0&&a.availability!==e.availability||e.neighborhood&&a.neighborhood!==e.neighborhood))}getLocationString(){return this.currentLocation?this.currentLocation.address?this.currentLocation.address:`${this.currentLocation.latitude.toFixed(4)}, ${this.currentLocation.longitude.toFixed(4)}`:"Location not available"}getNeighborhoods(){return[...new Set(this.stylists.map(e=>e.neighborhood))]}getAllStylists(){return this.stylists}isInPuertoVallarta(){return this.currentLocation?this.calculateDistance(this.currentLocation.latitude,this.currentLocation.longitude,20.6134,-105.2298)<=30:!1}};se(qs,"instance");let ju=qs;const xp=ju.getInstance(),Gs=class Gs{constructor(){se(this,"watchId",null);se(this,"updateInterval",null);se(this,"STORAGE_KEY","beautycita_location_session");se(this,"UPDATE_INTERVAL_NORMAL",6e4);se(this,"UPDATE_INTERVAL_BOOKING",3e4);this.checkPermissionStatus(),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this))}static getInstance(){return Gs.instance||(Gs.instance=new Gs),Gs.instance}getSession(){const e=localStorage.getItem(this.STORAGE_KEY);if(e)try{return JSON.parse(e)}catch(t){console.error("Failed to parse location session:",t)}return{permissionStatus:"prompt",lastLocation:null,trackingEnabled:!1,bookingTrackingId:null,lastUpdateTime:null}}saveSession(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}async checkPermissionStatus(){const e=this.getSession();this.saveSession({...e,permissionStatus:"checking"});try{if(!navigator.geolocation)return this.saveSession({...e,permissionStatus:"denied"}),"denied";if(navigator.permissions&&navigator.permissions.query)try{const t=await navigator.permissions.query({name:"geolocation"}),a=t.state;return t.addEventListener("change",()=>{const n=t.state,i=this.getSession();this.saveSession({...i,permissionStatus:n}),n==="granted"?this.startTracking():this.stopTracking()}),this.saveSession({...e,permissionStatus:a}),a}catch(t){console.warn("Permissions API not fully supported:",t)}return e.lastLocation&&e.permissionStatus==="granted"?"granted":"prompt"}catch(t){return console.error("Error checking permission status:",t),"prompt"}}async requestLocationPermission(){const e=this.getSession();return e.permissionStatus==="granted"&&e.lastLocation?!0:new Promise(t=>{if(!navigator.geolocation){this.saveSession({...e,permissionStatus:"denied"}),t(!1);return}navigator.geolocation.getCurrentPosition(a=>{const n={latitude:a.coords.latitude,longitude:a.coords.longitude,timestamp:new Date().toISOString()};this.saveSession({...e,permissionStatus:"granted",lastLocation:n,lastUpdateTime:new Date().toISOString()}),xp.setCurrentLocation({latitude:a.coords.latitude,longitude:a.coords.longitude}),this.startTracking(),t(!0)},a=>{let n="denied";a.code===a.PERMISSION_DENIED?n="denied":a.code===a.TIMEOUT&&(n="prompt"),this.saveSession({...e,permissionStatus:n}),t(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}startTracking(e){const t=this.getSession();if(t.permissionStatus!=="granted"){console.warn("Cannot start tracking without location permission");return}if(this.saveSession({...t,trackingEnabled:!0,bookingTrackingId:e||t.bookingTrackingId}),this.stopTracking(!1),navigator.geolocation){this.watchId=navigator.geolocation.watchPosition(n=>{this.handleLocationUpdate(n)},n=>{console.error("Location tracking error:",n),n.code===n.PERMISSION_DENIED&&this.handlePermissionRevoked()},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});const a=e?this.UPDATE_INTERVAL_BOOKING:this.UPDATE_INTERVAL_NORMAL;this.updateInterval=setInterval(()=>{this.sendLocationToBackend()},a)}}stopTracking(e=!0){if(this.watchId!==null&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null),this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),e){const t=this.getSession();this.saveSession({...t,trackingEnabled:!1,bookingTrackingId:null})}}handleLocationUpdate(e){const t={latitude:e.coords.latitude,longitude:e.coords.longitude,timestamp:new Date().toISOString()},a=this.getSession();this.saveSession({...a,lastLocation:t,lastUpdateTime:new Date().toISOString()}),xp.setCurrentLocation({latitude:e.coords.latitude,longitude:e.coords.longitude}),a.bookingTrackingId&&this.sendLocationToBackend()}async sendLocationToBackend(){const e=this.getSession();if(!(!e.lastLocation||!e.trackingEnabled))try{const t=e.bookingTrackingId?"/api/location/booking-track":"/api/location/update",a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("beautycita-auth-token")}`},body:JSON.stringify({latitude:e.lastLocation.latitude,longitude:e.lastLocation.longitude,timestamp:e.lastLocation.timestamp,bookingId:e.bookingTrackingId})});a.ok||console.error("Failed to send location update:",a.status)}catch(t){console.error("Error sending location to backend:",t)}}handlePermissionRevoked(){const e=this.getSession();this.saveSession({...e,permissionStatus:"denied",trackingEnabled:!1}),this.stopTracking(!1),window.dispatchEvent(new CustomEvent("locationPermissionRevoked"))}handleVisibilityChange(){const e=this.getSession();e.trackingEnabled&&(document.hidden?this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null):e.bookingTrackingId&&(this.updateInterval=setInterval(()=>{this.sendLocationToBackend()},this.UPDATE_INTERVAL_BOOKING)))}handleOnline(){const e=this.getSession();e.trackingEnabled&&e.lastLocation&&this.sendLocationToBackend()}handleOffline(){console.log("Device went offline, location updates will resume when online")}startBookingTracking(e){console.log(`Starting high-frequency tracking for booking: ${e}`),this.startTracking(e)}stopBookingTracking(){const e=this.getSession();this.saveSession({...e,bookingTrackingId:null}),e.permissionStatus==="granted"?this.startTracking():this.stopTracking()}getLastLocation(){const e=this.getSession();return e.lastLocation?{latitude:e.lastLocation.latitude,longitude:e.lastLocation.longitude}:null}isTracking(){return this.getSession().trackingEnabled}isPermissionGranted(){return this.getSession().permissionStatus==="granted"}clearSession(){this.stopTracking(),localStorage.removeItem(this.STORAGE_KEY)}};se(Gs,"instance");let Nu=Gs;const wn=Nu.getInstance();function _h({value:s,onChange:e,error:t,apiKey:a}){const{t:n}=je(),[i,o]=m.useState((s==null?void 0:s.address)||""),[l,c]=m.useState([]),[d,u]=m.useState(!1),[h,p]=m.useState(null),[f,y]=m.useState(!1),[x,g]=m.useState(""),[v,b]=m.useState(""),[k,w]=m.useState(null),N=m.useRef(),j=m.useRef(),[_,S]=m.useState(!1),C=m.useRef(null),[I,P]=m.useState({}),L=s||{latitude:19.4326,longitude:-99.1332},[O,M]=m.useState(!1),[$,D]=m.useState(!1);Se.useEffect(()=>{(async()=>{const z=await wn.checkPermissionStatus();M(z==="denied")})()},[]);const q=m.useCallback(()=>{if(C.current){const F=C.current.getBoundingClientRect(),z=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;P(z?{position:"fixed",top:`${F.bottom+2}px`,left:`${F.left}px`,width:`${F.width}px`,zIndex:99999,maxHeight:"240px",overflowY:"auto",WebkitOverflowScrolling:"touch",boxSizing:"border-box"}:{position:"absolute",top:"100%",left:0,right:0,zIndex:9999,maxHeight:"240px",overflowY:"auto",WebkitOverflowScrolling:"touch",boxSizing:"border-box"})}},[]),W=async()=>{const F=wn.getSession();if(F.permissionStatus==="prompt"||F.permissionStatus==="checking"){D(!0);const z=await wn.requestLocationPermission();if(D(!1),z){const X=wn.getLastLocation();X&&console.log("📍 Using user location for search:",X)}else M(!0)}};Se.useEffect(()=>{let F,z,X=!1;const Y=()=>{if(X)return!1;if(console.log("🔧 LocationPicker: Checking Places API availability...",{hasGoogleMaps:!!window.google,hasPlacesAPI:!!(window.google&&window.google.maps&&window.google.maps.places),hasAutocompleteService:!!N.current,documentReady:document.readyState}),window.google&&window.google.maps&&window.google.maps.places&&!N.current){X=!0;try{return N.current=new window.google.maps.places.AutocompleteService,console.log("✅ LocationPicker: AutocompleteService initialized successfully"),X=!1,!0}catch(U){return console.error("❌ LocationPicker: Failed to initialize AutocompleteService:",U),X=!1,!1}}else if(window.google)if(window.google.maps)if(window.google.maps.places){if(N.current)return console.log("✅ LocationPicker: AutocompleteService already initialized"),!0}else return console.warn("⚠️ LocationPicker: Google Places API not loaded - retrying..."),!1;else return console.warn("⚠️ LocationPicker: Google Maps core API not loaded"),!1;else return console.warn("⚠️ LocationPicker: Google Maps API not loaded"),!1;return!1},K=()=>{if(Y())return;let U=0;const ae=20;z=setInterval(()=>{U++,console.log(`🔄 LocationPicker: Retry ${U}/${ae} - Attempting to initialize Places API...`),(Y()||U>=ae)&&(clearInterval(z),U>=ae&&console.error("❌ LocationPicker: Failed to initialize Places API after maximum retries"))},300)};if(window.google&&window.google.maps&&window.google.maps.places)K();else if(document.readyState==="complete")K();else{const U=()=>{F=setTimeout(K,100),window.removeEventListener("load",U)};window.addEventListener("load",U)}return()=>{F&&clearTimeout(F),z&&clearInterval(z),j.current&&clearTimeout(j.current)}},[]);const B=()=>{const F=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),z="ontouchstart"in window||navigator.maxTouchPoints>0,X=window.innerWidth<768,Y=F||z&&X;return console.log("🔍 Mobile Detection:",{isMobileDevice:F,isTouchDevice:z,isSmallViewport:X,viewportWidth:window.innerWidth,userAgent:navigator.userAgent.substring(0,50),finalResult:Y}),Y},V=m.useCallback(async F=>{if(o(F),console.log("🔍 LocationPicker: Places API search:",{query:F,length:F.length,isMobile:B(),userAgent:navigator.userAgent.substring(0,50)}),F.length<=2){c([]),u(!1);return}if(q(),N.current)try{const z={input:F,componentRestrictions:{country:["mx","us"]},types:["establishment","geocode"],...B()&&{radius:5e4,strictBounds:!1}};console.log("📡 LocationPicker: Places API request:",z),N.current.getPlacePredictions(z,(X,Y)=>{console.log("📥 LocationPicker: Places API response:",{status:Y,predictionsCount:(X==null?void 0:X.length)||0,statusCode:google.maps.places.PlacesServiceStatus[Y],isMobile:B()}),Y===google.maps.places.PlacesServiceStatus.OK&&X?(console.log("✅ LocationPicker: Places API success:",X.map(K=>({description:K.description,place_id:K.place_id,types:K.types}))),c(X),u(!0)):(console.warn("⚠️ LocationPicker: Places API non-OK status:",{status:Y,statusText:google.maps.places.PlacesServiceStatus[Y],predictions:(X==null?void 0:X.length)||"none",isMobile:B()}),c([]),u(!1))})}catch(z){console.error("❌ LocationPicker: Places API error:",z),c([]),u(!1)}else console.warn("⚠️ LocationPicker: AutocompleteService not available",{isMobile:B(),hasGoogle:!!window.google,hasPlaces:!!(window.google&&window.google.maps&&window.google.maps.places)}),c([]),u(!1)},[]),ee=m.useCallback((F,z)=>{if(console.log("🎯 LocationPicker: Place selected:",{placeId:F,description:z}),o(z),u(!1),p(z),window.google){const X=new window.google.maps.places.PlacesService(document.createElement("div"));console.log("📍 LocationPicker: Requesting place details for:",F),X.getDetails({placeId:F,fields:["geometry","formatted_address","address_components"]},(Y,K)=>{var U,ae;if(console.log("📥 LocationPicker: Place details response:",{status:K,statusText:google.maps.places.PlacesServiceStatus[K],hasGeometry:!!(Y!=null&&Y.geometry),hasLocation:!!((U=Y==null?void 0:Y.geometry)!=null&&U.location),address:Y==null?void 0:Y.formatted_address}),K===google.maps.places.PlacesServiceStatus.OK&&((ae=Y==null?void 0:Y.geometry)!=null&&ae.location)){const Q=Y.geometry.location.lat(),re=Y.geometry.location.lng();let ue="",Me="";if(Y.address_components)for(const ut of Y.address_components){const bt=ut.types;bt.includes("locality")||bt.includes("sublocality")?ue=ut.long_name:bt.includes("administrative_area_level_1")&&(Me=ut.short_name)}const it={address:Y.formatted_address||z,latitude:Q,longitude:re,city:ue,state:Me};console.log("✅ LocationPicker: Location data extracted:",it),p(it.address),w(it),g(it.address),e(it)}else console.error("❌ LocationPicker: Failed to get place details:",{status:K,statusText:google.maps.places.PlacesServiceStatus[K],place:Y})})}},[e]);return m.useCallback(()=>{y(!0),g(h||i||"")},[h,i]),m.useCallback(()=>{if(!k)return;const F=v?`${x}, ${v}`:x,z={...k,address:F};o(F),p(F),y(!1),e(z),console.log("✅ LocationPicker: Manual address saved:",z)},[k,x,v,e]),m.useCallback(()=>{y(!1),g(h||i||""),b("")},[h,i]),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"relative",children:[r.jsxs("label",{className:"label",children:[n("location.picker.businessAddress")," *"]}),r.jsx("div",{className:"flex space-x-2",children:r.jsx("input",{ref:C,type:"text",value:i,onChange:F=>{const z=F.target.value;o(z),h&&z!==h&&(p(null),e({address:"",latitude:0,longitude:0})),j.current&&clearTimeout(j.current),z.length>2&&S(!0);const Y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?500:300;j.current=setTimeout(()=>{V(z),S(!1)},Y)},className:`input flex-1 ${t?"input-error":""} ${_?"opacity-75":""}`,placeholder:n("location.picker.searchPlaceholder"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",inputMode:"text",onFocus:async()=>{if(await W(),q(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const z=document.querySelector("meta[name=viewport]");if(z){const X=z.getAttribute("content");z.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),setTimeout(()=>{z.setAttribute("content",X||"width=device-width, initial-scale=1.0")},1e3)}}},onBlur:()=>{const z=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?300:150;setTimeout(()=>{var X;(X=document.activeElement)!=null&&X.closest("[data-autocomplete-dropdown]")||u(!1)},z)}})}),d&&l.length>0&&r.jsx("div",{"data-autocomplete-dropdown":!0,className:"bg-white border border-gray-200 rounded-3xl shadow-xl",style:I,onClick:F=>F.stopPropagation(),onTouchStart:F=>F.stopPropagation(),children:l.map(F=>{var z,X;return r.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),ee(F.place_id,F.description)},onTouchEnd:Y=>{Y.preventDefault(),Y.stopPropagation(),ee(F.place_id,F.description)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 focus:bg-gray-100 active:bg-gray-200 focus:outline-none border-b border-gray-100 last:border-b-0 transition-colors touch-manipulation cursor-pointer",style:{minHeight:"48px",touchAction:"manipulation",WebkitTapHighlightColor:"rgba(0,0,0,0.1)",userSelect:"none"},children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(ot,{className:"h-4 w-4 text-gray-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm text-gray-900 font-medium leading-5",children:(z=F.structured_formatting)==null?void 0:z.main_text}),r.jsx("div",{className:"text-xs text-gray-600 leading-4",children:(X=F.structured_formatting)==null?void 0:X.secondary_text})]})]})},F.place_id)})}),h&&r.jsx("div",{className:"flex items-center space-x-1 mt-2",children:r.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[r.jsx(ot,{className:"h-3 w-3 mr-1"}),n("location.picker.selectedFromGoogle")]})}),r.jsxs("div",{className:"mt-2",children:[$&&r.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[r.jsx("div",{className:"animate-spin w-3 h-3 border border-blue-600 border-t-transparent rounded-full mr-1"}),n("location.requestingPermission","Requesting location access...")]}),!$&&O&&r.jsxs("div",{className:"flex items-center text-xs text-amber-600",children:[r.jsx(dt,{className:"h-3 w-3 mr-1"}),n("location.permissionDenied","Location access denied. Enable in browser settings for better address suggestions.")]}),!$&&!O&&wn.isPermissionGranted()&&r.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[r.jsx(ot,{className:"h-3 w-3 mr-1"}),n("location.permissionGranted","Location access enabled - better address suggestions available")]})]}),t&&r.jsx("p",{className:"form-error",children:t}),h&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-3xl p-4 mt-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ri,{className:"h-5 w-5 text-green-600"}),r.jsx("div",{className:"text-sm font-medium text-green-900",children:"Address Selected"})]}),r.jsx("div",{className:"text-sm text-green-700",children:h}),L.latitude!==0&&L.longitude!==0&&r.jsxs("div",{className:"text-xs text-green-600 mt-2",children:["📍 Coordinates: ",L.latitude.toFixed(6),", ",L.longitude.toFixed(6)]})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:r.jsx("p",{children:"⚠️ Please select your address from the dropdown suggestions provided by Google. This ensures accurate location data."})})]})})})}function eC(){const[s,e]=m.useState(!1),[t,a]=m.useState(!1),[n,i]=m.useState(!1),{t:o}=je();m.useEffect(()=>{const h=localStorage.getItem("darkMode")==="true";i(h);const p=()=>{const f=localStorage.getItem("darkMode")==="true";i(f)};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const{register:l,handleSubmit:c,formState:{errors:d}}=cn(),u=async h=>{var p,f;e(!0);try{const y=await G.post("/api/auth/forgot-password",h);y.data.success&&(a(!0),R.success(o("auth.forgotPassword.resetEmailSent")),y.data.resetLink&&console.log("Password reset link:",y.data.resetLink))}catch(y){R.error(((f=(p=y.response)==null?void 0:p.data)==null?void 0:f.message)||o("auth.forgotPassword.resetEmailError"))}finally{e(!1)}};return t?r.jsx("div",{className:`min-h-screen flex items-center justify-center ${n?"bg-gray-900":"bg-gray-50"}`,children:r.jsx("div",{className:"max-w-md w-full p-8",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 rounded-3xl flex items-center justify-center mb-6 shadow-lg",children:r.jsx(ie,{className:"h-12 w-12 text-white"})}),r.jsx("h2",{className:`text-3xl font-serif font-bold mb-4 ${n?"text-white":"text-gray-900"}`,children:o("auth.forgotPassword.checkEmailTitle")}),r.jsx("p",{className:`mb-8 ${n?"text-gray-400":"text-gray-600"}`,children:o("auth.forgotPassword.checkEmailMessage")}),r.jsxs(Z,{to:"/login",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{children:o("auth.resetPassword.goToLogin")}),r.jsx(Ie,{className:"h-4 w-4"})]})]})})}):r.jsxs("div",{className:`min-h-screen flex ${n?"bg-gray-900":"bg-gray-50"}`,children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-gradient-to-br from-pink-500 via-purple-500 to-blue-500",children:[r.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/20 rounded-3xl blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-purple-400/20 rounded-3xl blur-3xl animate-pulse delay-1000"}),r.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center w-full p-12 text-white",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-8",children:r.jsx(u_,{className:"h-24 w-24"})}),r.jsx("h1",{className:"text-5xl font-serif font-bold mb-6",children:"BeautyCita"}),r.jsx("p",{className:"text-xl text-white/90 mb-4",children:o("auth.forgotPassword.title")}),r.jsx("p",{className:"text-white/80 max-w-md",children:o("auth.forgotPassword.subtitle")})]})})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs(Z,{to:"/",className:"inline-flex items-center space-x-2",children:[r.jsx(Ee,{className:"h-10 w-10 text-pink-500"}),r.jsx("span",{className:"text-2xl font-serif font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"BeautyCita"})]})}),r.jsxs(xe,{isDarkMode:n,gradient:"from-pink-500 to-purple-600",hoverable:!1,children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:`text-3xl font-serif font-bold mb-2 ${n?"text-white":"text-gray-900"}`,children:o("auth.forgotPassword.title")}),r.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:o("auth.forgotPassword.subtitle")})]}),r.jsxs("form",{onSubmit:c(u),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:o("auth.forgotPassword.emailLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...l("email",{required:o("auth.forgotPassword.emailRequired"),pattern:{value:/^\S+@\S+$/i,message:o("auth.forgotPassword.emailInvalid")}}),type:"email",id:"email",className:`w-full pl-10 pr-4 py-3 rounded-3xl border ${d.email?"border-red-500 focus:ring-red-500":n?"border-gray-600 bg-gray-700/50 text-white focus:ring-pink-500 focus:border-pink-500":"border-gray-300 bg-white text-gray-900 focus:ring-pink-500 focus:border-pink-500"} focus:ring-2 focus:outline-none transition-colors`,placeholder:o("auth.forgotPassword.emailPlaceholder"),autoComplete:"email"}),r.jsx("div",{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none ${n?"text-gray-500":"text-gray-400"}`,children:r.jsx(ir,{className:"h-5 w-5"})})]}),d.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.email.message})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:s?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:o("auth.forgotPassword.sendResetLink")}),r.jsx(Ie,{className:"h-4 w-4"})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(Z,{to:"/login",className:"text-sm font-medium bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:o("auth.links.backToLogin")})})]})]})})]})}function tC(){const[s,e]=m.useState(!1),[t,a]=m.useState(!1),[n,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(!0),[p,f]=m.useState(""),[y,x]=m.useState(!1),[g]=ql(),v=wt(),{t:b}=je();m.useEffect(()=>{const I=localStorage.getItem("darkMode")==="true";x(I);const P=()=>{const A=localStorage.getItem("darkMode")==="true";x(A)};return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[]);const k=g.get("token"),{register:w,handleSubmit:N,watch:j,formState:{errors:_}}=cn(),S=j("password");m.useEffect(()=>{if(!k){v("/forgot-password");return}(async()=>{try{const P=await G.get(`/api/auth/reset-password/${k}`);P.data.success?(d(!0),f(P.data.data.email)):(R.error(b("auth.resetPassword.invalidToken")),v("/forgot-password"))}catch{R.error(b("auth.resetPassword.invalidToken")),v("/forgot-password")}finally{h(!1)}})()},[k,v]);const C=async I=>{var P,A;i(!0);try{(await G.post("/api/auth/reset-password",{token:k,password:I.password})).data.success&&(l(!0),R.success(b("auth.resetPassword.resetSuccess")),setTimeout(()=>{v("/login")},2e3))}catch(L){R.error(((A=(P=L.response)==null?void 0:P.data)==null?void 0:A.message)||b("auth.resetPassword.resetError"))}finally{i(!1)}};return u?r.jsx("div",{className:`min-h-screen flex items-center justify-center ${y?"bg-gray-900":"bg-gray-50"}`,children:r.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"})}):o?r.jsx("div",{className:`min-h-screen flex items-center justify-center ${y?"bg-gray-900":"bg-gray-50"}`,children:r.jsx("div",{className:"max-w-md w-full p-8",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 rounded-3xl flex items-center justify-center mb-6 shadow-lg",children:r.jsx(ie,{className:"h-12 w-12 text-white"})}),r.jsx("h2",{className:`text-3xl font-serif font-bold mb-4 ${y?"text-white":"text-gray-900"}`,children:b("auth.resetPassword.successTitle")}),r.jsx("p",{className:`mb-8 ${y?"text-gray-400":"text-gray-600"}`,children:b("auth.resetPassword.successMessage")}),r.jsxs(Z,{to:"/login",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{children:b("auth.resetPassword.goToLogin")}),r.jsx(Ie,{className:"h-4 w-4"})]})]})})}):r.jsxs("div",{className:`min-h-screen flex ${y?"bg-gray-900":"bg-gray-50"}`,children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-gradient-to-br from-pink-500 via-purple-500 to-blue-500",children:[r.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/20 rounded-3xl blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-purple-400/20 rounded-3xl blur-3xl animate-pulse delay-1000"}),r.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center w-full p-12 text-white",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-8",children:r.jsx(Lr,{className:"h-24 w-24"})}),r.jsx("h1",{className:"text-5xl font-serif font-bold mb-6",children:"BeautyCita"}),r.jsx("p",{className:"text-xl text-white/90 mb-4",children:b("auth.resetPassword.title")}),r.jsx("p",{className:"text-white/80 max-w-md",children:b("auth.resetPassword.subtitle")})]})})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs(Z,{to:"/",className:"inline-flex items-center space-x-2",children:[r.jsx(Ee,{className:"h-10 w-10 text-pink-500"}),r.jsx("span",{className:"text-2xl font-serif font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"BeautyCita"})]})}),r.jsxs(xe,{isDarkMode:y,gradient:"from-pink-500 to-purple-600",hoverable:!1,children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:`text-3xl font-serif font-bold mb-2 ${y?"text-white":"text-gray-900"}`,children:b("auth.resetPassword.title")}),r.jsx("p",{className:y?"text-gray-400":"text-gray-600",children:b("auth.resetPassword.subtitle")})]}),r.jsxs("form",{onSubmit:N(C),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:`block text-sm font-medium mb-2 ${y?"text-gray-300":"text-gray-700"}`,children:b("auth.resetPassword.newPasswordLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...w("password",{required:b("auth.validation.passwordRequired"),minLength:{value:8,message:b("auth.validation.passwordMinLength")},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:b("auth.validation.passwordComplexity")}}),type:s?"text":"password",id:"password",className:`w-full px-4 py-3 rounded-3xl border pr-10 ${_.password?"border-red-500 focus:ring-red-500":y?"border-gray-600 bg-gray-700/50 text-white focus:ring-pink-500 focus:border-pink-500":"border-gray-300 bg-white text-gray-900 focus:ring-pink-500 focus:border-pink-500"} focus:ring-2 focus:outline-none transition-colors`,placeholder:b("auth.placeholders.password"),autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>e(!s),className:`absolute inset-y-0 right-0 pr-3 flex items-center ${y?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:s?r.jsx(Ns,{className:"h-5 w-5"}):r.jsx(At,{className:"h-5 w-5"})})]}),_.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:_.password.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium mb-2 ${y?"text-gray-300":"text-gray-700"}`,children:b("auth.resetPassword.confirmPasswordLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...w("confirmPassword",{required:b("auth.validation.confirmPasswordRequired"),validate:I=>I===S||b("auth.validation.passwordMismatch")}),type:t?"text":"password",id:"confirmPassword",className:`w-full px-4 py-3 rounded-3xl border pr-10 ${_.confirmPassword?"border-red-500 focus:ring-red-500":y?"border-gray-600 bg-gray-700/50 text-white focus:ring-pink-500 focus:border-pink-500":"border-gray-300 bg-white text-gray-900 focus:ring-pink-500 focus:border-pink-500"} focus:ring-2 focus:outline-none transition-colors`,placeholder:b("auth.placeholders.password"),autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>a(!t),className:`absolute inset-y-0 right-0 pr-3 flex items-center ${y?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:t?r.jsx(Ns,{className:"h-5 w-5"}):r.jsx(At,{className:"h-5 w-5"})})]}),_.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:_.confirmPassword.message})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:b("auth.resetPassword.resetPasswordButton")}),r.jsx(Ie,{className:"h-4 w-4"})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(Z,{to:"/login",className:"text-sm font-medium bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:b("auth.links.backToLogin")})})]})]})})]})}const rC=()=>{const{t:s}=je(),[e]=ql(),t=wt(),{checkAuth:a}=we(),[n,i]=m.useState("+52"),[o,l]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[p,f]=m.useState(""),[y,x]=m.useState(""),g=e.get("email"),v=e.get("role"),b=e.get("token");m.useEffect(()=>{if(g||t("/login"),b){const j="auth-storage",_=localStorage.getItem(j);if(_){const S=JSON.parse(_);S.state.token=b,localStorage.setItem(j,JSON.stringify(S))}else localStorage.setItem(j,JSON.stringify({state:{token:b,isAuthenticated:!1,isLoading:!1,user:null,client:null,stylist:null},version:0}))}},[g,b,t]);const k=async j=>{var _,S;j.preventDefault(),f(""),x(""),h(!0);try{await G.post("/api/auth/send-phone-verification",{phone:n,email:g}),d(!0),x(s("auth.verifyPhone.codeSent"))}catch(C){f(((S=(_=C.response)==null?void 0:_.data)==null?void 0:S.message)||s("auth.verifyPhone.errorSending"))}finally{h(!1)}},w=async j=>{var _,S;j.preventDefault(),f(""),h(!0);try{await G.post("/api/auth/verify-phone",{phone:n,code:o,email:g}),x(s("auth.verifyPhone.phoneVerified")),await a(),setTimeout(()=>{t(v==="stylist"?"/dashboard":"/profile/onboarding")},1500)}catch(C){f(((S=(_=C.response)==null?void 0:_.data)==null?void 0:S.message)||s("auth.verifyPhone.invalidCode"))}finally{h(!1)}},N=()=>{t(v==="stylist"?"/dashboard":"/profile/onboarding")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 mb-4",children:r.jsx(na,{className:"w-8 h-8 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:s("auth.verifyPhone.title")}),r.jsx("p",{className:"mt-2 text-gray-600",children:s("auth.verifyPhone.subtitle")})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[p&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-3xl",children:r.jsx("p",{className:"text-red-800 text-sm",children:p})}),y&&r.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-3xl",children:r.jsx("p",{className:"text-green-800 text-sm",children:y})}),c?r.jsxs("form",{onSubmit:w,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-2",children:s("auth.verifyPhone.codeLabel")}),r.jsx("input",{type:"text",id:"code",value:o,onChange:j=>l(j.target.value),placeholder:s("auth.verifyPhone.codePlaceholder"),maxLength:6,inputMode:"numeric",autoComplete:"one-time-code",pattern:"[0-9]*",className:"w-full px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center text-2xl tracking-widest",required:!0}),r.jsxs("p",{className:"mt-2 text-xs text-gray-500 text-center",children:[s("auth.verifyPhone.codeHint")," ",n]})]}),r.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-3xl font-semibold hover:from-pink-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed mb-3",children:s(u?"auth.verifyPhone.verifyingButton":"auth.verifyPhone.verifyButton")}),r.jsx("button",{type:"button",onClick:()=>d(!1),className:"w-full text-purple-600 py-2 text-sm hover:text-purple-700",children:s("auth.verifyPhone.changeNumber")})]}):r.jsxs("form",{onSubmit:k,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:s("auth.verifyPhone.phoneLabel")}),r.jsx("input",{type:"tel",id:"phone",value:n,onChange:j=>{const _=j.target.value;_.startsWith("+52")?i(_):i("+52"+_.replace(/^\+?\d{0,2}/,""))},onKeyDown:j=>{(j.key==="Backspace"||j.key==="Delete")&&n.length<=3&&j.preventDefault()},placeholder:s("auth.verifyPhone.phonePlaceholder"),inputMode:"tel",autoComplete:"tel",className:"w-full px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),r.jsx("p",{className:"mt-2 text-xs text-gray-500",children:s("auth.verifyPhone.phoneHint")})]}),r.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-3xl font-semibold hover:from-pink-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s(u?"auth.verifyPhone.sendingButton":"auth.verifyPhone.sendCodeButton")})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsx("button",{onClick:N,className:"w-full text-gray-600 text-sm hover:text-gray-800",children:s("auth.verifyPhone.skipButton")})})]})]})})};function sC(){const{token:s}=ln(),e=wt(),[t,a]=m.useState({status:"verifying",message:"Verificando tu email..."});return m.useEffect(()=>{(async()=>{var i,o;if(!s){a({status:"error",message:"Token de verificación no válido"});return}try{const l=await G.get(`/api/auth/verify-email/${s}`);l.data.success?(a({status:"success",message:l.data.message||"¡Email verificado exitosamente!"}),setTimeout(()=>{e("/dashboard")},3e3)):a({status:"error",message:l.data.message||"Error al verificar el email"})}catch(l){console.error("Email verification error:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||"Ocurrió un error al verificar tu email. Por favor intenta de nuevo.";a({status:"error",message:c})}})()},[s,e]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full",children:[r.jsxs("div",{className:"bg-white rounded-full shadow-xl p-8 text-center",children:[t.status==="verifying"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(hl,{className:"h-16 w-16 text-primary-600 animate-spin"})}),r.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900",children:"Verificando Email"}),r.jsx("p",{className:"text-gray-600",children:t.message})]}),t.status==="success"&&r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx(ie,{className:"h-20 w-20 text-green-500"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 animate-ping opacity-75"})})]})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-3",children:"✨ ¡Email Verificado!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:t.message}),r.jsx("p",{className:"text-sm text-gray-500",children:"Redirigiendo al dashboard en 3 segundos..."})]}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full btn btn-primary rounded-full",children:"Ir al Dashboard Ahora"})]}),t.status==="error"&&r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(rt,{className:"h-20 w-20 text-red-500"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-3",children:"Error de Verificación"}),r.jsx("p",{className:"text-gray-600 mb-6",children:t.message})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full btn btn-primary rounded-full",children:"Ir al Dashboard"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full btn btn-secondary rounded-full",children:"Intentar de Nuevo"})]})]})]}),r.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["¿Necesitas ayuda?"," ",r.jsx("a",{href:"/support",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Contacta soporte"})]})]})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),yp=s=>{const e=nC(s);return e.charAt(0).toUpperCase()+e.slice(1)},Sy=(...s)=>s.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim(),iC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=m.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...oC,width:e,height:e,stroke:s,strokeWidth:a?Number(t)*24/Number(e):t,className:Sy("lucide",n),...!i&&!iC(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=(s,e)=>{const t=m.forwardRef(({className:a,...n},i)=>m.createElement(lC,{ref:i,iconNode:e,className:Sy(`lucide-${aC(yp(s))}`,`lucide-${s}`,a),...n}));return t.displayName=yp(s),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dC=Sh("circle-alert",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hC=Sh("circle-check-big",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pC=Sh("circle-x",mC),fC=()=>{const s=wt(),[e]=ql();m.useEffect(()=>{(async()=>{const o=e.get("auth"),l=e.get("error"),c=e.get("role"),d=e.get("token"),u=e.get("details");if(o==="success"&&d){try{ur.setAuthToken(d);const h=await ur.getProfile();if(h.success&&h.data){const{user:p,client:f,stylist:y}=h.data;we.setState({user:{...p,isActive:p.isActive??!0,emailVerified:p.emailVerified??!1,role:p.role||"CLIENT"},client:f,stylist:y,token:d,isAuthenticated:!0,isLoading:!1}),R.success("¡Bienvenido!"),setTimeout(()=>{c==="ADMIN"||c==="admin"||c==="SUPERADMIN"?s("/admin/dashboard"):p.profile_complete?s("/dashboard"):s("/profile/onboarding")},1500)}else throw new Error("Failed to fetch user profile")}catch(h){console.error("Error handling OAuth callback:",h),R.error("Error al iniciar sesión con Google"),s("/login")}return}if(l==="auth_failed"){let h="Authentication failed. Please try again.";switch(u){case"callback_error":h="There was an error with Google authentication. Please try again.";break;case"no_user":h="Could not retrieve user information. Please try again.";break;case"session_failed":h="Failed to create session. Please try again.";break;case"login_error":h="Login failed. Please try again.";break}setTimeout(()=>{s("/",{state:{authError:h,showAuth:!0}})},3e3);return}if(l==="session_failed"){setTimeout(()=>{s("/",{state:{authError:"Your session has expired. Please log in again.",showAuth:!0}})},3e3);return}s("/")})()},[e,s]);const t=e.get("auth"),a=e.get("error"),n=e.get("role");if(t==="success")return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex items-center justify-center p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(hC,{className:"w-20 h-20 text-green-500 mx-auto mb-4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back!"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Login successful. Redirecting to your ",n," dashboard..."]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"})})]})});if(a){const i=e.get("details");let o="Authentication failed";switch(i){case"callback_error":o="Google authentication error";break;case"no_user":o="User information not found";break;case"session_failed":o="Session creation failed";break;case"login_error":o="Login failed";break}return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex items-center justify-center p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:r.jsx(pC,{className:"w-20 h-20 text-red-500 mx-auto mb-4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Failed"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:[o,". Redirecting you back..."]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})})]})})}return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex items-center justify-center p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[r.jsx(dC,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing..."}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we complete your authentication."}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})})]})})};function gC(){var P;const{t:s}=je(),e=wt(),[t,a]=m.useState(!1);m.useEffect(()=>{const A=localStorage.getItem("darkMode")==="true";a(A);const L=()=>{const O=localStorage.getItem("darkMode")==="true";a(O)};return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[]);const n=[{id:"hair",name:s("services.categories.hair"),icon:Qa,gradient:"from-pink-400/20 to-purple-500/20"},{id:"nails",name:s("services.categories.nails"),icon:Ka,gradient:"from-pink-500/20 to-purple-400/20"},{id:"skincare",name:s("services.categories.skincare"),icon:qN,gradient:"from-pink-600/20 to-purple-600/20"},{id:"makeup",name:s("services.categories.makeup"),icon:Zl,gradient:"from-pink-400/20 to-purple-400/20"},{id:"lashes-brows",name:s("services.categories.lashesBrows"),icon:At,gradient:"from-pink-500/20 to-purple-500/20"},{id:"massages",name:s("services.categories.massages"),icon:Ka,gradient:"from-pink-600/20 to-purple-500/20"},{id:"waxing",name:s("services.categories.waxing"),icon:Ee,gradient:"from-pink-400/20 to-purple-600/20"},{id:"special-occasions",name:s("services.categories.specialOccasions"),icon:lk,gradient:"from-pink-600/20 to-purple-700/20"}],[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,p]=m.useState("all"),[f,y]=m.useState(""),[x,g]=m.useState([]),[v,b]=m.useState(null),[k,w]=m.useState(!1),[N,j]=m.useState(!1);m.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(A=>{b({lat:A.coords.latitude,lng:A.coords.longitude}),j(!0)},A=>{console.error("Error getting location:",A),b(null),j(!0)}):j(!0)},[]),m.useEffect(()=>{const A=async()=>{u(!0);try{if(v&&!k){const O=new URLSearchParams;O.append("lat",v.lat.toString()),O.append("lng",v.lng.toString()),O.append("radius","20");const M=await G.get(`/api/services?${O.toString()}`);o(M.data),w(!0)}else{const O=await G.get("/api/services");o(O.data),w(!1)}const L=await G.get("/api/services");c(L.data)}catch(L){console.error("Error fetching services:",L),R.error("Failed to load services")}finally{u(!1)}};if(!N){const L=setTimeout(()=>{j(!0)},3e3);return()=>clearTimeout(L)}A()},[v,N]);const _=async()=>{u(!0);try{const A=await G.get("/api/services");o(A.data),w(!1)}catch(A){console.error("Error fetching all services:",A),R.error("Failed to load services")}finally{u(!1)}},S=i.filter(A=>{var $;const L=A.category.toLowerCase();let O=h==="all"||!h;O||(O=({hair:["corte","coloración","peinados","hair","haircut","coloring","hairstyle","tratamientos"],nails:["uñas","nails","manicure","pedicure"],skincare:["facial","skincare","facials"],makeup:["maquillaje","makeup"],"lashes-brows":["pestañas","cejas","lashes","brows","eyebrows"],massages:["masaje","massage","massages"],"special-occasions":["bridal","eventos","events","special-occasions","wedding"],waxing:["waxing","depilación","hair-removal"]}[h]||[h]).some(W=>L.includes(W)));const M=A.name.toLowerCase().includes(f.toLowerCase())||A.description&&A.description.toLowerCase().includes(f.toLowerCase())||(($=A.tags)==null?void 0:$.some(D=>D.toLowerCase().includes(f.toLowerCase())));return O&&M}),C=(A,L)=>{L.stopPropagation(),g(O=>O.includes(A)?O.filter(M=>M!==A):[...O,A])},I=A=>{e("/stylists",{state:{selectedService:A}})};return r.jsxs("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("services.catalogTitle"),subtitle:s("services.catalogSubtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/lavar-optimized.mp4",isDarkMode:t,height:"h-96",children:r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400"}),r.jsx("input",{type:"text",placeholder:s("services.searchPlaceholder"),value:f,onChange:A=>y(A.target.value),className:`w-full pl-14 pr-6 py-4 rounded-full focus:outline-none focus:ring-4 shadow-xl text-lg ${t?"bg-gray-800 text-white placeholder-gray-400 focus:ring-purple-500/50":"bg-white text-gray-900 placeholder-gray-400 focus:ring-white/30"}`})]})})}),r.jsx("section",{className:`border-b py-8 ${t?"bg-gray-800/50 border-gray-700":"bg-white border-gray-100"}`,children:r.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-6 text-center ${t?"text-white":"text-gray-900"}`,children:s("services.browseByCategory")}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-4 max-w-6xl mx-auto",children:n.map((A,L)=>{const O=A.icon;return r.jsx(E.button,{onClick:()=>p(h===A.id?"all":A.id),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.05},className:`relative overflow-hidden rounded-full p-6 transition-all duration-300 ${h===A.id?t?"bg-gradient-to-br from-pink-500/20 to-purple-600/20 border-2 border-pink-500":"bg-gradient-to-br from-pink-50 to-purple-50 border-2 border-pink-500":t?"bg-gray-800/50 border border-gray-700 hover:border-gray-600":"bg-white border border-gray-200 hover:border-gray-300"} shadow-sm hover:shadow-md`,children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[r.jsx("div",{className:`p-3 rounded-full ${h===A.id?"bg-gradient-to-br from-pink-500 to-purple-600":t?"bg-gray-700/50":"bg-gray-100"} transition-colors duration-300`,children:r.jsx(O,{className:`h-6 w-6 ${h===A.id?"text-white":t?"text-gray-300":"text-gray-700"}`})}),r.jsx("div",{className:`text-sm md:text-base font-semibold text-center leading-tight ${t?"text-white":"text-gray-900"}`,children:A.name}),h===A.id&&r.jsx(E.div,{layoutId:"selected-category",className:"absolute top-2 right-2 bg-pink-500 rounded-3xl p-1",children:r.jsx(Ri,{className:"h-3 w-3 text-white"})})]})},A.id)})})]})}),r.jsx("section",{className:"container mx-auto px-4 max-w-7xl py-12",children:d?r.jsxs("div",{className:"text-center py-20",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-16 w-16 border-4 border-t-pink-500 border-r-purple-500 border-b-blue-500 border-l-transparent mx-auto mb-4"}),r.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:s("services.loading")})]}):r.jsx(_e,{mode:"wait",children:S.length>0?r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[r.jsx("div",{className:"mb-8 text-center",children:r.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:s("services.showingResults",{count:S.length,category:h!=="all"?` in ${(P=n.find(A=>A.id===h))==null?void 0:P.name}`:""})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map((A,L)=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.05},children:r.jsx(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:t,hoverable:!0,className:"cursor-pointer h-full",children:r.jsxs("div",{onClick:()=>I(A.id),children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:A.name}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${t?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-700"}`,children:A.category})]}),r.jsx("button",{onClick:O=>C(A.id,O),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:x.includes(A.id)?r.jsx(Ps,{className:"h-5 w-5 text-pink-500"}):r.jsx(We,{className:`h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`})})]}),r.jsx("p",{className:`mb-3 text-base leading-relaxed ${t?"text-gray-300":"text-gray-600"}`,children:A.description||"Professional beauty service"}),r.jsxs("div",{className:"space-y-2.5",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Le,{className:`h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Price"}),r.jsxs("p",{className:`text-base font-bold ${t?"text-white":"text-gray-900"}`,children:["$",A.price]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ve,{className:`h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Duration"}),r.jsxs("p",{className:`text-base font-bold ${t?"text-white":"text-gray-900"}`,children:[A.duration_minutes," min"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ot,{className:`h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Location"}),r.jsxs("p",{className:`text-base font-bold ${t?"text-white":"text-gray-900"}`,children:[A.location_city,", ",A.location_state]})]})]}),A.stylist_count>0&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(et,{className:`h-5 w-5 ${t?"text-gray-400":"text-gray-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Available"}),r.jsxs("p",{className:`text-base font-bold ${t?"text-white":"text-gray-900"}`,children:[A.stylist_count," ",A.stylist_count===1?"stylist":"stylists"]})]})]})]}),r.jsxs("button",{className:"mt-5 w-full px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold rounded-3xl hover:from-pink-600 hover:to-purple-700 transition-all shadow-sm hover:shadow-md flex items-center justify-center space-x-2",children:[r.jsx(Oe,{className:"h-5 w-5"}),r.jsx("span",{children:s("services.book")})]})]})})},A.id))})]},h+f):r.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-center py-20",children:k&&v?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center ${t?"bg-gray-800":"bg-gray-100"}`,children:r.jsx(ot,{className:`h-10 w-10 ${t?"text-gray-400":"text-gray-500"}`})}),r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"No stylists in your area"}),r.jsx("p",{className:`mb-6 max-w-md mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"No stylists found within 20 miles of your location"}),r.jsxs("button",{onClick:_,className:"px-8 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-semibold shadow-sm hover:shadow-md transition-all duration-300 hover:from-pink-600 hover:to-purple-700",children:["Show all (",l.length,") services"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center ${t?"bg-gray-800":"bg-gray-100"}`,children:r.jsx(Ot,{className:`h-10 w-10 ${t?"text-gray-400":"text-gray-500"}`})}),r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"No services found"}),r.jsx("p",{className:`mb-6 max-w-md mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"Try adjusting your search or filters"}),r.jsx("button",{onClick:()=>{p("all"),y("")},className:"px-8 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-semibold shadow-sm hover:shadow-md transition-all duration-300 hover:from-pink-600 hover:to-purple-700",children:"Clear filters"})]})})})})]})}function bp({user:s,from:e,fallback:t="/"}){var a;if(!s)return t;if(e&&e!=="/"&&e!=="/login"&&e!=="/register"&&xC(e,s.role))return e;switch((a=s.role)==null?void 0:a.toUpperCase()){case"STYLIST":case"CLIENT":return"/dashboard";case"ADMIN":case"SUPERADMIN":return"/admin/dashboard";default:return t}}function xC(s,e){const t=e==null?void 0:e.toUpperCase();return s.startsWith("/admin")?t==="ADMIN"||t==="SUPERADMIN":s.startsWith("/dashboard")?t==="STYLIST"||t==="CLIENT"||t==="ADMIN"||t==="SUPERADMIN":s.includes("/stylist/")&&s.includes("/manage")?t==="STYLIST"||t==="ADMIN"||t==="SUPERADMIN":(["/profile","/bookings","/book/"].some(i=>s.startsWith(i)),!0)}function yC({role:s="client",text:e}){const{t}=je(),a=()=>{window.location.href=`/api/auth/google?role=${s}`};return r.jsxs("button",{type:"button",onClick:a,className:"btn btn-outline w-full flex items-center justify-center space-x-3 hover:bg-gray-50 transition-colors rounded-full",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r.jsx("span",{children:e||t("auth.continueWithGoogle")})]})}function Nr(s){const e=new Uint8Array(s);let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function vl(s){const e=s.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4,a=e.padEnd(e.length+t,"="),n=atob(a),i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return i}function Di(){return bC.stubThis((globalThis==null?void 0:globalThis.PublicKeyCredential)!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const bC={stubThis:s=>s};function Cy(s){const{id:e}=s;return{...s,id:vl(e),transports:s.transports}}function Ey(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}class _t extends Error{constructor({message:e,code:t,cause:a,name:n}){super(e,{cause:a}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=n??a.name,this.code=t}}function vC({error:s,options:e}){var a,n,i;const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=t.authenticatorSelection)==null?void 0:a.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((n=t.authenticatorSelection)==null?void 0:n.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((i=t.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new _t({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return t.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const o=globalThis.location.hostname;if(Ey(o)){if(t.rp.id!==o)return new _t({message:`The RP ID "${t.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new _t({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(t.user.id.byteLength<1||t.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return s}class wC{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ty=new wC,jC=["cross-platform","platform"];function Py(s){if(s&&!(jC.indexOf(s)<0))return s}async function Jl(s){var y;!s.optionsJSON&&s.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),s={optionsJSON:s});const{optionsJSON:e,useAutoRegister:t=!1}=s;if(!Di())throw new Error("WebAuthn is not supported in this browser");const a={...e,challenge:vl(e.challenge),user:{...e.user,id:vl(e.user.id)},excludeCredentials:(y=e.excludeCredentials)==null?void 0:y.map(Cy)},n={};t&&(n.mediation="conditional"),n.publicKey=a,n.signal=Ty.createNewAbortSignal();let i;try{i=await navigator.credentials.create(n)}catch(x){throw vC({error:x,options:n})}if(!i)throw new Error("Registration was not completed");const{id:o,rawId:l,response:c,type:d}=i;let u;typeof c.getTransports=="function"&&(u=c.getTransports());let h;if(typeof c.getPublicKeyAlgorithm=="function")try{h=c.getPublicKeyAlgorithm()}catch(x){Kc("getPublicKeyAlgorithm()",x)}let p;if(typeof c.getPublicKey=="function")try{const x=c.getPublicKey();x!==null&&(p=Nr(x))}catch(x){Kc("getPublicKey()",x)}let f;if(typeof c.getAuthenticatorData=="function")try{f=Nr(c.getAuthenticatorData())}catch(x){Kc("getAuthenticatorData()",x)}return{id:o,rawId:Nr(l),response:{attestationObject:Nr(c.attestationObject),clientDataJSON:Nr(c.clientDataJSON),transports:u,publicKeyAlgorithm:h,publicKey:p,authenticatorData:f},type:d,clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:Py(i.authenticatorAttachment)}}function Kc(s,e){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${s}. You should report this error to them.
`,e)}function NC(){if(!Di())return Qc.stubThis(new Promise(e=>e(!1)));const s=globalThis.PublicKeyCredential;return(s==null?void 0:s.isConditionalMediationAvailable)===void 0?Qc.stubThis(new Promise(e=>e(!1))):Qc.stubThis(s.isConditionalMediationAvailable())}const Qc={stubThis:s=>s};function kC({error:s,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new _t({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=globalThis.location.hostname;if(Ey(a)){if(t.rpId!==a)return new _t({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new _t({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return s}async function _C(s){var f,y;!s.optionsJSON&&s.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),s={optionsJSON:s});const{optionsJSON:e,useBrowserAutofill:t=!1,verifyBrowserAutofillInput:a=!0}=s;if(!Di())throw new Error("WebAuthn is not supported in this browser");let n;((f=e.allowCredentials)==null?void 0:f.length)!==0&&(n=(y=e.allowCredentials)==null?void 0:y.map(Cy));const i={...e,challenge:vl(e.challenge),allowCredentials:n},o={};if(t){if(!await NC())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&a)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');o.mediation="conditional",i.allowCredentials=[]}o.publicKey=i,o.signal=Ty.createNewAbortSignal();let l;try{l=await navigator.credentials.get(o)}catch(x){throw kC({error:x,options:o})}if(!l)throw new Error("Authentication was not completed");const{id:c,rawId:d,response:u,type:h}=l;let p;return u.userHandle&&(p=Nr(u.userHandle)),{id:c,rawId:Nr(d),response:{authenticatorData:Nr(u.authenticatorData),clientDataJSON:Nr(u.clientDataJSON),signature:Nr(u.signature),userHandle:p},type:h,clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:Py(l.authenticatorAttachment)}}const Ji="https://beautycita.com",vp=[{code:"US",dial:"+1",flag:"🇺🇸"},{code:"MX",dial:"+52",flag:"🇲🇽"},{code:"CA",dial:"+1",flag:"🇨🇦"},{code:"GB",dial:"+44",flag:"🇬🇧"},{code:"ES",dial:"+34",flag:"🇪🇸"}];function SC({isOpen:s,onClose:e,role:t}){const[a,n]=m.useState("phone"),[i,o]=m.useState("+1"),[l,c]=m.useState(""),[d,u]=m.useState(""),[h,p]=m.useState(!1),[f,y]=m.useState(!1),[x,g]=m.useState(0),v=wt();m.useEffect(()=>{s&&b()},[s]),m.useEffect(()=>{if(x>0){const j=setTimeout(()=>g(x-1),1e3);return()=>clearTimeout(j)}},[x]),m.useEffect(()=>{f&&"OTPCredential"in window&&k()},[f]);const b=async()=>{try{const _=(await G.get("https://ipapi.co/json/")).data.country_code,S=vp.find(C=>C.code===_);S&&o(S.dial)}catch{console.log("Could not detect country, defaulting to US")}},k=async()=>{if("OTPCredential"in window)try{const j=new AbortController,_=await navigator.credentials.get({otp:{transport:["sms"]},signal:j.signal});_&&"code"in _&&(u(_.code),R.success("Code auto-filled from SMS!"))}catch{console.log("OTP auto-fill not available or user denied")}},w=async()=>{var j,_;if(!l||l.length<10){R.error("Please enter a valid phone number");return}try{p(!0);const S=`${i}${l}`,C=await G.post(`${Ji}/verify/send-code`,{phoneNumber:S});C.data.success?(R.success("Verification code sent!"),y(!0),n("verify"),g(60)):R.error(C.data.message||"Failed to send code")}catch(S){console.error("Send code error:",S),R.error(((_=(j=S.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to send verification code")}finally{p(!1)}},N=async()=>{var j,_;if(!d||d.length!==6){R.error("Please enter the 6-digit verification code");return}try{p(!0);const S=`${i}${l}`,C=await G.post(`${Ji}/verify/check-code`,{phoneNumber:S,code:d});if(!C.data.success||!C.data.verified){R.error("Invalid verification code");return}n("biometric"),R.success("Phone verified! Setting up biometric authentication...");const I=await G.post(`${Ji}/webauthn/register/options`,{phone:S,role:t});if(!I.data.success)throw new Error("Failed to get registration options");const P=await Jl(I.data.options),A=await G.post(`${Ji}/webauthn/register/verify-minimal`,{phone:S,credential:P,role:t,verificationCode:d});if(A.data.success){const{token:L,user:O}=A.data;localStorage.setItem("authToken",L),localStorage.setItem("beautycita-auth-token",L),R.success("Registration successful! Complete your profile..."),v("/profile/complete",{state:{newUser:!0,userId:O.id}})}}catch(S){console.error("Biometric registration error:",S),S.name==="NotAllowedError"?R.error("Biometric authentication was cancelled"):R.error(((_=(j=S.response)==null?void 0:j.data)==null?void 0:_.message)||"Registration failed"),n("verify")}finally{p(!1)}};return s?r.jsx(_e,{children:r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:r.jsxs(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:j=>j.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white relative",children:[r.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-3xl transition-colors",children:r.jsx(De,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-white/20 rounded-3xl",children:r.jsx(Zs,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Biometric Registration"}),r.jsx("p",{className:"text-white/90 text-sm",children:"Quick & secure signup"})]})]})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[a==="phone"&&r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("select",{value:i,onChange:j=>o(j.target.value),className:"px-3 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none bg-white",children:vp.map(j=>r.jsxs("option",{value:j.dial,children:[j.flag," ",j.dial]},j.code))}),r.jsx("input",{type:"tel",value:l,onChange:j=>c(j.target.value.replace(/\D/g,"")),placeholder:"5551234567",maxLength:15,className:"flex-1 px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",autoFocus:!0})]}),r.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"📱 We'll send you a verification code via SMS"})]}),r.jsx("button",{onClick:w,disabled:h||l.length<10,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(mi,{className:"w-5 h-5"}),r.jsx("span",{children:"Send Verification Code"})]})})]}),a==="verify"&&r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx(ie,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Code sent to ",i," ",l]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),r.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value.replace(/\D/g,"")),placeholder:"000000",maxLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none text-center text-2xl font-mono tracking-widest",autoFocus:!0,autoComplete:"one-time-code"}),r.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"OTPCredential"in window&&"🔐 SMS auto-fill enabled or enter manually"})]}),r.jsx("button",{onClick:N,disabled:h||d.length!==6,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Verifying..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zs,{className:"w-5 h-5"}),r.jsx("span",{children:"Continue to Biometric"})]})}),r.jsx("button",{onClick:w,disabled:x>0||h,className:"w-full text-sm text-purple-600 hover:text-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x>0?`Resend in ${x}s`:"↻ Resend Code"})]}),a==="biometric"&&r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center py-8",children:[r.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"inline-block mb-4",children:r.jsx(Zs,{className:"w-20 h-20 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Complete Biometric Setup"}),r.jsx("p",{className:"text-gray-600",children:"Follow your device's prompts to register your fingerprint or face"})]})]})]})})}):null}const Ca="https://beautycita.com";function dr({mode:s="login",role:e="CLIENT"}){var U,ae;const[t,a]=m.useState(s),[n,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[p,f]=m.useState(!1),[y,x]=m.useState(""),[g,v]=m.useState(0),[b,k]=m.useState(!1),{login:w,register:N,isLoading:j}=we(),_=wt(),S=Cs(),{t:C}=je(),I=((ae=(U=S.state)==null?void 0:U.from)==null?void 0:ae.pathname)||"/",P=Di(),A=m.useRef(null),L=m.useRef(null);m.useEffect(()=>{const Q=localStorage.getItem("darkMode")==="true";d(Q);const re=()=>{const ue=localStorage.getItem("darkMode")==="true";d(ue)};return window.addEventListener("storage",re),()=>window.removeEventListener("storage",re)},[]),m.useEffect(()=>{if(g>0){const Q=setTimeout(()=>v(g-1),1e3);return()=>clearTimeout(Q)}},[g]),m.useEffect(()=>{n==="password"&&A.current&&setTimeout(()=>{var Q,re;(Q=A.current)==null||Q.focus(),(re=A.current)==null||re.scrollIntoView({behavior:"smooth",block:"center"})},300)},[n]),m.useEffect(()=>{n==="biometric"&&L.current&&setTimeout(()=>{var Q,re;(Q=L.current)==null||Q.focus(),(re=L.current)==null||re.scrollIntoView({behavior:"smooth",block:"center"})},300)},[n]);const{register:O,handleSubmit:M,formState:{errors:$},watch:D,setValue:q}=cn(),W=D("phone"),B=async()=>{var Q,re;if(!W){R.error("Please enter your phone number");return}try{h(!0);const ue=W.replace(/\D/g,""),Me=await G.post(`${Ca}/api/verify/send-code`,{phoneNumber:ue});Me.data.success?(R.success("Verification code sent!"),f(!0),x(ue),q("phone",ue),v(60)):R.error(Me.data.message||"Failed to send code")}catch(ue){console.error("Send code error:",ue),R.error(((re=(Q=ue.response)==null?void 0:Q.data)==null?void 0:re.message)||"Failed to send verification code")}finally{h(!1)}},V=async Q=>{var re,ue;if(!P){R.error("Biometric authentication is not supported on this device");return}if(!p||!Q.code){R.error("Please verify your phone number first");return}try{if(!(await G.post(`${Ca}/api/verify/check-code`,{phoneNumber:Q.phone,code:Q.code})).data.success){R.error("Invalid verification code");return}const it=await G.post(`${Ca}/api/webauthn/register/options`,{phone:Q.phone,name:`${Q.firstName} ${Q.lastName}`,email:Q.email,role:e});if(!it.data.success)throw new Error("Failed to get registration options");const ut=await Jl(it.data.options),bt=await G.post(`${Ca}/api/webauthn/register/verify`,{phone:Q.phone,credential:ut,firstName:Q.firstName,lastName:Q.lastName,email:Q.email,role:e,verificationCode:Q.code});if(bt.data.success){const{token:te,user:ge}=bt.data;localStorage.setItem("authToken",te),we.getState().setUser(ge),we.getState().setToken(te),R.success("Registration successful!"),_(e==="STYLIST"?"/dashboard/stylist":"/dashboard/client",{replace:!0})}}catch(Me){console.error("Biometric registration error:",Me),R.error(((ue=(re=Me.response)==null?void 0:re.data)==null?void 0:ue.message)||"Registration failed")}},ee=async()=>{var Q,re;if(!P){R.error("Biometric authentication is not supported on this device");return}try{const ue=await G.post(`${Ca}/api/webauthn/login/options`,{role:e});if(!ue.data.success)throw new Error("Failed to get login options");const Me=await _C(ue.data.options),it=await G.post(`${Ca}/api/webauthn/login/verify`,{assertion:Me,role:e});if(it.data.success){const{token:ut,user:bt}=it.data;localStorage.setItem("authToken",ut),we.getState().setUser(bt),we.getState().setToken(ut),R.success("Login successful!");const te=bp({user:bt,from:I,fallback:"/"});_(te,{replace:!0})}}catch(ue){console.error("Biometric login error:",ue),R.error(((re=(Q=ue.response)==null?void 0:Q.data)==null?void 0:re.message)||"Login failed")}},F=async Q=>{const re=await w(Q);if(re.success){const ue=re.redirectUrl||bp({user:re.user,from:I,fallback:"/"});_(ue,{replace:!0})}},z=async Q=>{const re={...Q,role:e};await N(re)&&(await w({email:Q.email,password:Q.password})).success&&_(e==="STYLIST"?"/dashboard/stylist":"/dashboard/client",{replace:!0})},X=async Q=>{t==="register"?n==="biometric"?await V(Q):await z(Q):await F(Q)},Y=e==="CLIENT",K=t==="login"?Y?C("auth.loginTitle"):"Stylist Login":Y?C("auth.registerTitle"):"Join as Beauty Professional";return r.jsxs("div",{className:`min-h-screen flex ${c?"bg-gray-900":"bg-gray-50"}`,children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-gradient-to-br from-pink-500 via-purple-500 to-blue-500",children:[r.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/20 rounded-3xl blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-purple-400/20 rounded-3xl blur-3xl animate-pulse delay-1000"}),r.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center w-full p-12 text-white",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-8",children:r.jsx(Ee,{className:"h-24 w-24"})}),r.jsx("h1",{className:"text-5xl font-serif font-bold mb-6",children:"BeautyCita"}),r.jsx("p",{className:"text-xl text-white/90 mb-4",children:K}),r.jsx("p",{className:"text-white/80 max-w-md",children:t==="register"?"Secure, passwordless registration with biometrics":"Quick and secure login with your fingerprint or face"})]})})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs(Z,{to:"/",className:"inline-flex items-center space-x-2",children:[r.jsx(Ee,{className:"h-10 w-10 text-pink-500"}),r.jsx("span",{className:"text-2xl font-serif font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"BeautyCita"})]})}),r.jsxs(xe,{isDarkMode:c,gradient:"from-pink-500 to-purple-600",hoverable:!1,children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:`text-3xl font-serif font-bold mb-2 ${c?"text-white":"text-gray-900"}`,children:K}),r.jsx("p",{className:c?"text-gray-400":"text-gray-600",children:t==="register"?"Choose your preferred signup method":"Choose your preferred login method"})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[P&&r.jsxs("button",{onClick:t==="login"?ee:()=>k(!0),disabled:j,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-3",children:[r.jsx(Zs,{className:"h-6 w-6"}),r.jsx("span",{children:t==="login"?"Login with Biometric":"Register with Biometric"})]}),r.jsx(yC,{role:e.toLowerCase(),text:C(t==="login"?"auth.social.signInWithGoogle":"auth.social.signUpWithGoogle")}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:`w-full border-t ${c?"border-gray-600":"border-gray-300"}`})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:`px-2 ${c?"bg-gray-800/50 text-gray-400":"bg-white text-gray-500"}`,children:C("auth.social.orDivider")})})]})]}),r.jsx(_e,{children:n==="biometric"&&t==="register"&&r.jsxs(E.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:M(X),className:"space-y-6",children:[e==="STYLIST"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:"Your First Name *"}),r.jsx("input",{...O("firstName",{required:"First name is required"}),type:"text",className:`w-full px-4 py-3 rounded-3xl border ${$.firstName?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`,placeholder:"Sofia"}),$.firstName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.firstName.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"businessName",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:"Business Name (Optional)"}),r.jsx("input",{...O("businessName"),type:"text",className:`w-full px-4 py-3 rounded-3xl border ${c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`,placeholder:"Leave blank to use your first name"}),r.jsx("p",{className:`mt-1 text-xs ${c?"text-gray-400":"text-gray-500"}`,children:"If left blank, we'll use your first name. You can change this later in your dashboard."})]})]}):r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"firstName",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.firstName")," *"]}),r.jsx("input",{...O("firstName",{required:C("auth.validation.firstNameRequired")}),type:"text",className:`w-full px-4 py-3 rounded-3xl border ${$.firstName?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`,placeholder:C("auth.placeholders.firstName")}),$.firstName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.firstName.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"lastName",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.lastName")," *"]}),r.jsx("input",{...O("lastName",{required:C("auth.validation.lastNameRequired")}),type:"text",className:`w-full px-4 py-3 rounded-3xl border ${$.lastName?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`,placeholder:C("auth.placeholders.lastName")}),$.lastName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.lastName.message})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.email")," *"]}),r.jsx("input",{...O("email",{required:C("auth.validation.emailRequired"),pattern:{value:/^\S+@\S+$/i,message:C("auth.validation.emailInvalid")}}),type:"email",onFocus:Q=>{setTimeout(()=>{Q.target.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:`w-full px-4 py-3 rounded-3xl border ${$.email?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`,placeholder:C("auth.placeholders.email")}),$.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.email.message})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.phone")," *"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{ref:L,...O("phone",{required:"Phone number is required",validate:Q=>Q.replace(/\D/g,"").length!==10?"Must be exactly 10 digits":!0}),type:"tel",onFocus:Q=>{setTimeout(()=>{Q.target.scrollIntoView({behavior:"smooth",block:"center"})},100)},disabled:p,maxLength:12,inputMode:"tel",className:`flex-1 px-4 py-3 rounded-3xl border ${$.phone?"border-red-500":p?"border-green-500 bg-green-50":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none disabled:opacity-60`,placeholder:"5551234567"}),r.jsx("button",{type:"button",onClick:B,disabled:u||p||!W,className:`px-6 py-3 rounded-3xl font-semibold whitespace-nowrap transition-all ${p?"bg-green-600 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Sending..."})]}):p?r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"h-5 w-5"}),r.jsx("span",{children:"Sent!"})]}):"Send Code"})]}),$.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.phone.message}),!p&&r.jsx("p",{className:`mt-2 text-xs ${c?"text-gray-400":"text-gray-500"}`,children:"📱 Enter your 10-digit phone number (we auto-detect US/Mexico)"})]}),r.jsxs(E.div,{initial:p?{opacity:0,y:-10}:!1,animate:p?{opacity:1,y:0}:{},className:p?"":"opacity-40 pointer-events-none",children:[r.jsxs("label",{htmlFor:"code",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:["Verification Code * ",!p&&"(Send code first)"]}),r.jsx("input",{...O("code",{required:"Verification code is required"}),type:"text",maxLength:6,disabled:!p,className:`w-full px-4 py-3 rounded-3xl border ${$.code?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none tracking-widest text-center text-2xl font-mono disabled:opacity-40 disabled:cursor-not-allowed`,placeholder:"000000",autoComplete:"off"}),p&&r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("p",{className:`text-xs ${c?"text-green-400":"text-green-600"}`,children:["✓ Code sent to ",y]}),r.jsx("button",{type:"button",onClick:B,disabled:g>0,className:`text-sm ${c?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:g>0?`Resend in ${g}s`:"↻ Resend code"})]}),$.code&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.code.message})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{...O("acceptTerms",{required:"You must accept the terms and conditions"}),type:"checkbox",id:"acceptTerms",className:"mt-1 h-4 w-4 rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),r.jsxs("label",{htmlFor:"acceptTerms",className:`text-sm ${c?"text-gray-300":"text-gray-700"}`,children:["I agree to the ",r.jsx("a",{href:"/terms",target:"_blank",className:"text-pink-600 hover:text-pink-700 underline",children:"Terms of Service"})," and ",r.jsx("a",{href:"/privacy",target:"_blank",className:"text-pink-600 hover:text-pink-700 underline",children:"Privacy Policy"})]})]}),$.acceptTerms&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.acceptTerms.message}),r.jsx("button",{type:"submit",disabled:j||!p,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:j?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Zs,{className:"h-5 w-5"}),r.jsx("span",{children:"Complete Registration"}),r.jsx(Ie,{className:"h-5 w-5"})]})}),r.jsx("button",{type:"button",onClick:()=>i(null),className:`w-full text-sm ${c?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:"← Use different method"})]})}),r.jsx(_e,{children:n!=="biometric"&&r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[r.jsx("button",{onClick:()=>i("password"),className:`w-full text-sm py-2 ${c?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`,children:t==="login"?"Or sign in with email & password":"Or register with email & password"}),n==="password"&&r.jsxs("form",{onSubmit:M(X),className:"space-y-6 mt-6",children:[t==="register"&&r.jsx(r.Fragment,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"firstName",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.firstName")," *"]}),r.jsx("input",{...O("firstName",{required:C("auth.validation.firstNameRequired")}),type:"text",className:`w-full px-4 py-3 rounded-3xl border ${$.firstName?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`}),$.firstName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.firstName.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"lastName",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.lastName")," *"]}),r.jsx("input",{...O("lastName",{required:C("auth.validation.lastNameRequired")}),type:"text",className:`w-full px-4 py-3 rounded-3xl border ${$.lastName?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`}),$.lastName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.lastName.message})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.email")," *"]}),r.jsx("input",{ref:A,...O("email",{required:C("auth.validation.emailRequired"),pattern:{value:/^\S+@\S+$/i,message:C("auth.validation.emailInvalid")}}),type:"email",onFocus:Q=>{setTimeout(()=>{Q.target.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:`w-full px-4 py-3 rounded-3xl border ${$.email?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`}),$.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.email.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:[C("auth.fields.password")," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...O("password",{required:C("auth.validation.passwordRequired"),minLength:{value:8,message:"Password must be at least 8 characters"}}),type:o?"text":"password",className:`w-full px-4 py-3 rounded-3xl border pr-10 ${$.password?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`}),r.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?r.jsx(Ns,{className:"h-5 w-5"}):r.jsx(At,{className:"h-5 w-5"})})]}),$.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.password.message})]}),t==="register"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"passwordConfirm",className:`block text-sm font-medium mb-2 ${c?"text-gray-300":"text-gray-700"}`,children:"Confirm Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{...O("passwordConfirm",{required:"Please confirm your password",validate:Q=>Q===D("password")||"Passwords do not match"}),type:o?"text":"password",className:`w-full px-4 py-3 rounded-3xl border pr-10 ${$.passwordConfirm?"border-red-500":c?"border-gray-600 bg-gray-700/50 text-white":"border-gray-300"} focus:ring-2 focus:ring-pink-500 focus:outline-none`}),r.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?r.jsx(Ns,{className:"h-5 w-5"}):r.jsx(At,{className:"h-5 w-5"})})]}),$.passwordConfirm&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.passwordConfirm.message})]}),t==="register"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{...O("acceptTerms",{required:"You must accept the terms and conditions"}),type:"checkbox",id:"acceptTermsPassword",className:"mt-1 h-4 w-4 rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),r.jsxs("label",{htmlFor:"acceptTermsPassword",className:`text-sm ${c?"text-gray-300":"text-gray-700"}`,children:["I agree to the ",r.jsx("a",{href:"/terms",target:"_blank",className:"text-pink-600 hover:text-pink-700 underline",children:"Terms of Service"})," and ",r.jsx("a",{href:"/privacy",target:"_blank",className:"text-pink-600 hover:text-pink-700 underline",children:"Privacy Policy"})]})]}),$.acceptTerms&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.acceptTerms.message})]}),r.jsx("button",{type:"submit",disabled:j,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:j?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:C(t==="login"?"auth.actions.signIn":"auth.actions.signUp")}),r.jsx(Ie,{className:"h-5 w-5"})]})})]})]})}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:`text-sm ${c?"text-gray-400":"text-gray-600"}`,children:[C(t==="login"?"auth.links.noAccount":"auth.links.hasAccount")," ",r.jsx("button",{onClick:()=>a(t==="login"?"register":"login"),className:"font-medium bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent hover:opacity-80",children:C(t==="login"?"auth.links.signUpHere":"auth.links.signInHere")})]})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-xs text-gray-500",children:[e==="CLIENT"?C("auth.links.beautyProfessional"):"Looking for beauty services?"," ",r.jsx(Z,{to:e==="CLIENT"?"/stylist/auth":"/auth",className:"font-medium bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent hover:opacity-80",children:e==="CLIENT"?C("auth.links.joinAsStylist"):"Sign in as Client"})]})})]})]})}),r.jsx(SC,{isOpen:b,onClose:()=>k(!1),role:e})]})}const jn="https://beautycita.com",wp=[{code:"US",dial:"+1",flag:"🇺🇸"},{code:"MX",dial:"+52",flag:"🇲🇽"},{code:"CA",dial:"+1",flag:"🇨🇦"},{code:"GB",dial:"+44",flag:"🇬🇧"},{code:"ES",dial:"+34",flag:"🇪🇸"}];function Zc(){const{t:s}=je(),[e,t]=m.useState("+1"),[a,n]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState(0),[f,y]=m.useState(!1),[x,g]=m.useState(!1),[v,b]=m.useState(null),[k,w]=m.useState(""),[N,j]=m.useState(""),_=wt(),S=m.useRef(null),C=m.useRef(null),I=m.useRef(null);m.useEffect(()=>{if(h>0){const W=setTimeout(()=>p(h-1),1e3);return()=>clearTimeout(W)}},[h]),m.useEffect(()=>{P()},[]);const P=async()=>{try{const B=(await G.get("https://ipapi.co/json/")).data.country_code,V=wp.find(ee=>ee.code===B);V&&t(V.dial)}catch{console.log("Could not detect country, defaulting to US")}},A=()=>{"OTPCredential"in window&&!S.current&&(S.current=new AbortController,navigator.credentials.get({otp:{transport:["sms"]},signal:S.current.signal}).then(W=>{W&&W.code&&(console.log("✅ SMS code auto-filled:",W.code),o(W.code),R.success("Code auto-filled from SMS! 🎉"))}).catch(W=>{W.name!=="AbortError"&&console.log("OTP auto-fill not available:",W.message)}))},L=()=>{const W=navigator.userAgent;return/iPhone/.test(W)?"iPhone":/iPad/.test(W)?"iPad":/Android/.test(W)?"Android Device":/Mac/.test(W)?"Mac":/Windows/.test(W)?"Windows PC":"My Device"},O=async()=>{var W,B;if(!a||a.length<10){R.error("Please enter a valid phone number");return}try{c(!0);const V=`${e}${a}`;console.log("📱 FRONTEND SENDING:",{countryCode:e,phoneNumber:a,fullPhone:V,timestamp:new Date().toISOString()});const ee=await G.post(`${jn}/api/auth/send-verification-code`,{phone:a});console.log("✅ BACKEND RESPONSE:",ee.data),ee.data.success?(R.success("Verification code sent! 📱"),u(!0),p(60),A()):R.error(ee.data.message||"Failed to send code")}catch(V){console.error("Send code error:",V),R.error(((B=(W=V.response)==null?void 0:W.data)==null?void 0:B.message)||"Failed to send verification code")}finally{c(!1)}},M=async()=>{var W,B;if(!i||i.length!==6){R.error("Please enter the 6-digit verification code");return}try{c(!0);const V=`${e}${a}`,ee=await G.post(`${jn}/api/auth/register-simple`,{phoneNumber:V,verificationCode:i,role:"CLIENT"});if(ee.data.success){const{token:F,user:z}=ee.data;localStorage.setItem("authToken",F),localStorage.setItem("beautycita-auth-token",F),R.success("Welcome to BeautyCita! 🎉"),b({token:F,user:z}),Di()?y(!0):(R.error("Your device does not support biometric authentication. Please set a password."),g(!0))}}catch(V){console.error("Registration error:",V),R.error(((B=(W=V.response)==null?void 0:W.data)==null?void 0:B.message)||"Registration failed")}finally{c(!1)}},$=()=>{_("/profile/onboarding",{replace:!0})},D=async()=>{if(v)try{c(!0);const W=await G.post(`${jn}/api/webauthn/register/options`,{phone:v.user.phone,role:v.user.role},{headers:{Authorization:`Bearer ${v.token}`}});console.log("[DEBUG] WebAuthn options received:",W.data),console.log("[DEBUG] Options structure:",JSON.stringify(W.data.options,null,2));const B=await Jl(W.data.options);await G.post(`${jn}/api/webauthn/register/verify-minimal`,{phone:v.user.phone,role:v.user.role,credential:B,deviceName:L()},{headers:{Authorization:`Bearer ${v.token}`}}),R.success("Biometric authentication added! 🎉"),y(!1),$()}catch(W){console.error("Biometric registration error:",W),R.error("Failed to add biometric authentication"),y(!1),$()}finally{c(!1)}},q=async()=>{if(!k||k.length<8){R.error(s("auth.phoneRegistration.passwordMinLengthError"));return}if(k!==N){R.error(s("auth.phoneRegistration.passwordMismatchError"));return}const W=/[A-Z]/.test(k),B=/[a-z]/.test(k),V=/[0-9]/.test(k);if(!W||!B||!V){R.error(s("auth.phoneRegistration.passwordWeakError"));return}if(v)try{c(!0),await G.post(`${jn}/api/auth/set-password`,{password:k},{headers:{Authorization:`Bearer ${v.token}`}}),R.success(s("auth.phoneRegistration.passwordSetSuccess")),g(!1),$()}catch(ee){console.error("Password setup error:",ee),R.error("Failed to set password")}finally{c(!1)}};return m.useEffect(()=>{i.length===6&&d&&!l&&(console.log("🚀 Auto-submitting code:",i),M())},[i]),m.useEffect(()=>{d&&I.current&&setTimeout(()=>{var W,B;(W=I.current)==null||W.focus(),(B=I.current)==null||B.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},300)},[d]),m.useEffect(()=>()=>{S.current&&S.current.abort()},[]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 flex items-center justify-center p-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs(Z,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-3xl flex items-center justify-center",children:r.jsx(Ee,{className:"w-7 h-7 text-white"})}),r.jsx("span",{className:"text-3xl font-serif font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"BeautyCita"})]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s("auth.phoneRegistration.title")}),r.jsx("p",{className:"text-gray-600",children:s("auth.phoneRegistration.subtitle")})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("auth.phoneRegistration.phoneLabel")}),r.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[r.jsx("select",{value:e,onChange:W=>t(W.target.value),disabled:d,className:"w-20 sm:w-auto px-2 sm:px-3 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none bg-white disabled:opacity-60 disabled:cursor-not-allowed text-sm sm:text-base",children:wp.map(W=>r.jsxs("option",{value:W.dial,children:[W.flag," ",W.dial]},W.code))}),r.jsx("input",{ref:C,type:"tel",value:a,onChange:W=>n(W.target.value.replace(/\D/g,"")),onFocus:W=>{setTimeout(()=>{W.target.scrollIntoView({behavior:"smooth",block:"center"})},300)},placeholder:"5551234567",maxLength:15,disabled:d,className:"flex-1 min-w-0 px-3 sm:px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none disabled:opacity-60 disabled:cursor-not-allowed text-sm sm:text-base",autoFocus:!0})]}),!d&&r.jsx("button",{onClick:O,disabled:l||a.length<10,className:"w-full mt-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:s("auth.phoneRegistration.sendingButton")})]}):r.jsxs(r.Fragment,{children:[r.jsx(mi,{className:"w-5 h-5"}),r.jsx("span",{children:s("auth.phoneRegistration.sendCodeButton")})]})})]}),d&&r.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-3xl p-4 flex items-center gap-3",children:[r.jsx(ie,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"text-green-900 font-medium",children:["Code sent to ",e," ",a]}),r.jsx("p",{className:"text-green-700",children:"Check your messages and enter the 6-digit code"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("auth.phoneRegistration.codeLabel")}),r.jsx("input",{ref:I,type:"text",value:i,onChange:W=>o(W.target.value.replace(/\D/g,"")),onFocus:W=>{setTimeout(()=>{W.target.scrollIntoView({behavior:"smooth",block:"center"})},300)},placeholder:s("auth.phoneRegistration.codePlaceholder"),maxLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none text-center text-2xl font-mono tracking-widest",autoComplete:"one-time-code",inputMode:"numeric"})]}),r.jsx("button",{onClick:M,disabled:l||i.length!==6,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:s("auth.phoneRegistration.verifyingButton")})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:s("auth.phoneRegistration.verifyButton")}),r.jsx(Ie,{className:"w-5 h-5"})]})}),r.jsx("button",{onClick:O,disabled:h>0||l,className:"w-full text-sm text-purple-600 hover:text-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h>0?`${s("auth.phoneRegistration.resendCode")} ${h}s`:`↻ ${s("auth.phoneRegistration.resendCode")}`})]}),r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["By creating an account, you agree to our"," ",r.jsx("a",{href:"/terms",className:"text-purple-600 hover:underline",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"/privacy",className:"text-purple-600 hover:underline",children:"Privacy Policy"})]}),r.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",r.jsx(Z,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-700",children:"Sign In"})]})})]})]}),r.jsx(_e,{children:f&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-3xl flex items-center justify-center mx-auto mb-4",children:r.jsx(Zs,{className:"w-12 h-12 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Set Up Biometric Login"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Secure your account with fingerprint or face recognition"}),r.jsx("p",{className:"text-sm font-medium text-red-600",children:"⚠️ This step is required to continue"})]}),r.jsx("div",{className:"space-y-3",children:r.jsx("button",{onClick:D,disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Setting up..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zs,{className:"w-5 h-5"}),r.jsx("span",{children:"Continue with Biometric Setup"})]})})}),r.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"This helps protect your account and personal information"})]})})}),r.jsx(_e,{children:x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-3xl flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Set Up Your Password"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Your device doesn't support biometric authentication"}),r.jsx("p",{className:"text-sm font-medium text-red-600",children:"⚠️ Password is required to secure your account"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("auth.phoneRegistration.passwordLabel")}),r.jsx("input",{type:"password",value:k,onChange:W=>w(W.target.value),placeholder:"Enter password",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",autoComplete:"new-password"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("auth.phoneRegistration.confirmPasswordLabel")}),r.jsx("input",{type:"password",value:N,onChange:W=>j(W.target.value),placeholder:"Confirm password",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",autoComplete:"new-password"})]}),r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-3xl",children:[r.jsx("p",{className:"font-medium mb-1",children:"Password requirements:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"At least 8 characters"}),r.jsx("li",{children:"Include uppercase and lowercase letters"}),r.jsx("li",{children:"Include at least one number"})]})]}),r.jsx("div",{className:"space-y-3 pt-2",children:r.jsx("button",{onClick:q,disabled:l||!k||k.length<8||k!==N,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Setting password..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Continue to Onboarding"})]})})})]}),r.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"This password will be used to secure your account"})]})})})]})}class CC{async getStylists(){return me.get("/stylists")}async getStylist(e){return me.get(`/stylists/${e}`)}async getServices(){return me.get("/services")}async getStylistServices(e){return me.get(`/stylists/${e}/services`)}async createBooking(e){return me.post("/bookings",e)}async getBookings(){return me.get("/bookings")}async getBooking(e){return me.get(`/bookings/${e}`)}async updateBooking(e,t){return me.patch(`/bookings/${e}`,t)}async cancelBooking(e){return me.patch(`/bookings/${e}`,{status:"CANCELLED"})}async getAvailableSlots(e,t){return me.get(`/stylists/${e}/availability?date=${t}`)}async stylistAcceptBooking(e,t){return me.post(`/bookings/${e}/accept`,{stylistId:t})}async stylistDeclineBooking(e,t){return me.post(`/bookings/${e}/stylist-decline`,{reason:t})}async stylistRescheduleBooking(e,t,a){return me.post(`/bookings/${e}/stylist-reschedule`,{appointment_date:t,appointment_time:a})}async clientConfirmBooking(e,t,a){return me.post(`/bookings/${e}/confirm`,{clientId:t,paymentIntentId:a})}async reportNoShow(e,t){return me.post(`/bookings/${e}/report-no-show`,{no_show_type:t})}async markBookingComplete(e){return me.post(`/bookings/${e}/complete`)}async getCreditBalance(){return me.get("/credits/balance")}async getCreditHistory(e,t){const a=new URLSearchParams;return e&&a.append("limit",e.toString()),t&&a.append("offset",t.toString()),me.get(`/credits/history${a.toString()?`?${a.toString()}`:""}`)}async requestWithdrawal(e,t){return me.post("/credits/request-withdrawal",{amount:e,bankAccount:t})}}const kr=new CC,EC={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4,watch:!1},Ay=(s={})=>{const[e,t]=m.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!1,permission:null}),[a,n]=m.useState(null),i={...EC,...s},o=m.useCallback(f=>{t(y=>({...y,latitude:f.coords.latitude,longitude:f.coords.longitude,accuracy:f.coords.accuracy,error:null,loading:!1}))},[]),l=m.useCallback(f=>{t(y=>({...y,error:f,loading:!1}))},[]),c=m.useCallback(()=>{if(!navigator.geolocation){l({code:2,message:"Geolocation not supported",PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3});return}t(f=>({...f,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(o,l,{enableHighAccuracy:i.enableHighAccuracy,timeout:i.timeout,maximumAge:i.maximumAge})},[o,l,i]),d=m.useCallback(()=>{if(!navigator.geolocation){l({code:2,message:"Geolocation not supported",PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3});return}t(y=>({...y,loading:!0,error:null}));const f=navigator.geolocation.watchPosition(o,l,{enableHighAccuracy:i.enableHighAccuracy,timeout:i.timeout,maximumAge:i.maximumAge});n(f)},[o,l,i]),u=m.useCallback(()=>{a!==null&&(navigator.geolocation.clearWatch(a),n(null))},[a]),h=m.useCallback(async()=>{if(!navigator.permissions)return null;try{const f=await navigator.permissions.query({name:"geolocation"});return t(y=>({...y,permission:f.state})),f.state}catch(f){return console.warn("Permission query failed:",f),null}},[]),p=m.useCallback(async()=>{const f=await h();return f==="denied"?(l({code:1,message:"Location permission denied",PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3}),!1):(c(),!0)},[h,c,l]);return m.useEffect(()=>{h()},[h]),m.useEffect(()=>(i.watch&&!a&&d(),()=>{a!==null&&navigator.geolocation.clearWatch(a)}),[i.watch,a,d]),{...e,getCurrentPosition:c,startWatching:d,stopWatching:u,requestPermission:p,checkPermission:h,isSupported:!!navigator.geolocation}};function TC(s,e){const a=s.latitude*Math.PI/180,n=e.latitude*Math.PI/180,i=(e.latitude-s.latitude)*Math.PI/180,o=(e.longitude-s.longitude)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a)*Math.cos(n)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function Oy(s,e="es-MX"){return s<1?`${Math.round(s*1e3).toLocaleString(e)} m`:s<10?`${s.toLocaleString(e,{minimumFractionDigits:1,maximumFractionDigits:1})} km`:`${Math.round(s).toLocaleString(e)} km`}function PC(s){return s<=2?"very-close":s<=5?"close":s<=15?"moderate":"far"}function jp(s){switch(PC(s)){case"very-close":return{textColor:"text-green-600",bgColor:"bg-green-100",icon:"📍"};case"close":return{textColor:"text-blue-600",bgColor:"bg-blue-100",icon:"🚶‍♀️"};case"moderate":return{textColor:"text-yellow-600",bgColor:"bg-yellow-100",icon:"🚗"};case"far":return{textColor:"text-gray-600",bgColor:"bg-gray-100",icon:"🗺️"};default:return{textColor:"text-gray-600",bgColor:"bg-gray-100",icon:"📍"}}}function AC(s,e){return s.map(t=>{let a,n;if(t.latitude!==void 0&&t.longitude!==void 0?(a=t.latitude,n=t.longitude):t.location_coordinates&&(a=t.location_coordinates.y,n=t.location_coordinates.x),!wl(a,n))return{...t,distance:1/0,formattedDistance:"Ubicación no disponible"};const i=TC(e,{latitude:a,longitude:n});return{...t,distance:i,formattedDistance:Oy(i)}}).sort((t,a)=>(t.distance||1/0)-(a.distance||1/0))}function wl(s,e){return typeof s=="number"&&typeof e=="number"&&!isNaN(s)&&!isNaN(e)&&s>=-90&&s<=90&&e>=-180&&e<=180}const OC=({onLocationGranted:s,onLocationDenied:e,showOnlyOnMobile:t=!0,className:a=""})=>{const{t:n}=je(),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(!1),{latitude:h,longitude:p,error:f,loading:y,permission:x,requestPermission:g,isSupported:v}=Ay();m.useEffect(()=>{const w=()=>{u(window.innerWidth<768||"ontouchstart"in window)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),m.useEffect(()=>{const w=wl(h,p);c((t?d:!0)&&(!(x==="granted"&&w)&&x!=="denied"&&!i)&&v)},[h,p,x,i,d,t,v]),m.useEffect(()=>{wl(h,p)&&x==="granted"&&(s==null||s({latitude:h,longitude:p}))},[h,p,x,s]),m.useEffect(()=>{(x==="denied"||(f==null?void 0:f.code)===1)&&(e==null||e())},[x,f,e]);const b=async()=>{await g()||e==null||e()},k=()=>{o(!0),e==null||e(),sessionStorage.setItem("locationPermissionDismissed","true")};return m.useEffect(()=>{sessionStorage.getItem("locationPermissionDismissed")&&o(!0)},[]),l?r.jsx(_e,{children:r.jsx(E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:`fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-md ${a}`,children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-3xl flex items-center justify-center",children:r.jsx(ot,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n("location.permission.title","Encuentra estilistas cercanos")}),r.jsx("p",{className:"text-white/90 text-sm",children:n("location.permission.subtitle","Ver distancias y opciones cerca de ti")})]})]}),r.jsx("button",{onClick:k,className:"p-1 hover:bg-white/20 rounded-3xl transition-colors",children:r.jsx(De,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-3xl flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(wy,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-3",children:n("location.permission.description","Permite que BeautyCita acceda a tu ubicación para mostrarte estilistas cercanos y sus distancias.")}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-3xl"}),r.jsx("span",{children:n("location.benefits.distance","Ver distancias exactas")})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-3xl"}),r.jsx("span",{children:n("location.benefits.nearby","Encontrar opciones cercanas")})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-3xl"}),r.jsx("span",{children:n("location.benefits.sort","Ordenar por proximidad")})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-3xl p-3 mb-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(dt,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-yellow-800 text-xs",children:n("location.privacy.notice","Tu ubicación no se almacena y solo se usa para calcular distancias. Puedes revocar el permiso en cualquier momento desde la configuración de tu navegador.")})]})})]})]}),f&&f.code!==1&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-3 mb-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dt,{className:"w-4 h-4 text-red-600"}),r.jsx("p",{className:"text-red-800 text-sm",children:f.code===2?n("location.error.unavailable","Ubicación no disponible"):f.code===3?n("location.error.timeout","Tiempo de espera agotado"):n("location.error.generic","Error al obtener ubicación")})]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(E.button,{onClick:b,disabled:y,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-3 rounded-3xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",whileTap:{scale:.98},children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:n("location.button.loading","Obteniendo ubicación...")})]}):r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-4 h-4"}),r.jsx("span",{children:n("location.button.allow","Permitir ubicación")})]})}),r.jsx("button",{onClick:k,className:"px-4 py-3 border border-gray-300 text-gray-700 rounded-3xl hover:bg-gray-50 transition-colors font-medium",children:n("location.button.later","Más tarde")})]}),x==="denied"&&r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-3xl",children:r.jsx("p",{className:"text-xs text-gray-600 text-center",children:n("location.help.denied",'Para habilitar la ubicación, haz clic en el ícono de ubicación en la barra de direcciones y selecciona "Permitir".')})})]})]})})}):null},LC=["Corte de cabello","Coloración","Peinados","Manicure","Pedicure","Maquillaje","Cejas","Extensiones","Tratamientos capilares"],RC=[{value:"distance",label:"Más cercanos"},{value:"rating",label:"Mejor calificados"},{value:"reviews",label:"Más reseñas"},{value:"experience",label:"Más experiencia"},{value:"name",label:"Nombre A-Z"}];function IC(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(""),[o,l]=m.useState([]),[c,d]=m.useState("rating"),[u,h]=m.useState(!1),[p,f]=m.useState(new Set),[y,x]=m.useState(null),[g,v]=m.useState(!0),[b,k]=m.useState(!1),[w,N]=m.useState(!1),{latitude:j,longitude:_,permission:S}=Ay();m.useEffect(()=>{const L=localStorage.getItem("darkMode")==="true";N(L);const O=()=>{const M=localStorage.getItem("darkMode")==="true";N(M)};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),m.useEffect(()=>{const L=()=>{k(window.innerWidth<768||"ontouchstart"in window)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),m.useEffect(()=>{wl(j,_)&&(x({latitude:j,longitude:_}),v(!1),b&&c==="rating"&&d("distance"))},[j,_,b,c]),m.useEffect(()=>{C()},[]);const C=async()=>{try{a(!0);const L=await kr.getStylists();L.success&&L.data?e(L.data):R.error("Error al cargar estilistas")}catch(L){console.error("Error loading stylists:",L),R.error("Error al cargar estilistas")}finally{a(!1)}},I=(()=>{let L=s.filter(O=>{const M=n.toLowerCase(),$=O.business_name.toLowerCase().includes(M)||O.location_city.toLowerCase().includes(M)||O.specialties.some(q=>q.toLowerCase().includes(M)),D=o.length===0||o.some(q=>O.specialties.includes(q));return $&&D});return c==="distance"&&y?AC(L,y):L.sort((O,M)=>{switch(c){case"rating":return parseFloat(M.rating_average.toString())-parseFloat(O.rating_average.toString());case"reviews":return M.rating_count-O.rating_count;case"experience":return M.experience_years-O.experience_years;case"name":return O.business_name.localeCompare(M.business_name);default:return 0}})})(),P=L=>{f(O=>{const M=new Set(O);return M.has(L)?(M.delete(L),R.success("Eliminado de favoritos")):(M.add(L),R.success("Agregado a favoritos")),M})},A=L=>{l(O=>O.includes(L)?O.filter(M=>M!==L):[...O,L])};return t?r.jsx("div",{className:`min-h-screen ${w?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-12 w-12 border-4 border-t-pink-500 border-r-purple-500 border-b-blue-500 border-l-transparent"})}):r.jsxs("div",{className:`min-h-screen ${w?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"Find Your Perfect Stylist",subtitle:"Connect with verified beauty professionals in your area",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:w,height:"h-96",children:r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, city, or specialty...",value:n,onChange:L=>i(L.target.value),className:`w-full pl-14 pr-6 py-4 rounded-full focus:outline-none focus:ring-4 shadow-xl text-lg ${w?"bg-gray-800 text-white placeholder-gray-400 focus:ring-purple-500/50":"bg-white text-gray-900 placeholder-gray-400 focus:ring-white/30"}`})]})})}),r.jsxs("div",{className:"container mx-auto px-4 max-w-7xl py-12",children:[r.jsxs("div",{className:"mb-8 space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[r.jsxs("button",{onClick:()=>h(!u),className:`flex items-center space-x-2 px-6 py-3 rounded-full font-medium transition-all ${u?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":w?"bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[r.jsx(vy,{className:"w-5 h-5"}),r.jsx("span",{children:"Filters"}),o.length>0&&r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${u?"bg-white/20":"bg-pink-100 text-pink-800"}`,children:o.length})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:`text-sm ${w?"text-gray-400":"text-gray-600"}`,children:[I.length," stylists found"]}),r.jsx("select",{value:c,onChange:L=>d(L.target.value),className:`border rounded-3xl px-4 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent ${w?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"}`,children:RC.map(L=>L.value==="distance"&&!y?null:r.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),u&&r.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`rounded-full p-6 ${w?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[r.jsx("h3",{className:`font-semibold mb-4 ${w?"text-white":"text-gray-900"}`,children:"Especialidades"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:LC.map(L=>r.jsx(E.button,{onClick:()=>A(L),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 text-sm rounded-full border transition-all ${o.includes(L)?"bg-gradient-to-r from-pink-500 to-purple-600 text-white border-transparent shadow-lg":w?"bg-gray-900 text-gray-300 border-gray-700 hover:bg-gray-700":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100"}`,children:L},L))}),o.length>0&&r.jsx("button",{onClick:()=>l([]),className:"mt-4 text-sm text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map((L,O)=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.05},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:w,hoverable:!0,className:"h-full",children:[r.jsxs("div",{className:"relative mb-4",children:[L.profile_picture_url?r.jsx("div",{className:"aspect-square rounded-full overflow-hidden",children:r.jsx("img",{src:L.profile_picture_url,alt:L.business_name,className:"w-full h-full object-cover"})}):r.jsx("div",{className:"aspect-square rounded-full bg-gradient-to-br from-pink-400 via-purple-500 to-blue-500 flex items-center justify-center",children:r.jsx(Ct,{className:"w-24 h-24 text-white"})}),r.jsx("button",{onClick:()=>P(L.id),className:"absolute top-3 right-3 p-2 rounded-full backdrop-blur-md bg-white/20 hover:bg-white/40 transition-colors",children:p.has(L.id)?r.jsx(Ps,{className:"w-6 h-6 text-red-500"}):r.jsx(We,{className:"w-6 h-6 text-white"})})]}),r.jsx("h3",{className:`text-xl font-serif font-bold mb-2 ${w?"text-white":"text-gray-900"}`,children:L.business_name}),r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"w-5 h-5 text-yellow-400 fill-current"}),r.jsx("span",{className:`ml-1 font-semibold ${w?"text-white":"text-gray-900"}`,children:parseFloat(L.rating_average.toString()).toFixed(1)})]}),r.jsx("span",{className:w?"text-gray-400":"text-gray-600",children:"•"}),r.jsxs("span",{className:`text-sm ${w?"text-gray-400":"text-gray-600"}`,children:[L.rating_count," reviews"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(ot,{className:`w-4 h-4 ${w?"text-gray-400":"text-gray-500"}`}),r.jsxs("span",{className:`text-sm ${w?"text-gray-400":"text-gray-600"}`,children:[L.location_city,", ",L.location_state]}),b&&y&&L.distance!==void 0&&L.distance!==1/0&&r.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${jp(L.distance).bgColor} ${jp(L.distance).textColor}`,children:L.formattedDistance||Oy(L.distance)})]}),L.bio&&r.jsx("p",{className:`text-sm mb-4 line-clamp-2 ${w?"text-gray-300":"text-gray-600"}`,children:L.bio}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[L.specialties.slice(0,3).map(M=>r.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-medium bg-gradient-to-r from-pink-100 to-purple-100 text-purple-700 rounded-full",children:M},M)),L.specialties.length>3&&r.jsxs("span",{className:`inline-flex px-3 py-1 text-xs font-medium rounded-full ${w?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-600"}`,children:["+",L.specialties.length-3," more"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(ve,{className:`w-4 h-4 ${w?"text-gray-400":"text-gray-500"}`}),r.jsxs("span",{className:`text-sm ${w?"text-gray-400":"text-gray-600"}`,children:[L.experience_years," years experience"]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Z,{to:`/stylist/${L.id}`,className:`flex-1 px-4 py-2 rounded-full font-medium text-center transition-all border ${w?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"View Profile"}),r.jsx(Z,{to:`/stylist/${L.id}#services`,className:"flex-1 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full font-medium text-center hover:from-pink-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:"Book"})]})]})},L.id))}),I.length===0&&r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20",children:[r.jsx("div",{className:"text-8xl mb-6",children:"💇"}),r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${w?"text-white":"text-gray-900"}`,children:"No stylists found"}),r.jsx("p",{className:`mb-6 ${w?"text-gray-300":"text-gray-600"}`,children:"Try adjusting your search or filters"}),r.jsx(E.button,{onClick:()=>{i(""),l([])},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Clear filters"})]})]}),b&&g&&S!=="granted"&&r.jsx(OC,{onLocationGranted:L=>{x(L),v(!1),c==="rating"&&(d("distance"),R.success("Ahora puedes ver las distancias a los estilistas"))},onLocationDenied:()=>{v(!1),x(null)},showOnlyOnMobile:!0})]})}function MC({stylistId:s}){const[e,t]=m.useState([]),[a,n]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(1),[d,u]=m.useState(1),[h,p]=m.useState("recent"),[f,y]=m.useState({});m.useEffect(()=>{x(),g()},[s,l,h]);const x=async()=>{try{const N=await G.get(`/api/reviews-public/stylist/${s}`,{params:{page:l,limit:10,sort:h}});t(N.data.data),u(N.data.pagination.pages)}catch(N){console.error("Error loading reviews:",N)}finally{o(!1)}},g=async()=>{try{const N=await G.get(`/api/reviews-public/stylist/${s}/stats`);n(N.data.data)}catch(N){console.error("Error loading stats:",N)}},v=async(N,j)=>{try{await me.post(`/reviews/${N}/helpful`,{is_helpful:j}),y({...f,[N]:j}),R.success("Thank you for your feedback!"),x()}catch{R.error("Error recording vote")}},b=async N=>{const j=prompt("Why are you flagging this review?");if(j)try{await me.post(`/reviews/${N}/flag`,{reason:j}),R.success("Review flagged for moderation")}catch{R.error("Error flagging review")}},k=N=>r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(j=>j<=N?r.jsx(bl,{className:"h-5 w-5 text-yellow-400"},j):r.jsx(nt,{className:"h-5 w-5 text-gray-300"},j))}),w=(N,j)=>{const _=j>0?N/j*100:0;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-3xl h-2",children:r.jsx("div",{className:"bg-yellow-400 h-2 rounded-3xl transition-all",style:{width:`${_}%`}})}),r.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:N})]})};return i?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-8",children:[a&&a.total_reviews>0&&r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"text-center md:text-left",children:r.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-2",children:[r.jsx("span",{className:"text-5xl font-bold text-gray-900",children:a.average_rating.toFixed(1)}),r.jsxs("div",{children:[k(Math.round(a.average_rating)),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.total_reviews," ",a.total_reviews===1?"review":"reviews"]})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-700 w-12",children:"5 star"}),w(a.rating_5_star,a.total_reviews)]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-700 w-12",children:"4 star"}),w(a.rating_4_star,a.total_reviews)]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-700 w-12",children:"3 star"}),w(a.rating_3_star,a.total_reviews)]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-700 w-12",children:"2 star"}),w(a.rating_2_star,a.total_reviews)]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-700 w-12",children:"1 star"}),w(a.rating_1_star,a.total_reviews)]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.length," ",e.length===1?"Review":"Reviews"]}),r.jsxs("select",{value:h,onChange:N=>p(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"recent",children:"Most Recent"}),r.jsx("option",{value:"helpful",children:"Most Helpful"}),r.jsx("option",{value:"rating_high",children:"Highest Rating"}),r.jsx("option",{value:"rating_low",children:"Lowest Rating"})]})]}),r.jsx("div",{className:"space-y-6",children:e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(nt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No reviews yet"})]}):e.map((N,j)=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("img",{src:N.client_photo||"/default-avatar.png",alt:N.client_name,className:"w-12 h-12 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:N.client_name}),k(N.rating),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[new Date(N.created_at).toLocaleDateString()," • ",N.service_type]})]})]}),r.jsx("button",{onClick:()=>b(N.id),className:"text-gray-400 hover:text-gray-600",title:"Flag review",children:r.jsx(Zk,{className:"h-5 w-5"})})]}),N.title&&r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:N.title}),N.review_text&&r.jsx("p",{className:"text-gray-700 mb-4",children:N.review_text}),N.photos&&N.photos.length>0&&r.jsx("div",{className:"flex space-x-2 mb-4 overflow-x-auto",children:N.photos.map(_=>r.jsx("img",{src:_.photo_url,alt:"Review photo",className:"h-32 w-32 object-cover rounded-full"},_.id))}),N.stylist_response&&r.jsxs("div",{className:"mt-4 pl-4 border-l-4 border-primary-200 bg-primary-50 p-4 rounded-r-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(fy,{className:"h-5 w-5 text-primary-600"}),r.jsx("p",{className:"font-medium text-primary-900",children:"Response from stylist"})]}),r.jsx("p",{className:"text-gray-700",children:N.stylist_response}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date(N.stylist_response_date).toLocaleDateString()})]}),r.jsx("div",{className:"flex items-center space-x-4 mt-4 pt-4 border-t",children:r.jsxs("button",{onClick:()=>v(N.id,!0),className:`flex items-center space-x-2 ${f[N.id]===!0?"text-primary-600":"text-gray-600 hover:text-primary-600"}`,children:[f[N.id]===!0?r.jsx(VS,{className:"h-5 w-5"}):r.jsx(a_,{className:"h-5 w-5"}),r.jsxs("span",{className:"text-sm",children:["Helpful (",N.helpful_count,")"]})]})})]})},N.id))}),d>1&&r.jsxs("div",{className:"flex justify-center space-x-2",children:[r.jsx("button",{onClick:()=>c(N=>Math.max(1,N-1)),disabled:l===1,className:"px-4 py-2 border border-gray-300 rounded-full disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-4 py-2 text-gray-700",children:["Page ",l," of ",d]}),r.jsx("button",{onClick:()=>c(N=>Math.min(d,N+1)),disabled:l===d,className:"px-4 py-2 border border-gray-300 rounded-full disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})}function $C({stylistId:s}){const{isAuthenticated:e}=we(),[t,a]=m.useState([]),[n,i]=m.useState(!0),[o,l]=m.useState(null),[c,d]=m.useState(new Set),[u,h]=m.useState("all");m.useEffect(()=>{p()},[s,u]);const p=async()=>{try{const g={page:1,limit:50};u!=="all"&&(g.category=u);const v=await G.get(`/api/portfolio/stylist/${s}`,{params:g});v.data.success&&a(v.data.data)}catch(g){console.error("Error loading portfolio:",g)}finally{i(!1)}},f=async g=>{if(!e){R.error("Inicia sesión para dar me gusta");return}try{const v=await G.post(`/api/portfolio/${g}/like`);if(v.data.success){if(v.data.liked)d(new Set(c).add(g));else{const b=new Set(c);b.delete(g),d(b)}p()}}catch{R.error("Error al dar me gusta")}},y=async g=>{l(g);try{await G.post(`/api/portfolio/${g.id}/view`)}catch(v){console.error("Error recording view:",v)}},x=[{value:"all",label:"Todos"},{value:"hair",label:"Cabello"},{value:"nails",label:"Uñas"},{value:"makeup",label:"Maquillaje"},{value:"skincare",label:"Cuidado de la piel"},{value:"other",label:"Otro"}];return n?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No hay elementos en el portafolio aún"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(g=>r.jsx("button",{onClick:()=>h(g.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${u===g.value?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.label},g.value))}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((g,v)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:v*.03},className:"cursor-pointer group",onClick:()=>y(g),children:[r.jsxs("div",{className:"relative aspect-square rounded-full overflow-hidden",children:[r.jsxs("div",{className:"grid grid-cols-2 h-full",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:g.before_photo_url,alt:"Antes",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs py-1 text-center",children:"Antes"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:g.after_photo_url,alt:"Después",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs py-1 text-center",children:"Después"})]})]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300",children:r.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex items-center justify-between text-white opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsxs("span",{className:"flex items-center text-sm",children:[r.jsx(At,{className:"w-4 h-4 mr-1"}),g.view_count]}),r.jsxs("span",{className:"flex items-center text-sm",children:[r.jsx(We,{className:"w-4 h-4 mr-1"}),g.like_count]})]})})]}),g.title&&r.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900 line-clamp-1",children:g.title})]},g.id))}),o&&r.jsx(DC,{item:o,items:t,onClose:()=>l(null),onNavigate:l,onLike:f,isLiked:c.has(o.id)})]})}function DC({item:s,items:e,onClose:t,onNavigate:a,onLike:n,isLiked:i}){const o=e.findIndex(p=>p.id===s.id),l=o>0,c=o<e.length-1,d=()=>{l&&a(e[o-1])},u=()=>{c&&a(e[o+1])},h=p=>{p.key==="ArrowLeft"&&l&&d(),p.key==="ArrowRight"&&c&&u(),p.key==="Escape"&&t()};return r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center p-4",onClick:t,onKeyDown:h,tabIndex:0,children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-3xl z-10",children:r.jsx(De,{className:"w-8 h-8"})}),l&&r.jsx("button",{onClick:p=>{p.stopPropagation(),d()},className:"absolute left-4 p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-3xl",children:r.jsx(Ql,{className:"w-8 h-8"})}),c&&r.jsx("button",{onClick:p=>{p.stopPropagation(),u()},className:"absolute right-4 p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-3xl",children:r.jsx(Sr,{className:"w-8 h-8"})}),r.jsxs("div",{className:"max-w-6xl w-full",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white text-sm mb-2 text-center",children:"Antes"}),r.jsx("img",{src:s.before_photo_url,alt:"Antes",className:"w-full rounded-full"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white text-sm mb-2 text-center",children:"Después"}),r.jsx("img",{src:s.after_photo_url,alt:"Después",className:"w-full rounded-full"})]})]}),r.jsxs("div",{className:"bg-white rounded-3xl p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[s.title&&r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.title}),s.description&&r.jsx("p",{className:"text-gray-700",children:s.description})]}),r.jsx("button",{onClick:()=>n(s.id),className:"p-2 hover:bg-gray-100 rounded-3xl ml-4",children:i?r.jsx(Ps,{className:"w-6 h-6 text-red-500"}):r.jsx(We,{className:"w-6 h-6 text-gray-400"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(At,{className:"w-4 h-4 mr-1"}),s.view_count," vistas"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(We,{className:"w-4 h-4 mr-1"}),s.like_count," me gusta"]})]}),s.tags&&s.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((p,f)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:p},f))})]})]})]})]})}function FC(){const{id:s}=ln(),e=wt(),{isAuthenticated:t}=we(),[a,n]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(!1),[h,p]=m.useState("about");m.useEffect(()=>{s&&(f(s),y(s))},[s]);const f=async k=>{try{const w=await kr.getStylist(k);w.success&&w.data?n(w.data):R.error("No se pudo cargar el perfil del estilista")}catch(w){console.error("Error loading stylist profile:",w),R.error("Error al cargar el perfil")}},y=async k=>{try{const w=await kr.getStylistServices(k);w.success&&w.data&&o(w.data)}catch(w){console.error("Error loading stylist services:",w)}finally{c(!1)}},x=()=>{u(!d),R.success(d?"Eliminado de favoritos":"Agregado a favoritos")},g=k=>{if(!t){R.error("Inicia sesión para reservar una cita"),e("/login");return}e("/booking",{state:{stylistId:s,serviceId:k}})},v=()=>{if(!t){R.error("Inicia sesión para reservar una cita"),e("/login");return}e("/booking",{state:{stylistId:s}})};if(l)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!a)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Estilista no encontrado"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"El perfil que buscas no existe o ha sido eliminado."}),r.jsx(Z,{to:"/stylists",className:"btn btn-primary rounded-full",children:"Ver todos los estilistas"})]})});const b=[{key:"about",label:"Acerca de"},{key:"services",label:"Servicios"},{key:"portfolio",label:"Portafolio"},{key:"reviews",label:"Reseñas"}];return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"container-responsive py-8",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[r.jsx(st,{className:"w-5 h-5 mr-2"}),"Volver"]})}),r.jsx("div",{className:"card mb-8",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:a.profile_picture_url?r.jsx("img",{src:a.profile_picture_url,alt:a.business_name,className:"w-32 h-32 rounded-full object-cover"}):r.jsx("div",{className:"w-32 h-32 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx(Ct,{className:"w-20 h-20 text-primary-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900",children:a.business_name}),a.is_verified&&r.jsx(pl,{className:"w-8 h-8 text-blue-500",title:"Verificado"})]}),r.jsx("p",{className:"text-xl text-gray-700 font-medium mb-2",children:a.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ot,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[a.location_city,", ",a.location_state]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ve,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[a.experience_years," años de experiencia"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"w-5 h-5 text-yellow-400 fill-current mr-1"}),r.jsx("span",{className:"font-semibold",children:parseFloat(a.rating_average.toString()).toFixed(1)}),r.jsxs("span",{className:"text-gray-600 ml-1",children:["(",a.rating_count," reseñas)"]})]}),r.jsx("span",{className:"text-gray-400",children:"•"}),r.jsx("div",{className:"flex items-center text-gray-600",children:r.jsxs("span",{children:[a.total_bookings," citas completadas"]})})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:d?r.jsx(Ps,{className:"w-6 h-6 text-red-500"}):r.jsx(We,{className:"w-6 h-6 text-gray-400"})}),r.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:r.jsx($i,{className:"w-6 h-6 text-gray-400"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.specialties.map(k=>r.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-primary-100 text-primary-800 rounded-full",children:k},k))}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-gray-700",children:[r.jsx(Le,{className:"w-5 h-5 mr-1"}),r.jsx("span",{className:"font-semibold",children:a.base_price_range}),r.jsxs("span",{className:"text-gray-500 ml-1",children:["• ",a.pricing_tier]})]}),r.jsxs("button",{onClick:v,className:"btn btn-primary rounded-full",children:[r.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Reservar Cita"]})]})]})]})})}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:b.map(k=>r.jsx("button",{onClick:()=>p(k.key),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${h===k.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:k.label},k.key))})})}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[h==="about"&&r.jsxs("div",{className:"space-y-6",children:[a.bio&&r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"card-title mb-4",children:"Sobre mí"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.bio})]})}),a.certifications&&a.certifications.length>0&&r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h3",{className:"card-title mb-4",children:[r.jsx(sa,{className:"w-5 h-5 mr-2"}),"Certificaciones"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.certifications.map((k,w)=>r.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-full",children:[r.jsx(Wa,{className:"w-5 h-5 text-yellow-600 mr-3 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:k})]},w))})]})}),a.social_media_links&&r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"card-title mb-4",children:"Sígueme en redes sociales"}),r.jsxs("div",{className:"flex space-x-4",children:[a.social_media_links.instagram&&r.jsxs("a",{href:`https://instagram.com/${a.social_media_links.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full hover:from-purple-600 hover:to-pink-600 transition-colors",children:[r.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Instagram"]}),a.social_media_links.facebook&&r.jsx("a",{href:a.social_media_links.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",children:"Facebook"})]})]})})]}),h==="services"&&r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"card-title mb-6",children:"Servicios Disponibles"}),i.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(k=>r.jsxs("div",{className:"border border-gray-200 rounded-full p-6 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex justify-between items-start mb-4",children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-lg mb-2",children:k.custom_name||k.service.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:k.custom_description||k.service.description})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ve,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[k.service.duration," min"]})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["$",k.custom_price||k.service.price]}),r.jsx("button",{onClick:()=>g(k.id),className:"btn btn-primary btn-sm rounded-full",children:"Reservar"})]})]})]},k.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"Este estilista aún no ha publicado sus servicios"}),r.jsx("button",{onClick:v,className:"btn btn-primary rounded-full",children:"Contactar para más información"})]})]})}),h==="portfolio"&&r.jsx($C,{stylistId:parseInt(s)}),h==="reviews"&&r.jsx(MC,{stylistId:parseInt(s)})]},h)]})})}function BC(){const{username:s}=ln(),{t:e}=je(),[t,a]=m.useState(null),[n,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(0),[u,h]=m.useState(0),[p,f]=m.useState(!1),[y,x]=m.useState(!1),[g,v]=m.useState(!0),[b,k]=m.useState([]),[w,N]=m.useState(!1);m.useEffect(()=>{j()},[s]),m.useEffect(()=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const U=document.querySelector('meta[name="viewport"]'),ae=U==null?void 0:U.getAttribute("content");return U&&U.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.height="100%",document.body.style.overscrollBehavior="none",()=>{U&&ae&&U.setAttribute("content",ae),document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.height="",document.body.style.overscrollBehavior=""}}},[]);const j=async()=>{try{const K=await fetch(`/api/portfolio/public/${s}`);if(!K.ok){l(!0);return}const U=await K.json();a(U.data)}catch{l(!0)}finally{i(!1)}},_=async()=>{navigator.share?await navigator.share({title:`${t==null?void 0:t.firstName} ${t==null?void 0:t.lastName} - BeautyCita`,text:(t==null?void 0:t.bio)||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),R.success(e("portfolio.linkCopied")))},S=()=>{f(!p),R.success(e(p?"portfolio.removedFavorite":"portfolio.addedFavorite"))},C=()=>{window.location.href=`/book/${s}`},I=t?t.specialties.map((K,U)=>({category:K,description:P(K),image:t.portfolioImages[U%t.portfolioImages.length]})):[];function P(K){return{Balayage:"Hand-painted highlights for a natural, sun-kissed glow","Color Correction":"Expert color restoration and transformation","Hair Cutting":"Precision cuts tailored to your unique style",Highlights:"Dimensional color that adds depth and brightness","Keratin Treatment":"Smooth, frizz-free hair that lasts for months","Bridal Hair":"Picture-perfect styling for your special day"}[K]||"Professional beauty services"}const A=m.useCallback(()=>{h(1),d(K=>(K+1)%I.length)},[I.length]),L=m.useCallback(()=>{h(-1),d(K=>(K-1+I.length)%I.length)},[I.length]);m.useEffect(()=>{const K=U=>{U.key==="ArrowRight"&&A(),U.key==="ArrowLeft"&&L(),U.key==="Escape"&&x(!1)};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[A,L]);const[O,M]=m.useState(0),[$,D]=m.useState(0),q=K=>{M(K.targetTouches[0].clientX)},W=K=>{D(K.targetTouches[0].clientX)},B=()=>{O-$>75&&A(),O-$<-75&&L()},V=()=>{if(w)return;N(!0),v(!1);const K=window.innerWidth/2,U=window.innerHeight/2,ae=Array.from({length:10},(Q,re)=>({id:re,x:K+(Math.random()-.5)*100,y:U+(Math.random()-.5)*100}));k(ae),setTimeout(()=>{k([])},2e3)},ee=K=>g&&!w?(K.stopPropagation(),K.preventDefault(),V(),!0):!1,F={enter:K=>({x:K>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:K=>({x:K>0?"-100%":"100%",opacity:0})};if(n)return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black",children:r.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(o||!t||!t.portfolioPublished||I.length===0)return r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("portfolio.notFound")}),r.jsx(Z,{to:"/",className:"text-pink-400 hover:text-pink-300 underline",children:e("common.backHome")})]})});const z=I[c],Y={minimal:{primary:"from-gray-900/85 to-gray-700/85",accent:"pink-500"},modern:{primary:"from-pink-600/85 to-purple-600/85",accent:"pink-400"},artistic:{primary:"from-purple-600/85 to-indigo-600/85",accent:"purple-400"}}[t.portfolioTheme||"modern"];return r.jsxs("div",{className:"fixed inset-0 overflow-hidden bg-black touch-none",style:{touchAction:"pan-x",WebkitUserSelect:"none",userSelect:"none"},onTouchStart:K=>{ee(K)||q(K)},onTouchMove:K=>{w&&W(K)},onTouchEnd:K=>{w&&B()},onClick:ee,children:[r.jsxs("div",{className:"h-full w-full relative",children:[r.jsx(_e,{initial:!1,custom:u,children:r.jsxs(E.div,{custom:u,variants:F,initial:"enter",animate:"center",exit:"exit",transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 flex flex-col",children:[r.jsxs("div",{className:`h-[35vh] bg-gradient-to-br ${Y.primary} text-white flex flex-col justify-center px-6 sm:px-8 md:px-12 relative`,children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-[2.5rem]",children:[r.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-3 sm:mb-4",style:{textShadow:"0 0 5px rgba(255, 255, 255, 0.65)"},children:z.category}),r.jsx("p",{className:"text-xl sm:text-2xl text-white/90 mb-3 font-bold",children:z.description}),t.businessName&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-lg sm:text-xl text-white/90 font-black leading-tight",children:t.businessName}),r.jsxs("p",{className:"text-xs text-white/70 font-medium -mt-1",children:[t.experienceYears,"+ yrs exp"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(ot,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsxs("span",{className:"font-semibold",children:[t.locationCity,t.locationState&&`, ${t.locationState}`]})]})]}),r.jsx("div",{className:"absolute bottom-4 right-4 sm:bottom-6 sm:right-6",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nt,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-yellow-300 text-yellow-300"}),r.jsxs("span",{className:"text-xl sm:text-2xl font-black",children:[t.ratingAverage," ",r.jsxs("span",{className:"text-base sm:text-lg",children:["(",t.ratingCount,")"]})]})]})})]}),r.jsxs("div",{className:"h-[65vh] relative overflow-hidden",children:[r.jsx("img",{src:z.image,alt:z.category,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]})]},c)}),r.jsxs("div",{className:"absolute bottom-20 sm:bottom-24 left-4 sm:left-6 flex gap-3 z-10",children:[r.jsx("button",{onClick:L,className:"bg-white/10 backdrop-blur-sm text-white p-3 sm:p-4 rounded-full hover:bg-white/20 transition","aria-label":"Previous slide",children:r.jsx(Ql,{className:"w-6 h-6 sm:w-7 sm:h-7",style:{filter:"drop-shadow(0 0 5px rgba(255, 255, 255, 0.65))"}})}),r.jsx("button",{onClick:A,className:"bg-white/10 backdrop-blur-sm text-white p-3 sm:p-4 rounded-full hover:bg-white/20 transition","aria-label":"Next slide",children:r.jsx(Sr,{className:"w-6 h-6 sm:w-7 sm:h-7",style:{filter:"drop-shadow(0 0 5px rgba(255, 255, 255, 0.65))"}})})]}),r.jsx("div",{className:"absolute bottom-4 sm:bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:I.map((K,U)=>r.jsx("button",{onClick:()=>{h(U>c?1:-1),d(U)},className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition ${U===c?"bg-white w-6 sm:w-8":"bg-white/50"}`,"aria-label":`Go to slide ${U+1}`},U))}),r.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 sm:p-6 flex justify-between items-center z-10",children:[r.jsx(Z,{to:"/",className:"bg-white/10 backdrop-blur-sm text-white p-2 sm:p-3 rounded-full hover:bg-white/20 transition",children:r.jsx(De,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[r.jsx("button",{onClick:S,className:"bg-white/10 backdrop-blur-sm text-white p-2 sm:p-3 rounded-full hover:bg-white/20 transition",children:p?r.jsx(Ps,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400"}):r.jsx(We,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r.jsx("button",{onClick:_,className:"bg-white/10 backdrop-blur-sm text-white p-2 sm:p-3 rounded-full hover:bg-white/20 transition",children:r.jsx($i,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r.jsx("button",{onClick:()=>x(!y),className:"bg-white/10 backdrop-blur-sm text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full hover:bg-white/20 transition font-semibold text-sm sm:text-base",children:"Info"})]})]}),r.jsx("button",{onClick:C,className:`absolute bottom-20 sm:bottom-24 right-4 sm:right-6 bg-gradient-to-r ${Y.primary} text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-base sm:text-lg hover:shadow-2xl transition transform hover:scale-105 z-10`,children:e("portfolio.bookNow")}),r.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10",children:r.jsx("a",{href:"https://beautycita.com",target:"_blank",rel:"noopener noreferrer",className:"text-white/40 hover:text-white/60 text-xs transition",children:"Powered by BeautyCita"})}),r.jsx(_e,{children:g&&t&&r.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5},className:"absolute inset-0 z-20 flex items-center justify-center",children:r.jsxs("h2",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-serif text-center leading-tight",style:{fontWeight:700,color:"#ff0080",textShadow:`
                    0 0 40px rgba(255, 0, 128, 1),
                    0 0 80px rgba(128, 0, 255, 0.8),
                    0 0 120px rgba(0, 245, 255, 0.6),
                    2px 2px 0px #8000ff,
                    4px 4px 0px #00f5ff,
                    0 6px 30px rgba(0, 0, 0, 0.8)
                  `,padding:"0 20px",margin:"0 auto",maxWidth:"90vw"},children:[t.firstName.split("").map((K,U)=>{const ae=Math.random()>.6;return r.jsx(E.span,{className:"inline-block",animate:ae?{y:[0,-4,0,-2,0],rotate:[0,-1,1,-.5,0]}:{},transition:{duration:2+Math.random(),repeat:1/0,repeatDelay:Math.random()*2,ease:"easeInOut"},children:K},U)})," ",t.lastName.split("").map((K,U)=>{const ae=Math.random()>.6;return r.jsx(E.span,{className:"inline-block",animate:ae?{y:[0,-3,0,-2,0],rotate:[0,1,-1,.5,0]}:{},transition:{duration:2+Math.random(),repeat:1/0,repeatDelay:Math.random()*2,ease:"easeInOut"},children:K},`last-${U}`)})]})})}),r.jsx(_e,{children:b.map(K=>{const U=Math.random()>.5?window.innerWidth+200:-200,ae=Math.random()*window.innerHeight,Q=Math.floor(Math.random()*3);let re,ue;return Q===0?(re=[K.x,K.x+100,K.x+200,U],ue=[K.y,K.y-100,K.y+50,ae]):Q===1?(re=[K.x,K.x-80,K.x+120,U],ue=[K.y,K.y+80,K.y-60,ae]):(re=[K.x,K.x+60,K.x-40,U],ue=[K.y,K.y-120,K.y-80,ae]),r.jsx(E.div,{initial:{x:K.x,y:K.y,opacity:0,scale:0},animate:{x:re,y:ue,opacity:[0,1,1,0],scale:[0,1,1,.5],rotate:[0,360,720,1080]},exit:{opacity:0},transition:{duration:1.5+Math.random()*.5,ease:"easeOut",times:[0,.1,.8,1]},className:"absolute pointer-events-none z-30",style:{fontSize:"24px"},children:"🦋"},K.id)})})]}),r.jsx(_e,{children:y&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-4",onClick:()=>x(!1),children:r.jsxs(E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25},className:"bg-white rounded-t-3xl sm:rounded-3xl p-6 sm:p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:K=>K.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:t.profilePicture||"/default-avatar.jpg",alt:t.firstName,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:[t.firstName," ",t.lastName]}),r.jsx("p",{className:"text-gray-600",children:t.businessName})]})]}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(De,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"About"}),r.jsx("p",{className:"text-gray-700",children:t.bio})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Experience"}),r.jsxs("p",{className:"text-gray-700",children:[t.experienceYears,"+ years in beauty"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Location"}),r.jsxs("p",{className:"text-gray-700",children:[t.locationCity,t.locationState&&`, ${t.locationState}`]})]}),t.salonPhone&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Contact"}),r.jsx("a",{href:`tel:${t.salonPhone}`,className:"text-pink-600 hover:text-pink-700",children:t.salonPhone})]}),t.socialMediaLinks&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Social Media"}),r.jsxs("div",{className:"flex gap-4",children:[t.socialMediaLinks.instagram&&r.jsx("a",{href:t.socialMediaLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Instagram"}),t.socialMediaLinks.facebook&&r.jsx("a",{href:t.socialMediaLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Facebook"}),t.socialMediaLinks.tiktok&&r.jsx("a",{href:t.socialMediaLinks.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"TikTok"})]})]}),r.jsx("button",{onClick:C,className:`w-full bg-gradient-to-r ${Y.primary} text-white py-4 rounded-full font-bold text-lg hover:shadow-lg transition mt-6`,children:e("portfolio.bookNow")})]})]})})})]})}var Ly={exports:{}},VC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UC=VC,WC=UC;function Ry(){}function Iy(){}Iy.resetWarningCache=Ry;var zC=function(){function s(a,n,i,o,l,c){if(c!==WC){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function e(){return s}var t={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:e,element:s,elementType:s,instanceOf:e,node:s,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Iy,resetWarningCache:Ry};return t.PropTypes=t,t};Ly.exports=zC();var HC=Ly.exports;const tt=ua(HC);function Np(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,a)}return t}function kp(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Np(Object(t),!0).forEach(function(a){My(s,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Np(Object(t)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(t,a))})}return s}function Yo(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yo=function(e){return typeof e}:Yo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(s)}function My(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function $y(s,e){return qC(s)||GC(s,e)||YC(s,e)||KC()}function qC(s){if(Array.isArray(s))return s}function GC(s,e){var t=s&&(typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"]);if(t!=null){var a=[],n=!0,i=!1,o,l;try{for(t=t.call(s);!(n=(o=t.next()).done)&&(a.push(o.value),!(e&&a.length===e));n=!0);}catch(c){i=!0,l=c}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return a}}function YC(s,e){if(s){if(typeof s=="string")return _p(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _p(s,e)}}function _p(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=s[t];return a}function KC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yt=function(e,t,a){var n=!!a,i=Se.useRef(a);Se.useEffect(function(){i.current=a},[a]),Se.useEffect(function(){if(!n||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,o),function(){e.off(t,o)}},[n,t,e,i])},ku=function(e){var t=Se.useRef(e);return Se.useEffect(function(){t.current=e},[e]),t.current},Za=function(e){return e!==null&&Yo(e)==="object"},QC=function(e){return Za(e)&&typeof e.then=="function"},ZC=function(e){return Za(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Sp="[object Object]",JC=function s(e,t){if(!Za(e)||!Za(t))return e===t;var a=Array.isArray(e),n=Array.isArray(t);if(a!==n)return!1;var i=Object.prototype.toString.call(e)===Sp,o=Object.prototype.toString.call(t)===Sp;if(i!==o)return!1;if(!i&&!a)return e===t;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var p=Object.keys(d);if(p.length!==l.length)return!1;var f=e,y=t,x=function(v){return s(f[v],y[v])};return p.every(x)},Dy=function(e,t,a){return Za(e)?Object.keys(e).reduce(function(n,i){var o=!Za(t)||!JC(e[i],t[i]);return a.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),n):o?kp(kp({},n||{}),{},My({},i,e[i])):n},null):null},Fy="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Cp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fy;if(e===null||ZC(e))return e;throw new Error(t)},XC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fy;if(QC(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(n){return Cp(n,t)})};var a=Cp(e,t);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},e6=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Xl=Se.createContext(null);Xl.displayName="ElementsContext";var By=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Vy=function(e){var t=e.stripe,a=e.options,n=e.children,i=Se.useMemo(function(){return XC(t)},[t]),o=Se.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(a):null}}),l=$y(o,2),c=l[0],d=l[1];Se.useEffect(function(){var p=!0,f=function(x){d(function(g){return g.stripe?g:{stripe:x,elements:x.elements(a)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(y){y&&p&&f(y)}):i.tag==="sync"&&!c.stripe&&f(i.stripe),function(){p=!1}},[i,c,a]);var u=ku(t);Se.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var h=ku(a);return Se.useEffect(function(){if(c.elements){var p=Dy(a,h,["clientSecret","fonts"]);p&&c.elements.update(p)}},[a,h,c.elements]),Se.useEffect(function(){e6(c.stripe)},[c.stripe]),Se.createElement(Xl.Provider,{value:c},n)};Vy.propTypes={stripe:tt.any,options:tt.object};var t6=function(e){var t=Se.useContext(Xl);return By(t,e)},r6=function(){var e=t6("calls useElements()"),t=e.elements;return t};tt.func.isRequired;var Uy=Se.createContext(null);Uy.displayName="CustomCheckoutSdkContext";var s6=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},a6=Se.createContext(null);a6.displayName="CustomCheckoutContext";tt.any,tt.shape({clientSecret:tt.string.isRequired,elementsOptions:tt.object}).isRequired;var _u=function(e){var t=Se.useContext(Uy),a=Se.useContext(Xl);if(t&&a)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?s6(t,e):By(a,e)},n6=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ft=function(e,t){var a="".concat(n6(e),"Element"),n=function(c){var d=c.id,u=c.className,h=c.options,p=h===void 0?{}:h,f=c.onBlur,y=c.onFocus,x=c.onReady,g=c.onChange,v=c.onEscape,b=c.onClick,k=c.onLoadError,w=c.onLoaderStart,N=c.onNetworksChange,j=c.onConfirm,_=c.onCancel,S=c.onShippingAddressChange,C=c.onShippingRateChange,I=_u("mounts <".concat(a,">")),P="elements"in I?I.elements:null,A="customCheckoutSdk"in I?I.customCheckoutSdk:null,L=Se.useState(null),O=$y(L,2),M=O[0],$=O[1],D=Se.useRef(null),q=Se.useRef(null);Yt(M,"blur",f),Yt(M,"focus",y),Yt(M,"escape",v),Yt(M,"click",b),Yt(M,"loaderror",k),Yt(M,"loaderstart",w),Yt(M,"networkschange",N),Yt(M,"confirm",j),Yt(M,"cancel",_),Yt(M,"shippingaddresschange",S),Yt(M,"shippingratechange",C),Yt(M,"change",g);var W;x&&(e==="expressCheckout"?W=x:W=function(){x(M)}),Yt(M,"ready",W),Se.useLayoutEffect(function(){if(D.current===null&&q.current!==null&&(P||A)){var V=null;A?V=A.createElement(e,p):P&&(V=P.create(e,p)),D.current=V,$(V),V&&V.mount(q.current)}},[P,A,p]);var B=ku(p);return Se.useEffect(function(){if(D.current){var V=Dy(p,B,["paymentRequest"]);V&&"update"in D.current&&D.current.update(V)}},[p,B]),Se.useLayoutEffect(function(){return function(){if(D.current&&typeof D.current.destroy=="function")try{D.current.destroy(),D.current=null}catch{}}},[]),Se.createElement("div",{id:d,className:u,ref:q})},i=function(c){_u("mounts <".concat(a,">"));var d=c.id,u=c.className;return Se.createElement("div",{id:d,className:u})},o=t?i:n;return o.propTypes={id:tt.string,className:tt.string,onChange:tt.func,onBlur:tt.func,onFocus:tt.func,onReady:tt.func,onEscape:tt.func,onClick:tt.func,onLoadError:tt.func,onLoaderStart:tt.func,onNetworksChange:tt.func,onConfirm:tt.func,onCancel:tt.func,onShippingAddressChange:tt.func,onShippingRateChange:tt.func,options:tt.object},o.displayName=a,o.__elementType=e,o},gt=typeof window>"u",i6=Se.createContext(null);i6.displayName="EmbeddedCheckoutProviderContext";var o6=function(){var e=_u("calls useStripe()"),t=e.stripe;return t};ft("auBankAccount",gt);ft("card",gt);var Ep=ft("cardNumber",gt),l6=ft("cardExpiry",gt),c6=ft("cardCvc",gt);ft("fpxBank",gt);ft("iban",gt);ft("idealBank",gt);ft("p24Bank",gt);ft("epsBank",gt);ft("payment",gt);ft("expressCheckout",gt);ft("currencySelector",gt);ft("paymentRequestButton",gt);ft("linkAuthentication",gt);ft("address",gt);ft("shippingAddress",gt);ft("paymentMethodMessaging",gt);ft("affirmMessage",gt);ft("afterpayClearpayMessage",gt);var Wy="https://js.stripe.com/v3",d6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u6=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Wy,'"]')),t=0;t<e.length;t++){var a=e[t];if(d6.test(a.src))return a}return null},Tp=function(e){var t="",a=document.createElement("script");a.src="".concat(Wy).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},h6=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})},Nn=null,Xi=null,eo=null,m6=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},p6=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},f6=function(e){return Nn!==null?Nn:(Nn=new Promise(function(t,a){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var n=u6();if(!(n&&e)){if(!n)n=Tp(e);else if(n&&eo!==null&&Xi!==null){var i;n.removeEventListener("load",eo),n.removeEventListener("error",Xi),(i=n.parentNode)===null||i===void 0||i.removeChild(n),n=Tp(e)}}eo=p6(t,a),Xi=m6(a),n.addEventListener("load",eo),n.addEventListener("error",Xi)}catch(o){a(o);return}}),Nn.catch(function(t){return Nn=null,Promise.reject(t)}))},g6=function(e,t,a){if(e===null)return null;var n=e.apply(void 0,t);return h6(n,a),n},kn,zy=!1,Hy=function(){return kn||(kn=f6(null).catch(function(e){return kn=null,Promise.reject(e)}),kn)};Promise.resolve().then(function(){return Hy()}).catch(function(s){zy||console.warn(s)});var x6=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];zy=!0;var n=Date.now();return Hy().then(function(i){return g6(i,t,n)})};const y6="pk_test_51QBFcpJ1EYu9LXMiOJYlLyH4e3h5gA0cPo4bTzNt2z7zPtF4rN0mEMIiQpGY8vfHKj0kT2zn0IkKxCZxQI1KeIQ000cNGMOBaD",b6=x6(y6);class v6{constructor(){se(this,"baseURL","/api")}async createPaymentIntent(e,t){const a=await fetch(`${this.baseURL}/payments/create-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("beautycita-auth-token")}`},body:JSON.stringify({amount:Math.round(e*100),currency:"mxn",booking:t})});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to create payment intent")}return a.json()}async confirmPayment(e,t){const a=await fetch(`${this.baseURL}/payments/confirm`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("beautycita-auth-token")}`},body:JSON.stringify({paymentIntentId:e,bookingData:t})});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to confirm payment")}return a.json()}async getPaymentStatus(e){const t=await fetch(`${this.baseURL}/payments/status/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("beautycita-auth-token")}`}});if(!t.ok){const a=await t.json();throw new Error(a.message||"Failed to get payment status")}return t.json()}}const Pp=new v6,Jc={style:{base:{fontSize:"16px",color:"#374151",fontFamily:"Inter, system-ui, sans-serif","::placeholder":{color:"#9CA3AF"}},invalid:{color:"#DC2626"}}};function w6({totalAmount:s,onPaymentSuccess:e,onPaymentError:t,isProcessing:a=!1,disabled:n=!1}){const i=o6(),o=r6(),[l,c]=m.useState({}),d=p=>f=>{c(y=>({...y,[p]:f.error?f.error.message:""}))},u=async p=>{if(p.preventDefault(),!i||!o||a||n)return;const f=o.getElement(Ep);if(!f){t("Card element not found");return}try{const{error:y,paymentIntent:x}=await i.confirmCardPayment({payment_method:{card:f}});y?t(y.message||"Payment confirmation failed"):x&&x.status==="succeeded"&&(e(x),R.success("¡Pago procesado exitosamente!"))}catch(y){console.error("Payment error:",y),t(y instanceof Error?y.message:"Payment processing failed")}},h=Object.values(l).some(p=>p);return r.jsxs("div",{className:"bg-white rounded-full border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ge,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Información de Pago"}),r.jsx(Lr,{className:"w-4 h-4 text-green-600"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Todos los pagos son procesados de forma segura por Stripe"})]}),r.jsx("form",{onSubmit:u,className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de tarjeta"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-full focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent",children:r.jsx(Ep,{options:Jc,onChange:d("cardNumber")})}),l.cardNumber&&r.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[r.jsx(dt,{className:"w-4 h-4 mr-1"}),l.cardNumber]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MM/YY"}),r.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-full focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent",children:r.jsx(l6,{options:Jc,onChange:d("cardExpiry")})}),l.cardExpiry&&r.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[r.jsx(dt,{className:"w-4 h-4 mr-1"}),l.cardExpiry]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVC"}),r.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-full focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent",children:r.jsx(c6,{options:Jc,onChange:d("cardCvc")})}),l.cardCvc&&r.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[r.jsx(dt,{className:"w-4 h-4 mr-1"}),l.cardCvc]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-full p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Lr,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-blue-900",children:"Pago 100% Seguro"}),r.jsx("p",{className:"text-blue-700 mt-1",children:"Tu información de pago está protegida con encriptación SSL de nivel bancario. No almacenamos tu información de tarjeta."})]})]})}),r.jsx("button",{type:"submit",disabled:!i||a||n||h,className:"w-full btn btn-primary btn-lg mt-6 disabled:opacity-50 disabled:cursor-not-allowed rounded-full",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Procesando pago..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ge,{className:"w-5 h-5 mr-2"}),"Pagar $",s.toFixed(2)]})}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-full p-4 mt-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Para pruebas, usa:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Visa:"})," 4242 4242 4242 4242"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Visa (debit):"})," 4000 0566 5566 5556"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Mastercard:"})," 5555 5555 5555 4444"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"MM/YY:"})," Cualquier fecha futura"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"CVC:"})," Cualquier 3 dígitos"]})]})]})]})})]})}function j6(){const{t:s}=je(),e=wt(),t=Cs(),{user:a,isAuthenticated:n}=we(),[i,o]=m.useState("stylist-selection"),[l,c]=m.useState([]),[d,u]=m.useState([]),[h,p]=m.useState(!0),[f,y]=m.useState(""),[x,g]=m.useState(null),[v,b]=m.useState(null),[k,w]=m.useState(""),[N,j]=m.useState(""),[_,S]=m.useState([]),[C,I]=m.useState(""),[P,A]=m.useState(new Set),[L,O]=m.useState(!1),[M,$]=m.useState(null),[D,q]=m.useState(null),[W,B]=m.useState(null);m.useEffect(()=>{var te;if(!n){e("/login");return}(te=t.state)!=null&&te.stylistId?(z(t.state.stylistId),t.state.serviceId?o("datetime-selection"):o("service-selection")):V()},[n,e,t.state]);const V=async()=>{try{p(!0);const te=await kr.getStylists();te.success&&te.data?c(te.data):R.error(s("booking.page.loadStylistsError"))}catch(te){console.error("Error loading stylists:",te),R.error(s("booking.page.loadStylistsError"))}finally{p(!1)}},ee=l.filter(te=>{const ge=f.toLowerCase();return te.business_name.toLowerCase().includes(ge)||te.location_city.toLowerCase().includes(ge)||te.specialties.some(ye=>ye.toLowerCase().includes(ge))}),F=te=>{A(ge=>{const ye=new Set(ge);return ye.has(te)?(ye.delete(te),R.success("Eliminado de favoritos")):(ye.add(te),R.success("Agregado a favoritos")),ye})},z=async te=>{try{p(!0);const[ge,ye]=await Promise.all([kr.getStylist(te),kr.getStylistServices(te)]);ge.success&&ge.data&&g(ge.data),ye.success&&ye.data&&u(ye.data)}catch(ge){console.error("Error loading stylist for booking:",ge),R.error(s("booking.page.loadStylistError"))}finally{p(!1)}},X=async te=>{try{g(te),p(!0);const ge=await kr.getStylistServices(te.id);ge.success&&ge.data?(u(ge.data),o("service-selection")):R.error("Error al cargar servicios del estilista")}catch(ge){console.error("Error loading stylist services:",ge),R.error("Error al cargar servicios")}finally{p(!1)}},Y=te=>{b(te),o("datetime-selection")},K=async te=>{if(x)try{const ge=await kr.getAvailableSlots(x.id,te);ge.success&&ge.data?S(ge.data):(S([]),R.error("No hay horarios disponibles para esta fecha"))}catch(ge){console.error("Error loading available slots:",ge),S([]),R.error("Error al cargar horarios disponibles")}},U=async()=>{if(!x||!v||!k||!N){R.error(s("booking.page.incompleteInfo"));return}try{const te=v.custom_price||v.service.price,ge=Math.round(te*.029*100)/100,ye=te+ge,lt=await Pp.createPaymentIntent(ye,{stylistId:x.id,serviceId:v.id,appointmentDate:k,appointmentTime:N});$(lt.paymentIntentId),q(lt.clientSecret)}catch(te){console.error("Error creating payment intent:",te),R.error("Error al preparar el pago")}},ae=async te=>{O(!0);try{const ge={stylist_id:x.id,service_id:v.id,appointment_date:k,appointment_time:N,notes:C},ye=await Pp.confirmPayment(te.id,ge);ye.success?(B(ye.booking),o("confirmation"),R.success(s("booking.page.paymentSuccess"))):R.error("Error al confirmar la reserva")}catch(ge){console.error("Error confirming booking:",ge),R.error("Error al procesar la confirmación")}finally{O(!1)}},Q=te=>{R.error(te),O(!1)};m.useEffect(()=>{i==="payment"&&!D&&U()},[i]);const re=()=>{const te=[{key:"stylist-selection",label:s("booking.page.stylistLabel"),number:1},{key:"service-selection",label:"Servicio",number:2},{key:"datetime-selection",label:"Fecha y Hora",number:3},{key:"payment",label:"Pago",number:4},{key:"confirmation",label:"Confirmación",number:5}];return r.jsx("div",{className:"flex items-center justify-center mb-8",children:te.map((ge,ye)=>{const lt=i===ge.key,ns=te.findIndex(H=>H.key===i)>ye;return r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${lt?"bg-primary-600 text-white":ns?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:ge.number}),r.jsx("span",{className:`ml-2 text-sm font-medium ${lt?"text-primary-600":"text-gray-500"}`,children:ge.label}),ye<te.length-1&&r.jsx(Sr,{className:"w-4 h-4 text-gray-400 mx-3"})]},ge.key)})})},ue=()=>h?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nombre, ciudad o especialidad...",value:f,onChange:te=>y(te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(te=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>X(te),children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[te.profile_picture_url?r.jsx("img",{src:te.profile_picture_url,alt:te.business_name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx(Ct,{className:"w-8 h-8 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:te.business_name}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"w-4 h-4 text-yellow-400 fill-current"}),r.jsx("span",{className:"text-gray-600 ml-1",children:parseFloat(te.rating_average.toString()).toFixed(1)})]}),r.jsx("span",{className:"text-gray-400",children:"•"}),r.jsxs("span",{className:"text-gray-600",children:[te.rating_count," reseñas"]})]})]})]}),r.jsx("button",{onClick:ge=>{ge.stopPropagation(),F(te.id)},className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:P.has(te.id)?r.jsx(Ps,{className:"w-5 h-5 text-red-500"}):r.jsx(We,{className:"w-5 h-5 text-gray-400"})})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[r.jsx(ot,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[te.location_city,", ",te.location_state]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[te.specialties.slice(0,3).map(ge=>r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-primary-100 text-primary-800 rounded-full",children:ge},ge)),te.specialties.length>3&&r.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:["+",te.specialties.length-3," más"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(ve,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[te.experience_years," años de experiencia"]})]}),r.jsx("div",{className:"text-primary-600 font-medium",children:"Ver servicios →"})]})]})},te.id))}),ee.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 mb-2",children:"No se encontraron estilistas"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Intenta con otros términos de búsqueda"})]})]}),Me=()=>h?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Servicios de ",x==null?void 0:x.business_name]}),r.jsx("p",{className:"text-gray-600",children:"Selecciona el servicio que deseas reservar"})]}),r.jsxs("button",{onClick:()=>o("stylist-selection"),className:"btn btn-outline-primary rounded-full",children:[r.jsx(st,{className:"w-4 h-4 mr-2"}),"Cambiar estilista"]})]}),d.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(te=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>Y(te),children:r.jsxs("div",{className:"card-body",children:[r.jsx("div",{className:"flex justify-between items-start mb-4",children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-lg mb-2",children:te.custom_name||te.service.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:te.custom_description||te.service.description})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ve,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[te.service.duration," min"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Le,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:["$",te.custom_price||te.service.price]})]})]}),r.jsx("div",{className:"text-primary-600 font-medium",children:"Seleccionar →"})]})]})},te.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 mb-2",children:"No hay servicios disponibles"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Este estilista aún no ha publicado sus servicios"}),r.jsx("button",{onClick:()=>o("stylist-selection"),className:"btn btn-primary rounded-full",children:"Volver a estilistas"})]})]}),it=()=>{const te=new Date,ge=[];for(let ye=0;ye<14;ye++){const lt=new Date(te);lt.setDate(te.getDate()+ye),ge.push(lt)}return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Selecciona Fecha y Hora"}),r.jsxs("p",{className:"text-gray-600",children:[(v==null?void 0:v.custom_name)||(v==null?void 0:v.service.name)," con ",x==null?void 0:x.business_name]})]}),r.jsxs("button",{onClick:()=>o("service-selection"),className:"btn btn-outline-primary rounded-full",children:[r.jsx(st,{className:"w-4 h-4 mr-2"}),"Cambiar servicio"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Selecciona una fecha"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:ge.map(ye=>{const lt=ye.toISOString().split("T")[0],ns=k===lt,H=ye.toDateString()===te.toDateString();return r.jsxs("button",{onClick:()=>{w(lt),j(""),K(lt)},className:`p-3 text-left rounded-full border transition-colors ${ns?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"font-medium",children:H?"Hoy":ye.toLocaleDateString("es-MX",{weekday:"short"})}),r.jsx("div",{className:"text-sm text-gray-600",children:ye.toLocaleDateString("es-MX",{month:"short",day:"numeric"})})]},lt)})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:k?"Horarios disponibles":"Primero selecciona una fecha"}),k?r.jsx("div",{className:"grid grid-cols-3 gap-2",children:_.length>0?_.map(ye=>r.jsx("button",{onClick:()=>j(ye),className:`p-2 text-sm rounded-full border transition-colors ${N===ye?"border-primary-500 bg-primary-500 text-white":"border-gray-300 hover:border-primary-300 hover:bg-primary-50"}`,children:ye},ye)):r.jsx("div",{className:"col-span-3 text-center py-8 text-gray-500",children:"No hay horarios disponibles para esta fecha"})}):r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(Oe,{className:"w-12 h-12 mx-auto mb-2"}),r.jsx("p",{children:"Selecciona una fecha para ver horarios"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas adicionales (opcional)"}),r.jsx("textarea",{value:C,onChange:ye=>I(ye.target.value),placeholder:s("booking.page.specialNotes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),k&&N&&r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-end",children:r.jsxs("button",{onClick:()=>o("payment"),className:"btn btn-primary btn-lg rounded-full",children:["Continuar a Pago",r.jsx(Sr,{className:"w-4 h-4 ml-2"})]})})]})},ut=()=>{const te=(v==null?void 0:v.custom_price)||(v==null?void 0:v.service.price)||0,ge=Math.round(te*.029*100)/100,ye=te+ge;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Confirmar y Pagar"}),r.jsx("p",{className:"text-gray-600",children:"Revisa los detalles de tu reserva antes de pagar"})]}),r.jsxs("button",{onClick:()=>o("datetime-selection"),className:"btn btn-outline-primary rounded-full",children:[r.jsx(st,{className:"w-4 h-4 mr-2"}),"Cambiar horario"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resumen de la Reserva"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[x!=null&&x.profile_picture_url?r.jsx("img",{src:x.profile_picture_url,alt:x.business_name,className:"w-16 h-16 rounded-full object-cover"}):r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx(Ct,{className:"w-10 h-10 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:x==null?void 0:x.business_name}),r.jsx("p",{className:"text-sm text-gray-600",children:x==null?void 0:x.name}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx(ot,{className:"w-4 h-4 text-gray-400 mr-1"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[x==null?void 0:x.location_city,", ",x==null?void 0:x.location_state]})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:(v==null?void 0:v.custom_name)||(v==null?void 0:v.service.name)}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(v==null?void 0:v.custom_description)||(v==null?void 0:v.service.description)}),r.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ve,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[v==null?void 0:v.service.duration," min"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oe,{className:"w-4 h-4 mr-1"}),r.jsxs("span",{children:[k," a las ",N]})]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-semibold text-gray-900",children:["$",te]})})]})}),C&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Notas"}),r.jsx("p",{className:"text-sm text-gray-600",children:C})]})]})]})}),r.jsx("div",{className:"mt-6",children:D?r.jsx(Vy,{stripe:b6,options:{clientSecret:D},children:r.jsx(w6,{totalAmount:ye,onPaymentSuccess:ae,onPaymentError:Q,isProcessing:L})}):r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mr-3"}),r.jsx("span",{className:"text-gray-600",children:"Preparando formulario de pago..."})]})})})})]}),r.jsx("div",{children:r.jsx("div",{className:"card sticky top-4",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resumen de Precio"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Servicio"}),r.jsxs("span",{className:"font-medium",children:["$",te]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tarifa de plataforma"}),r.jsxs("span",{className:"font-medium",children:["$",ge]})]}),r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),r.jsxs("span",{className:"font-semibold text-primary-600",children:["$",ye]})]})})]}),r.jsx("div",{className:"mt-6",children:r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Al completar tu reserva, aceptas nuestros términos y condiciones"})})]})})})]})]})},bt=()=>r.jsx("div",{className:"max-w-2xl mx-auto text-center",children:r.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ie,{className:"w-12 h-12 text-green-600"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"¡Reserva Confirmada!"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Tu cita ha sido reservada exitosamente. Recibirás una confirmación por SMS y email."}),r.jsxs("div",{className:"bg-gray-50 rounded-full p-6 mb-8",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Detalles de tu cita"}),r.jsxs("div",{className:"space-y-2 text-left",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Estilista:"}),r.jsx("span",{className:"font-medium",children:(W==null?void 0:W.business_name)||(x==null?void 0:x.business_name)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Servicio:"}),r.jsx("span",{className:"font-medium",children:(W==null?void 0:W.service_name)||(v==null?void 0:v.custom_name)||(v==null?void 0:v.service.name)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fecha:"}),r.jsx("span",{className:"font-medium",children:(W==null?void 0:W.appointment_date)||k})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Hora:"}),r.jsx("span",{className:"font-medium",children:(W==null?void 0:W.appointment_time)||N})]}),M&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"ID de Pago:"}),r.jsx("span",{className:"font-mono text-sm",children:M})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("button",{onClick:()=>e("/dashboard"),className:"btn btn-primary rounded-full",children:"Ver mis reservas"}),r.jsx("button",{onClick:()=>{o("stylist-selection"),g(null),b(null),w(""),j(""),I("")},className:"btn btn-outline-primary rounded-full",children:"Hacer otra reserva"})]})]})});return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"container-responsive py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:"Reservar Cita"}),r.jsx("p",{className:"text-gray-600",children:"Encuentra y reserva con los mejores estilistas de Puerto Vallarta"})]})}),re(),r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[i==="stylist-selection"&&ue(),i==="service-selection"&&Me(),i==="datetime-selection"&&it(),i==="payment"&&ut(),i==="confirmation"&&bt()]},i)]})})}class Ap{static async getStylistStats(){try{return(await me.get("/api/dashboard/stylist/stats")).data}catch(e){throw console.error("Failed to fetch stylist stats:",e),new Error("Failed to load dashboard statistics")}}static async getClientStats(){try{return(await me.get("/api/dashboard/client/stats")).data}catch(e){throw console.error("Failed to fetch client stats:",e),new Error("Failed to load dashboard statistics")}}static async getStylistActivity(){try{return(await me.get("/api/dashboard/stylist/activity")).data}catch(e){throw console.error("Failed to fetch stylist activity:",e),new Error("Failed to load activity data")}}static async getClientActivity(){try{return(await me.get("/api/dashboard/client/activity")).data}catch(e){throw console.error("Failed to fetch client activity:",e),new Error("Failed to load activity data")}}static async getProfileData(){try{return(await me.get("/api/dashboard/profile")).data}catch(e){throw console.error("Failed to fetch profile data:",e),new Error("Failed to load profile data")}}}function N6(){const{user:s,client:e}=we(),{t}=je(),[a,n]=m.useState({totalBookings:0,upcomingBookings:0,favoriteStylists:0,totalSpent:0}),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const[p,f]=await Promise.all([Ap.getClientStats(),Ap.getClientActivity()]);n(p),o(f.upcomingBookings||[]),c(f.recentBookings.map(y=>({id:y.id,stylistName:y.stylist_name,serviceName:y.service_name,date:y.appointment_date,rating:y.rating,canReview:!y.review_id}))||[])}catch(p){console.error("Error fetching profile data:",p)}finally{u(!1)}})()},[e]),d?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"container-responsive py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:t("profile.title")}),r.jsx("p",{className:"text-gray-600",children:t("profile.subtitle")})]})}),(s==null?void 0:s.profile_complete)&&(s==null?void 0:s.role)==="CLIENT"&&r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:r.jsx(Z,{to:"/profile/become-stylist",children:r.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-purple-600 via-pink-600 to-red-500 p-8 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] transition-all duration-300",children:[r.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 h-40 w-40 rounded-full bg-white opacity-10"}),r.jsx("div",{className:"absolute bottom-0 left-0 -mb-8 -ml-8 h-40 w-40 rounded-full bg-white opacity-10"}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 backdrop-blur-lg rounded-2xl flex items-center justify-center",children:r.jsx(Ee,{className:"h-10 w-10 text-white"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ready to Share Your Talent?"}),r.jsx("p",{className:"text-white text-opacity-90 text-lg",children:"Join our community of professional stylists and grow your business"})]})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[r.jsx("span",{className:"text-white font-semibold text-lg",children:"Become a Stylist"}),r.jsx(Ie,{className:"h-6 w-6 text-white animate-pulse"})]})]})]})})}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(Z,{to:"/stylists",className:"card hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"card-body text-center",children:[r.jsx(or,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900",children:t("profile.quickActions.newAppointment")}),r.jsx("p",{className:"text-sm text-gray-600",children:t("profile.quickActions.bookService")})]})}),r.jsx(Z,{to:"/bookings",className:"card hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"card-body text-center",children:[r.jsx(Oe,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900",children:t("profile.quickActions.myAppointments")}),r.jsx("p",{className:"text-sm text-gray-600",children:t("profile.quickActions.viewBookings")})]})}),r.jsx(Z,{to:"/profile/favorites",className:"card hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"card-body text-center",children:[r.jsx(We,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900",children:t("profile.quickActions.favorites")}),r.jsx("p",{className:"text-sm text-gray-600",children:t("profile.quickActions.favoriteStylists")})]})}),r.jsx(Z,{to:"/profile/settings",className:"card hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"card-body text-center",children:[r.jsx(Ct,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900",children:t("profile.quickActions.settings")}),r.jsx("p",{className:"text-sm text-gray-600",children:t("profile.quickActions.editProfile")})]})})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Oe,{className:"h-8 w-8 text-primary-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("profile.stats.upcomingAppointments")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.upcomingBookings})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ve,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("profile.stats.totalAppointments")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalBookings})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(We,{className:"h-8 w-8 text-red-500"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("profile.stats.favorites")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.favoriteStylists})]})]})})}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ge,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("profile.stats.spent")}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",a.totalSpent]})]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"card-title",children:t("profile.upcomingAppointments")}),r.jsx(Z,{to:"/bookings",className:"text-sm text-primary-600 hover:text-primary-700",children:t("profile.viewAll")})]}),r.jsx("div",{className:"card-body",children:i.length>0?r.jsx("div",{className:"space-y-4",children:i.map(h=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-full",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Oe,{className:"h-8 w-8 text-primary-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.serviceName}),r.jsxs("p",{className:"text-sm text-gray-500",children:[t("profile.with")," ",h.stylistName]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[h.date," ",t("profile.at")," ",h.time]})]}),r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",h.price]})]},h.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 mb-2",children:t("profile.noUpcomingBookings")}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:t("profile.noUpcomingBookingsDescription")}),r.jsx(Z,{to:"/stylists",className:"btn btn-primary btn-sm rounded-full",children:t("profile.exploreStylists")})]})})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"card-title",children:t("profile.recentActivity")}),r.jsx(Z,{to:"/bookings?tab=history",className:"text-sm text-primary-600 hover:text-primary-700",children:t("profile.viewHistory")})]}),r.jsx("div",{className:"card-body",children:l.length>0?r.jsx("div",{className:"space-y-4",children:l.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-full",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ve,{className:"h-8 w-8 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.serviceName}),r.jsxs("p",{className:"text-sm text-gray-500",children:[t("profile.with")," ",h.stylistName]}),r.jsx("p",{className:"text-sm text-gray-500",children:h.date})]})]}),r.jsx("div",{className:"text-right",children:h.rating?r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"h-4 w-4 text-yellow-400 mr-1"}),r.jsx("span",{className:"text-sm text-gray-600",children:h.rating})]}):h.canReview?r.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700",children:t("profile.rateService")}):null})]},h.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ve,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:t("profile.noRecentHistory")}),r.jsx("p",{className:"text-sm text-gray-400",children:t("profile.noRecentHistoryDescription")})]})})]})]}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-8",children:r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"card-title",children:t("profile.personalInfo")}),r.jsx(Z,{to:"/profile/edit",className:"text-sm text-primary-600 hover:text-primary-700",children:t("common.edit")})]}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("profile.fullName")}),r.jsx("p",{className:"text-gray-900",children:s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name} ${s.last_name}`:(s==null?void 0:s.name)||t("profile.notSpecified")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("profile.email")}),r.jsx("p",{className:"text-gray-900",children:s==null?void 0:s.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("profile.phone")}),r.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.phone)||t("profile.notSpecified")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("profile.location")}),r.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.preferred_location)||t("profile.notSpecified")})]})]})})]})})]})})}function k6(){const{user:s}=we();return r.jsx(N6,{})}var _6=function(e){return S6(e)&&!C6(e)};function S6(s){return!!s&&typeof s=="object"}function C6(s){var e=Object.prototype.toString.call(s);return e==="[object RegExp]"||e==="[object Date]"||P6(s)}var E6=typeof Symbol=="function"&&Symbol.for,T6=E6?Symbol.for("react.element"):60103;function P6(s){return s.$$typeof===T6}function A6(s){return Array.isArray(s)?[]:{}}function jl(s,e){return e.clone!==!1&&e.isMergeableObject(s)?fi(A6(s),s,e):s}function O6(s,e,t){return s.concat(e).map(function(a){return jl(a,t)})}function L6(s,e,t){var a={};return t.isMergeableObject(s)&&Object.keys(s).forEach(function(n){a[n]=jl(s[n],t)}),Object.keys(e).forEach(function(n){!t.isMergeableObject(e[n])||!s[n]?a[n]=jl(e[n],t):a[n]=fi(s[n],e[n],t)}),a}function fi(s,e,t){t=t||{},t.arrayMerge=t.arrayMerge||O6,t.isMergeableObject=t.isMergeableObject||_6;var a=Array.isArray(e),n=Array.isArray(s),i=a===n;return i?a?t.arrayMerge(s,e,t):L6(s,e,t):jl(e,t)}fi.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(a,n){return fi(a,n,t)},{})};var Su=fi,qy=typeof global=="object"&&global&&global.Object===Object&&global,R6=typeof self=="object"&&self&&self.Object===Object&&self,Ir=qy||R6||Function("return this")(),_s=Ir.Symbol,Gy=Object.prototype,I6=Gy.hasOwnProperty,M6=Gy.toString,_n=_s?_s.toStringTag:void 0;function $6(s){var e=I6.call(s,_n),t=s[_n];try{s[_n]=void 0;var a=!0}catch{}var n=M6.call(s);return a&&(e?s[_n]=t:delete s[_n]),n}var D6=Object.prototype,F6=D6.toString;function B6(s){return F6.call(s)}var V6="[object Null]",U6="[object Undefined]",Op=_s?_s.toStringTag:void 0;function ha(s){return s==null?s===void 0?U6:V6:Op&&Op in Object(s)?$6(s):B6(s)}function Yy(s,e){return function(t){return s(e(t))}}var Ch=Yy(Object.getPrototypeOf,Object);function ma(s){return s!=null&&typeof s=="object"}var W6="[object Object]",z6=Function.prototype,H6=Object.prototype,Ky=z6.toString,q6=H6.hasOwnProperty,G6=Ky.call(Object);function Lp(s){if(!ma(s)||ha(s)!=W6)return!1;var e=Ch(s);if(e===null)return!0;var t=q6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ky.call(t)==G6}function Y6(){this.__data__=[],this.size=0}function Qy(s,e){return s===e||s!==s&&e!==e}function ec(s,e){for(var t=s.length;t--;)if(Qy(s[t][0],e))return t;return-1}var K6=Array.prototype,Q6=K6.splice;function Z6(s){var e=this.__data__,t=ec(e,s);if(t<0)return!1;var a=e.length-1;return t==a?e.pop():Q6.call(e,t,1),--this.size,!0}function J6(s){var e=this.__data__,t=ec(e,s);return t<0?void 0:e[t][1]}function X6(s){return ec(this.__data__,s)>-1}function eE(s,e){var t=this.__data__,a=ec(t,s);return a<0?(++this.size,t.push([s,e])):t[a][1]=e,this}function es(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var a=s[e];this.set(a[0],a[1])}}es.prototype.clear=Y6;es.prototype.delete=Z6;es.prototype.get=J6;es.prototype.has=X6;es.prototype.set=eE;function tE(){this.__data__=new es,this.size=0}function rE(s){var e=this.__data__,t=e.delete(s);return this.size=e.size,t}function sE(s){return this.__data__.get(s)}function aE(s){return this.__data__.has(s)}function Fi(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var nE="[object AsyncFunction]",iE="[object Function]",oE="[object GeneratorFunction]",lE="[object Proxy]";function Zy(s){if(!Fi(s))return!1;var e=ha(s);return e==iE||e==oE||e==nE||e==lE}var Xc=Ir["__core-js_shared__"],Rp=function(){var s=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function cE(s){return!!Rp&&Rp in s}var dE=Function.prototype,uE=dE.toString;function pa(s){if(s!=null){try{return uE.call(s)}catch{}try{return s+""}catch{}}return""}var hE=/[\\^$.*+?()[\]{}|]/g,mE=/^\[object .+?Constructor\]$/,pE=Function.prototype,fE=Object.prototype,gE=pE.toString,xE=fE.hasOwnProperty,yE=RegExp("^"+gE.call(xE).replace(hE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bE(s){if(!Fi(s)||cE(s))return!1;var e=Zy(s)?yE:mE;return e.test(pa(s))}function vE(s,e){return s==null?void 0:s[e]}function fa(s,e){var t=vE(s,e);return bE(t)?t:void 0}var gi=fa(Ir,"Map"),xi=fa(Object,"create");function wE(){this.__data__=xi?xi(null):{},this.size=0}function jE(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}var NE="__lodash_hash_undefined__",kE=Object.prototype,_E=kE.hasOwnProperty;function SE(s){var e=this.__data__;if(xi){var t=e[s];return t===NE?void 0:t}return _E.call(e,s)?e[s]:void 0}var CE=Object.prototype,EE=CE.hasOwnProperty;function TE(s){var e=this.__data__;return xi?e[s]!==void 0:EE.call(e,s)}var PE="__lodash_hash_undefined__";function AE(s,e){var t=this.__data__;return this.size+=this.has(s)?0:1,t[s]=xi&&e===void 0?PE:e,this}function ia(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var a=s[e];this.set(a[0],a[1])}}ia.prototype.clear=wE;ia.prototype.delete=jE;ia.prototype.get=SE;ia.prototype.has=TE;ia.prototype.set=AE;function OE(){this.size=0,this.__data__={hash:new ia,map:new(gi||es),string:new ia}}function LE(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}function tc(s,e){var t=s.__data__;return LE(e)?t[typeof e=="string"?"string":"hash"]:t.map}function RE(s){var e=tc(this,s).delete(s);return this.size-=e?1:0,e}function IE(s){return tc(this,s).get(s)}function ME(s){return tc(this,s).has(s)}function $E(s,e){var t=tc(this,s),a=t.size;return t.set(s,e),this.size+=t.size==a?0:1,this}function As(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var a=s[e];this.set(a[0],a[1])}}As.prototype.clear=OE;As.prototype.delete=RE;As.prototype.get=IE;As.prototype.has=ME;As.prototype.set=$E;var DE=200;function FE(s,e){var t=this.__data__;if(t instanceof es){var a=t.__data__;if(!gi||a.length<DE-1)return a.push([s,e]),this.size=++t.size,this;t=this.__data__=new As(a)}return t.set(s,e),this.size=t.size,this}function dn(s){var e=this.__data__=new es(s);this.size=e.size}dn.prototype.clear=tE;dn.prototype.delete=rE;dn.prototype.get=sE;dn.prototype.has=aE;dn.prototype.set=FE;function BE(s,e){for(var t=-1,a=s==null?0:s.length;++t<a&&e(s[t],t,s)!==!1;);return s}var Ip=function(){try{var s=fa(Object,"defineProperty");return s({},"",{}),s}catch{}}();function Jy(s,e,t){e=="__proto__"&&Ip?Ip(s,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):s[e]=t}var VE=Object.prototype,UE=VE.hasOwnProperty;function Xy(s,e,t){var a=s[e];(!(UE.call(s,e)&&Qy(a,t))||t===void 0&&!(e in s))&&Jy(s,e,t)}function rc(s,e,t,a){var n=!t;t||(t={});for(var i=-1,o=e.length;++i<o;){var l=e[i],c=void 0;c===void 0&&(c=s[l]),n?Jy(t,l,c):Xy(t,l,c)}return t}function WE(s,e){for(var t=-1,a=Array(s);++t<s;)a[t]=e(t);return a}var zE="[object Arguments]";function Mp(s){return ma(s)&&ha(s)==zE}var eb=Object.prototype,HE=eb.hasOwnProperty,qE=eb.propertyIsEnumerable,GE=Mp(function(){return arguments}())?Mp:function(s){return ma(s)&&HE.call(s,"callee")&&!qE.call(s,"callee")},Bi=Array.isArray;function YE(){return!1}var tb=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,$p=tb&&typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,KE=$p&&$p.exports===tb,Dp=KE?Ir.Buffer:void 0,QE=Dp?Dp.isBuffer:void 0,rb=QE||YE,ZE=9007199254740991,JE=/^(?:0|[1-9]\d*)$/;function XE(s,e){var t=typeof s;return e=e??ZE,!!e&&(t=="number"||t!="symbol"&&JE.test(s))&&s>-1&&s%1==0&&s<e}var e4=9007199254740991;function sb(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=e4}var t4="[object Arguments]",r4="[object Array]",s4="[object Boolean]",a4="[object Date]",n4="[object Error]",i4="[object Function]",o4="[object Map]",l4="[object Number]",c4="[object Object]",d4="[object RegExp]",u4="[object Set]",h4="[object String]",m4="[object WeakMap]",p4="[object ArrayBuffer]",f4="[object DataView]",g4="[object Float32Array]",x4="[object Float64Array]",y4="[object Int8Array]",b4="[object Int16Array]",v4="[object Int32Array]",w4="[object Uint8Array]",j4="[object Uint8ClampedArray]",N4="[object Uint16Array]",k4="[object Uint32Array]",Ze={};Ze[g4]=Ze[x4]=Ze[y4]=Ze[b4]=Ze[v4]=Ze[w4]=Ze[j4]=Ze[N4]=Ze[k4]=!0;Ze[t4]=Ze[r4]=Ze[p4]=Ze[s4]=Ze[f4]=Ze[a4]=Ze[n4]=Ze[i4]=Ze[o4]=Ze[l4]=Ze[c4]=Ze[d4]=Ze[u4]=Ze[h4]=Ze[m4]=!1;function _4(s){return ma(s)&&sb(s.length)&&!!Ze[ha(s)]}function Eh(s){return function(e){return s(e)}}var ab=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,ei=ab&&typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,S4=ei&&ei.exports===ab,ed=S4&&qy.process,Ja=function(){try{var s=ei&&ei.require&&ei.require("util").types;return s||ed&&ed.binding&&ed.binding("util")}catch{}}(),Fp=Ja&&Ja.isTypedArray,C4=Fp?Eh(Fp):_4,E4=Object.prototype,T4=E4.hasOwnProperty;function nb(s,e){var t=Bi(s),a=!t&&GE(s),n=!t&&!a&&rb(s),i=!t&&!a&&!n&&C4(s),o=t||a||n||i,l=o?WE(s.length,String):[],c=l.length;for(var d in s)(e||T4.call(s,d))&&!(o&&(d=="length"||n&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||XE(d,c)))&&l.push(d);return l}var P4=Object.prototype;function Th(s){var e=s&&s.constructor,t=typeof e=="function"&&e.prototype||P4;return s===t}var A4=Yy(Object.keys,Object),O4=Object.prototype,L4=O4.hasOwnProperty;function R4(s){if(!Th(s))return A4(s);var e=[];for(var t in Object(s))L4.call(s,t)&&t!="constructor"&&e.push(t);return e}function ib(s){return s!=null&&sb(s.length)&&!Zy(s)}function Ph(s){return ib(s)?nb(s):R4(s)}function I4(s,e){return s&&rc(e,Ph(e),s)}function M4(s){var e=[];if(s!=null)for(var t in Object(s))e.push(t);return e}var $4=Object.prototype,D4=$4.hasOwnProperty;function F4(s){if(!Fi(s))return M4(s);var e=Th(s),t=[];for(var a in s)a=="constructor"&&(e||!D4.call(s,a))||t.push(a);return t}function Ah(s){return ib(s)?nb(s,!0):F4(s)}function B4(s,e){return s&&rc(e,Ah(e),s)}var ob=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,Bp=ob&&typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,V4=Bp&&Bp.exports===ob,Vp=V4?Ir.Buffer:void 0,Up=Vp?Vp.allocUnsafe:void 0;function U4(s,e){if(e)return s.slice();var t=s.length,a=Up?Up(t):new s.constructor(t);return s.copy(a),a}function lb(s,e){var t=-1,a=s.length;for(e||(e=Array(a));++t<a;)e[t]=s[t];return e}function W4(s,e){for(var t=-1,a=s==null?0:s.length,n=0,i=[];++t<a;){var o=s[t];e(o,t,s)&&(i[n++]=o)}return i}function cb(){return[]}var z4=Object.prototype,H4=z4.propertyIsEnumerable,Wp=Object.getOwnPropertySymbols,Oh=Wp?function(s){return s==null?[]:(s=Object(s),W4(Wp(s),function(e){return H4.call(s,e)}))}:cb;function q4(s,e){return rc(s,Oh(s),e)}function db(s,e){for(var t=-1,a=e.length,n=s.length;++t<a;)s[n+t]=e[t];return s}var G4=Object.getOwnPropertySymbols,ub=G4?function(s){for(var e=[];s;)db(e,Oh(s)),s=Ch(s);return e}:cb;function Y4(s,e){return rc(s,ub(s),e)}function hb(s,e,t){var a=e(s);return Bi(s)?a:db(a,t(s))}function K4(s){return hb(s,Ph,Oh)}function Q4(s){return hb(s,Ah,ub)}var Cu=fa(Ir,"DataView"),Eu=fa(Ir,"Promise"),Tu=fa(Ir,"Set"),Pu=fa(Ir,"WeakMap"),zp="[object Map]",Z4="[object Object]",Hp="[object Promise]",qp="[object Set]",Gp="[object WeakMap]",Yp="[object DataView]",J4=pa(Cu),X4=pa(gi),eT=pa(Eu),tT=pa(Tu),rT=pa(Pu),qr=ha;(Cu&&qr(new Cu(new ArrayBuffer(1)))!=Yp||gi&&qr(new gi)!=zp||Eu&&qr(Eu.resolve())!=Hp||Tu&&qr(new Tu)!=qp||Pu&&qr(new Pu)!=Gp)&&(qr=function(s){var e=ha(s),t=e==Z4?s.constructor:void 0,a=t?pa(t):"";if(a)switch(a){case J4:return Yp;case X4:return zp;case eT:return Hp;case tT:return qp;case rT:return Gp}return e});var sT=Object.prototype,aT=sT.hasOwnProperty;function nT(s){var e=s.length,t=new s.constructor(e);return e&&typeof s[0]=="string"&&aT.call(s,"index")&&(t.index=s.index,t.input=s.input),t}var Kp=Ir.Uint8Array;function Lh(s){var e=new s.constructor(s.byteLength);return new Kp(e).set(new Kp(s)),e}function iT(s,e){var t=e?Lh(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.byteLength)}var oT=/\w*$/;function lT(s){var e=new s.constructor(s.source,oT.exec(s));return e.lastIndex=s.lastIndex,e}var Qp=_s?_s.prototype:void 0,Zp=Qp?Qp.valueOf:void 0;function cT(s){return Zp?Object(Zp.call(s)):{}}function dT(s,e){var t=e?Lh(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.length)}var uT="[object Boolean]",hT="[object Date]",mT="[object Map]",pT="[object Number]",fT="[object RegExp]",gT="[object Set]",xT="[object String]",yT="[object Symbol]",bT="[object ArrayBuffer]",vT="[object DataView]",wT="[object Float32Array]",jT="[object Float64Array]",NT="[object Int8Array]",kT="[object Int16Array]",_T="[object Int32Array]",ST="[object Uint8Array]",CT="[object Uint8ClampedArray]",ET="[object Uint16Array]",TT="[object Uint32Array]";function PT(s,e,t){var a=s.constructor;switch(e){case bT:return Lh(s);case uT:case hT:return new a(+s);case vT:return iT(s,t);case wT:case jT:case NT:case kT:case _T:case ST:case CT:case ET:case TT:return dT(s,t);case mT:return new a;case pT:case xT:return new a(s);case fT:return lT(s);case gT:return new a;case yT:return cT(s)}}var Jp=Object.create,AT=function(){function s(){}return function(e){if(!Fi(e))return{};if(Jp)return Jp(e);s.prototype=e;var t=new s;return s.prototype=void 0,t}}();function OT(s){return typeof s.constructor=="function"&&!Th(s)?AT(Ch(s)):{}}var LT="[object Map]";function RT(s){return ma(s)&&qr(s)==LT}var Xp=Ja&&Ja.isMap,IT=Xp?Eh(Xp):RT,MT="[object Set]";function $T(s){return ma(s)&&qr(s)==MT}var ef=Ja&&Ja.isSet,DT=ef?Eh(ef):$T,FT=1,BT=2,VT=4,mb="[object Arguments]",UT="[object Array]",WT="[object Boolean]",zT="[object Date]",HT="[object Error]",pb="[object Function]",qT="[object GeneratorFunction]",GT="[object Map]",YT="[object Number]",fb="[object Object]",KT="[object RegExp]",QT="[object Set]",ZT="[object String]",JT="[object Symbol]",XT="[object WeakMap]",eP="[object ArrayBuffer]",tP="[object DataView]",rP="[object Float32Array]",sP="[object Float64Array]",aP="[object Int8Array]",nP="[object Int16Array]",iP="[object Int32Array]",oP="[object Uint8Array]",lP="[object Uint8ClampedArray]",cP="[object Uint16Array]",dP="[object Uint32Array]",Ye={};Ye[mb]=Ye[UT]=Ye[eP]=Ye[tP]=Ye[WT]=Ye[zT]=Ye[rP]=Ye[sP]=Ye[aP]=Ye[nP]=Ye[iP]=Ye[GT]=Ye[YT]=Ye[fb]=Ye[KT]=Ye[QT]=Ye[ZT]=Ye[JT]=Ye[oP]=Ye[lP]=Ye[cP]=Ye[dP]=!0;Ye[HT]=Ye[pb]=Ye[XT]=!1;function ti(s,e,t,a,n,i){var o,l=e&FT,c=e&BT,d=e&VT;if(o!==void 0)return o;if(!Fi(s))return s;var u=Bi(s);if(u){if(o=nT(s),!l)return lb(s,o)}else{var h=qr(s),p=h==pb||h==qT;if(rb(s))return U4(s,l);if(h==fb||h==mb||p&&!n){if(o=c||p?{}:OT(s),!l)return c?Y4(s,B4(o,s)):q4(s,I4(o,s))}else{if(!Ye[h])return n?s:{};o=PT(s,h,l)}}i||(i=new dn);var f=i.get(s);if(f)return f;i.set(s,o),DT(s)?s.forEach(function(g){o.add(ti(g,e,t,g,s,i))}):IT(s)&&s.forEach(function(g,v){o.set(v,ti(g,e,t,v,s,i))});var y=d?c?Q4:K4:c?Ah:Ph,x=u?void 0:y(s);return BE(x||s,function(g,v){x&&(v=g,g=s[v]),Xy(o,v,ti(g,e,t,v,s,i))}),o}var uP=1,hP=4;function Vn(s){return ti(s,uP|hP)}var tf=Array.isArray,rf=Object.keys,mP=Object.prototype.hasOwnProperty,pP=typeof Element<"u";function Au(s,e){if(s===e)return!0;if(s&&e&&typeof s=="object"&&typeof e=="object"){var t=tf(s),a=tf(e),n,i,o;if(t&&a){if(i=s.length,i!=e.length)return!1;for(n=i;n--!==0;)if(!Au(s[n],e[n]))return!1;return!0}if(t!=a)return!1;var l=s instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return s.getTime()==e.getTime();var d=s instanceof RegExp,u=e instanceof RegExp;if(d!=u)return!1;if(d&&u)return s.toString()==e.toString();var h=rf(s);if(i=h.length,i!==rf(e).length)return!1;for(n=i;n--!==0;)if(!mP.call(e,h[n]))return!1;if(pP&&s instanceof Element&&e instanceof Element)return s===e;for(n=i;n--!==0;)if(o=h[n],!(o==="_owner"&&s.$$typeof)&&!Au(s[o],e[o]))return!1;return!0}return s!==s&&e!==e}var fP=function(e,t){try{return Au(e,t)}catch(a){if(a.message&&a.message.match(/stack|recursion/i)||a.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",a.name,a.message),!1;throw a}};const hs=ua(fP);var gP=4;function sf(s){return ti(s,gP)}function gb(s,e){for(var t=-1,a=s==null?0:s.length,n=Array(a);++t<a;)n[t]=e(s[t],t,s);return n}var xP="[object Symbol]";function Rh(s){return typeof s=="symbol"||ma(s)&&ha(s)==xP}var yP="Expected a function";function Ih(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError(yP);var t=function(){var a=arguments,n=e?e.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var o=s.apply(this,a);return t.cache=i.set(n,o)||i,o};return t.cache=new(Ih.Cache||As),t}Ih.Cache=As;var bP=500;function vP(s){var e=Ih(s,function(a){return t.size===bP&&t.clear(),a}),t=e.cache;return e}var wP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jP=/\\(\\)?/g,NP=vP(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(wP,function(t,a,n,i){e.push(n?i.replace(jP,"$1"):a||t)}),e});function kP(s){if(typeof s=="string"||Rh(s))return s;var e=s+"";return e=="0"&&1/s==-1/0?"-0":e}var af=_s?_s.prototype:void 0,nf=af?af.toString:void 0;function xb(s){if(typeof s=="string")return s;if(Bi(s))return gb(s,xb)+"";if(Rh(s))return nf?nf.call(s):"";var e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function _P(s){return s==null?"":xb(s)}function yb(s){return Bi(s)?gb(s,kP):Rh(s)?[s]:lb(NP(_P(s)))}var bb={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,Mh=Nt?Symbol.for("react.element"):60103,$h=Nt?Symbol.for("react.portal"):60106,sc=Nt?Symbol.for("react.fragment"):60107,ac=Nt?Symbol.for("react.strict_mode"):60108,nc=Nt?Symbol.for("react.profiler"):60114,ic=Nt?Symbol.for("react.provider"):60109,oc=Nt?Symbol.for("react.context"):60110,Dh=Nt?Symbol.for("react.async_mode"):60111,lc=Nt?Symbol.for("react.concurrent_mode"):60111,cc=Nt?Symbol.for("react.forward_ref"):60112,dc=Nt?Symbol.for("react.suspense"):60113,SP=Nt?Symbol.for("react.suspense_list"):60120,uc=Nt?Symbol.for("react.memo"):60115,hc=Nt?Symbol.for("react.lazy"):60116,CP=Nt?Symbol.for("react.block"):60121,EP=Nt?Symbol.for("react.fundamental"):60117,TP=Nt?Symbol.for("react.responder"):60118,PP=Nt?Symbol.for("react.scope"):60119;function er(s){if(typeof s=="object"&&s!==null){var e=s.$$typeof;switch(e){case Mh:switch(s=s.type,s){case Dh:case lc:case sc:case nc:case ac:case dc:return s;default:switch(s=s&&s.$$typeof,s){case oc:case cc:case hc:case uc:case ic:return s;default:return e}}case $h:return e}}}function vb(s){return er(s)===lc}ze.AsyncMode=Dh;ze.ConcurrentMode=lc;ze.ContextConsumer=oc;ze.ContextProvider=ic;ze.Element=Mh;ze.ForwardRef=cc;ze.Fragment=sc;ze.Lazy=hc;ze.Memo=uc;ze.Portal=$h;ze.Profiler=nc;ze.StrictMode=ac;ze.Suspense=dc;ze.isAsyncMode=function(s){return vb(s)||er(s)===Dh};ze.isConcurrentMode=vb;ze.isContextConsumer=function(s){return er(s)===oc};ze.isContextProvider=function(s){return er(s)===ic};ze.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Mh};ze.isForwardRef=function(s){return er(s)===cc};ze.isFragment=function(s){return er(s)===sc};ze.isLazy=function(s){return er(s)===hc};ze.isMemo=function(s){return er(s)===uc};ze.isPortal=function(s){return er(s)===$h};ze.isProfiler=function(s){return er(s)===nc};ze.isStrictMode=function(s){return er(s)===ac};ze.isSuspense=function(s){return er(s)===dc};ze.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===sc||s===lc||s===nc||s===ac||s===dc||s===SP||typeof s=="object"&&s!==null&&(s.$$typeof===hc||s.$$typeof===uc||s.$$typeof===ic||s.$$typeof===oc||s.$$typeof===cc||s.$$typeof===EP||s.$$typeof===TP||s.$$typeof===PP||s.$$typeof===CP)};ze.typeOf=er;bb.exports=ze;var AP=bb.exports,Fh=AP,OP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bh={};Bh[Fh.ForwardRef]=RP;Bh[Fh.Memo]=wb;function of(s){return Fh.isMemo(s)?wb:Bh[s.$$typeof]||OP}var IP=Object.defineProperty,MP=Object.getOwnPropertyNames,lf=Object.getOwnPropertySymbols,$P=Object.getOwnPropertyDescriptor,DP=Object.getPrototypeOf,cf=Object.prototype;function jb(s,e,t){if(typeof e!="string"){if(cf){var a=DP(e);a&&a!==cf&&jb(s,a,t)}var n=MP(e);lf&&(n=n.concat(lf(e)));for(var i=of(s),o=of(e),l=0;l<n.length;++l){var c=n[l];if(!LP[c]&&!(t&&t[c])&&!(o&&o[c])&&!(i&&i[c])){var d=$P(e,c);try{IP(s,c,d)}catch{}}}}return s}var FP=jb;const BP=ua(FP);function Be(){return Be=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=t[a])}return s},Be.apply(this,arguments)}function Nb(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}function fs(s,e){if(s==null)return{};var t={},a=Object.keys(s),n,i;for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(t[n]=s[n]);return t}function df(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var mc=m.createContext(void 0);mc.displayName="FormikContext";var VP=mc.Provider,UP=mc.Consumer;function kb(){var s=m.useContext(mc);return s}var uf=function(e){return Array.isArray(e)&&e.length===0},St=function(e){return typeof e=="function"},Vi=function(e){return e!==null&&typeof e=="object"},WP=function(e){return String(Math.floor(Number(e)))===e},td=function(e){return Object.prototype.toString.call(e)==="[object String]"},_b=function(e){return m.Children.count(e)===0},rd=function(e){return Vi(e)&&St(e.then)};function Xe(s,e,t,a){a===void 0&&(a=0);for(var n=yb(e);s&&a<n.length;)s=s[n[a++]];return a!==n.length&&!s||s===void 0?t:s}function Tr(s,e,t){for(var a=sf(s),n=a,i=0,o=yb(e);i<o.length-1;i++){var l=o[i],c=Xe(s,o.slice(0,i+1));if(c&&(Vi(c)||Array.isArray(c)))n=n[l]=sf(c);else{var d=o[i+1];n=n[l]=WP(d)&&Number(d)>=0?[]:{}}}return(i===0?s:n)[o[i]]===t?s:(t===void 0?delete n[o[i]]:n[o[i]]=t,i===0&&t===void 0&&delete a[o[i]],a)}function Sb(s,e,t,a){t===void 0&&(t=new WeakMap),a===void 0&&(a={});for(var n=0,i=Object.keys(s);n<i.length;n++){var o=i[n],l=s[o];Vi(l)?t.get(l)||(t.set(l,!0),a[o]=Array.isArray(l)?[]:{},Sb(l,e,t,a[o])):a[o]=e}return a}function zP(s,e){switch(e.type){case"SET_VALUES":return Be({},s,{values:e.payload});case"SET_TOUCHED":return Be({},s,{touched:e.payload});case"SET_ERRORS":return hs(s.errors,e.payload)?s:Be({},s,{errors:e.payload});case"SET_STATUS":return Be({},s,{status:e.payload});case"SET_ISSUBMITTING":return Be({},s,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Be({},s,{isValidating:e.payload});case"SET_FIELD_VALUE":return Be({},s,{values:Tr(s.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Be({},s,{touched:Tr(s.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Be({},s,{errors:Tr(s.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Be({},s,e.payload);case"SET_FORMIK_STATE":return e.payload(s);case"SUBMIT_ATTEMPT":return Be({},s,{touched:Sb(s.values,!0),isSubmitting:!0,submitCount:s.submitCount+1});case"SUBMIT_FAILURE":return Be({},s,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Be({},s,{isSubmitting:!1});default:return s}}var Os={},to={};function HP(s){var e=s.validateOnChange,t=e===void 0?!0:e,a=s.validateOnBlur,n=a===void 0?!0:a,i=s.validateOnMount,o=i===void 0?!1:i,l=s.isInitialValid,c=s.enableReinitialize,d=c===void 0?!1:c,u=s.onSubmit,h=fs(s,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=Be({validateOnChange:t,validateOnBlur:n,validateOnMount:o,onSubmit:u},h),f=m.useRef(p.initialValues),y=m.useRef(p.initialErrors||Os),x=m.useRef(p.initialTouched||to),g=m.useRef(p.initialStatus),v=m.useRef(!1),b=m.useRef({});m.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var k=m.useState(0),w=k[1],N=m.useRef({values:Vn(p.initialValues),errors:Vn(p.initialErrors)||Os,touched:Vn(p.initialTouched)||to,status:Vn(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=N.current,_=m.useCallback(function(H){var ne=N.current;N.current=zP(ne,H),ne!==N.current&&w(function(ce){return ce+1})},[]),S=m.useCallback(function(H,ne){return new Promise(function(ce,fe){var Ne=p.validate(H,ne);Ne==null?ce(Os):rd(Ne)?Ne.then(function(Ae){ce(Ae||Os)},function(Ae){fe(Ae)}):ce(Ne)})},[p.validate]),C=m.useCallback(function(H,ne){var ce=p.validationSchema,fe=St(ce)?ce(ne):ce,Ne=ne&&fe.validateAt?fe.validateAt(ne,H):YP(H,fe);return new Promise(function(Ae,ht){Ne.then(function(){Ae(Os)},function(It){It.name==="ValidationError"?Ae(GP(It)):ht(It)})})},[p.validationSchema]),I=m.useCallback(function(H,ne){return new Promise(function(ce){return ce(b.current[H].validate(ne))})},[]),P=m.useCallback(function(H){var ne=Object.keys(b.current).filter(function(fe){return St(b.current[fe].validate)}),ce=ne.length>0?ne.map(function(fe){return I(fe,Xe(H,fe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ce).then(function(fe){return fe.reduce(function(Ne,Ae,ht){return Ae==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ae&&(Ne=Tr(Ne,ne[ht],Ae)),Ne},{})})},[I]),A=m.useCallback(function(H){return Promise.all([P(H),p.validationSchema?C(H):{},p.validate?S(H):{}]).then(function(ne){var ce=ne[0],fe=ne[1],Ne=ne[2],Ae=Su.all([ce,fe,Ne],{arrayMerge:KP});return Ae})},[p.validate,p.validationSchema,P,S,C]),L=tr(function(H){return H===void 0&&(H=j.values),_({type:"SET_ISVALIDATING",payload:!0}),A(H).then(function(ne){return v.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:ne})),ne})});m.useEffect(function(){o&&v.current===!0&&hs(f.current,p.initialValues)&&L(f.current)},[o,L]);var O=m.useCallback(function(H){var ne=H&&H.values?H.values:f.current,ce=H&&H.errors?H.errors:y.current?y.current:p.initialErrors||{},fe=H&&H.touched?H.touched:x.current?x.current:p.initialTouched||{},Ne=H&&H.status?H.status:g.current?g.current:p.initialStatus;f.current=ne,y.current=ce,x.current=fe,g.current=Ne;var Ae=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!H&&!!H.isSubmitting,errors:ce,touched:fe,status:Ne,values:ne,isValidating:!!H&&!!H.isValidating,submitCount:H&&H.submitCount&&typeof H.submitCount=="number"?H.submitCount:0}})};if(p.onReset){var ht=p.onReset(j.values,Me);rd(ht)?ht.then(Ae):Ae()}else Ae()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);m.useEffect(function(){v.current===!0&&!hs(f.current,p.initialValues)&&d&&(f.current=p.initialValues,O(),o&&L(f.current))},[d,p.initialValues,O,o,L]),m.useEffect(function(){d&&v.current===!0&&!hs(y.current,p.initialErrors)&&(y.current=p.initialErrors||Os,_({type:"SET_ERRORS",payload:p.initialErrors||Os}))},[d,p.initialErrors]),m.useEffect(function(){d&&v.current===!0&&!hs(x.current,p.initialTouched)&&(x.current=p.initialTouched||to,_({type:"SET_TOUCHED",payload:p.initialTouched||to}))},[d,p.initialTouched]),m.useEffect(function(){d&&v.current===!0&&!hs(g.current,p.initialStatus)&&(g.current=p.initialStatus,_({type:"SET_STATUS",payload:p.initialStatus}))},[d,p.initialStatus,p.initialTouched]);var M=tr(function(H){if(b.current[H]&&St(b.current[H].validate)){var ne=Xe(j.values,H),ce=b.current[H].validate(ne);return rd(ce)?(_({type:"SET_ISVALIDATING",payload:!0}),ce.then(function(fe){return fe}).then(function(fe){_({type:"SET_FIELD_ERROR",payload:{field:H,value:fe}}),_({type:"SET_ISVALIDATING",payload:!1})})):(_({type:"SET_FIELD_ERROR",payload:{field:H,value:ce}}),Promise.resolve(ce))}else if(p.validationSchema)return _({type:"SET_ISVALIDATING",payload:!0}),C(j.values,H).then(function(fe){return fe}).then(function(fe){_({type:"SET_FIELD_ERROR",payload:{field:H,value:Xe(fe,H)}}),_({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),$=m.useCallback(function(H,ne){var ce=ne.validate;b.current[H]={validate:ce}},[]),D=m.useCallback(function(H){delete b.current[H]},[]),q=tr(function(H,ne){_({type:"SET_TOUCHED",payload:H});var ce=ne===void 0?n:ne;return ce?L(j.values):Promise.resolve()}),W=m.useCallback(function(H){_({type:"SET_ERRORS",payload:H})},[]),B=tr(function(H,ne){var ce=St(H)?H(j.values):H;_({type:"SET_VALUES",payload:ce});var fe=ne===void 0?t:ne;return fe?L(ce):Promise.resolve()}),V=m.useCallback(function(H,ne){_({type:"SET_FIELD_ERROR",payload:{field:H,value:ne}})},[]),ee=tr(function(H,ne,ce){_({type:"SET_FIELD_VALUE",payload:{field:H,value:ne}});var fe=ce===void 0?t:ce;return fe?L(Tr(j.values,H,ne)):Promise.resolve()}),F=m.useCallback(function(H,ne){var ce=ne,fe=H,Ne;if(!td(H)){H.persist&&H.persist();var Ae=H.target?H.target:H.currentTarget,ht=Ae.type,It=Ae.name,$r=Ae.id,ka=Ae.value,_a=Ae.checked;Ae.outerHTML;var is=Ae.options,Sa=Ae.multiple;ce=ne||It||$r,fe=/number|range/.test(ht)?(Ne=parseFloat(ka),isNaN(Ne)?"":Ne):/checkbox/.test(ht)?ZP(Xe(j.values,ce),_a,ka):is&&Sa?QP(is):ka}ce&&ee(ce,fe)},[ee,j.values]),z=tr(function(H){if(td(H))return function(ne){return F(ne,H)};F(H)}),X=tr(function(H,ne,ce){ne===void 0&&(ne=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:H,value:ne}});var fe=ce===void 0?n:ce;return fe?L(j.values):Promise.resolve()}),Y=m.useCallback(function(H,ne){H.persist&&H.persist();var ce=H.target,fe=ce.name,Ne=ce.id;ce.outerHTML;var Ae=ne||fe||Ne;X(Ae,!0)},[X]),K=tr(function(H){if(td(H))return function(ne){return Y(ne,H)};Y(H)}),U=m.useCallback(function(H){St(H)?_({type:"SET_FORMIK_STATE",payload:H}):_({type:"SET_FORMIK_STATE",payload:function(){return H}})},[]),ae=m.useCallback(function(H){_({type:"SET_STATUS",payload:H})},[]),Q=m.useCallback(function(H){_({type:"SET_ISSUBMITTING",payload:H})},[]),re=tr(function(){return _({type:"SUBMIT_ATTEMPT"}),L().then(function(H){var ne=H instanceof Error,ce=!ne&&Object.keys(H).length===0;if(ce){var fe;try{if(fe=it(),fe===void 0)return}catch(Ne){throw Ne}return Promise.resolve(fe).then(function(Ne){return v.current&&_({type:"SUBMIT_SUCCESS"}),Ne}).catch(function(Ne){if(v.current)throw _({type:"SUBMIT_FAILURE"}),Ne})}else if(v.current&&(_({type:"SUBMIT_FAILURE"}),ne))throw H})}),ue=tr(function(H){H&&H.preventDefault&&St(H.preventDefault)&&H.preventDefault(),H&&H.stopPropagation&&St(H.stopPropagation)&&H.stopPropagation(),re().catch(function(ne){console.warn("Warning: An unhandled error was caught from submitForm()",ne)})}),Me={resetForm:O,validateForm:L,validateField:M,setErrors:W,setFieldError:V,setFieldTouched:X,setFieldValue:ee,setStatus:ae,setSubmitting:Q,setTouched:q,setValues:B,setFormikState:U,submitForm:re},it=tr(function(){return u(j.values,Me)}),ut=tr(function(H){H&&H.preventDefault&&St(H.preventDefault)&&H.preventDefault(),H&&H.stopPropagation&&St(H.stopPropagation)&&H.stopPropagation(),O()}),bt=m.useCallback(function(H){return{value:Xe(j.values,H),error:Xe(j.errors,H),touched:!!Xe(j.touched,H),initialValue:Xe(f.current,H),initialTouched:!!Xe(x.current,H),initialError:Xe(y.current,H)}},[j.errors,j.touched,j.values]),te=m.useCallback(function(H){return{setValue:function(ce,fe){return ee(H,ce,fe)},setTouched:function(ce,fe){return X(H,ce,fe)},setError:function(ce){return V(H,ce)}}},[ee,X,V]),ge=m.useCallback(function(H){var ne=Vi(H),ce=ne?H.name:H,fe=Xe(j.values,ce),Ne={name:ce,value:fe,onChange:z,onBlur:K};if(ne){var Ae=H.type,ht=H.value,It=H.as,$r=H.multiple;Ae==="checkbox"?ht===void 0?Ne.checked=!!fe:(Ne.checked=!!(Array.isArray(fe)&&~fe.indexOf(ht)),Ne.value=ht):Ae==="radio"?(Ne.checked=fe===ht,Ne.value=ht):It==="select"&&$r&&(Ne.value=Ne.value||[],Ne.multiple=!0)}return Ne},[K,z,j.values]),ye=m.useMemo(function(){return!hs(f.current,j.values)},[f.current,j.values]),lt=m.useMemo(function(){return typeof l<"u"?ye?j.errors&&Object.keys(j.errors).length===0:l!==!1&&St(l)?l(p):l:j.errors&&Object.keys(j.errors).length===0},[l,ye,j.errors,p]),ns=Be({},j,{initialValues:f.current,initialErrors:y.current,initialTouched:x.current,initialStatus:g.current,handleBlur:K,handleChange:z,handleReset:ut,handleSubmit:ue,resetForm:O,setErrors:W,setFormikState:U,setFieldTouched:X,setFieldValue:ee,setFieldError:V,setStatus:ae,setSubmitting:Q,setTouched:q,setValues:B,submitForm:re,validateForm:L,validateField:M,isValid:lt,dirty:ye,unregisterField:D,registerField:$,getFieldProps:ge,getFieldMeta:bt,getFieldHelpers:te,validateOnBlur:n,validateOnChange:t,validateOnMount:o});return ns}function qP(s){var e=HP(s),t=s.component,a=s.children,n=s.render,i=s.innerRef;return m.useImperativeHandle(i,function(){return e}),m.createElement(VP,{value:e},t?m.createElement(t,e):n?n(e):a?St(a)?a(e):_b(a)?null:m.Children.only(a):null)}function GP(s){var e={};if(s.inner){if(s.inner.length===0)return Tr(e,s.path,s.message);for(var n=s.inner,t=Array.isArray(n),a=0,n=t?n:n[Symbol.iterator]();;){var i;if(t){if(a>=n.length)break;i=n[a++]}else{if(a=n.next(),a.done)break;i=a.value}var o=i;Xe(e,o.path)||(e=Tr(e,o.path,o.message))}}return e}function YP(s,e,t,a){t===void 0&&(t=!1);var n=Ou(s);return e[t?"validateSync":"validate"](n,{abortEarly:!1,context:n})}function Ou(s){var e=Array.isArray(s)?[]:{};for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t)){var a=String(t);Array.isArray(s[a])===!0?e[a]=s[a].map(function(n){return Array.isArray(n)===!0||Lp(n)?Ou(n):n!==""?n:void 0}):Lp(s[a])?e[a]=Ou(s[a]):e[a]=s[a]!==""?s[a]:void 0}return e}function KP(s,e,t){var a=s.slice();return e.forEach(function(i,o){if(typeof a[o]>"u"){var l=t.clone!==!1,c=l&&t.isMergeableObject(i);a[o]=c?Su(Array.isArray(i)?[]:{},i,t):i}else t.isMergeableObject(i)?a[o]=Su(s[o],i,t):s.indexOf(i)===-1&&a.push(i)}),a}function QP(s){return Array.from(s).filter(function(e){return e.selected}).map(function(e){return e.value})}function ZP(s,e,t){if(typeof s=="boolean")return!!e;var a=[],n=!1,i=-1;if(Array.isArray(s))a=s,i=s.indexOf(t),n=i>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!n?a.concat(t):n?a.slice(0,i).concat(a.slice(i+1)):a}var JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function tr(s){var e=m.useRef(s);return JP(function(){e.current=s}),m.useCallback(function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.current.apply(void 0,a)},[])}function sd(s){var e=s.validate,t=s.name,a=s.render,n=s.children,i=s.as,o=s.component,l=s.className,c=fs(s,["validate","name","render","children","as","component","className"]),d=kb(),u=fs(d,["validate","validationSchema"]),h=u.registerField,p=u.unregisterField;m.useEffect(function(){return h(t,{validate:e}),function(){p(t)}},[h,p,t,e]);var f=u.getFieldProps(Be({name:t},c)),y=u.getFieldMeta(t),x={field:f,form:u};if(a)return a(Be({},x,{meta:y}));if(St(n))return n(Be({},x,{meta:y}));if(o){if(typeof o=="string"){var g=c.innerRef,v=fs(c,["innerRef"]);return m.createElement(o,Be({ref:g},f,v,{className:l}),n)}return m.createElement(o,Be({field:f,form:u},c,{className:l}),n)}var b=i||"input";if(typeof b=="string"){var k=c.innerRef,w=fs(c,["innerRef"]);return m.createElement(b,Be({ref:k},f,w,{className:l}),n)}return m.createElement(b,Be({},f,c,{className:l}),n)}var Cb=m.forwardRef(function(s,e){var t=s.action,a=fs(s,["action"]),n=t??"#",i=kb(),o=i.handleReset,l=i.handleSubmit;return m.createElement("form",Be({onSubmit:l,ref:e,onReset:o,action:n},a))});Cb.displayName="Form";function XP(s){var e=function(n){return m.createElement(UP,null,function(i){return m.createElement(s,Be({},n,{formik:i}))})},t=s.displayName||s.name||s.constructor&&s.constructor.name||"Component";return e.WrappedComponent=s,e.displayName="FormikConnect("+t+")",BP(e,s)}var eA=function(e,t,a){var n=oa(e),i=n[t];return n.splice(t,1),n.splice(a,0,i),n},tA=function(e,t,a){var n=oa(e),i=n[t];return n[t]=n[a],n[a]=i,n},ad=function(e,t,a){var n=oa(e);return n.splice(t,0,a),n},rA=function(e,t,a){var n=oa(e);return n[t]=a,n},oa=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(a){return parseInt(a)}).reduce(function(a,n){return n>a?n:a},0);return Array.from(Be({},e,{length:t+1}))}else return[]},hf=function(e,t){var a=typeof e=="function"?e:t;return function(n){if(Array.isArray(n)||Vi(n)){var i=oa(n);return a(i)}return n}},sA=function(s){Nb(e,s);function e(a){var n;return n=s.call(this,a)||this,n.updateArrayField=function(i,o,l){var c=n.props,d=c.name,u=c.formik.setFormikState;u(function(h){var p=hf(l,i),f=hf(o,i),y=Tr(h.values,d,i(Xe(h.values,d))),x=l?p(Xe(h.errors,d)):void 0,g=o?f(Xe(h.touched,d)):void 0;return uf(x)&&(x=void 0),uf(g)&&(g=void 0),Be({},h,{values:y,errors:l?Tr(h.errors,d,x):h.errors,touched:o?Tr(h.touched,d,g):h.touched})})},n.push=function(i){return n.updateArrayField(function(o){return[].concat(oa(o),[Vn(i)])},!1,!1)},n.handlePush=function(i){return function(){return n.push(i)}},n.swap=function(i,o){return n.updateArrayField(function(l){return tA(l,i,o)},!0,!0)},n.handleSwap=function(i,o){return function(){return n.swap(i,o)}},n.move=function(i,o){return n.updateArrayField(function(l){return eA(l,i,o)},!0,!0)},n.handleMove=function(i,o){return function(){return n.move(i,o)}},n.insert=function(i,o){return n.updateArrayField(function(l){return ad(l,i,o)},function(l){return ad(l,i,null)},function(l){return ad(l,i,null)})},n.handleInsert=function(i,o){return function(){return n.insert(i,o)}},n.replace=function(i,o){return n.updateArrayField(function(l){return rA(l,i,o)},!1,!1)},n.handleReplace=function(i,o){return function(){return n.replace(i,o)}},n.unshift=function(i){var o=-1;return n.updateArrayField(function(l){var c=l?[i].concat(l):[i];return o=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),o},n.handleUnshift=function(i){return function(){return n.unshift(i)}},n.handleRemove=function(i){return function(){return n.remove(i)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(df(n)),n.pop=n.pop.bind(df(n)),n}var t=e.prototype;return t.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!hs(Xe(n.formik.values,n.name),Xe(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(n){var i;return this.updateArrayField(function(o){var l=o?oa(o):[];return i||(i=l[n]),St(l.splice)&&l.splice(n,1),St(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),i},t.pop=function(){var n;return this.updateArrayField(function(i){var o=i.slice();return n||(n=o&&o.pop&&o.pop()),o},!0,!0),n},t.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,l=i.render,c=i.children,d=i.name,u=i.formik,h=fs(u,["validate","validationSchema"]),p=Be({},n,{form:h,name:d});return o?m.createElement(o,p):l?l(p):c?typeof c=="function"?c(p):_b(c)?null:m.Children.only(c):null},e}(m.Component);sA.defaultProps={validateOnChange:!0};var aA=function(s){Nb(e,s);function e(){return s.apply(this,arguments)||this}var t=e.prototype;return t.shouldComponentUpdate=function(n){return Xe(this.props.formik.errors,this.props.name)!==Xe(n.formik.errors,this.props.name)||Xe(this.props.formik.touched,this.props.name)!==Xe(n.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(n).length},t.render=function(){var n=this.props,i=n.component,o=n.formik,l=n.render,c=n.children,d=n.name,u=fs(n,["component","formik","render","children","name"]),h=Xe(o.touched,d),p=Xe(o.errors,d);return h&&p?l?St(l)?l(p):null:c?St(c)?c(p):null:i?m.createElement(i,u,p):p:null},e}(m.Component),nd=XP(aA);function ga(s){this._maxSize=s,this.clear()}ga.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ga.prototype.get=function(s){return this._values[s]};ga.prototype.set=function(s,e){return this._size>=this._maxSize&&this.clear(),s in this._values||this._size++,this._values[s]=e};var nA=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Eb=/^\d+$/,iA=/^\d/,oA=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,lA=/^\s*(['"]?)(.*?)(\1)\s*$/,Vh=512,mf=new ga(Vh),pf=new ga(Vh),ff=new ga(Vh),Xs={Cache:ga,split:Lu,normalizePath:id,setter:function(s){var e=id(s);return pf.get(s)||pf.set(s,function(a,n){for(var i=0,o=e.length,l=a;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return a;l=l[e[i++]]}l[e[i]]=n})},getter:function(s,e){var t=id(s);return ff.get(s)||ff.set(s,function(n){for(var i=0,o=t.length;i<o;)if(n!=null||!e)n=n[t[i++]];else return;return n})},join:function(s){return s.reduce(function(e,t){return e+(Uh(t)||Eb.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(s,e,t){cA(Array.isArray(s)?s:Lu(s),e,t)}};function id(s){return mf.get(s)||mf.set(s,Lu(s).map(function(e){return e.replace(lA,"$2")}))}function Lu(s){return s.match(nA)||[""]}function cA(s,e,t){var a=s.length,n,i,o,l;for(i=0;i<a;i++)n=s[i],n&&(hA(n)&&(n='"'+n+'"'),l=Uh(n),o=!l&&/^\d+$/.test(n),e.call(t,n,l,o,i,s))}function Uh(s){return typeof s=="string"&&s&&["'",'"'].indexOf(s.charAt(0))!==-1}function dA(s){return s.match(iA)&&!s.match(Eb)}function uA(s){return oA.test(s)}function hA(s){return!Uh(s)&&(dA(s)||uA(s))}const mA=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,pc=s=>s.match(mA)||[],fc=s=>s[0].toUpperCase()+s.slice(1),Wh=(s,e)=>pc(s).join(e).toLowerCase(),Tb=s=>pc(s).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),pA=s=>fc(Tb(s)),fA=s=>Wh(s,"_"),gA=s=>Wh(s,"-"),xA=s=>fc(Wh(s," ")),yA=s=>pc(s).map(fc).join(" ");var od={words:pc,upperFirst:fc,camelCase:Tb,pascalCase:pA,snakeCase:fA,kebabCase:gA,sentenceCase:xA,titleCase:yA},zh={exports:{}};zh.exports=function(s){return Pb(bA(s),s)};zh.exports.array=Pb;function Pb(s,e){var t=s.length,a=new Array(t),n={},i=t,o=vA(e),l=wA(s);for(e.forEach(function(d){if(!l.has(d[0])||!l.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)n[i]||c(s[i],i,new Set);return a;function c(d,u,h){if(h.has(d)){var p;try{p=", node was:"+JSON.stringify(d)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!l.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!n[u]){n[u]=!0;var f=o.get(d)||new Set;if(f=Array.from(f),u=f.length){h.add(d);do{var y=f[--u];c(y,l.get(y),h)}while(u);h.delete(d)}a[--t]=d}}}function bA(s){for(var e=new Set,t=0,a=s.length;t<a;t++){var n=s[t];e.add(n[0]),e.add(n[1])}return Array.from(e)}function vA(s){for(var e=new Map,t=0,a=s.length;t<a;t++){var n=s[t];e.has(n[0])||e.set(n[0],new Set),e.has(n[1])||e.set(n[1],new Set),e.get(n[0]).add(n[1])}return e}function wA(s){for(var e=new Map,t=0,a=s.length;t<a;t++)e.set(s[t],t);return e}var jA=zh.exports;const NA=ua(jA),kA=Object.prototype.toString,_A=Error.prototype.toString,SA=RegExp.prototype.toString,CA=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",EA=/^Symbol\((.*)\)(.*)$/;function TA(s){return s!=+s?"NaN":s===0&&1/s<0?"-0":""+s}function gf(s,e=!1){if(s==null||s===!0||s===!1)return""+s;const t=typeof s;if(t==="number")return TA(s);if(t==="string")return e?`"${s}"`:s;if(t==="function")return"[Function "+(s.name||"anonymous")+"]";if(t==="symbol")return CA.call(s).replace(EA,"Symbol($1)");const a=kA.call(s).slice(8,-1);return a==="Date"?isNaN(s.getTime())?""+s:s.toISOString(s):a==="Error"||s instanceof Error?"["+_A.call(s)+"]":a==="RegExp"?SA.call(s):null}function vs(s,e){let t=gf(s,e);return t!==null?t:JSON.stringify(s,function(a,n){let i=gf(this[a],e);return i!==null?i:n},2)}function Ab(s){return s==null?[]:[].concat(s)}let Ob,Lb,Rb,PA=/\$\{\s*(\w+)\s*\}/g;Ob=Symbol.toStringTag;class xf{constructor(e,t,a,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ob]="Error",this.name="ValidationError",this.value=t,this.path=a,this.type=n,this.errors=[],this.inner=[],Ab(e).forEach(i=>{if(Mt.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Lb=Symbol.hasInstance;Rb=Symbol.toStringTag;class Mt extends Error{static formatError(e,t){const a=t.label||t.path||"this";return t=Object.assign({},t,{path:a,originalPath:t.path}),typeof e=="string"?e.replace(PA,(n,i)=>vs(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,a,n,i){const o=new xf(e,t,a,n);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Rb]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Mt)}static[Lb](e){return xf[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let jr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:s,type:e,value:t,originalValue:a})=>{const n=a!=null&&a!==t?` (cast from the value \`${vs(a,!0)}\`).`:".";return e!=="mixed"?`${s} must be a \`${e}\` type, but the final value was: \`${vs(t,!0)}\``+n:`${s} must match the configured type. The validated value was: \`${vs(t,!0)}\``+n}},zt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},AA={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ru={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},OA={isValue:"${path} field must be ${value}"},Ko={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},LA={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},RA={notType:s=>{const{path:e,value:t,spec:a}=s,n=a.types.length;if(Array.isArray(t)){if(t.length<n)return`${e} tuple value has too few items, expected a length of ${n} but got ${t.length} for value: \`${vs(t,!0)}\``;if(t.length>n)return`${e} tuple value has too many items, expected a length of ${n} but got ${t.length} for value: \`${vs(t,!0)}\``}return Mt.formatError(jr.notType,s)}};Object.assign(Object.create(null),{mixed:jr,string:zt,number:AA,date:Ru,object:Ko,array:LA,boolean:OA,tuple:RA});const Hh=s=>s&&s.__isYupSchema__;class Nl{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:n,otherwise:i}=t,o=typeof a=="function"?a:(...l)=>l.every(c=>c===a);return new Nl(e,(l,c)=>{var d;let u=o(...l)?n:i;return(d=u==null?void 0:u(c))!=null?d:c})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let a=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),n=this.fn(a,e,t);if(n===void 0||n===e)return e;if(!Hh(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}const ro={context:"$",value:"."};class xa{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ro.context,this.isValue=this.key[0]===ro.value,this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?ro.context:this.isValue?ro.value:"";this.path=this.key.slice(a.length),this.getter=this.path&&Xs.getter(this.path,!0),this.map=t.map}getValue(e,t,a){let n=this.isContext?a:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}xa.prototype.__isYupRef=!0;const Ks=s=>s==null;function Ea(s){function e({value:t,path:a="",options:n,originalValue:i,schema:o},l,c){const{name:d,test:u,params:h,message:p,skipAbsent:f}=s;let{parent:y,context:x,abortEarly:g=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=n;const b={value:t,parent:y,context:x};function k(P={}){const A=Ib(Object.assign({value:t,originalValue:i,label:o.spec.label,path:P.path||a,spec:o.spec,disableStackTrace:P.disableStackTrace||v},h,P.params),b),L=new Mt(Mt.formatError(P.message||p,A),t,A.path,P.type||d,A.disableStackTrace);return L.params=A,L}const w=g?l:c;let N={path:a,parent:y,type:d,from:n.from,createError:k,resolve(P){return Mb(P,b)},options:n,originalValue:i,schema:o};const j=P=>{Mt.isError(P)?w(P):P?c(null):w(k())},_=P=>{Mt.isError(P)?w(P):l(P)};if(f&&Ks(t))return j(!0);let C;try{var I;if(C=u.call(N,t,N),typeof((I=C)==null?void 0:I.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(j,_)}}catch(P){_(P);return}j(C)}return e.OPTIONS=s,e}function Ib(s,e){if(!s)return s;for(const t of Object.keys(s))s[t]=Mb(s[t],e);return s}function Mb(s,e){return xa.isRef(s)?s.getValue(e.value,e.parent,e.context):s}function IA(s,e,t,a=t){let n,i,o;return e?(Xs.forEach(e,(l,c,d)=>{let u=c?l.slice(1,l.length-1):l;s=s.resolve({context:a,parent:n,value:t});let h=s.type==="tuple",p=d?parseInt(u,10):0;if(s.innerType||h){if(h&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(t&&p>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);n=t,t=t&&t[p],s=h?s.spec.types[p]:s.innerType}if(!d){if(!s.fields||!s.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${s.type}")`);n=t,t=t&&t[u],s=s.fields[u]}i=u,o=c?"["+l+"]":"."+l}),{schema:s,parent:n,parentPath:i}):{parent:n,parentPath:e,schema:s}}class kl extends Set{describe(){const e=[];for(const t of this.values())e.push(xa.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const a of this.values())t.push(e(a));return t}clone(){return new kl(this.values())}merge(e,t){const a=this.clone();return e.forEach(n=>a.add(n)),t.forEach(n=>a.delete(n)),a}}function Va(s,e=new Map){if(Hh(s)||!s||typeof s!="object")return s;if(e.has(s))return e.get(s);let t;if(s instanceof Date)t=new Date(s.getTime()),e.set(s,t);else if(s instanceof RegExp)t=new RegExp(s),e.set(s,t);else if(Array.isArray(s)){t=new Array(s.length),e.set(s,t);for(let a=0;a<s.length;a++)t[a]=Va(s[a],e)}else if(s instanceof Map){t=new Map,e.set(s,t);for(const[a,n]of s.entries())t.set(a,Va(n,e))}else if(s instanceof Set){t=new Set,e.set(s,t);for(const a of s)t.add(Va(a,e))}else if(s instanceof Object){t={},e.set(s,t);for(const[a,n]of Object.entries(s))t[a]=Va(n,e)}else throw Error(`Unable to clone ${s}`);return t}function MA(s){if(!(s!=null&&s.length))return;const e=[];let t="",a=!1,n=!1;for(let i=0;i<s.length;i++){const o=s[i];if(o==="["&&!n){t&&(e.push(...t.split(".").filter(Boolean)),t=""),a=!0;continue}if(o==="]"&&!n){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),a=!1;continue}if(o==='"'){n=!n;continue}if(o==="."&&!a&&!n){t&&(e.push(t),t="");continue}t+=o}return t&&e.push(...t.split(".").filter(Boolean)),e}function $A(s,e){const t=e?`${e}.${s.path}`:s.path;return s.errors.map(a=>({message:a,path:MA(t)}))}function $b(s,e){var t;if(!((t=s.inner)!=null&&t.length)&&s.errors.length)return $A(s,e);const a=e?`${e}.${s.path}`:s.path;return s.inner.flatMap(n=>$b(n,a))}class fr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new kl,this._blacklist=new kl,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(jr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Va(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let a=e(this);return this._mutate=t,a}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,a=e.clone();const n=Object.assign({},t.spec,a.spec);return a.spec=n,a.internalTests=Object.assign({},t.internalTests,a.internalTests),a._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),a._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),a.tests=t.tests,a.exclusiveTests=t.exclusiveTests,a.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),a.transforms=[...t.transforms,...a.transforms],a}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let a=t.conditions;t=t.clone(),t.conditions=[],t=a.reduce((n,i)=>i.resolve(n,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,a,n,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(a=e.abortEarly)!=null?a:this.spec.abortEarly,recursive:(n=e.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let a=this.resolve(Object.assign({},t,{value:e})),n=t.assert==="ignore-optionality",i=a._cast(e,t);if(t.assert!==!1&&!a.isType(i)){if(n&&Ks(i))return i;let o=vs(e),l=vs(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(e,t){let a=e===void 0?e:this.transforms.reduce((n,i)=>i.call(this,n,e,this,t),e);return a===void 0&&(a=this.getDefault(t)),a}_validate(e,t={},a,n){let{path:i,originalValue:o=e,strict:l=this.spec.strict}=t,c=e;l||(c=this._cast(c,Object.assign({assert:!1},t)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:i,value:c,originalValue:o,options:t,tests:d},a,u=>{if(u.length)return n(u,c);this.runTests({path:i,value:c,originalValue:o,options:t,tests:this.tests},a,n)})}runTests(e,t,a){let n=!1,{tests:i,value:o,originalValue:l,path:c,options:d}=e,u=x=>{n||(n=!0,t(x,o))},h=x=>{n||(n=!0,a(x,o))},p=i.length,f=[];if(!p)return h([]);let y={value:o,originalValue:l,path:c,options:d,schema:this};for(let x=0;x<i.length;x++){const g=i[x];g(y,u,function(b){b&&(Array.isArray(b)?f.push(...b):f.push(b)),--p<=0&&h(f)})}}asNestedTest({key:e,index:t,parent:a,parentPath:n,originalParent:i,options:o}){const l=e??t;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let d=a[l];const u=Object.assign({},o,{strict:!0,parent:a,value:d,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${n||""}[${c?l:`"${l}"`}]`:(n?`${n}.`:"")+e});return(h,p,f)=>this.resolve(u)._validate(d,u,p,f)}validate(e,t){var a;let n=this.resolve(Object.assign({},t,{value:e})),i=(a=t==null?void 0:t.disableStackTrace)!=null?a:n.spec.disableStackTrace;return new Promise((o,l)=>n._validate(e,t,(c,d)=>{Mt.isError(c)&&(c.value=d),l(c)},(c,d)=>{c.length?l(new Mt(c,d,void 0,void 0,i)):o(d)}))}validateSync(e,t){var a;let n=this.resolve(Object.assign({},t,{value:e})),i,o=(a=t==null?void 0:t.disableStackTrace)!=null?a:n.spec.disableStackTrace;return n._validate(e,Object.assign({},t,{sync:!0}),(l,c)=>{throw Mt.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Mt(l,e,void 0,void 0,o);i=c}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,a=>{if(Mt.isError(a))return!1;throw a})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(a){if(Mt.isError(a))return!1;throw a}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Va(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const a=this.clone({nullable:e});return a.internalTests.nullable=Ea({message:t,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),a}optionality(e,t){const a=this.clone({optional:e});return a.internalTests.optionality=Ea({message:t,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),a}optional(){return this.optionality(!0)}defined(e=jr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=jr.notNull){return this.nullability(!1,e)}required(e=jr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=jr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let a=this.clone(),n=Ea(t),i=t.exclusive||t.name&&a.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(a.exclusiveTests[t.name]=!!t.exclusive),a.tests=a.tests.filter(o=>!(o.OPTIONS.name===t.name&&(i||o.OPTIONS.test===n.OPTIONS.test))),a.tests.push(n),a}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let a=this.clone(),n=Ab(e).map(i=>new xa(i));return n.forEach(i=>{i.isSibling&&a.deps.push(i.key)}),a.conditions.push(typeof t=="function"?new Nl(n,t):Nl.fromOptions(n,t)),a}typeError(e){let t=this.clone();return t.internalTests.typeError=Ea({message:e,name:"typeError",skipAbsent:!0,test(a){return this.schema._typeCheck(a)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=jr.oneOf){let a=this.clone();return e.forEach(n=>{a._whitelist.add(n),a._blacklist.delete(n)}),a.internalTests.whiteList=Ea({message:t,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),a}notOneOf(e,t=jr.notOneOf){let a=this.clone();return e.forEach(n=>{a._blacklist.add(n),a._whitelist.delete(n)}),a.internalTests.blacklist=Ea({message:t,name:"notOneOf",test(n){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),a}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:a,meta:n,optional:i,nullable:o}=t.spec;return{meta:n,label:a,optional:i,nullable:o,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((c,d,u)=>u.findIndex(h=>h.OPTIONS.name===c.OPTIONS.name)===d).map(c=>{const d=c.OPTIONS.params&&e?Ib(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(a){try{return{value:await e.validate(a,{abortEarly:!1})}}catch(n){if(n instanceof Mt)return{issues:$b(n)};throw n}}}}}fr.prototype.__isYupSchema__=!0;for(const s of["validate","validateSync"])fr.prototype[`${s}At`]=function(e,t,a={}){const{parent:n,parentPath:i,schema:o}=IA(this,e,t,a.context);return o[s](n&&n[i],Object.assign({},a,{parent:n,path:e}))};for(const s of["equals","is"])fr.prototype[s]=fr.prototype.oneOf;for(const s of["not","nope"])fr.prototype[s]=fr.prototype.notOneOf;const DA=()=>!0;function Db(s){return new Fb(s)}class Fb extends fr{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:DA},e))}}Db.prototype=Fb.prototype;const FA=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function BA(s){const e=Iu(s);if(!e)return Date.parse?Date.parse(s):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Iu(s){var e,t;const a=FA.exec(s);return a?{year:Br(a[1]),month:Br(a[2],1)-1,day:Br(a[3],1),hour:Br(a[4]),minute:Br(a[5]),second:Br(a[6]),millisecond:a[7]?Br(a[7].substring(0,3)):0,precision:(e=(t=a[7])==null?void 0:t.length)!=null?e:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:Br(a[10]),minuteOffset:Br(a[11])}:null}function Br(s,e=0){return Number(s)||e}let VA=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,UA=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,WA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zA="^\\d{4}-\\d{2}-\\d{2}",HA="\\d{2}:\\d{2}:\\d{2}",qA="(([+-]\\d{2}(:?\\d{2})?)|Z)",GA=new RegExp(`${zA}T${HA}(\\.\\d+)?${qA}$`),YA=s=>Ks(s)||s===s.trim(),KA={}.toString();function yi(){return new Bb}class Bb extends fr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===KA?e:a})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||jr.required,name:"required",skipAbsent:!0,test:a=>!!a.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=zt.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(a){return a.length===this.resolve(e)}})}min(e,t=zt.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a.length>=this.resolve(e)}})}max(e,t=zt.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(a){return a.length<=this.resolve(e)}})}matches(e,t){let a=!1,n,i;return t&&(typeof t=="object"?{excludeEmptyString:a=!1,message:n,name:i}=t:n=t),this.test({name:i||"matches",message:n||zt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&a||o.search(e)!==-1})}email(e=zt.email){return this.matches(VA,{name:"email",message:e,excludeEmptyString:!0})}url(e=zt.url){return this.matches(UA,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zt.uuid){return this.matches(WA,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",a,n;return e&&(typeof e=="object"?{message:t="",allowOffset:a=!1,precision:n=void 0}=e:t=e),this.matches(GA,{name:"datetime",message:t||zt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||zt.datetime_offset,params:{allowOffset:a},skipAbsent:!0,test:i=>{if(!i||a)return!0;const o=Iu(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:t||zt.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const o=Iu(i);return o?o.precision===n:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zt.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:YA})}lowercase(e=zt.lowercase){return this.transform(t=>Ks(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ks(t)||t===t.toLowerCase()})}uppercase(e=zt.uppercase){return this.transform(t=>Ks(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ks(t)||t===t.toUpperCase()})}}yi.prototype=Bb.prototype;let QA=new Date(""),ZA=s=>Object.prototype.toString.call(s)==="[object Date]";class qh extends fr{constructor(){super({type:"date",check(e){return ZA(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=BA(e),isNaN(e)?qh.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let a;if(xa.isRef(e))a=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);a=n}return a}min(e,t=Ru.min){let a=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(a)}})}max(e,t=Ru.max){let a=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(a)}})}}qh.INVALID_DATE=QA;function JA(s,e=[]){let t=[],a=new Set,n=new Set(e.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=Xs.split(o)[0];a.add(c),n.has(`${l}-${c}`)||t.push([l,c])}for(const o of Object.keys(s)){let l=s[o];a.add(o),xa.isRef(l)&&l.isSibling?i(l.path,o):Hh(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return NA.array(Array.from(a),t).reverse()}function yf(s,e){let t=1/0;return s.some((a,n)=>{var i;if((i=e.path)!=null&&i.includes(a))return t=n,!0}),t}function Vb(s){return(e,t)=>yf(s,e)-yf(s,t)}const XA=(s,e,t)=>{if(typeof s!="string")return s;let a=s;try{a=JSON.parse(s)}catch{}return t.isType(a)?a:s};function Qo(s){if("fields"in s){const e={};for(const[t,a]of Object.entries(s.fields))e[t]=Qo(a);return s.setFields(e)}if(s.type==="array"){const e=s.optional();return e.innerType&&(e.innerType=Qo(e.innerType)),e}return s.type==="tuple"?s.optional().clone({types:s.spec.types.map(Qo)}):"optional"in s?s.optional():s}const eO=(s,e)=>{const t=[...Xs.normalizePath(e)];if(t.length===1)return t[0]in s;let a=t.pop(),n=Xs.getter(Xs.join(t),!0)(s);return!!(n&&a in n)};let bf=s=>Object.prototype.toString.call(s)==="[object Object]";function vf(s,e){let t=Object.keys(s.fields);return Object.keys(e).filter(a=>t.indexOf(a)===-1)}const tO=Vb([]);function Ui(s){return new Ub(s)}class Ub extends fr{constructor(e){super({type:"object",check(t){return bf(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=tO,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var a;let n=super._cast(e,t);if(n===void 0)return this.getDefault(t);if(!this._typeCheck(n))return n;let i=this.fields,o=(a=t.stripUnknown)!=null?a:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(n).filter(h=>!this._nodes.includes(h))),c={},d=Object.assign({},t,{parent:c,__validating:t.__validating||!1}),u=!1;for(const h of l){let p=i[h],f=h in n,y=n[h];if(p){let x;d.path=(t.path?`${t.path}.`:"")+h,p=p.resolve({value:y,context:t.context,parent:c});let g=p instanceof fr?p.spec:void 0,v=g==null?void 0:g.strict;if(g!=null&&g.strip){u=u||h in n;continue}x=!t.__validating||!v?p.cast(y,d):y,x!==void 0&&(c[h]=x)}else f&&!o&&(c[h]=y);(f!==h in c||c[h]!==y)&&(u=!0)}return u?c:n}_validate(e,t={},a,n){let{from:i=[],originalValue:o=e,recursive:l=this.spec.recursive}=t;t.from=[{schema:this,value:o},...i],t.__validating=!0,t.originalValue=o,super._validate(e,t,a,(c,d)=>{if(!l||!bf(d)){n(c,d);return}o=o||d;let u=[];for(let h of this._nodes){let p=this.fields[h];!p||xa.isRef(p)||u.push(p.asNestedTest({options:t,key:h,parent:d,parentPath:t.path,originalParent:o}))}this.runTests({tests:u,value:d,originalValue:o,options:t},a,h=>{n(h.sort(this._sortErrors).concat(c),d)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),a=t.fields;for(let[n,i]of Object.entries(this.fields)){const o=a[n];a[n]=o===void 0?i:o}return t.withMutation(n=>n.setFields(a,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(a=>{var n;const i=this.fields[a];let o=e;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[a]})),t[a]=i&&"getDefault"in i?i.getDefault(o):void 0}),t}setFields(e,t){let a=this.clone();return a.fields=e,a._nodes=JA(e,t),a._sortErrors=Vb(Object.keys(e)),t&&(a._excludedEdges=t),a}shape(e,t=[]){return this.clone().withMutation(a=>{let n=a._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),n=[...a._excludedEdges,...t]),a.setFields(Object.assign(a.fields,e),n)})}partial(){const e={};for(const[t,a]of Object.entries(this.fields))e[t]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(e)}deepPartial(){return Qo(this)}pick(e){const t={};for(const a of e)this.fields[a]&&(t[a]=this.fields[a]);return this.setFields(t,this._excludedEdges.filter(([a,n])=>e.includes(a)&&e.includes(n)))}omit(e){const t=[];for(const a of Object.keys(this.fields))e.includes(a)||t.push(a);return this.pick(t)}from(e,t,a){let n=Xs.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return eO(i,e)&&(o=Object.assign({},i),a||delete o[e],o[t]=n(i)),o})}json(){return this.transform(XA)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Ko.exact,test(t){if(t==null)return!0;const a=vf(this.schema,t);return a.length===0||this.createError({params:{properties:a.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Ko.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:t,test(n){if(n==null)return!0;const i=vf(this.schema,n);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return a.spec.noUnknown=e,a}unknown(e=!0,t=Ko.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const a={};for(const n of Object.keys(t))a[e(n)]=t[n];return a})}camelCase(){return this.transformKeys(od.camelCase)}snakeCase(){return this.transformKeys(od.snakeCase)}constantCase(){return this.transformKeys(e=>od.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),a=super.describe(e);a.fields={};for(const[i,o]of Object.entries(t.fields)){var n;let l=e;(n=l)!=null&&n.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),a.fields[i]=o.describe(l)}return a}}Ui.prototype=Ub.prototype;const so="https://beautycita.com",rO=["/media/img/avatar/A0.png","/media/img/avatar/A1.png","/media/img/avatar/A2.png","/media/img/avatar/A4.png","/media/img/avatar/A5.png","/media/img/avatar/A6.png","/media/img/avatar/A7.png","/media/img/avatar/A8.png","/media/img/avatar/A9.png","/media/img/avatar/A10.png","/media/img/avatar/A11.png","/media/img/avatar/A12.png"],sO=Ui({username:yi().min(3,"Username must be at least 3 characters").max(20,"Username must be less than 20 characters").matches(/^[a-z0-9_]+$/,"Only lowercase letters, numbers, and underscores").required("Username is required")}),aO=Ui({email:yi().email("Invalid email address").required("Email is required"),verificationCode:yi().matches(/^[0-9]{6}$/,"Code must be 6 digits").required("Verification code is required")}),nO=Ui({selectedAvatar:yi().nullable(),uploadedFile:Db().nullable()}).test("avatar-required","Please select or upload an avatar",function(s){return s.selectedAvatar||s.uploadedFile}),iO=Ui({});function oO(){const{updateProfile:s}=we(),e=wt(),[t,a]=m.useState(1),[n,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),p={username:"",email:"",verificationCode:"",selectedAvatar:null,uploadedFile:null},f=async g=>{if(!g||g.length<3){i(null);return}l(!0);try{const v=localStorage.getItem("beautycita-auth")?JSON.parse(localStorage.getItem("beautycita-auth")).state.token:"",b=await G.get(`${so}/api/user/username/availability/${g}`,{headers:{Authorization:`Bearer ${v}`}});return i(b.data.available),b.data.available}catch(v){return console.error("Username check error:",v),i(!1),!1}finally{l(!1)}},y=async g=>{var v,b;try{await G.post(`${so}/api/verify/send-email-code`,{email:g}),d(!0),R.success("Verification code sent!")}catch(k){R.error(((b=(v=k.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to send code")}},x=async g=>{var b,k;console.log("[FORMIK_ONBOARDING] Final submit:",g);const v=localStorage.getItem("beautycita-auth")?JSON.parse(localStorage.getItem("beautycita-auth")).state.token:"";try{if(await s({username:g.username}),!(await G.post(`${so}/api/verify/verify-email`,{email:g.email,code:g.verificationCode})).data.success){R.error("Invalid verification code"),a(2);return}if(await s({email:g.email,emailVerified:!0}),g.uploadedFile){const N=new FormData;N.append("profilePicture",g.uploadedFile),await G.post(`${so}/api/user/profile/picture`,N,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${v}`}})}else g.selectedAvatar&&await s({profilePictureUrl:g.selectedAvatar});await s({profile_complete:!0}),R.success("Welcome to BeautyCita! 🎉"),e("/panel",{replace:!0})}catch(w){console.error("[FORMIK_ONBOARDING] Error:",w),R.error(((k=(b=w.response)==null?void 0:b.data)==null?void 0:k.message)||"Failed to complete onboarding")}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx(Ee,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Complete Your Profile"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",t," of 4"]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(E.div,{animate:{width:`${t/4*100}%`},transition:{duration:.3},className:"h-full bg-gradient-to-r from-purple-500 to-pink-500"})})})]})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:r.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:r.jsx(qP,{initialValues:p,validationSchema:t===1?sO:t===2?aO:t===3?nO:iO,onSubmit:x,validateOnChange:!0,validateOnBlur:!0,children:({values:g,errors:v,touched:b,setFieldValue:k,validateForm:w})=>r.jsxs(Cb,{children:[t===1&&r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(py,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choose Your Username"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Pick a unique @username"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),r.jsx(sd,{name:"username",type:"text",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"username",maxLength:20,onChange:N=>{const j=N.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"");k("username",j),j.length>=3?f(j):i(null)}})]}),r.jsx(nd,{name:"username",component:"div",className:"text-sm text-red-600 mt-1"}),o&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Checking availability..."}),n===!0&&r.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center gap-1",children:[r.jsx(ie,{className:"w-4 h-4"})," Available!"]}),n===!1&&r.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center gap-1",children:[r.jsx(De,{className:"w-4 h-4"})," Already taken"]})]}),r.jsx("button",{type:"button",onClick:async()=>{!(await w()).username&&n===!0?(console.log("[FORMIK_ONBOARDING] Step 1 -> Step 2"),a(2)):R.error("Please fix the errors before continuing")},disabled:!g.username||n!==!0||!!v.username,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue →"})]})]}),t===2&&r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(ir,{className:"w-16 h-16 mx-auto text-pink-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verify Your Email"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"We'll send you a verification code"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(sd,{name:"email",type:"email",disabled:c,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none disabled:opacity-60",placeholder:"you@example.com"}),!c&&r.jsx("button",{type:"button",onClick:()=>y(g.email),disabled:!g.email||!!v.email,className:"px-6 py-3 bg-purple-600 text-white font-semibold rounded-xl disabled:opacity-50",children:"Send Code"})]}),r.jsx(nd,{name:"email",component:"div",className:"text-sm text-red-600 mt-1"})]}),c&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),r.jsx(sd,{name:"verificationCode",type:"text",maxLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-center text-2xl font-mono tracking-widest focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"000000"}),r.jsx(nd,{name:"verificationCode",component:"div",className:"text-sm text-red-600 mt-1"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{console.log("[FORMIK_ONBOARDING] Step 2 -> Step 1"),a(1)},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:async()=>{const N=await w();!N.email&&!N.verificationCode&&c?(console.log("[FORMIK_ONBOARDING] Step 2 -> Step 3"),a(3)):c?R.error("Please fix the errors before continuing"):await y(g.email)},disabled:!c||!g.verificationCode||g.verificationCode.length!==6,className:"flex-1 px-6 py-3 bg-gradient-to-r from-pink-500 to-red-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:"Continue →"})]})]})]}),t===3&&r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Ct,{className:"w-16 h-16 mx-auto text-purple-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Choose Your Avatar"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Select or upload your profile picture"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Predefined Avatars"}),r.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:rO.map((N,j)=>r.jsx("button",{type:"button",onClick:()=>{k("selectedAvatar",N),k("uploadedFile",null),h(null)},className:`aspect-square rounded-2xl overflow-hidden border-4 transition-all ${g.selectedAvatar===N?"border-purple-500 scale-105 shadow-lg":"border-gray-200 hover:border-purple-300"}`,children:r.jsx("img",{src:N,alt:`Avatar ${j+1}`,className:"w-full h-full object-cover"})},j))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Your Photo"}),r.jsx("input",{type:"file",accept:"image/*",onChange:N=>{var _;const j=(_=N.target.files)==null?void 0:_[0];if(j){if(j.size>5*1024*1024){R.error("File must be less than 5MB");return}k("uploadedFile",j),k("selectedAvatar",null),h(URL.createObjectURL(j))}},className:"hidden",id:"avatar-upload"}),r.jsx("label",{htmlFor:"avatar-upload",className:"flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-purple-400 transition-colors",children:u?r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 rounded-full object-cover"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Click to change"})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload (max 5MB)"})]})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{console.log("[FORMIK_ONBOARDING] Step 3 -> Step 2"),a(2)},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:()=>{g.selectedAvatar||g.uploadedFile?(console.log("[FORMIK_ONBOARDING] Step 3 -> Step 4"),a(4)):R.error("Please select or upload an avatar")},disabled:!g.selectedAvatar&&!g.uploadedFile,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue →"})]})]})]}),t===4&&r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(ie,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"You're All Set!"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Your profile is complete. Welcome to BeautyCita!"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ee,{className:"w-12 h-12 text-purple-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What's Next?"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:"✓"}),r.jsx("span",{children:"Explore stylists and services near you"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:"✓"}),r.jsx("span",{children:"Book your first appointment"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:"✓"}),r.jsx("span",{children:"Add payment methods when booking"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-500 mt-0.5",children:"✓"}),r.jsx("span",{children:"Enjoy personalized beauty recommendations"})]})]})]})]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{console.log("[FORMIK_ONBOARDING] Step 4 -> Step 3"),a(3)},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all",children:"Get Started! 🎉"})]})]})]})]})})})})]})}const lO="https://beautycita.com";function cO({onComplete:s}){const{user:e,updateProfile:t}=we(),[a,n]=m.useState((e==null?void 0:e.username)||""),[i]=m.useState((e==null?void 0:e.username)||""),[o,l]=m.useState("idle"),[c,d]=m.useState(!1),[u,h]=m.useState(null),p=b=>/^user_\d+(_\d+)?$/.test(b);m.useEffect(()=>{if(u&&clearTimeout(u),console.log("[DEBUG] Username validation:",{username:a,currentUsername:e==null?void 0:e.username,originalUsername:i,isEmpty:!a,isUnchanged:a===i,userObject:e}),!a||a===i){console.log("[DEBUG] Skipping - empty or same as original"),l("idle");return}const b=/^[a-zA-Z0-9_]{3,20}$/.test(a);if(console.log("[DEBUG] Format check:",{username:a,isValid:b}),!b){l("invalid");return}console.log("[DEBUG] Setting timeout for availability check");const k=setTimeout(()=>{f(a)},500);return h(k),()=>{k&&clearTimeout(k)}},[a,e==null?void 0:e.username]);const f=async b=>{try{console.log("[DEBUG] Checking availability for:",b),l("checking");const k=await G.get(`${lO}/api/auth/check-username/${encodeURIComponent(b)}`);console.log("[DEBUG] API response:",k.data),k.data.available?(console.log("[DEBUG] Username is AVAILABLE"),l("available")):(console.log("[DEBUG] Username is TAKEN"),l("taken"))}catch(k){console.error("[DEBUG] Error checking username:",k),l("idle")}},y=async()=>{var b,k;if(c){console.log("[USERNAME SELECTOR] Already saving, ignoring duplicate call");return}if(o!=="available"&&a!==i){o==="invalid"?R.error("Username must be 3-20 characters (letters, numbers, underscores only)"):o==="taken"?R.error("This username is already taken"):R.error("Please enter a valid username");return}try{d(!0),console.log("[USERNAME SELECTOR] Saving username:",a),await t({username:a})?(console.log("[USERNAME SELECTOR] ✅ Username saved successfully!"),R.success("Username saved! ✨"),console.log("[USERNAME SELECTOR] 🚀 Calling onComplete()"),s(),console.log("[USERNAME SELECTOR] ✓ onComplete() executed")):(console.log("[USERNAME SELECTOR] ❌ Username save failed"),R.error("Failed to save username"),d(!1))}catch(w){console.error("[USERNAME SELECTOR] Error saving username:",w),(k=(b=w.response)==null?void 0:b.data)!=null&&k.message?R.error(w.response.data.message):R.error("Failed to save username"),d(!1)}},x=()=>{switch(o){case"checking":return r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:r.jsx("div",{className:"w-5 h-5 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})});case"available":return r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:r.jsx(ie,{className:"w-6 h-6 text-green-500"})});case"taken":return r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:r.jsx(rt,{className:"w-6 h-6 text-red-500"})});case"invalid":return r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:r.jsx(dt,{className:"w-6 h-6 text-yellow-500"})});default:return null}},g=()=>{switch(o){case"checking":return r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Checking availability..."});case"available":return r.jsx("p",{className:"text-sm text-green-600 mt-2",children:"✓ Username available!"});case"taken":return r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"✗ Username already taken"});case"invalid":return r.jsx("p",{className:"text-sm text-yellow-600 mt-2",children:"! 3-20 characters (letters, numbers, underscores only)"});default:return r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Choose a unique username"})}},v=o==="available"||a===i&&a;return console.log("[DEBUG] Button state:",{usernameStatus:o,username:a,originalUsername:i,currentUsername:e==null?void 0:e.username,canSave:v,condition1:o==="available",condition2:a===i&&a}),r.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[i&&p(i)&&a===i&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-4",children:[r.jsxs("p",{className:"text-sm text-blue-900 mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Auto-assigned username:"})," ",r.jsxs("span",{className:"font-mono",children:["@",i]})]}),r.jsx("p",{className:"text-xs text-blue-700",children:"You can keep this username or customize it below"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Your Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-medium",children:"@"}),r.jsx("input",{type:"text",value:a,onChange:b=>n(b.target.value.toLowerCase()),placeholder:"username",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",maxLength:20}),x()]}),g()]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-3xl p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Username Guidelines"}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[r.jsx("li",{children:"• 3-20 characters long"}),r.jsx("li",{children:"• Only letters, numbers, and underscores"}),r.jsx("li",{children:"• Must be unique"}),r.jsxs("li",{children:["• Will be displayed as @",a||"username"]})]})]}),r.jsx("button",{onClick:y,disabled:!v||c,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-5 h-5"}),r.jsx("span",{children:a===i?"Continue":"Save & Continue"})]})})]})}function dO({onComplete:s,onClose:e}){const[t,a]=m.useState(new Set),[n,i]=m.useState({businessName:"",bio:"",phone:"",instagram:"",facebook:"",website:""}),o=(h,p)=>{i(f=>({...f,[h]:p})),p&&!t.has(h)&&a(f=>new Set([...f,h]))},l=()=>{if(!n.businessName||!n.bio){R.error("Please fill in at least Business Name and Bio");return}s(n),R.success("Information imported successfully!"),e()},c=()=>{window.open("https://www.fresha.com/","_blank")},d=[{id:"businessName",label:"Business Name",placeholder:"Copy your business/salon name",required:!0},{id:"bio",label:"Bio",placeholder:"Copy your bio/description",required:!0,multiline:!0},{id:"phone",label:"Phone",placeholder:"Copy your phone number",required:!1},{id:"instagram",label:"Instagram",placeholder:"Copy your Instagram handle",required:!1},{id:"facebook",label:"Facebook",placeholder:"Copy your Facebook page URL",required:!1},{id:"website",label:"Website",placeholder:"Copy your website URL",required:!1}],u=t.size/d.length*100;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ii,{className:"w-6 h-6 text-purple-600"}),"Step-by-Step Guide"]}),r.jsxs("ol",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Open your Fresha profile"}),r.jsxs("button",{onClick:c,className:"mt-2 inline-flex items-center gap-2 text-sm text-purple-600 hover:text-purple-800 font-medium",children:[r.jsx(my,{className:"w-4 h-4"}),"Open Fresha in new tab"]})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),r.jsx("p",{className:"text-gray-700",children:"Log in and navigate to your profile/business page"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),r.jsx("p",{className:"text-gray-700",children:"Copy and paste each field from your Fresha profile into the form below"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),r.jsx("p",{className:"text-gray-700",children:'Click "Complete Import" when done'})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Import Progress"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[t.size," of ",d.length," fields"]})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-pink-600 transition-all duration-500",style:{width:`${u}%`}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Copy Your Information:"}),d.map(h=>r.jsxs("div",{className:"relative",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.label," ",h.required&&r.jsx("span",{className:"text-red-500",children:"*"}),t.has(h.id)&&r.jsx(ie,{className:"inline-block w-5 h-5 text-green-500 ml-2"})]}),h.multiline?r.jsx("textarea",{value:n[h.id],onChange:p=>o(h.id,p.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none transition-colors",placeholder:h.placeholder}):r.jsxs("div",{className:"relative",children:[r.jsx(xy,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:n[h.id],onChange:p=>o(h.id,p.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none transition-colors",placeholder:h.placeholder})]})]},h.id))]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:e,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:l,disabled:!n.businessName||!n.bio,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[r.jsx(ie,{className:"w-5 h-5"}),"Complete Import (",t.size,"/",d.length,")"]})]})]})}function uO({onComplete:s,onClose:e}){const[t,a]=m.useState(new Set),[n,i]=m.useState({businessName:"",bio:"",phone:"",instagram:"",facebook:"",website:""}),o=(h,p)=>{i(f=>({...f,[h]:p})),p&&!t.has(h)&&a(f=>new Set([...f,h]))},l=()=>{if(!n.businessName||!n.bio){R.error("Please fill in at least Business Name and Bio");return}s(n),R.success("Information imported successfully!"),e()},c=()=>{window.open("https://booksy.com/","_blank")},d=[{id:"businessName",label:"Business Name",placeholder:"Copy your business/salon name",required:!0},{id:"bio",label:"Bio",placeholder:"Copy your bio/description",required:!0,multiline:!0},{id:"phone",label:"Phone",placeholder:"Copy your phone number",required:!1},{id:"instagram",label:"Instagram",placeholder:"Copy your Instagram handle",required:!1},{id:"facebook",label:"Facebook",placeholder:"Copy your Facebook page URL",required:!1},{id:"website",label:"Website",placeholder:"Copy your website URL",required:!1}],u=t.size/d.length*100;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-3xl p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ii,{className:"w-6 h-6 text-blue-600"}),"Step-by-Step Guide"]}),r.jsxs("ol",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Open your Booksy profile"}),r.jsxs("button",{onClick:c,className:"mt-2 inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 font-medium",children:[r.jsx(my,{className:"w-4 h-4"}),"Open Booksy in new tab"]})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),r.jsx("p",{className:"text-gray-700",children:"Log in to your Booksy Business account"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),r.jsx("p",{className:"text-gray-700",children:"Navigate to your business profile settings"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),r.jsx("p",{className:"text-gray-700",children:"Copy and paste each field into the form below"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),r.jsx("p",{className:"text-gray-700",children:'Click "Complete Import" when done'})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Import Progress"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[t.size," of ",d.length," fields"]})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-cyan-500 transition-all duration-500",style:{width:`${u}%`}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Copy Your Information:"}),d.map(h=>r.jsxs("div",{className:"relative",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.label," ",h.required&&r.jsx("span",{className:"text-red-500",children:"*"}),t.has(h.id)&&r.jsx(ie,{className:"inline-block w-5 h-5 text-green-500 ml-2"})]}),h.multiline?r.jsx("textarea",{value:n[h.id],onChange:p=>o(h.id,p.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-colors",placeholder:h.placeholder}):r.jsxs("div",{className:"relative",children:[r.jsx(xy,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:n[h.id],onChange:p=>o(h.id,p.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-colors",placeholder:h.placeholder})]})]},h.id))]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:e,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:l,disabled:!n.businessName||!n.bio,className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[r.jsx(ie,{className:"w-5 h-5"}),"Complete Import (",t.size,"/",d.length,")"]})]})]})}function hO({isOpen:s,onClose:e,onImportComplete:t}){const[a,n]=m.useState(null),[i,o]=m.useState({}),l=()=>{n(null),o({})},c=d=>{o(d),t&&t(d)};return s?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50",onClick:e}),r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center",children:r.jsx(wh,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import Assistant"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Import your profile from Fresha or Booksy"})]})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(De,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:r.jsx(_e,{mode:"wait",children:a?a==="fresha"?r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[r.jsx("div",{className:"mb-4",children:r.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[r.jsx(st,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Change Platform"})]})}),r.jsx(dO,{onComplete:c,onClose:e})]},"fresha-guide"):r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[r.jsx("div",{className:"mb-4",children:r.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[r.jsx(st,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Change Platform"})]})}),r.jsx(uO,{onComplete:c,onClose:e})]},"booksy-guide"):r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(by,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How it works"}),r.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(ie,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"We'll guide you through copying your information step-by-step"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(ie,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Open your existing profile in a new tab alongside this guide"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(ie,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Copy each field manually - quick, easy, and secure"})]})]})]})]})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select your platform:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>n("fresha"),className:"group relative overflow-hidden bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl p-8 text-white hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 h-32 w-32 rounded-full bg-white opacity-10"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 backdrop-blur-lg rounded-2xl flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-10 h-10",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Fresha"}),r.jsx("p",{className:"text-white text-opacity-90 mb-4",children:"Import from your Fresha profile"}),r.jsxs("div",{className:"flex items-center gap-2 text-white font-semibold",children:[r.jsx("span",{children:"Get Started"}),r.jsx(Ie,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]}),r.jsxs("button",{onClick:()=>n("booksy"),className:"group relative overflow-hidden bg-gradient-to-br from-blue-600 to-cyan-500 rounded-3xl p-8 text-white hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 h-32 w-32 rounded-full bg-white opacity-10"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 backdrop-blur-lg rounded-2xl flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-10 h-10",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Booksy"}),r.jsx("p",{className:"text-white text-opacity-90 mb-4",children:"Import from your Booksy profile"}),r.jsxs("div",{className:"flex items-center gap-2 text-white font-semibold",children:[r.jsx("span",{children:"Get Started"}),r.jsx(Ie,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})]})]},"platform-selection")})})]})]})}):null}const ao="https://beautycita.com",mO=["Hair Styling","Hair Coloring","Makeup","Nail Art","Manicure & Pedicure","Facials","Waxing","Eyelash Extensions","Eyebrow Shaping","Massage Therapy","Body Treatments"],pO=["English","Spanish","French","Portuguese","Mandarin","Cantonese","Korean","Japanese","Vietnamese","Tagalog","Arabic","Russian","German","Italian"];function fO(){const{user:s}=we(),[e,t]=m.useState(1),[a,n]=m.useState(!1),[i,o]=m.useState({}),[l,c]=m.useState([]),[d,u]=m.useState([]),[h,p]=m.useState(!1),[f,y]=m.useState([]),[x,g]=m.useState(!1),v=m.useRef(null),{register:b,handleSubmit:k,setValue:w,watch:N,formState:{errors:j}}=cn(),_=N("specialties")||[],S=N("languages")||[];if((s==null?void 0:s.user_status)==="PENDING_STYLIST_APPROVAL")return r.jsx("div",{className:"max-w-2xl mx-auto p-6",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-3xl p-8 shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-3xl flex items-center justify-center",children:r.jsx(ve,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Application Under Review"}),r.jsx("p",{className:"text-gray-600",children:"We're reviewing your stylist application"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-3xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(ie,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Our team will review your profile and portfolio"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(ie,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"We'll verify your business information"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(ie,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"You'll receive an email once approved"})]})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Review typically takes 1-3 business days. We'll notify you via email once your application is approved."})]})]})});if((s==null?void 0:s.role)==="STYLIST")return r.jsx("div",{className:"max-w-2xl mx-auto p-6",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-3xl p-8 shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-3xl flex items-center justify-center",children:r.jsx(ie,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"You're Already a Stylist!"}),r.jsx("p",{className:"text-gray-600",children:"Manage your business from the stylist dashboard"})]})]}),r.jsxs("a",{href:"/dashboard/stylist",className:"inline-flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-3xl hover:bg-green-700 transition-colors",children:["Go to Stylist Dashboard",r.jsx(Ie,{className:"w-5 h-5"})]})]})});const C=B=>{w("locationAddress",B.address),w("locationCity",B.city),w("locationState",B.state),w("locationZip",B.zip),o(V=>({...V,locationAddress:B.address,locationCity:B.city,locationState:B.state,locationZip:B.zip}))},I=B=>{const V=_,ee=V.includes(B)?V.filter(F=>F!==B):[...V,B];w("specialties",ee)},P=B=>{const V=S,ee=V.includes(B)?V.filter(F=>F!==B):[...V,B];w("languages",ee)},A=B=>{B.businessName&&w("businessName",B.businessName),B.bio&&w("bio",B.bio),B.phone&&w("phone",B.phone),B.instagram&&w("instagram",B.instagram),B.facebook&&w("facebook",B.facebook),B.website&&w("website",B.website),o(V=>({...V,...B})),R.success("Information imported! Review and continue."),g(!1)},L=B=>{const V=Array.from(B.target.files||[]);if(l.length+V.length>6){R.error("Maximum 6 portfolio images allowed");return}const ee=V.filter(F=>F.type.startsWith("image/")?F.size>5*1024*1024?(R.error(`${F.name} is too large (max 5MB)`),!1):!0:(R.error(`${F.name} is not an image`),!1));c(F=>[...F,...ee]),ee.forEach(F=>{const z=new FileReader;z.onloadend=()=>{u(X=>[...X,z.result])},z.readAsDataURL(F)})},O=B=>{c(V=>V.filter((ee,F)=>F!==B)),u(V=>V.filter((ee,F)=>F!==B))},M=B=>{o(V=>({...V,...B})),t(2)},$=()=>{if(!i.locationAddress||!i.locationCity){R.error("Please select your business location");return}t(4)},D=async()=>{var B,V;try{n(!0);const ee=localStorage.getItem("authToken"),F=await G.post(`${ao}/api/stripe/create-connect-account`,{},{headers:{Authorization:`Bearer ${ee}`}});if(F.data.success&&F.data.url){const z=window.open(F.data.url,"_blank"),X=setInterval(async()=>{try{(await G.get(`${ao}/api/stripe/onboarding-status`,{headers:{Authorization:`Bearer ${ee}`}})).data.complete&&(clearInterval(X),p(!0),R.success("Stripe onboarding complete!"),t(5))}catch(Y){console.error("Error checking Stripe status:",Y)}},3e3);setTimeout(()=>clearInterval(X),5*60*1e3)}}catch(ee){console.error("Stripe onboarding error:",ee),R.error(((V=(B=ee.response)==null?void 0:B.data)==null?void 0:V.message)||"Failed to start Stripe onboarding")}finally{n(!1)}},q=async()=>{var B,V,ee,F;try{n(!0),y([]);const z=localStorage.getItem("authToken"),X=new FormData;l.forEach((K,U)=>{X.append("portfolioImages",K)}),Object.entries(i).forEach(([K,U])=>{U!=null&&X.append(K,Array.isArray(U)?JSON.stringify(U):String(U))}),await G.post(`${ao}/api/stylist/update-profile`,X,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"multipart/form-data"}});const Y=await G.post(`${ao}/api/auth/upgrade-to-stylist`,{},{headers:{Authorization:`Bearer ${z}`}});Y.data.success?(R.success("Application submitted successfully!"),window.location.reload()):Y.data.requiresProfileCompletion&&(y(Y.data.validationErrors||[]),R.error("Please complete all required fields"))}catch(z){console.error("Application submission error:",z),(V=(B=z.response)==null?void 0:B.data)!=null&&V.validationErrors&&y(z.response.data.validationErrors),R.error(((F=(ee=z.response)==null?void 0:ee.data)==null?void 0:F.message)||"Failed to submit application")}finally{n(!1)}},W=[{number:1,title:"Username",icon:py},{number:2,title:"Business Info",icon:ml},{number:3,title:"Location",icon:ot},{number:4,title:"Payments",icon:Ge},{number:5,title:"Credentials",icon:sa},{number:6,title:"Portfolio",icon:Xt}];return r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl flex items-center justify-center mx-auto mb-4",children:r.jsx(Qa,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Become a Stylist"}),r.jsx("p",{className:"text-gray-600",children:"Complete your profile to start offering services"})]}),r.jsx("div",{className:"flex items-center justify-between mb-12 max-w-2xl mx-auto",children:W.map((B,V)=>{const ee=B.icon,F=e>B.number,z=e===B.number;return r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 transition-all ${F?"bg-green-500":z?"bg-purple-600":"bg-gray-200"}`,children:F?r.jsx(ie,{className:"w-6 h-6 text-white"}):r.jsx(ee,{className:`w-6 h-6 ${z?"text-white":"text-gray-400"}`})}),r.jsx("span",{className:`text-xs font-medium ${z?"text-purple-600":"text-gray-500"}`,children:B.title})]}),V<W.length-1&&r.jsx("div",{className:`h-0.5 flex-1 mx-2 -mt-8 transition-colors ${F?"bg-green-500":"bg-gray-200"}`})]},B.number)})}),r.jsx(_e,{mode:"wait",children:r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-3xl shadow-lg p-8",children:[e===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Choose your username & contact info"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your username will be used for your public portfolio page (beautycita.com/p/yourname)"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),r.jsx(cO,{onComplete:()=>{}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{...b("phone",{required:"Phone number is required"}),type:"tel",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"(555) 123-4567"})]}),j.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.phone.message})]}),r.jsxs("button",{onClick:()=>{if(!(s!=null&&s.username)){R.error("Please choose a username first");return}const B=N("phone");if(!B){R.error("Please enter your phone number");return}o(V=>({...V,phone:B})),t(2)},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]})]}),e===2&&r.jsxs("form",{onSubmit:k(M),className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell us about your business"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Already have a profile elsewhere? Import it!"})]}),r.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-3xl hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx(DocumentDuplicateIcon,{className:"w-5 h-5"}),"Import Profile"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),r.jsx("input",{...b("businessName",{required:"Business name is required"}),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Maria's Beauty Studio"}),j.businessName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.businessName.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio *"}),r.jsx("textarea",{...b("bio",{required:"Bio is required",minLength:{value:50,message:"Bio must be at least 50 characters"}}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"Tell clients about your experience, style, and what makes you unique..."}),j.bio&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.bio.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties * (Select at least one)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:mO.map(B=>r.jsx("button",{type:"button",onClick:()=>I(B),className:`px-4 py-2 rounded-3xl border-2 transition-all text-sm font-medium ${_.includes(B)?"border-purple-600 bg-purple-50 text-purple-600":"border-gray-200 bg-white text-gray-600 hover:border-purple-300"}`,children:B},B))}),j.specialties&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.specialties.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),r.jsx("input",{...b("experienceYears",{valueAsNumber:!0,min:0}),type:"number",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., 5"})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Online Presence (Optional)"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),r.jsx("input",{...b("instagram"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"@yourusername"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok"}),r.jsx("input",{...b("tiktok"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"@yourusername"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook Page"}),r.jsx("input",{...b("facebook"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"facebook.com/yourpage"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ii,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{...b("website"),type:"url",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"https://yourwebsite.com"})]})]})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Languages Spoken *"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:pO.map(B=>r.jsx("button",{type:"button",onClick:()=>P(B),className:`px-4 py-2 rounded-3xl border-2 transition-all text-sm font-medium ${S.includes(B)?"border-purple-600 bg-purple-50 text-purple-600":"border-gray-200 bg-white text-gray-600 hover:border-purple-300"}`,children:B},B))}),j.languages&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.languages.message})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs("button",{type:"button",onClick:()=>t(1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]}),r.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]})]})]}),e===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Where is your business located?"}),r.jsx(_h,{onLocationSelect:C,placeholder:"Enter your business address..."}),i.locationAddress&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-3xl p-4 flex items-start gap-3",children:[r.jsx(ie,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-green-900 font-medium",children:"Selected Location:"}),r.jsxs("p",{className:"text-green-700",children:[i.locationAddress,", ",i.locationCity,", ",i.locationState]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>t(2),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]}),r.jsxs("button",{onClick:$,disabled:!i.locationAddress,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]})]})]}),e===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Set up payments"}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Ge,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Stripe Connect"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"We use Stripe to securely process payments. You'll need to create a Stripe account to receive payments from clients."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ie,{className:"w-4 h-4 text-green-500"}),"Secure payment processing"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ie,{className:"w-4 h-4 text-green-500"}),"Direct deposits to your bank"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ie,{className:"w-4 h-4 text-green-500"}),"Built-in fraud protection"]})]})]})]})}),h?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-3xl p-4 flex items-center gap-3",children:[r.jsx(ie,{className:"w-6 h-6 text-green-600"}),r.jsx("span",{className:"text-green-900 font-medium",children:"Stripe onboarding complete!"})]}):r.jsx("button",{onClick:D,disabled:a,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Connect with Stripe"}),r.jsx(Ie,{className:"w-5 h-5"})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>t(3),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]}),h&&r.jsxs("button",{onClick:()=>t(5),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]})]})]}),e===5&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Certifications & Policies"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Share your credentials and set your cancellation policy"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications & Licenses (Optional)"}),r.jsx("textarea",{...b("certifications"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Cosmetology License (State of California), Advanced Hair Coloring Certification..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"List your relevant certifications and licenses"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Education & Training (Optional)"}),r.jsx("textarea",{...b("education"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Paul Mitchell School of Cosmetology, Vidal Sassoon Academy..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Share your educational background and training"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy (Optional)"}),r.jsx("textarea",{...b("cancellationPolicy"),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., 24 hours notice required for cancellations. Late cancellations or no-shows may be charged 50% of service cost..."}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Set clear expectations for cancellations and no-shows"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>t(4),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]}),r.jsxs("button",{onClick:()=>{const B=N("certifications"),V=N("education"),ee=N("cancellationPolicy");o(F=>({...F,certifications:B,education:V,cancellationPolicy:ee})),t(6)},className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]})]})]}),e===6&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Upload your portfolio"}),r.jsx("p",{className:"text-gray-600",children:"Showcase your best work! Upload at least 1 image (maximum 6)."}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[d.map((B,V)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:B,alt:`Portfolio ${V+1}`,className:"w-full h-48 object-cover rounded-3xl"}),r.jsx("button",{onClick:()=>O(V),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(rt,{className:"w-5 h-5"})})]},V)),l.length<6&&r.jsxs("button",{onClick:()=>{var B;return(B=v.current)==null?void 0:B.click()},className:"h-48 border-2 border-dashed border-gray-300 rounded-3xl flex flex-col items-center justify-center gap-2 hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[r.jsx(Xt,{className:"w-8 h-8 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Add Image"})]})]}),r.jsx("input",{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:L,className:"hidden"}),f.length>0&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(dt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Please fix these issues:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-700",children:f.map((B,V)=>r.jsx("li",{children:B},V))})]})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>t(5),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]}),r.jsx("button",{onClick:q,disabled:a||l.length===0,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Submitting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-5 h-5"}),r.jsx("span",{children:"Submit Application"})]})})]})]})]},e)}),r.jsx(hO,{isOpen:x,onClose:()=>g(!1),onImportComplete:A})]})}function gO(){return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 py-12",children:r.jsx(fO,{})})}function xO(){const s=wt(),{t:e}=je(),{user:t,updateProfile:a}=we(),[n,i]=m.useState("account"),[o,l]=m.useState(localStorage.getItem("darkMode")==="true"),[c,d]=m.useState({firstName:(t==null?void 0:t.firstName)||(t==null?void 0:t.first_name)||"",lastName:(t==null?void 0:t.lastName)||(t==null?void 0:t.last_name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[u,h]=m.useState(!1),[p,f]=m.useState(!1),[y,x]=m.useState({current:"",new:"",confirm:""}),[g,v]=m.useState(!1),[b,k]=m.useState(!1),[w,N]=m.useState({bookingConfirmations:!0,bookingReminders:!0,paymentReceipts:!0,promotionalEmails:!1,smsNotifications:!0,pushNotifications:!0}),[j,_]=m.useState({profileVisibility:"public",showEmail:!1,showPhone:!1,dataSharing:!1}),[S,C]=m.useState({language:"en",theme:o?"dark":"light",currency:"USD",timezone:"America/Los_Angeles"}),I=[{id:"account",icon:Ct,title:"Account Settings",description:"Manage your personal information",gradient:"from-blue-500 to-cyan-600"},{id:"security",icon:Ke,title:"Security & Privacy",description:"Password, 2FA, and biometric devices",gradient:"from-green-500 to-emerald-600"},{id:"payments",icon:Ge,title:"Payment Methods",description:"Cards, wallets, and billing",gradient:"from-purple-500 to-pink-600"},{id:"notifications",icon:hi,title:"Notifications",description:"Email, SMS, and push preferences",gradient:"from-yellow-500 to-orange-600"},{id:"privacy",icon:Lr,title:"Privacy Controls",description:"Data sharing and visibility",gradient:"from-red-500 to-pink-600"},{id:"preferences",icon:Zl,title:"Preferences",description:"Language, theme, and regional settings",gradient:"from-indigo-500 to-purple-600"},{id:"help",icon:lp,title:"Help & Support",description:"FAQs, contact, and documentation",gradient:"from-gray-500 to-gray-700"}],P=async()=>{try{h(!0),await a(c)?R.success("Account information updated successfully!"):R.error("Failed to update account information")}catch(D){console.error("Error updating account:",D),R.error("An error occurred while updating your account")}finally{h(!1)}},A=()=>{if(y.new!==y.confirm){R.error("New passwords do not match");return}if(y.new.length<8){R.error("Password must be at least 8 characters");return}R.success("Password changed successfully!"),x({current:"",new:"",confirm:""}),f(!1)},L=()=>{R.success("Notification preferences saved!")},O=()=>{R.success("Privacy settings saved!")},M=()=>{localStorage.setItem("darkMode",S.theme==="dark"?"true":"false"),l(S.theme==="dark"),R.success("Preferences saved!")},$=()=>{switch(n){case"account":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"First Name"}),r.jsx("input",{type:"text",value:c.firstName,onChange:D=>d({...c,firstName:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Last Name"}),r.jsx("input",{type:"text",value:c.lastName,onChange:D=>d({...c,lastName:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Email Address"}),r.jsx("input",{type:"email",value:c.email,onChange:D=>d({...c,email:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`}),!(t!=null&&t.email_verified)&&r.jsx("p",{className:"mt-2 text-sm text-yellow-600",children:"Email not verified"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Phone Number"}),r.jsx("input",{type:"tel",value:c.phone,disabled:!0,className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-900 border-gray-700 text-gray-500":"bg-gray-50 border-gray-300 text-gray-500"}`}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Phone number cannot be changed"})]}),r.jsx("button",{onClick:P,disabled:u,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all disabled:opacity-50",children:u?"Saving...":"Save Changes"})]})});case"security":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Password & Authentication"}),p?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:g?"text":"password",value:y.current,onChange:D=>x({...y,current:D.target.value}),className:`w-full px-4 py-3 pr-12 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`}),r.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-4 top-1/2 -translate-y-1/2",children:g?r.jsx(Ns,{className:"w-5 h-5 text-gray-400"}):r.jsx(At,{className:"w-5 h-5 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:b?"text":"password",value:y.new,onChange:D=>x({...y,new:D.target.value}),className:`w-full px-4 py-3 pr-12 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`}),r.jsx("button",{type:"button",onClick:()=>k(!b),className:"absolute right-4 top-1/2 -translate-y-1/2",children:b?r.jsx(Ns,{className:"w-5 h-5 text-gray-400"}):r.jsx(At,{className:"w-5 h-5 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Confirm New Password"}),r.jsx("input",{type:"password",value:y.confirm,onChange:D=>x({...y,confirm:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>f(!1),className:`flex-1 py-3 rounded-full font-semibold ${o?"bg-gray-800 text-white border border-gray-700":"bg-gray-100 text-gray-700"}`,children:"Cancel"}),r.jsx("button",{onClick:A,className:"flex-1 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Update Password"})]})]}):r.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Change Password"})]}),r.jsxs("div",{className:`border-t ${o?"border-gray-700":"border-gray-200"} pt-6`,children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Two-Factor Authentication"}),r.jsx("p",{className:`text-sm mb-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Add an extra layer of security to your account"}),r.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Enable 2FA"})]}),r.jsxs("div",{className:`border-t ${o?"border-gray-700":"border-gray-200"} pt-6`,children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Biometric Devices"}),r.jsx("p",{className:`text-sm mb-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Manage fingerprint and face ID login devices"}),r.jsxs("button",{onClick:()=>s("/profile"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-full hover:shadow-lg transition-all inline-flex items-center gap-2",children:[r.jsx(mi,{className:"w-5 h-5"}),"Manage Devices"]})]})]});case"payments":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Payment Methods"}),r.jsx("p",{className:`text-sm mb-6 ${o?"text-gray-400":"text-gray-600"}`,children:"Manage your credit cards and payment options"}),r.jsxs("button",{onClick:()=>s("/payment-methods"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all inline-flex items-center gap-2",children:[r.jsx(Ge,{className:"w-5 h-5"}),"Manage Payment Methods"]})]}),r.jsxs("div",{className:`border-t ${o?"border-gray-700":"border-gray-200"} pt-6`,children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Bitcoin & Cryptocurrency"}),r.jsx("p",{className:`text-sm mb-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Pay with Bitcoin and other cryptocurrencies"}),r.jsx("button",{onClick:()=>s("/client/bitcoin"),className:"px-6 py-3 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Manage Crypto Payments"})]})]});case"notifications":return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Notification Preferences"}),r.jsx("div",{className:"space-y-4",children:[{key:"bookingConfirmations",label:"Booking Confirmations",desc:"Get notified when bookings are confirmed"},{key:"bookingReminders",label:"Booking Reminders",desc:"Reminders 24 hours before appointments"},{key:"paymentReceipts",label:"Payment Receipts",desc:"Receive receipts for all transactions"},{key:"promotionalEmails",label:"Promotional Emails",desc:"Special offers and promotions"},{key:"smsNotifications",label:"SMS Notifications",desc:"Text messages for important updates"},{key:"pushNotifications",label:"Push Notifications",desc:"Browser push notifications"}].map(D=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800":"bg-gray-50"}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:D.label}),r.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:D.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:w[D.key],onChange:q=>N({...w,[D.key]:q.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},D.key))}),r.jsx("button",{onClick:L,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Save Notification Preferences"})]});case"privacy":return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Privacy Controls"}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Profile Visibility"}),r.jsxs("select",{value:j.profileVisibility,onChange:D=>_({...j,profileVisibility:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`,children:[r.jsx("option",{value:"public",children:"Public"}),r.jsx("option",{value:"private",children:"Private"}),r.jsx("option",{value:"friends",children:"Friends Only"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800":"bg-gray-50"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"Show Email Address"}),r.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Allow others to see your email"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j.showEmail,onChange:D=>_({...j,showEmail:D.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800":"bg-gray-50"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"Show Phone Number"}),r.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Allow others to see your phone"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j.showPhone,onChange:D=>_({...j,showPhone:D.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800":"bg-gray-50"}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"Data Sharing"}),r.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Share usage data to improve services"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j.dataSharing,onChange:D=>_({...j,dataSharing:D.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]}),r.jsx("button",{onClick:O,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Save Privacy Settings"})]});case"preferences":return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"App Preferences"}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Language"}),r.jsxs("select",{value:S.language,onChange:D=>C({...S,language:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`,children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Español"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Theme"}),r.jsxs("select",{value:S.theme,onChange:D=>C({...S,theme:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`,children:[r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"dark",children:"Dark"}),r.jsx("option",{value:"auto",children:"Auto (System)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Currency"}),r.jsxs("select",{value:S.currency,onChange:D=>C({...S,currency:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`,children:[r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"MXN",children:"MXN ($)"}),r.jsx("option",{value:"EUR",children:"EUR (€)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Timezone"}),r.jsxs("select",{value:S.timezone,onChange:D=>C({...S,timezone:D.target.value}),className:`w-full px-4 py-3 rounded-full border ${o?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-purple-500 focus:outline-none`,children:[r.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),r.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),r.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),r.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),r.jsx("option",{value:"America/Mexico_City",children:"Mexico City"})]})]}),r.jsx("button",{onClick:M,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-full hover:shadow-lg transition-all",children:"Save Preferences"})]});case"help":return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-gray-900"}`,children:"Help & Support"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>s("/help"),className:`w-full flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lp,{className:`w-6 h-6 ${o?"text-purple-400":"text-purple-600"}`}),r.jsx("span",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"FAQs & Help Center"})]}),r.jsx(Sr,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("button",{onClick:()=>s("/contact"),className:`w-full flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ir,{className:`w-6 h-6 ${o?"text-purple-400":"text-purple-600"}`}),r.jsx("span",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"Contact Support"})]}),r.jsx(Sr,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("button",{onClick:()=>s("/privacy"),className:`w-full flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Lr,{className:`w-6 h-6 ${o?"text-purple-400":"text-purple-600"}`}),r.jsx("span",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"Privacy Policy"})]}),r.jsx(Sr,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("button",{onClick:()=>s("/terms"),className:`w-full flex items-center justify-between p-4 rounded-full ${o?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ke,{className:`w-6 h-6 ${o?"text-purple-400":"text-purple-600"}`}),r.jsx("span",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:"Terms of Service"})]}),r.jsx(Sr,{className:"w-5 h-5 text-gray-400"})]})]}),r.jsx("div",{className:`mt-8 p-4 rounded-full border-2 border-dashed ${o?"border-gray-700 bg-gray-800":"border-gray-300 bg-gray-50"}`,children:r.jsxs("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:[r.jsx("strong",{className:o?"text-white":"text-gray-900",children:"App Version:"})," 1.0.0",r.jsx("br",{}),r.jsx("strong",{className:o?"text-white":"text-gray-900",children:"Last Updated:"})," October 2025"]})})]});default:return null}};return r.jsxs("div",{className:`min-h-screen ${o?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx("div",{className:`${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-7xl py-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>s("/dashboard"),className:`p-2 rounded-full ${o?"hover:bg-gray-700":"hover:bg-gray-100"} transition-colors`,children:r.jsx(st,{className:`w-6 h-6 ${o?"text-gray-300":"text-gray-600"}`})}),r.jsxs("div",{children:[r.jsx("h1",{className:`text-3xl font-bold ${o?"text-white":"text-gray-900"}`,children:"Settings"}),r.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Manage your account preferences and settings"})]})]})})}),r.jsx("div",{className:"container mx-auto px-4 max-w-7xl py-8",children:r.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:`${o?"bg-gray-800":"bg-white"} rounded-2xl shadow-lg p-4 space-y-2`,children:I.map(D=>{const q=D.icon;return r.jsxs("button",{onClick:()=>i(D.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-full transition-all ${n===D.id?`bg-gradient-to-r ${D.gradient} text-white shadow-md`:o?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(q,{className:"w-5 h-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:D.title}),r.jsx("p",{className:`text-xs truncate ${n===D.id?"text-white/80":"text-gray-500"}`,children:D.description})]})]},D.id)})})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsx("div",{className:`${o?"bg-gray-800":"bg-white"} rounded-2xl shadow-lg p-6`,children:r.jsx(_e,{mode:"wait",children:r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:$()},n)})})})]})})]})}function yO({currentStep:s,totalSteps:e,progressPercent:t,nextStepTitle:a,onContinue:n,onDismiss:i,canDismiss:o=!1}){const l=t>=100,c=e-s;return r.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 p-1 shadow-lg mb-8",children:r.jsxs("div",{className:"bg-white rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:l?r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:r.jsx(ie,{className:"h-7 w-7 text-green-600"})}):r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center",children:r.jsx(Ee,{className:"h-7 w-7 text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l?"Profile Complete! 🎉":"Complete Your Profile"}),r.jsx("p",{className:"text-sm text-gray-600",children:l?"Your profile is under review. We'll notify you within 24-48 hours.":`You're ${t}% complete! ${c} ${c===1?"step":"steps"} remaining.`})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{className:"font-semibold",children:[t,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:r.jsx(E.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-full"})})]}),r.jsx("div",{className:"flex items-center space-x-2 mb-4",children:Array.from({length:e},(d,u)=>r.jsx("div",{className:`flex-1 h-2 rounded-full transition-all ${u<s?"bg-gradient-to-r from-pink-500 to-purple-600":u===s?"bg-purple-300 animate-pulse":"bg-gray-200"}`},u))}),!l&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(ve,{className:"h-4 w-4"}),r.jsxs("span",{children:["~",(e-s)*3," min remaining"]})]}),r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-lg hover:from-pink-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg font-medium",children:[r.jsx("span",{children:a||`Continue to Step ${s+1}`}),r.jsx(Ie,{className:"h-4 w-4"})]})]}),l&&r.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ie,{className:"h-5 w-5 text-green-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-green-900 mb-1",children:"What's Next?"}),r.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[r.jsx("li",{children:"✓ Our team is reviewing your profile"}),r.jsx("li",{children:"✓ Verifying your Stripe and Bitcoin payment setup"}),r.jsx("li",{children:"✓ You'll receive an email/SMS when approved"}),r.jsx("li",{children:"✓ Estimated approval time: 24-48 hours"})]})]})]})})]}),o&&i&&r.jsx("button",{onClick:i,className:"ml-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(De,{className:"h-5 w-5"})})]}),!l&&t>0&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-100",children:r.jsx("p",{className:"text-sm text-purple-900",children:t>=80?r.jsx("span",{children:"🎉 Almost there! You're doing great!"}):t>=60?r.jsx("span",{children:"💪 More than halfway! Keep going!"}):t>=40?r.jsx("span",{children:"⭐ Great progress! You're on your way!"}):r.jsx("span",{children:"🚀 Nice start! Aphrodite AI is here to help!"})})})]})})}var Mu={exports:{}};(function(s,e){(function(t,a){a(e,m)})(T,function(t,a){var n="default"in a?a.default:a;function i(k){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(k)}function o(k,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}function l(k,w,N){return w in k?Object.defineProperty(k,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[w]=N,k}function c(k){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(k)}function d(k,w){return(d=Object.setPrototypeOf||function(N,j){return N.__proto__=j,N})(k,w)}function u(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function h(k){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,j=c(k);return N=w?(N=c(this).constructor,Reflect.construct(j,arguments,N)):j.apply(this,arguments),j=this,!(N=N)||typeof N!="object"&&typeof N!="function"?u(j):N}}function p(k,w){var N,j=(w=w===void 0?{}:w).insertAt;k&&typeof document<"u"&&(N=document.head||document.getElementsByTagName("head")[0],(w=document.createElement("style")).type="text/css",j==="top"&&N.firstChild?N.insertBefore(w,N.firstChild):N.appendChild(w),w.styleSheet?w.styleSheet.cssText=k:w.appendChild(document.createTextNode(k)))}var f={animated:"rsw_1z",fadeInRight:"rsw_1M",fadeInLeft:"rsw_19",fadeOutRight:"rsw_3C",fadeOutLeft:"rsw_1u"};p(`/**
 * Snippets from animate.css
 * Credit goes to https://github.com/daneden
 * github.com/daneden/animate.css
*/
.rsw_1z {
  -webkit-animation-duration: .8192s;
  animation-duration: .8192s;
  -webkit-animation-fill-mode: backwards;
  animation-fill-mode: backwards;
}

/** fadeInRight */
@-webkit-keyframes rsw_1M {
  from {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes rsw_1M {
  from {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

.rsw_1M {
  -webkit-animation-name: rsw_1M;
  animation-name: rsw_1M;
}

/** fadeInLeft */
@-webkit-keyframes rsw_19 {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes rsw_19 {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

.rsw_19 {
  -webkit-animation-name: rsw_19;
  animation-name: rsw_19;
}

/** fadeOutRight */
@-webkit-keyframes rsw_3C {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }
}

@keyframes rsw_3C {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }
}

.rsw_3C {
  -webkit-animation-name: rsw_3C;
  animation-name: rsw_3C;
}

/** fadeOutLeft */
@-webkit-keyframes rsw_1u {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }
}

@keyframes rsw_1u {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }
}

.rsw_1u {
  -webkit-animation-name: rsw_1u;
  animation-name: rsw_1u;
}
`);var y="rsw_2Y",x="rsw_2f",g="rsw_3G";p(`/** Step Wizard */
.rsw_2Y {
    position: relative;
}

.rsw_2f {
    opacity: 0;
    pointer-events: none;
    position: absolute;
    top: 0;
    width: 100%;
    z-index: 0;
}

.rsw_3G {
    opacity: 1;
    pointer-events: inherit;
    position: relative;
    z-index: 1;
}
`);var v=function(){(function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),S&&d(_,S)})(j,a.PureComponent);var k,w,N=h(j);function j(_){var S;return function(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}(this,j),l(u(S=N.call(this,_)),"initialState",function(){var C={activeStep:0,classes:{},hashKeys:{},namedSteps:{}},I=(typeof window>"u"?"undefined":i(window))==="object"?S.getHash():"",P=S.getSteps();P.forEach(function(L,O){C.hashKeys[O]=L.props&&L.props.hashKey||"step".concat(O+1),C.hashKeys[C.hashKeys[O]]=O,C.namedSteps[O]=L.props&&L.props.stepName||"step".concat(O+1),C.namedSteps[C.namedSteps[O]]=O});var A=S.props.initialStep-1;return A&&P[A]&&(C.activeStep=A),S.props.isHashEnabled&&I&&C.hashKeys[I]!==void 0&&(C.activeStep=C.hashKeys[I]),S.props.transitions&&(C.classes[C.activeStep]=S.props.transitions.intro||""),C}),l(u(S),"getHash",function(){return decodeURI(window.location.hash).replace(/^#/,"")}),l(u(S),"getTransitions",function(){return S.props.transitions||{enterRight:"".concat(f.animated," ").concat(f.fadeInRight),enterLeft:"".concat(f.animated," ").concat(f.fadeInLeft),exitRight:"".concat(f.animated," ").concat(f.fadeOutRight),exitLeft:"".concat(f.animated," ").concat(f.fadeOutLeft)}}),l(u(S),"onHashChange",function(){S.setActiveStep(S.state.hashKeys[S.getHash()]||0)}),l(u(S),"isInvalidStep",function(C){return C<0||C>=S.totalSteps}),l(u(S),"setActiveStep",function(C){var I,P,A=S.state.activeStep;A!==C&&(S.isInvalidStep(C)||(I=S.state.classes,P=S.getTransitions(),A<C?(I[A]=P.exitLeft,I[C]=P.enterRight):(I[A]=P.exitRight,I[C]=P.enterLeft),S.setState({activeStep:C,classes:I},function(){S.onStepChange({previousStep:A+1,activeStep:C+1})})))}),l(u(S),"onStepChange",function(C){S.props.onStepChange(C),S.props.isHashEnabled&&S.updateHash(S.state.activeStep)}),l(u(S),"getSteps",function(){return n.Children.toArray(S.props.children)}),l(u(S),"firstStep",function(){return S.goToStep(1)}),l(u(S),"lastStep",function(){return S.goToStep(S.totalSteps)}),l(u(S),"nextStep",function(){return S.setActiveStep(S.state.activeStep+1)}),l(u(S),"previousStep",function(){return S.setActiveStep(S.state.activeStep-1)}),l(u(S),"goToStep",function(C){S.props.isHashEnabled&&typeof C=="string"&&S.state.hashKeys[C]!==void 0?S.setActiveStep(S.state.hashKeys[C]):S.setActiveStep(C-1)}),l(u(S),"goToNamedStep",function(C){typeof C=="string"&&S.state.namedSteps[C]!==void 0?S.setActiveStep(S.state.namedSteps[C]):console.error('Cannot find step with name "'.concat(C,'"'))}),l(u(S),"updateHash",function(C){window.location.hash=S.state.hashKeys[C]}),l(u(S),"isReactComponent",function(C){return C=C.type,typeof C=="function"||i(C)==="object"}),S.state=S.initialState(),S}return k=j,(w=[{key:"componentDidMount",value:function(){this.props.isHashEnabled&&window.addEventListener("hashchange",this.onHashChange),this.props.instance(this)}},{key:"componentWillUnmount",value:function(){this.props.isHashEnabled&&window.removeEventListener("hashchange",this.onHashChange)}},{key:"currentStep",get:function(){return this.state.activeStep+1}},{key:"totalSteps",get:function(){return this.getSteps().length}},{key:"render",value:function(){var _=this,S={currentStep:this.currentStep,totalSteps:this.totalSteps,nextStep:this.nextStep,previousStep:this.previousStep,goToStep:this.goToStep,goToNamedStep:this.goToNamedStep,firstStep:this.firstStep,lastStep:this.lastStep},C=this.state.classes,I=n.Children.map(this.getSteps(),function(P,A){return P?(S.isActive=A===_.state.activeStep,S.transitions=C[A],!_.props.isLazyMount||_.props.isLazyMount&&S.isActive?n.createElement(b,S,_.isReactComponent(P)?n.cloneElement(P,S):P):null):null});return n.createElement("div",{className:this.props.className},this.props.nav&&n.cloneElement(this.props.nav,S),n.createElement("div",{className:y},I))}}])&&o(k.prototype,w),j}();v.defaultProps={children:[],className:null,initialStep:1,instance:function(){},isHashEnabled:!1,isLazyMount:!1,nav:null,onStepChange:function(){},transitions:void 0};var b=function(j){var w=j.children,N=j.isActive,j=j.transitions;return n.createElement("div",{className:"".concat(x," ").concat(j," ").concat(N?g:"").trim()},w)};b.defaultProps={children:[],isActive:!1,transitions:""},t.Step=b,t.default=v,Object.defineProperty(t,"__esModule",{value:!0})})})(Mu,Mu.exports);var bO=Mu.exports;const vO=ua(bO),Zo="https://beautycita.com",ld="beautycita-stylist-onboarding-progress";function wO({onComplete:s,onExit:e}){const{t}=je(),{user:a,stylist:n}=we(),[i,o]=m.useState(null),[l,c]=m.useState(1),[d,u]=m.useState([]),[h,p]=m.useState([]),f=cn({mode:"onChange",defaultValues:{businessName:(n==null?void 0:n.business_name)||"",bio:(n==null?void 0:n.bio)||"",specialties:(n==null?void 0:n.specialties)||[],experience:(n==null?void 0:n.experience_years)||0,locationAddress:(n==null?void 0:n.location_address)||"",locationCity:(n==null?void 0:n.location_city)||"",locationState:(n==null?void 0:n.location_state)||"",serviceRadius:10,mobileServices:!1,workingHours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"10:00",end:"14:00"},sunday:{enabled:!1,start:"10:00",end:"14:00"}},selectedServices:[],portfolioImages:[],instagramUrl:"",tiktokUrl:""}}),{register:y,handleSubmit:x,watch:g,setValue:v,getValues:b,formState:{errors:k}}=f,w=g("specialties");g("portfolioImages");const N=["Hair Styling","Hair Coloring","Makeup","Nails","Skincare","Massage","Waxing","Eyelashes","Eyebrows","Spa Treatments"],j=[{number:1,title:"Professional Identity",icon:ks,gradient:"from-purple-500 to-pink-500"},{number:2,title:"Location & Service Area",icon:ot,gradient:"from-pink-500 to-red-500"},{number:3,title:"Working Hours & Availability",icon:ve,gradient:"from-cyan-500 to-blue-500"},{number:4,title:"Services & Pricing",icon:Qa,gradient:"from-blue-500 to-purple-500"},{number:5,title:"Portfolio & Social",icon:Xt,gradient:"from-green-500 to-emerald-500"},{number:6,title:"Payment Setup",icon:Ge,gradient:"from-orange-500 to-red-500"}];m.useEffect(()=>{const L=localStorage.getItem(ld);if(L)try{const{step:O,completed:M,formData:$}=JSON.parse(L);console.log("[STYLIST_ONBOARDING] Loaded progress:",{step:O,completed:M}),u(M||[]),$&&Object.keys($).forEach(D=>{v(D,$[D])})}catch(O){console.error("[STYLIST_ONBOARDING] Failed to load progress:",O)}},[v]),m.useEffect(()=>{const L=b(),O={step:l,completed:d,formData:L,timestamp:new Date().toISOString()};localStorage.setItem(ld,JSON.stringify(O)),console.log("[STYLIST_ONBOARDING] Saved progress:",{step:l,completed:d})},[l,d,b]);const _=L=>{console.log("[STYLIST_ONBOARDING] Step changed:",L),c(L.activeStep)},S=L=>{console.log("[STYLIST_ONBOARDING] ========== STEP COMPLETE =========="),console.log("[STYLIST_ONBOARDING] Completing step:",L),u(O=>{if(!O.includes(L)){const M=[...O,L];return console.log("[STYLIST_ONBOARDING] Completed steps:",M),M}return O}),i&&(console.log("[STYLIST_ONBOARDING] Calling nextStep()"),i.nextStep())},C=L=>{const O=b("specialties")||[],M=O.includes(L)?O.filter($=>$!==L):[...O,L];v("specialties",M)},I=L=>{console.log("[STYLIST_ONBOARDING] File upload triggered");const O=Array.from(L.target.files||[]),M=b("portfolioImages")||[];if(M.length+O.length>6){R.error("Maximum 6 portfolio images allowed");return}console.log("[STYLIST_ONBOARDING] Uploading",O.length,"files"),v("portfolioImages",[...M,...O]),O.forEach($=>{const D=new FileReader;D.onload=q=>{var W;(W=q.target)!=null&&W.result&&p(B=>[...B,q.target.result])},D.readAsDataURL($)}),R.success(`${O.length} image(s) added!`),L.target.value=""},P=L=>{const O=b("portfolioImages")||[];v("portfolioImages",O.filter((M,$)=>$!==L)),p(M=>M.filter(($,D)=>D!==L)),R.success("Image removed")},A=async L=>{console.log("[STYLIST_ONBOARDING] 🎉 Submitting final form"),console.log("[STYLIST_ONBOARDING] Form data:",L);try{const O=localStorage.getItem("beautycita-auth")?JSON.parse(localStorage.getItem("beautycita-auth")).state.token:"";console.log("[STYLIST_ONBOARDING] Saving profile...");const M={business_name:L.businessName,bio:L.bio,specialties:L.specialties,experience_years:L.experience,location_address:L.locationAddress,location_city:L.locationCity,location_state:L.locationState,latitude:L.latitude,longitude:L.longitude,service_radius:L.serviceRadius,mobile_services:L.mobileServices,working_hours:L.workingHours,instagram_url:L.instagramUrl||null,tiktok_url:L.tiktokUrl||null},$=await fetch(`${Zo}/api/stylist/profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(M)});if(!$.ok){const D=await $.json();throw new Error(D.message||"Failed to save profile")}if(console.log("[STYLIST_ONBOARDING] Profile saved successfully"),L.portfolioImages&&L.portfolioImages.length>0){console.log("[STYLIST_ONBOARDING] Uploading portfolio images...");const D=new FormData;L.portfolioImages.forEach(W=>{D.append("images",W)}),(await fetch(`${Zo}/api/stylist/portfolio/upload`,{method:"POST",headers:{Authorization:`Bearer ${O}`},body:D})).ok?console.log("[STYLIST_ONBOARDING] Portfolio images uploaded successfully"):(console.error("[STYLIST_ONBOARDING] Portfolio upload failed"),R.error("Profile saved but portfolio upload failed"))}if(L.selectedServices&&L.selectedServices.length>0){console.log("[STYLIST_ONBOARDING] Creating services...");for(const D of L.selectedServices)try{(await fetch(`${Zo}/api/services/from-template/${D.templateId}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({price_min:D.price_min,price_max:D.price_max,duration_minutes:D.duration_minutes})})).ok?console.log("[STYLIST_ONBOARDING] Created service:",D.name):console.error("[STYLIST_ONBOARDING] Failed to create service:",D.name)}catch(q){console.error("[STYLIST_ONBOARDING] Error creating service:",q)}console.log("[STYLIST_ONBOARDING] Services created successfully")}R.success("Profile submitted for approval! 🎉"),localStorage.removeItem(ld),s()}catch(O){console.error("[STYLIST_ONBOARDING] Error submitting:",O),R.error(O.message||"Failed to submit profile. Please try again.")}};return r.jsx(a5,{...f,children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Stylist Onboarding"}),e&&r.jsx("button",{type:"button",onClick:e,className:"text-sm text-gray-600 hover:text-gray-900",children:"Save & Exit"})]}),r.jsx("div",{className:"flex items-center justify-between",children:j.map((L,O)=>{const M=d.includes(L.number),$=L.number===l,D=L.number<l;return r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all cursor-pointer ${M?"bg-green-500 text-white":$?`bg-gradient-to-r ${L.gradient} text-white`:"bg-gray-200 text-gray-400"}`,onClick:()=>{i&&(D||M)&&i.goToStep(L.number)},children:M?r.jsx(ie,{className:"h-6 w-6"}):r.jsx(L.icon,{className:"h-6 w-6"})}),r.jsx("span",{className:`text-xs mt-2 text-center hidden sm:block ${$?"text-gray-900 font-medium":"text-gray-400"}`,children:L.title})]}),O<j.length-1&&r.jsx("div",{className:"flex-1 h-1 mx-2",children:r.jsx("div",{className:`h-full rounded transition-all ${M||D?"bg-green-500":"bg-gray-200"}`})})]},L.number)})})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:r.jsxs(vO,{instance:o,onStepChange:_,isHashEnabled:!1,nav:r.jsx(r.Fragment,{}),children:[r.jsx(jO,{specialtyOptions:N,watchedSpecialties:w,handleSpecialtyToggle:C,onComplete:()=>S(1),register:y,errors:k,watch:g}),r.jsx(NO,{onComplete:()=>S(2),register:y,errors:k,setValue:v}),r.jsx(kO,{onComplete:()=>S(3),watch:g,setValue:v}),r.jsx(_O,{onComplete:()=>S(4),watchedSpecialties:w,setValue:v,getValues:b}),r.jsx(SO,{onComplete:()=>S(5),register:y,errors:k,handleFileUpload:I,removePortfolioImage:P,portfolioPreviews:h}),r.jsx(CO,{onComplete:x(A)})]})})]})})}function jO({specialtyOptions:s,watchedSpecialties:e,handleSpecialtyToggle:t,onComplete:a,register:n,errors:i,watch:o}){var h;const{previousStep:l,nextStep:c}=this.props,d=()=>{const p=o("businessName"),f=o("experience"),y=o("specialties");return!p||!f||(y==null?void 0:y.length)===0?(R.error("Please fill in all required fields"),!1):!0},u=()=>{d()&&a()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(ks,{className:"h-12 w-12 text-purple-600 mx-auto mb-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Professional Identity"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Tell us about your beauty business"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),r.jsx("input",{...n("businessName",{required:"Business name is required"}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Sofia's Beauty Studio"}),i.businessName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.businessName.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),r.jsxs("select",{...n("experience",{required:"Experience is required"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Select experience"}),r.jsx("option",{value:"1",children:"Less than 1 year"}),r.jsx("option",{value:"2",children:"1-2 years"}),r.jsx("option",{value:"3",children:"3-5 years"}),r.jsx("option",{value:"5",children:"5-10 years"}),r.jsx("option",{value:"10",children:"10+ years"})]}),i.experience&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.experience.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties * (Select all that apply)"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:s.map(p=>r.jsxs("label",{className:`flex items-center p-3 rounded-lg border-2 cursor-pointer transition-all ${e!=null&&e.includes(p)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-200"}`,children:[r.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.includes(p))||!1,onChange:()=>t(p),className:"sr-only"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:p})]},p))}),(e==null?void 0:e.length)===0&&r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Select at least one specialty"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Professional Bio *"}),r.jsx("textarea",{...n("bio",{required:"Bio is required",minLength:{value:50,message:"Bio must be at least 50 characters"}}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"Tell potential clients about your expertise, style, and what makes you unique..."}),r.jsxs("div",{className:"flex justify-between mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[((h=o("bio"))==null?void 0:h.length)||0," / 500 characters"]}),i.bio&&r.jsx("p",{className:"text-sm text-red-600",children:i.bio.message})]})]}),r.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:r.jsx("button",{type:"button",onClick:u,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Next Step →"})})]})}function NO({onComplete:s,register:e,errors:t,setValue:a}){const{previousStep:n}=this.props;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(ot,{className:"h-12 w-12 text-pink-600 mx-auto mb-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Location & Service Area"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Where do you provide services?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),r.jsx(_h,{onLocationSelect:i=>{a("locationAddress",i.address),a("locationCity",i.city),a("locationState",i.state),a("latitude",i.lat),a("longitude",i.lng)},placeholder:"Search for your business address..."}),t.locationAddress&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.locationAddress.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Radius (km)"}),r.jsx("input",{...e("serviceRadius"),type:"number",min:"1",max:"50",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"10"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"How far are you willing to travel for appointments?"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{...e("mobileServices"),type:"checkbox",className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I offer mobile services"}),r.jsx("p",{className:"text-xs text-gray-500",children:"I can travel to clients' locations"})]})]})}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gradient-to-r from-pink-600 to-red-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Next Step →"})]})]})}function kO({onComplete:s,watch:e,setValue:t}){const{previousStep:a}=this.props,n=e("workingHours")||{},i=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}],o=[{name:"9-5 Weekdays",icon:"💼",hours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"10:00",end:"14:00"},sunday:{enabled:!1,start:"10:00",end:"14:00"}}},{name:"Evenings & Weekends",icon:"🌙",hours:{monday:{enabled:!1,start:"09:00",end:"17:00"},tuesday:{enabled:!1,start:"09:00",end:"17:00"},wednesday:{enabled:!1,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"17:00",end:"21:00"},friday:{enabled:!0,start:"17:00",end:"21:00"},saturday:{enabled:!0,start:"10:00",end:"18:00"},sunday:{enabled:!0,start:"10:00",end:"18:00"}}},{name:"Flexible (All Week)",icon:"✨",hours:{monday:{enabled:!0,start:"08:00",end:"20:00"},tuesday:{enabled:!0,start:"08:00",end:"20:00"},wednesday:{enabled:!0,start:"08:00",end:"20:00"},thursday:{enabled:!0,start:"08:00",end:"20:00"},friday:{enabled:!0,start:"08:00",end:"20:00"},saturday:{enabled:!0,start:"09:00",end:"18:00"},sunday:{enabled:!0,start:"09:00",end:"18:00"}}}],l=u=>{t("workingHours",u.hours),R.success(`Applied ${u.name} schedule!`)},c=u=>{var h;t(`workingHours.${u}.enabled`,!((h=n[u])!=null&&h.enabled))},d=(u,h,p)=>{t(`workingHours.${u}.${h}`,p)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(ve,{className:"h-12 w-12 text-cyan-600 mx-auto mb-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"When Are You Available?"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Set your base working hours"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Templates"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:o.map(u=>r.jsx("button",{type:"button",onClick:()=>l(u),className:"p-3 bg-white border-2 border-cyan-200 rounded-lg hover:border-cyan-400 hover:shadow-md transition-all text-left",children:r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-2xl",children:u.icon}),r.jsx("span",{className:"font-semibold text-sm text-gray-900",children:u.name})]})},u.name))})]}),r.jsx("div",{className:"space-y-3",children:i.map(u=>{var h,p,f,y;return r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[r.jsx("input",{type:"checkbox",checked:((h=n[u.key])==null?void 0:h.enabled)||!1,onChange:()=>c(u.key),className:"h-5 w-5 text-cyan-600 rounded focus:ring-cyan-500"}),r.jsx("div",{className:"w-28 font-medium text-gray-900",children:u.label}),(p=n[u.key])!=null&&p.enabled?r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx("input",{type:"time",value:((f=n[u.key])==null?void 0:f.start)||"09:00",onChange:x=>d(u.key,"start",x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:outline-none"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"time",value:((y=n[u.key])==null?void 0:y.end)||"17:00",onChange:x=>d(u.key,"end",x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:outline-none"})]}):r.jsx("span",{className:"text-gray-500 italic",children:"Closed"})]},u.key)})}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(Oe,{className:"h-8 w-8 text-green-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"What to Expect: Your First Booking"}),r.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Here's how bookings work on BeautyCita:"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"1"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Client books during your hours"}),r.jsx("p",{className:"text-xs text-gray-600",children:"They can only book times you've marked as available"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"2"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"You get instant notification"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Via app, email, and SMS"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"3"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Accept or decline (up to you!)"}),r.jsx("p",{className:"text-xs text-gray-600",children:"You have 30 minutes to respond"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Provide the service"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Meet client at scheduled time and location"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Get paid automatically"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Payment transfers to your account within 2-3 business days"})]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:r.jsxs("p",{className:"text-xs text-green-900",children:[r.jsx("strong",{children:"💡 Pro Tip:"}),` If you have the app open past your scheduled hours, you'll show as "Available Now" to clients looking for same-day bookings!`]})})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Next Step →"})]})]})}function _O({onComplete:s,watchedSpecialties:e,setValue:t,getValues:a}){const{previousStep:n}=this.props,[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,p]=m.useState("all");m.useEffect(()=>{f();const w=a("selectedServices");w&&w.length>0&&c(w)},[]);const f=async()=>{try{const w=localStorage.getItem("beautycita-auth")?JSON.parse(localStorage.getItem("beautycita-auth")).state.token:"",N=await fetch(`${Zo}/api/services/templates/browse`,{headers:{Authorization:`Bearer ${w}`}});if(N.ok){const j=await N.json();o(j.data||[])}}catch(w){console.error("Failed to fetch service templates:",w),R.error("Failed to load service templates")}finally{u(!1)}},y=["all",...Array.from(new Set(i.map(w=>w.category)))],x=h==="all"?i:i.filter(w=>w.category===h),g=w=>{const N=l.find(j=>j.templateId===w.id);c(N?l.filter(j=>j.templateId!==w.id):[...l,{templateId:w.id,name:w.name_es,category:w.category,price_min:w.typical_price_min,price_max:w.typical_price_max,duration_minutes:w.typical_duration_min}])},v=(w,N,j)=>{c(l.map(_=>_.templateId===w?{..._,[N]:j}:_))},b=(w,N)=>{c(l.map(j=>j.templateId===w?{...j,duration_minutes:N}:j))},k=async()=>{if(l.length<3){R.error("Please select at least 3 services");return}t("selectedServices",l),console.log("[ONBOARDING] Saved services:",l),s()};return d?r.jsx("div",{className:"flex items-center justify-center p-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Qa,{className:"h-12 w-12 text-blue-600 mx-auto mb-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Services & Pricing"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Select services you'll offer"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(w=>r.jsx("button",{type:"button",onClick:()=>p(w),className:`px-4 py-2 rounded-lg font-medium transition-all ${h===w?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w==="all"?"Todos":w},w))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto p-2",children:x.map(w=>{const N=l.find(j=>j.templateId===w.id);return r.jsxs("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${N?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>g(w),children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:w.name_es}),r.jsx("p",{className:"text-sm text-gray-600",children:w.category})]}),r.jsx("input",{type:"checkbox",checked:!!N,onChange:()=>{},className:"h-5 w-5 text-blue-600 rounded"})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsxs("p",{children:["💰 $",w.typical_price_min," - $",w.typical_price_max]}),r.jsxs("p",{children:["⏱️ ",w.typical_duration_min,"-",w.typical_duration_max," min"]})]})]},w.id)})}),l.length>0&&r.jsxs("div",{className:"mt-6 border-t pt-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Selected Services (",l.length,")"]}),r.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:l.map(w=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:w.name}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Precio Mínimo (MXN)"}),r.jsx("input",{type:"number",value:w.price_min,onChange:N=>v(w.templateId,"price_min",parseFloat(N.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Precio Máximo (MXN)"}),r.jsx("input",{type:"number",value:w.price_max,onChange:N=>v(w.templateId,"price_max",parseFloat(N.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duración (min)"}),r.jsx("input",{type:"number",value:w.duration_minutes,onChange:N=>b(w.templateId,parseInt(N.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"15",step:"15"})]})]})]},w.templateId))})]}),l.length<3&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-yellow-900",children:"⚠️ Selecciona al menos 3 servicios para continuar"})}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:k,disabled:l.length<3,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step →"})]})]})}function SO({onComplete:s,register:e,errors:t,handleFileUpload:a,removePortfolioImage:n,portfolioPreviews:i}){const{previousStep:o}=this.props;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Xt,{className:"h-12 w-12 text-green-600 mx-auto mb-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Portfolio & Social Proof"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Showcase your best work"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio Images * (3-6 images)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-purple-400 transition-colors",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:a,className:"hidden",id:"portfolio-upload"}),r.jsxs("label",{htmlFor:"portfolio-upload",className:"cursor-pointer",children:[r.jsx(Xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB each"})]})]}),i.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:i.map((l,c)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:l,alt:`Portfolio ${c+1}`,className:"w-full h-32 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>n(c),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(De,{className:"h-4 w-4"})})]},c))}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[i.length," / 6 images uploaded",i.length<3&&r.jsx("span",{className:"text-orange-600 ml-2",children:"(Need at least 3 images)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Profile (optional)"}),r.jsx("input",{...e("instagramUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"https://instagram.com/yourusername"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok Profile (optional)"}),r.jsx("input",{...e("tiktokUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"https://tiktok.com/@yourusername"})]})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:s,disabled:i.length<3,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step →"})]})]})}function CO({onComplete:s}){const{previousStep:e}=this.props;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Ge,{className:"h-12 w-12 text-orange-600 mx-auto mb-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Setup"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Set up payments to receive your earnings"})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-yellow-900",children:["⚠️ ",r.jsx("strong",{children:"Important:"})," Both Stripe and Bitcoin payment verification are required before your profile can be approved."]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stripe Connect"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Accept credit cards and receive instant payouts"})]}),r.jsx(ie,{className:"h-6 w-6 text-gray-300"})]}),r.jsx("button",{type:"button",className:"w-full px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700",onClick:()=>R.info("Stripe setup will open after wizard completion"),children:"Set Up Stripe"})]}),r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bitcoin / BTCPay"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Accept Bitcoin payments with zero fees"})]}),r.jsx(ie,{className:"h-6 w-6 text-gray-300"})]}),r.jsx("button",{type:"button",className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50",onClick:()=>R.info("Bitcoin setup will open after wizard completion"),children:"Set Up Bitcoin Wallet"})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:r.jsxs("p",{className:"text-sm text-blue-900",children:["💡 ",r.jsx("strong",{children:"Next Steps:"})," After completing this wizard, you'll be guided through the payment setup process. Once both are verified, your profile will be submitted for approval."]})}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"← Back"}),r.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Complete Setup 🎉"})]})]})}const no="https://beautycita.com";function EO({onClose:s}){const{user:e,updateProfile:t}=we(),a=m.useRef(null),[n,i]=m.useState("profile"),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState((e==null?void 0:e.profilePictureUrl)||(e==null?void 0:e.profileImage)||null),[p,f]=m.useState({firstName:(e==null?void 0:e.firstName)||(e==null?void 0:e.first_name)||"",lastName:(e==null?void 0:e.lastName)||(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",profilePictureUrl:(e==null?void 0:e.profilePictureUrl)||(e==null?void 0:e.profileImage)||""}),[y,x]=m.useState([]),[g,v]=m.useState(!1),[b,k]=m.useState(!1);m.useEffect(()=>{n==="security"&&w()},[n]);const w=async()=>{try{v(!0);const P=await G.get(`${no}/api/webauthn/credentials`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});P.data.success&&x(P.data.credentials||[])}catch(P){console.error("Failed to fetch biometric devices:",P)}finally{v(!1)}},N=()=>{var P;(P=a.current)==null||P.click()},j=async P=>{var L;const A=(L=P.target.files)==null?void 0:L[0];if(A){if(!A.type.startsWith("image/")){R.error("Please select an image file");return}if(A.size>5*1024*1024){R.error("Image must be less than 5MB");return}l(!0);try{const O=new FileReader;O.onloadend=()=>{const M=O.result;h(M),f({...p,profilePictureUrl:M})},O.readAsDataURL(A),R.success("Image selected!")}catch(O){console.error("Error uploading image:",O),R.error("Failed to upload image")}finally{l(!1)}}},_=async()=>{try{d(!0),await t(p)?R.success("Profile updated successfully! ✨"):R.error("Failed to update profile")}catch(P){console.error("Error updating profile:",P),R.error("Failed to update profile")}finally{d(!1)}},S=async()=>{try{k(!0);const P=await G.post(`${no}/api/webauthn/register/options`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!P.data.success)throw new Error(P.data.message||"Failed to get registration options");const A=P.data.options,L=await Jl(A),O=await G.post(`${no}/api/webauthn/register/verify`,{credential:L},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(O.data.success)R.success("Biometric device added successfully! 🔐"),await w();else throw new Error(O.data.message||"Failed to add device")}catch(P){console.error("Failed to add biometric device:",P),P.name==="NotAllowedError"?R.error("Biometric authentication was cancelled"):R.error(P.message||"Failed to add biometric device")}finally{k(!1)}},C=async P=>{if(confirm("Are you sure you want to remove this device?"))try{const A=await G.delete(`${no}/api/webauthn/credentials/${P}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(A.data.success)R.success("Device removed successfully"),await w();else throw new Error(A.data.message||"Failed to remove device")}catch(A){console.error("Failed to remove device:",A),R.error(A.message||"Failed to remove device")}},I=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(De,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("div",{className:"flex border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>i("profile"),className:`flex-1 px-6 py-4 font-medium transition-colors ${n==="profile"?"text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Ct,{className:"w-5 h-5 inline mr-2"}),"Profile"]}),r.jsxs("button",{onClick:()=>i("security"),className:`flex-1 px-6 py-4 font-medium transition-colors ${n==="security"?"text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Ke,{className:"w-5 h-5 inline mr-2"}),"Security"]})]}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:n==="profile"?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsxs("div",{className:"relative group",children:[u?r.jsx("img",{src:u,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-purple-500 shadow-lg"}):r.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center border-4 border-gray-300",children:r.jsx(Ct,{className:"w-16 h-16 text-gray-400"})}),r.jsx("button",{onClick:N,disabled:o,className:"absolute bottom-0 right-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center shadow-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:o?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(Bn,{className:"w-5 h-5 text-white"})}),r.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),r.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Click camera to change photo"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:p.firstName,onChange:P=>f({...p,firstName:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:p.lastName,onChange:P=>f({...p,lastName:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:p.email,onChange:P=>f({...p,email:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:p.phone,onChange:P=>f({...p,phone:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",disabled:!0}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Phone number cannot be changed"})]}),r.jsx("button",{onClick:_,disabled:c,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-5 h-5"}),r.jsx("span",{children:"Save Changes"})]})})]}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Biometric Devices"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage devices for fingerprint and face ID login"})]}),r.jsx("button",{onClick:S,disabled:b,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:b?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Adding..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(or,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Device"})]})})]}),g?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-8 h-8 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})}):y.length>0?r.jsx("div",{className:"space-y-3",children:y.map(P=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(mi,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:P.device_name||"Unnamed Device"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Added ",I(P.created_at),P.last_used_at&&` • Last used ${I(P.last_used_at)}`]})]})]}),r.jsx("button",{onClick:()=>C(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Ts,{className:"w-5 h-5"})})]},P.id))}):r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsx(mi,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No biometric devices"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add a device to enable fingerprint or face ID login"})]})]}),(e==null?void 0:e.password_hash)&&r.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Password"}),r.jsx("button",{className:"px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition-colors",children:"Change Password"})]})]})})]})})}const _l="https://beautycita.com";function TO(){var O;const{user:s,stylist:e,client:t,updateProfile:a}=we(),[n]=ql(),[i,o]=m.useState({}),[l,c]=m.useState(!0),[d,u]=m.useState(!1),[h,p]=m.useState(null),[f,y]=m.useState(!1),[x,g]=m.useState({firstName:"",lastName:"",email:""}),[v,b]=m.useState(!1),[k,w]=m.useState(!1),N=((O=s==null?void 0:s.role)==null?void 0:O.toUpperCase())||"CLIENT",j=["ADMIN","SUPERADMIN"].includes(N),_=N==="SUPERADMIN",S=N==="STYLIST",C=N==="CLIENT",I=s==null?void 0:s.user_status,P=S&&(I==="PENDING_ONBOARDING"||n.get("onboarding")==="start"),A=S&&(I==="PENDING_VERIFICATION"||I==="PENDING_APPROVAL");if(m.useEffect(()=>{s&&s.profileComplete===!1&&y(!0)},[s]),m.useEffect(()=>{(async()=>{try{if(c(!0),S)try{const $=await G.get(`${_l}/api/onboarding/status`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});$.data.success&&(p($.data.progress),P&&u(!0))}catch{console.log("Onboarding status not available yet")}if(j)try{const $=await G.get(`${_l}/api/admin/dashboard/stats`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if($.data.success){const D=$.data.data;o({totalUsers:D.users.total_users||0,totalStylists:D.users.total_stylists||0,totalClients:D.users.total_clients||0,totalBookings:D.bookings.total_bookings||0,upcomingBookings:D.bookings.upcoming_bookings||0,completedBookings:D.bookings.completed_bookings||0,totalRevenue:D.revenue.total_revenue||0,pendingPayouts:D.payouts.pending_payouts||0,openDisputes:D.disputes.open_disputes||0,totalReviews:D.reviews.total_reviews||0,averageRating:D.reviews.average_rating||0})}}catch($){console.error("Failed to fetch admin stats:",$)}else o({totalBookings:0,upcomingBookings:0,completedBookings:0,totalRevenue:0,averageRating:0,favoriteStylists:0,totalSpent:0})}catch($){console.error("Failed to fetch dashboard data:",$)}finally{c(!1)}})()},[N,S,P]),!s)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("p",{className:"text-gray-600",children:"Loading user information..."})})});const L=()=>{u(!1),window.location.reload()};return d&&P?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 py-12 px-4",children:r.jsx(wO,{onComplete:L,onExit:()=>u(!1)})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[j&&"🛡️ Admin Dashboard",S&&"💇 Stylist Dashboard",C&&"✨ My Dashboard"]}),r.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",s.name||s.email]}),r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:N}),s.user_status&&r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.user_status==="APPROVED"?"bg-green-100 text-green-800":s.user_status==="SUSPENDED"?"bg-yellow-100 text-yellow-800":s.user_status==="PENDING_ONBOARDING"?"bg-blue-100 text-blue-800":s.user_status==="PENDING_VERIFICATION"?"bg-orange-100 text-orange-800":s.user_status==="PENDING_APPROVAL"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.user_status.replace(/_/g," ")})]})]}),S&&h&&!h.all_steps_completed&&r.jsx(_e,{children:r.jsx(yO,{currentStep:h.current_step||0,totalSteps:5,progressPercent:h.total_progress_percent||0,nextStepTitle:`Step ${(h.current_step||0)+1}`,onContinue:()=>u(!0),canDismiss:!1})}),A&&r.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-6 rounded-full",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(ve,{className:"h-6 w-6 text-yellow-600 mt-0.5 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Profile Under Review"}),r.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"Thank you for completing your profile! Our team is reviewing your information and verifying your payment setup."}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1 mb-4",children:[r.jsx("li",{children:"✓ Profile information submitted"}),r.jsx("li",{children:"✓ Payment systems being verified"}),r.jsx("li",{children:"⏳ Estimated approval time: 24-48 hours"})]}),r.jsx("p",{className:"text-xs text-yellow-600",children:"You'll receive an email and SMS notification once your profile is approved."})]})]})}),s.user_status==="SUSPENDED"&&S&&r.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-yellow-50 border-l-4 border-yellow-400 p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx(dt,{className:"h-5 w-5 text-yellow-400"}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-yellow-700",children:"Your account is suspended. You can only access payout requests and bank details."})})]})}),s.user_status==="BLOCKED"&&r.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx(dt,{className:"h-5 w-5 text-red-400"}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-red-700",children:"Your account has been blocked. Please contact support for assistance."})})]})}),j&&r.jsx(PO,{stats:i,isSuperAdmin:_}),S&&s.user_status!=="SUSPENDED"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[r.jsx(sr,{icon:Oe,title:"Total Bookings",value:i.totalBookings||0,color:"blue"}),r.jsx(sr,{icon:ve,title:"Upcoming",value:i.upcomingBookings||0,color:"purple"}),r.jsx(sr,{icon:Le,title:"Total Revenue",value:`$${i.totalRevenue||0}`,color:"green"}),r.jsx(sr,{icon:nt,title:"Rating",value:i.averageRating||0,color:"yellow"})]}),r.jsxs("div",{className:"bg-white rounded-full shadow p-6 mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Re,{icon:Oe,label:"View Calendar",href:"/dashboard/calendar"}),r.jsx(Re,{icon:Ft,label:"Messages",href:"/messages"}),r.jsx(Re,{icon:Xr,label:"Disputes",href:"/disputes"}),r.jsx(Re,{icon:or,label:"Manage Services",href:"/dashboard/services"}),r.jsx(Re,{icon:vt,label:"Revenue",href:"/dashboard/revenue"}),r.jsx(Re,{icon:Le,label:"Payout Request",href:"/dashboard/payouts"})]})]})]}),S&&s.user_status==="SUSPENDED"&&r.jsxs("div",{className:"bg-white rounded-full shadow p-6 mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Actions"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"While your account is suspended, you can only access payout-related features."}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(Re,{icon:Le,label:"Payout Requests",href:"/dashboard/payouts"}),r.jsx(Re,{icon:bs,label:"Bank Details",href:"/dashboard/bank-details"})]})]}),C&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[r.jsx(sr,{icon:Oe,title:"Total Bookings",value:i.totalBookings||0,color:"blue"}),r.jsx(sr,{icon:ve,title:"Upcoming",value:i.upcomingBookings||0,color:"purple"}),r.jsx(sr,{icon:Le,title:"Total Spent",value:`$${i.totalSpent||0}`,color:"green"}),r.jsx(sr,{icon:We,title:"Favorites",value:i.favoriteStylists||0,color:"pink"})]}),r.jsxs("div",{className:"bg-white rounded-full shadow p-6 mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Re,{icon:Ot,label:"Find Stylist",href:"/stylists"}),r.jsx(Re,{icon:Ft,label:"Messages",href:"/messages"}),r.jsx(Re,{icon:Xr,label:"Disputes",href:"/disputes"}),r.jsx(Re,{icon:Oe,label:"My Bookings",href:"/bookings"}),r.jsx(Re,{icon:We,label:"Favorites",href:"/favorites"}),r.jsx(Re,{icon:bs,label:"Settings",onClick:()=>w(!0)})]})]})]}),r.jsxs("div",{className:"bg-white rounded-full shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Loading recent activity..."})})]})]})})}function sr({icon:s,title:e,value:t,color:a,link:n}){const i={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",yellow:"bg-yellow-500",pink:"bg-pink-500"},o=r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-full shadow p-6 ${n?"hover:shadow-lg transition-shadow cursor-pointer":""}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 rounded-md p-3 ${i[a]}`,children:r.jsx(s,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-5",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t})]})]})});return n?r.jsx(Z,{to:n,children:o}):o}function Re({icon:s,label:e,href:t,onClick:a}){const n="flex items-center p-4 bg-gray-50 rounded-full hover:bg-gray-100 transition-colors";return a?r.jsxs("button",{onClick:a,className:n,children:[r.jsx(s,{className:"h-6 w-6 text-purple-600 flex-shrink-0"}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:e})]}):r.jsxs(Z,{to:t,className:n,children:[r.jsx(s,{className:"h-6 w-6 text-purple-600 flex-shrink-0"}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:e})]})}function PO({stats:s,isSuperAdmin:e}){const[t,a]=m.useState(null),[n,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const h=await G.get(`${_l}/api/admin/system/health`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});h.data.success&&a(h.data.data)}catch(h){console.error("Failed to fetch system health:",h)}finally{i(!1)}},d=async(h,p)=>{try{l(`${h}-${p}`),await G.post(`${_l}/api/admin/system/service/${h}/${p}`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),setTimeout(()=>c(),2e3)}catch(f){console.error(`Failed to ${p} ${h}:`,f)}finally{l(null)}},u=h=>{switch(h){case"healthy":return"bg-green-100 text-green-800";case"unhealthy":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs(r.Fragment,{children:[e&&r.jsxs("div",{className:"bg-white rounded-full shadow p-6 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Health Monitor"}),r.jsx("button",{onClick:c,className:"text-sm text-purple-600 hover:text-purple-700",children:"Refresh"})]}),n?r.jsx("p",{className:"text-sm text-gray-500",children:"Checking system health..."}):t?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(t).map(([h,p])=>r.jsxs("div",{className:"border rounded-full p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:h}),r.jsx("span",{className:`px-2 py-1 text-xs rounded ${u(p.status)}`,children:p.status})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:p.message}),["btcpay","nginx","backend"].includes(h)&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>d(h,"restart"),disabled:o===`${h}-restart`,className:"flex-1 text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o===`${h}-restart`?"...":"Restart"}),r.jsx("button",{onClick:()=>d(h,"stop"),disabled:o===`${h}-stop`,className:"flex-1 text-xs px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:o===`${h}-stop`?"...":"Stop"})]})]},h))}):r.jsx("p",{className:"text-sm text-gray-500",children:"Unable to fetch system health"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[r.jsx(sr,{icon:et,title:"Total Users",value:s.totalUsers||0,color:"purple",link:"/admin/users"}),r.jsx(sr,{icon:Oe,title:"Total Bookings",value:s.totalBookings||0,color:"blue",link:"/admin/bookings"}),r.jsx(sr,{icon:Le,title:"Total Revenue",value:`$${s.totalRevenue||0}`,color:"green"}),r.jsx(sr,{icon:Xr,title:"Open Disputes",value:s.openDisputes||0,color:"yellow",link:"/admin/disputes"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-full shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Users & Accounts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{icon:et,label:"All Users",href:"/admin/users"}),r.jsx(Re,{icon:et,label:"Stylists",href:"/admin/stylists"}),r.jsx(Re,{icon:Ke,label:"Verification Queue",href:"/admin/verification"})]})]}),r.jsxs("div",{className:"bg-white rounded-full shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bookings & Services"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{icon:Oe,label:"All Bookings",href:"/admin/bookings"}),r.jsx(Re,{icon:or,label:"Services Catalog",href:"/admin/services"}),r.jsx(Re,{icon:yl,label:"Video Consultations",href:"/admin/video"})]})]}),r.jsxs("div",{className:"bg-white rounded-full shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payments & Payouts"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{icon:Le,label:"Payout Requests",href:"/admin/payouts"}),r.jsx(Re,{icon:vt,label:"Revenue Analytics",href:"/admin/analytics"}),r.jsx(Re,{icon:Le,label:"Commissions",href:"/admin/commissions"})]})]}),r.jsxs("div",{className:"bg-white rounded-full shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Support & Disputes"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{icon:Xr,label:"Disputes",href:"/admin/disputes"}),r.jsx(Re,{icon:Ft,label:"Messages",href:"/admin/messages"}),r.jsx(Re,{icon:nt,label:"Reviews & Ratings",href:"/admin/reviews"})]})]}),r.jsxs("div",{className:"bg-white rounded-full shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Analytics & Reports"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{icon:vt,label:"Dashboard Analytics",href:"/admin/analytics"}),r.jsx(Re,{icon:vt,label:"Financial Reports",href:"/admin/reports"}),e&&r.jsx(Re,{icon:vt,label:"System Logs",href:"/admin/logs"})]})]}),e&&r.jsxs("div",{className:"bg-white rounded-full shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System & Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{icon:bs,label:"System Settings",href:"/admin/settings"}),r.jsx(Re,{icon:Ke,label:"Security & Access",href:"/admin/security"}),r.jsx(Re,{icon:vt,label:"Audit Log",href:"/admin/audit"})]})]})]}),r.jsx(_e,{children:showProfileModal&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(et,{className:"w-12 h-12 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),r.jsx("p",{className:"text-gray-600",children:"Please provide your name and email to continue"})]}),r.jsxs("form",{onSubmit:handleProfileCompletion,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),r.jsx("input",{type:"text",value:profileForm.firstName,onChange:h=>setProfileForm({...profileForm,firstName:h.target.value}),placeholder:"Enter your first name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:profileForm.lastName,onChange:h=>setProfileForm({...profileForm,lastName:h.target.value}),placeholder:"Enter your last name",className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",value:profileForm.email,onChange:h=>setProfileForm({...profileForm,email:h.target.value}),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send a verification email to this address"})]}),r.jsx("button",{type:"submit",disabled:isSubmitting,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 px-6 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:isSubmitting?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-5 h-5"}),r.jsx("span",{children:"Complete Profile"})]})})]}),r.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:["Phone verified: ",user==null?void 0:user.phone]})]})})}),r.jsx(_e,{children:showProfileSettings&&r.jsx(EO,{onClose:()=>setShowProfileSettings(!1)})})]})}function AO(){const{user:s}=we();return console.log("📊 DashboardPage rendering...",{user:s,role:s==null?void 0:s.role}),s?r.jsx(TO,{}):(console.log("⚠️ No user found, showing loading..."),r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Loading user information..."})]})}))}function OO({bookingId:s,stylistName:e,serviceType:t,onSuccess:a,onCancel:n}){const{t:i}=je(),[o,l]=m.useState(0),[c,d]=m.useState(0),[u,h]=m.useState(""),[p,f]=m.useState(""),[y,x]=m.useState(0),[g,v]=m.useState(0),[b,k]=m.useState(0),[w,N]=m.useState(0),[j,_]=m.useState([]),[S,C]=m.useState([]),[I,P]=m.useState(!1),A=$=>{if($.target.files){const D=Array.from($.target.files);if(j.length+D.length>5){R.error("Maximum 5 photos allowed");return}_([...j,...D]),D.forEach(W=>{const B=new FileReader;B.onloadend=()=>{C(V=>[...V,B.result])},B.readAsDataURL(W)})}},L=$=>{_(j.filter((D,q)=>q!==$)),C(S.filter((D,q)=>q!==$))},O=async $=>{if($.preventDefault(),o===0){R.error("Please select a rating");return}P(!0);try{const q=(await me.post("/reviews",{booking_id:s,rating:o,title:u,review_text:p,quality_rating:y||null,professionalism_rating:g||null,cleanliness_rating:b||null,value_rating:w||null})).data.data.id;if(j.length>0){const W=new FormData;j.forEach(B=>{W.append("photos",B)}),W.append("photo_type","result"),await me.post(`/reviews/${q}/photos`,W,{headers:{"Content-Type":"multipart/form-data"}})}R.success("Review submitted successfully!"),a&&a()}catch(D){console.error("Error submitting review:",D),R.error(D.message||"Error submitting review")}finally{P(!1)}},M=($,D,q,W,B)=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:q}),r.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(V=>r.jsx("button",{type:"button",onClick:()=>D(V),onMouseEnter:()=>B&&B(V),onMouseLeave:()=>B&&B(0),className:"focus:outline-none transition-transform hover:scale-110",children:V<=(W||$)?r.jsx(bl,{className:"h-8 w-8 text-yellow-400"}):r.jsx(nt,{className:"h-8 w-8 text-gray-300"})},V))})]});return r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Write a Review"}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-3xl",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Reviewing:"}),r.jsx("p",{className:"font-medium text-gray-900",children:e}),r.jsx("p",{className:"text-sm text-gray-600",children:t})]}),r.jsxs("form",{onSubmit:O,className:"space-y-6",children:[M(o,l,"Overall Rating *",c,d),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title"}),r.jsx("input",{type:"text",value:u,onChange:$=>h($.target.value),placeholder:"Sum up your experience in a few words",className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500",maxLength:200})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Experience"}),r.jsx("textarea",{value:p,onChange:$=>f($.target.value),placeholder:"Share details about your experience...",rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M(y,x,"Quality"),M(g,v,"Professionalism"),M(b,k,"Cleanliness"),M(w,N,"Value")]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (Optional - Max 5)"}),r.jsxs("div",{className:"flex items-start space-x-4",children:[j.length<5&&r.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-full cursor-pointer hover:border-primary-500 transition-colors",children:[r.jsx(Xt,{className:"h-8 w-8 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Add Photo"}),r.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,onChange:A,className:"hidden"})]}),S.map(($,D)=>r.jsxs("div",{className:"relative w-32 h-32",children:[r.jsx("img",{src:$,alt:`Preview ${D+1}`,className:"w-full h-full object-cover rounded-full"}),r.jsx("button",{type:"button",onClick:()=>L(D),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-3xl hover:bg-red-600",children:r.jsx(De,{className:"h-4 w-4"})})]},D))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"JPG, PNG, or WebP. Max 5MB per photo."})]}),r.jsxs("div",{className:"flex space-x-4 pt-4",children:[n&&r.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50",disabled:I,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:I||o===0,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-3xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:I?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})}function LO({isDarkMode:s=!1}){const{user:e}=we(),[t,a]=m.useState(!1);m.useEffect(()=>{const c=localStorage.getItem("onboarding_dismissed_until");if(c){const d=parseInt(c);Date.now()<d?a(!0):localStorage.removeItem("onboarding_dismissed_until")}},[]);const n=()=>{const c=Date.now()+864e5;localStorage.setItem("onboarding_dismissed_until",c.toString()),a(!0)};if(!e||e.profile_complete||e.profileComplete||t)return null;const i=[{completed:!!e.username,label:"Username"},{completed:!!(e.profilePictureUrl||e.profile_picture_url),label:"Avatar"},{completed:!!e.email_verified,label:"Email"},{completed:!1,label:"Payment"},{completed:!1,label:"Finances"}],o=i.filter(c=>c.completed).length,l=Math.round(o/i.length*100);return r.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"mb-6",children:r.jsxs("div",{className:`rounded-3xl border-2 p-6 relative ${s?"bg-gradient-to-r from-purple-900/40 to-pink-900/40 border-purple-600":"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-300"}`,children:[r.jsx("button",{onClick:n,className:`absolute top-4 right-4 p-1 rounded-full transition-colors ${s?"hover:bg-purple-800/50 text-purple-300":"hover:bg-purple-200 text-purple-600"}`,title:"Dismiss for 24 hours",children:r.jsx(De,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 pr-8",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ee,{className:`h-12 w-12 ${s?"text-purple-400":"text-purple-600"}`}),r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-purple-500/20 rounded-3xl blur-xl"})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"✨ Complete Your BeautyCita Profile"}),r.jsx("p",{className:`text-sm mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:o>0?r.jsxs(r.Fragment,{children:["You're ",l,"% complete! Finish setting up your profile to unlock all features."]}):r.jsx(r.Fragment,{children:"Set up your profile to start booking amazing beauty services and unlock personalized recommendations from Aphrodite AI!"})}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("div",{className:`text-xs font-semibold ${s?"text-purple-300":"text-purple-700"}`,children:"Profile Progress:"}),r.jsx("div",{className:"flex gap-1",children:i.map((c,d)=>r.jsx("div",{className:`w-8 h-2 rounded-full transition-all ${c.completed?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,title:c.label},d))}),r.jsxs("div",{className:`text-xs ${s?"text-gray-400":"text-gray-600"}`,children:[o,"/",i.length," steps"]})]})]}),r.jsx("div",{className:"flex-shrink-0 w-full md:w-auto flex gap-2",children:r.jsxs(Z,{to:"/profile/onboarding",className:`flex-1 md:flex-none px-6 py-3 rounded-full font-semibold transition-all flex items-center justify-center gap-2 ${s?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl"}`,children:[r.jsx(Ee,{className:"h-5 w-5"}),r.jsx("span",{children:o>0?"Continue Setup":"Start Setup"}),r.jsx(Ie,{className:"h-4 w-4"})]})})]})]})})}const wf={PENDING_PAYMENT:{color:"bg-orange-100 text-orange-800",borderColor:"border-orange-300",icon:ve,text:"Pending Payment"},PENDING_STYLIST_APPROVAL:{color:"bg-yellow-100 text-yellow-800",borderColor:"border-yellow-300",icon:ve,text:"Pending"},STYLIST_ACCEPTED:{color:"bg-blue-100 text-blue-800",borderColor:"border-blue-300",icon:ie,text:"Accepted"},CLIENT_CONFIRMED:{color:"bg-green-100 text-green-800",borderColor:"border-green-300",icon:ie,text:"Confirmed"},IN_PROGRESS:{color:"bg-indigo-100 text-indigo-800",borderColor:"border-indigo-300",icon:ve,text:"In Progress"},COMPLETED:{color:"bg-emerald-100 text-emerald-800",borderColor:"border-emerald-300",icon:ie,text:"Completed"},STYLIST_DECLINED:{color:"bg-red-100 text-red-800",borderColor:"border-red-300",icon:rt,text:"Declined"},STYLIST_NO_RESPONSE:{color:"bg-gray-100 text-gray-800",borderColor:"border-gray-300",icon:rt,text:"No Response"},CLIENT_NO_CONFIRM:{color:"bg-gray-100 text-gray-800",borderColor:"border-gray-300",icon:rt,text:"Not Confirmed"},CLIENT_NO_SHOW:{color:"bg-orange-100 text-orange-800",borderColor:"border-orange-300",icon:rt,text:"No Show"},STYLIST_NO_SHOW:{color:"bg-red-100 text-red-800",borderColor:"border-red-300",icon:rt,text:"Stylist No Show"},CANCELLED:{color:"bg-red-100 text-red-800",borderColor:"border-red-300",icon:rt,text:"Cancelled"},EXPIRED:{color:"bg-gray-100 text-gray-800",borderColor:"border-gray-300",icon:rt,text:"Expired"}},jf=[{value:"all",label:"All"},{value:"upcoming",label:"Upcoming"},{value:"past",label:"Completed"},{value:"cancelled",label:"Cancelled"}];function RO(){var N;const{user:s,isAuthenticated:e}=we(),[t,a]=m.useState([]),[n,i]=m.useState(!0),[o,l]=m.useState("all"),[c,d]=m.useState(null),[u,h]=m.useState({}),[p,f]=m.useState(!1);m.useEffect(()=>{const j=localStorage.getItem("darkMode")==="true";f(j);const _=()=>{const S=localStorage.getItem("darkMode")==="true";f(S)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]),m.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{i(!0);const j=await kr.getBookings();j.success&&j.data?(a(j.data),x(j.data)):R.error("Error al cargar las citas")}catch(j){console.error("Error loading bookings:",j),R.error("Error al cargar las citas")}finally{i(!1)}},x=async j=>{try{const _=await me.get("/reviews/my-reviews");if(_.success){const S=new Set(_.data.map(I=>I.booking_id.toString())),C={};j.forEach(I=>{C[I.id]=S.has(I.id)}),h(C)}}catch(_){console.error("Error checking reviews:",_)}},g=()=>{d(null),y(),R.success("¡Reseña publicada con éxito!")},v=t.filter(j=>{const _=new Date(j.appointment_date),S=new Date;switch(S.setHours(0,0,0,0),o){case"upcoming":return _>=S&&!["CANCELLED","EXPIRED","COMPLETED","STYLIST_DECLINED","STYLIST_NO_RESPONSE","CLIENT_NO_CONFIRM","CLIENT_NO_SHOW","STYLIST_NO_SHOW"].includes(j.status);case"past":return _<S||["COMPLETED","CLIENT_NO_SHOW","STYLIST_NO_SHOW"].includes(j.status);case"cancelled":return["CANCELLED","EXPIRED","STYLIST_DECLINED","STYLIST_NO_RESPONSE","CLIENT_NO_CONFIRM"].includes(j.status);default:return!0}}),b=async j=>{if(confirm("¿Estás seguro de que quieres cancelar esta cita?"))try{(await kr.cancelBooking(j)).success?(R.success("Cita cancelada correctamente"),y()):R.error("Error al cancelar la cita")}catch(_){console.error("Error cancelling booking:",_),R.error("Error al cancelar la cita")}},k=j=>new Date(j).toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),w=j=>new Date(`2000-01-01T${j}`).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit",hour12:!0});return n?r.jsx("div",{className:`min-h-screen ${p?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-12 w-12 border-4 border-t-pink-500 border-r-purple-500 border-b-blue-500 border-l-transparent"})}):r.jsxs("div",{className:`min-h-screen ${p?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"My Bookings",subtitle:"Manage and review all your beauty appointments",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:p,height:"h-80"}),r.jsxs("div",{className:"container mx-auto px-4 max-w-7xl py-12",children:[r.jsx(LO,{isDarkMode:p}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:jf.map(j=>{const _=o===j.value,S=t.filter(C=>{const I=new Date(C.appointment_date),P=new Date;switch(P.setHours(0,0,0,0),j.value){case"upcoming":return I>=P&&C.status!=="CANCELLED";case"past":return I<P||C.status==="COMPLETED";case"cancelled":return C.status==="CANCELLED";default:return!0}}).length;return r.jsxs(E.button,{onClick:()=>l(j.value),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-2 rounded-full font-medium transition-all duration-300 ${_?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":p?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[j.label,r.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${_?"bg-white/20":p?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-600"}`,children:S})]},j.value)})})}),r.jsx("div",{className:"space-y-4",children:v.length>0?v.map((j,_)=>{const S=wf[j.status]||wf.PENDING_PAYMENT,C=S.icon,I=["PENDING_STYLIST_APPROVAL","STYLIST_ACCEPTED","CLIENT_CONFIRMED"].includes(j.status),P=j.status==="COMPLETED"&&!u[j.id],A=u[j.id];return r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:p,hoverable:!0,className:`border-l-4 ${S.borderColor}`,children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-400 to-purple-600 rounded-full flex items-center justify-center",children:r.jsx(Ct,{className:"w-10 h-10 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-serif font-bold text-xl mb-1 ${p?"text-white":"text-gray-900"}`,children:j.service_name}),r.jsx("p",{className:`font-medium mb-1 ${p?"text-gray-300":"text-gray-700"}`,children:j.stylist_business_name}),r.jsxs("p",{className:`text-sm ${p?"text-gray-400":"text-gray-500"}`,children:["with ",j.stylist_name]})]})]}),r.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium ${S.color} whitespace-nowrap`,children:[r.jsx(C,{className:"w-4 h-4 mr-2"}),S.text]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 my-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:r.jsx(Oe,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-xs ${p?"text-gray-400":"text-gray-500"}`,children:"Date"}),r.jsx("p",{className:`font-semibold ${p?"text-white":"text-gray-900"}`,children:k(j.appointment_date)})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:r.jsx(ve,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-xs ${p?"text-gray-400":"text-gray-500"}`,children:"Time"}),r.jsx("p",{className:`font-semibold ${p?"text-white":"text-gray-900"}`,children:w(j.appointment_time)})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-lg font-bold text-white",children:"$"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-xs ${p?"text-gray-400":"text-gray-500"}`,children:"Total"}),r.jsxs("p",{className:`font-semibold ${p?"text-white":"text-gray-900"}`,children:["$",j.total_price]})]})]})]}),j.notes&&r.jsx("div",{className:`mb-6 p-4 rounded-3xl ${p?"bg-gray-800":"bg-gray-50"}`,children:r.jsxs("p",{className:`text-sm ${p?"text-gray-300":"text-gray-600"}`,children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",j.notes]})}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{className:`flex-1 min-w-[120px] px-4 py-2 rounded-full font-medium transition-all border ${p?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(At,{className:"w-4 h-4 mr-1 inline"}),"View Details"]}),I&&r.jsx("button",{onClick:()=>b(j.id),className:"flex-1 min-w-[120px] px-4 py-2 rounded-full font-medium transition-all border border-red-300 text-red-600 hover:bg-red-50",children:"Cancel"}),P&&r.jsxs("button",{onClick:()=>d(j.id),className:"flex-1 min-w-[120px] px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full font-medium hover:from-pink-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:[r.jsx(nt,{className:"w-4 h-4 mr-1 inline"}),"Write Review"]}),A&&r.jsxs("div",{className:"flex-1 min-w-[120px] px-4 py-2 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-medium",children:[r.jsx(ie,{className:"w-4 h-4 mr-1"}),"Reviewed"]})]})]})},j.id)}):r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20",children:[r.jsx("div",{className:"text-8xl mb-6",children:"📅"}),r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${p?"text-white":"text-gray-900"}`,children:o==="all"?"No bookings yet":`No ${(N=jf.find(j=>j.value===o))==null?void 0:N.label.toLowerCase()} bookings`}),r.jsx("p",{className:`mb-6 ${p?"text-gray-300":"text-gray-600"}`,children:o==="all"?"Book your first appointment with a professional stylist!":"Change the filter to see other bookings"}),o==="all"&&r.jsx(Z,{to:"/stylists",children:r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Explore Stylists"})})]})}),r.jsx(_e,{children:c&&(()=>{const j=t.find(_=>_.id===c);return j?r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>d(null),children:r.jsx(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:r.jsx(OO,{bookingId:parseInt(j.id),stylistName:j.stylist_business_name,serviceType:j.service_name,onSuccess:g,onCancel:()=>d(null)})})}):null})()})]})]})}const Nf="https://beautycita.com";function IO(){const{user:s}=we(),[e,t]=m.useState([]),[a,n]=m.useState(!0);m.useEffect(()=>{i()},[]);const i=async()=>{var l;try{const c=await G.get(`${Nf}/api/client/favorites`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});c.data.success&&t(c.data.data||[])}catch(c){console.error("Failed to fetch favorites:",c),((l=c.response)==null?void 0:l.status)!==404&&R.error("Failed to load favorites")}finally{n(!1)}},o=async l=>{try{await G.delete(`${Nf}/api/client/favorites/${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),t(e.filter(c=>c.stylist_id!==l)),R.success("Removed from favorites")}catch{R.error("Failed to remove favorite")}};return a?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(l=>r.jsx("div",{className:"h-32 bg-gray-200 rounded"},l))})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(We,{className:"h-8 w-8 text-pink-500"}),"My Favorite Stylists"]}),r.jsx("p",{className:"mt-2 text-gray-600",children:e.length===0?"You haven't added any favorites yet":`${e.length} favorite${e.length!==1?"s":""}`})]}),e.length===0?r.jsxs("div",{className:"bg-white rounded-full shadow-sm p-12 text-center",children:[r.jsx(We,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No favorites yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start adding stylists to your favorites to easily book them again"}),r.jsx(Z,{to:"/stylists",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full hover:from-pink-600 hover:to-purple-700 transition-all",children:"Find Stylists"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-full shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx(Z,{to:`/stylist/${l.stylist_id}`,className:"block",children:r.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gradient-to-br from-pink-100 to-purple-100",children:l.profile_picture?r.jsx("img",{src:l.profile_picture,alt:l.business_name,className:"w-full h-48 object-cover"}):r.jsx("div",{className:"w-full h-48 flex items-center justify-center",children:r.jsx(We,{className:"h-16 w-16 text-pink-300"})})})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Z,{to:`/stylist/${l.stylist_id}`,className:"font-semibold text-gray-900 hover:text-purple-600 transition-colors",children:l.business_name||l.stylist_name}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[r.jsx(ot,{className:"h-4 w-4 mr-1"}),l.location_city,", ",l.location_state]})]}),r.jsx("button",{onClick:()=>o(l.stylist_id),className:"p-2 text-pink-500 hover:bg-pink-50 rounded-full transition-colors",title:"Remove from favorites",children:r.jsx(Ps,{className:"h-6 w-6"})})]}),l.rating_average>0&&r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"h-5 w-5 text-yellow-400 fill-current"}),r.jsx("span",{className:"ml-1 font-medium text-gray-900",children:l.rating_average.toFixed(1)})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",l.rating_count," reviews)"]})]}),l.specialties&&l.specialties.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.specialties.slice(0,3).map((c,d)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:c},d)),l.specialties.length>3&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",l.specialties.length-3," more"]})]}),r.jsx(Z,{to:`/book/${l.stylist_id}`,className:"block w-full text-center px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full hover:from-pink-600 hover:to-purple-700 transition-all",children:"Book Now"})]})]},l.stylist_id))})]})})}function MO(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(!1),[o,l]=m.useState(null);m.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await me.get("/portfolio/my-portfolio");p.success&&e(p.data)}catch(p){console.error("Error loading portfolio:",p),R.error("Error al cargar portafolio")}finally{a(!1)}},d=async p=>{if(confirm("¿Estás seguro de eliminar este elemento del portafolio?"))try{await me.delete(`/portfolio/${p}`),R.success("Elemento eliminado"),c()}catch{R.error("Error al eliminar")}},u=async p=>{try{await me.put(`/portfolio/${p.id}`,{is_visible:!p.is_visible}),R.success(p.is_visible?"Ocultado":"Visible ahora"),c()}catch{R.error("Error al actualizar")}},h=async p=>{try{await me.put(`/portfolio/${p.id}`,{is_featured:!p.is_featured}),R.success(p.is_featured?"Ya no destacado":"Ahora destacado"),c()}catch{R.error("Error al actualizar")}};return t?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mi Portafolio"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Muestra tu trabajo con fotos antes y después"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary flex items-center space-x-2 rounded-full",children:[r.jsx(or,{className:"w-5 h-5"}),r.jsx("span",{children:"Agregar Fotos"})]})]}),s.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-full",children:[r.jsx(Xt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay elementos en tu portafolio"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza subiendo fotos antes y después de tu trabajo"}),r.jsx("button",{onClick:()=>i(!0),className:"btn btn-primary rounded-full",children:"Subir Primeras Fotos"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((p,f)=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.05},className:"card hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"relative",children:[p.is_featured&&r.jsx("div",{className:"absolute top-2 left-2 z-10",children:r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[r.jsx(bl,{className:"w-3 h-3 mr-1"}),"Destacado"]})}),!p.is_visible&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Oculto"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[r.jsxs("div",{className:"relative aspect-square",children:[r.jsx("img",{src:p.before_photo_url,alt:"Antes",className:"w-full h-full object-cover rounded-tl-lg"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs py-1 text-center",children:"Antes"})]}),r.jsxs("div",{className:"relative aspect-square",children:[r.jsx("img",{src:p.after_photo_url,alt:"Después",className:"w-full h-full object-cover rounded-tr-lg"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs py-1 text-center",children:"Después"})]})]}),r.jsxs("div",{className:"p-4",children:[p.title&&r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:p.title}),p.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:p.description}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(At,{className:"w-4 h-4 mr-1"}),p.view_count]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(We,{className:"w-4 h-4 mr-1"}),p.like_count]})]}),p.service_category&&r.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:p.service_category})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>h(p),className:`flex-1 btn btn-sm ${p.is_featured?"btn-primary":"btn-outline-primary"}`,title:"Destacar",children:r.jsx(bl,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>u(p),className:"flex-1 btn btn-sm btn-outline-primary rounded-full",title:p.is_visible?"Ocultar":"Mostrar",children:r.jsx(At,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>l(p),className:"flex-1 btn btn-sm btn-outline-primary rounded-full",title:"Editar",children:r.jsx(aa,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>d(p.id),className:"flex-1 btn btn-sm btn-outline-danger rounded-full",title:"Eliminar",children:r.jsx(Ts,{className:"w-4 h-4"})})]})]})]})},p.id))}),r.jsx(_e,{children:n&&r.jsx($O,{onClose:()=>i(!1),onSuccess:()=>{i(!1),c()}})}),r.jsx(_e,{children:o&&r.jsx(DO,{item:o,onClose:()=>l(null),onSuccess:()=>{l(null),c()}})})]})}function $O({onClose:s,onSuccess:e}){const[t,a]=m.useState(null),[n,i]=m.useState(null),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,h]=m.useState(""),[p,f]=m.useState(""),[y,x]=m.useState(""),[g,v]=m.useState(""),[b,k]=m.useState(!1),w=(j,_)=>{if(j.size>10*1024*1024){R.error("La imagen no debe superar 10MB");return}const S=new FileReader;S.onloadend=()=>{_==="before"?(a(j),l(S.result)):(i(j),d(S.result))},S.readAsDataURL(j)},N=async j=>{if(j.preventDefault(),!t||!n){R.error("Se requieren ambas fotos (antes y después)");return}k(!0);try{const _=new FormData;_.append("before_photo",t),_.append("after_photo",n),u&&_.append("title",u),p&&_.append("description",p),y&&_.append("service_category",y),g&&_.append("tags",g),await me.uploadFile("/portfolio",_),R.success("Portafolio actualizado exitosamente"),e()}catch(_){console.error("Error uploading portfolio:",_),R.error(_.message||"Error al subir fotos")}finally{k(!1)}};return r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:s,children:r.jsx(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Subir Fotos Antes/Después"}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(De,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto Antes *"}),o?r.jsxs("div",{className:"relative aspect-square",children:[r.jsx("img",{src:o,alt:"Antes",className:"w-full h-full object-cover rounded-full"}),r.jsx("button",{type:"button",onClick:()=>{a(null),l("")},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full",children:r.jsx(De,{className:"w-4 h-4"})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center aspect-square border-2 border-dashed border-gray-300 rounded-full cursor-pointer hover:border-primary-500",children:[r.jsx(Xt,{className:"w-12 h-12 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Subir Foto"}),r.jsx("input",{type:"file",accept:"image/*",onChange:j=>{var _;return((_=j.target.files)==null?void 0:_[0])&&w(j.target.files[0],"before")},className:"hidden"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto Después *"}),c?r.jsxs("div",{className:"relative aspect-square",children:[r.jsx("img",{src:c,alt:"Después",className:"w-full h-full object-cover rounded-full"}),r.jsx("button",{type:"button",onClick:()=>{i(null),d("")},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full",children:r.jsx(De,{className:"w-4 h-4"})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center aspect-square border-2 border-dashed border-gray-300 rounded-full cursor-pointer hover:border-primary-500",children:[r.jsx(Xt,{className:"w-12 h-12 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Subir Foto"}),r.jsx("input",{type:"file",accept:"image/*",onChange:j=>{var _;return((_=j.target.files)==null?void 0:_[0])&&w(j.target.files[0],"after")},className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título (opcional)"}),r.jsx("input",{type:"text",value:u,onChange:j=>h(j.target.value),placeholder:"Ej: Transformación de color completa",className:"input",maxLength:200})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción (opcional)"}),r.jsx("textarea",{value:p,onChange:j=>f(j.target.value),placeholder:"Describe el trabajo realizado...",rows:3,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),r.jsxs("select",{value:y,onChange:j=>x(j.target.value),className:"input",children:[r.jsx("option",{value:"",children:"Seleccionar..."}),r.jsx("option",{value:"hair",children:"Cabello"}),r.jsx("option",{value:"nails",children:"Uñas"}),r.jsx("option",{value:"makeup",children:"Maquillaje"}),r.jsx("option",{value:"skincare",children:"Cuidado de la piel"}),r.jsx("option",{value:"other",children:"Otro"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiquetas (separadas por comas)"}),r.jsx("input",{type:"text",value:g,onChange:j=>v(j.target.value),placeholder:"color, highlights, balayage",className:"input"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"button",onClick:s,className:"flex-1 btn btn-outline-primary rounded-full",disabled:b,children:"Cancelar"}),r.jsx("button",{type:"submit",className:"flex-1 btn btn-primary rounded-full",disabled:b||!t||!n,children:b?"Subiendo...":"Subir Fotos"})]})]})]})})})}function DO({item:s,onClose:e,onSuccess:t}){var y;const[a,n]=m.useState(s.title||""),[i,o]=m.useState(s.description||""),[l,c]=m.useState(s.service_category||""),[d,u]=m.useState(((y=s.tags)==null?void 0:y.join(", "))||""),[h,p]=m.useState(!1),f=async x=>{x.preventDefault(),p(!0);try{await me.put(`/portfolio/${s.id}`,{title:a,description:i,service_category:l,tags:d}),R.success("Actualizado exitosamente"),t()}catch{R.error("Error al actualizar")}finally{p(!1)}};return r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:r.jsx(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"card max-w-lg w-full",onClick:x=>x.stopPropagation(),children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Elemento"}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(De,{className:"w-6 h-6 text-gray-500"})})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),r.jsx("input",{type:"text",value:a,onChange:x=>n(x.target.value),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),r.jsx("textarea",{value:i,onChange:x=>o(x.target.value),rows:3,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),r.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"input",children:[r.jsx("option",{value:"",children:"Seleccionar..."}),r.jsx("option",{value:"hair",children:"Cabello"}),r.jsx("option",{value:"nails",children:"Uñas"}),r.jsx("option",{value:"makeup",children:"Maquillaje"}),r.jsx("option",{value:"skincare",children:"Cuidado de la piel"}),r.jsx("option",{value:"other",children:"Otro"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiquetas"}),r.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),className:"input"})]}),r.jsxs("div",{className:"flex space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:e,className:"flex-1 btn btn-outline-primary rounded-full",disabled:h,children:"Cancelar"}),r.jsx("button",{type:"submit",className:"flex-1 btn btn-primary rounded-full",disabled:h,children:h?"Guardando...":"Guardar"})]})]})]})})})}function FO(){return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"container-responsive py-8",children:r.jsx(MO,{})})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wi(s){return s+.5|0}const gs=(s,e,t)=>Math.max(Math.min(s,t),e);function Un(s){return gs(Wi(s*2.55),0,255)}function ws(s){return gs(Wi(s*255),0,255)}function Gr(s){return gs(Wi(s/2.55)/100,0,1)}function kf(s){return gs(Wi(s*100),0,100)}const rr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$u=[..."0123456789ABCDEF"],BO=s=>$u[s&15],VO=s=>$u[(s&240)>>4]+$u[s&15],io=s=>(s&240)>>4===(s&15),UO=s=>io(s.r)&&io(s.g)&&io(s.b)&&io(s.a);function WO(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&rr[s[1]]*17,g:255&rr[s[2]]*17,b:255&rr[s[3]]*17,a:e===5?rr[s[4]]*17:255}:(e===7||e===9)&&(t={r:rr[s[1]]<<4|rr[s[2]],g:rr[s[3]]<<4|rr[s[4]],b:rr[s[5]]<<4|rr[s[6]],a:e===9?rr[s[7]]<<4|rr[s[8]]:255})),t}const zO=(s,e)=>s<255?e(s):"";function HO(s){var e=UO(s)?BO:VO;return s?"#"+e(s.r)+e(s.g)+e(s.b)+zO(s.a,e):void 0}const qO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Wb(s,e,t){const a=e*Math.min(t,1-t),n=(i,o=(i+s/30)%12)=>t-a*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function GO(s,e,t){const a=(n,i=(n+s/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function YO(s,e,t){const a=Wb(s,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)a[n]*=1-e-t,a[n]+=e;return a}function KO(s,e,t,a,n){return s===n?(e-t)/a+(e<t?6:0):e===n?(t-s)/a+2:(s-e)/a+4}function Gh(s){const t=s.r/255,a=s.g/255,n=s.b/255,i=Math.max(t,a,n),o=Math.min(t,a,n),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=KO(t,a,n,u,i),c=c*60+.5),[c|0,d||0,l]}function Yh(s,e,t,a){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,a)).map(ws)}function Kh(s,e,t){return Yh(Wb,s,e,t)}function QO(s,e,t){return Yh(YO,s,e,t)}function ZO(s,e,t){return Yh(GO,s,e,t)}function zb(s){return(s%360+360)%360}function JO(s){const e=qO.exec(s);let t=255,a;if(!e)return;e[5]!==a&&(t=e[6]?Un(+e[5]):ws(+e[5]));const n=zb(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?a=QO(n,i,o):e[1]==="hsv"?a=ZO(n,i,o):a=Kh(n,i,o),{r:a[0],g:a[1],b:a[2],a:t}}function XO(s,e){var t=Gh(s);t[0]=zb(t[0]+e),t=Kh(t),s.r=t[0],s.g=t[1],s.b=t[2]}function eL(s){if(!s)return;const e=Gh(s),t=e[0],a=kf(e[1]),n=kf(e[2]);return s.a<255?`hsla(${t}, ${a}%, ${n}%, ${Gr(s.a)})`:`hsl(${t}, ${a}%, ${n}%)`}const _f={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tL(){const s={},e=Object.keys(Sf),t=Object.keys(_f);let a,n,i,o,l;for(a=0;a<e.length;a++){for(o=l=e[a],n=0;n<t.length;n++)i=t[n],l=l.replace(i,_f[i]);i=parseInt(Sf[o],16),s[l]=[i>>16&255,i>>8&255,i&255]}return s}let oo;function rL(s){oo||(oo=tL(),oo.transparent=[0,0,0,0]);const e=oo[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const sL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aL(s){const e=sL.exec(s);let t=255,a,n,i;if(e){if(e[7]!==a){const o=+e[7];t=e[8]?Un(o):gs(o*255,0,255)}return a=+e[1],n=+e[3],i=+e[5],a=255&(e[2]?Un(a):gs(a,0,255)),n=255&(e[4]?Un(n):gs(n,0,255)),i=255&(e[6]?Un(i):gs(i,0,255)),{r:a,g:n,b:i,a:t}}}function nL(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Gr(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const cd=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Ta=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function iL(s,e,t){const a=Ta(Gr(s.r)),n=Ta(Gr(s.g)),i=Ta(Gr(s.b));return{r:ws(cd(a+t*(Ta(Gr(e.r))-a))),g:ws(cd(n+t*(Ta(Gr(e.g))-n))),b:ws(cd(i+t*(Ta(Gr(e.b))-i))),a:s.a+t*(e.a-s.a)}}function lo(s,e,t){if(s){let a=Gh(s);a[e]=Math.max(0,Math.min(a[e]+a[e]*t,e===0?360:1)),a=Kh(a),s.r=a[0],s.g=a[1],s.b=a[2]}}function Hb(s,e){return s&&Object.assign(e||{},s)}function Cf(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=ws(s[3]))):(e=Hb(s,{r:0,g:0,b:0,a:1}),e.a=ws(e.a)),e}function oL(s){return s.charAt(0)==="r"?aL(s):JO(s)}class bi{constructor(e){if(e instanceof bi)return e;const t=typeof e;let a;t==="object"?a=Cf(e):t==="string"&&(a=WO(e)||rL(e)||oL(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Hb(this._rgb);return e&&(e.a=Gr(e.a)),e}set rgb(e){this._rgb=Cf(e)}rgbString(){return this._valid?nL(this._rgb):void 0}hexString(){return this._valid?HO(this._rgb):void 0}hslString(){return this._valid?eL(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,n=e.rgb;let i;const o=t===i?.5:t,l=2*o-1,c=a.a-n.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,a.r=255&d*a.r+i*n.r+.5,a.g=255&d*a.g+i*n.g+.5,a.b=255&d*a.b+i*n.b+.5,a.a=o*a.a+(1-o)*n.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=iL(this._rgb,e._rgb,t)),this}clone(){return new bi(this.rgb)}alpha(e){return this._rgb.a=ws(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Wi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lo(this._rgb,2,e),this}darken(e){return lo(this._rgb,2,-e),this}saturate(e){return lo(this._rgb,1,e),this}desaturate(e){return lo(this._rgb,1,-e),this}rotate(e){return XO(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vr(){}const lL=(()=>{let s=0;return()=>s++})();function $e(s){return s==null}function mt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ce(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Lt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function xr(s,e){return Lt(s)?s:e}function ke(s,e){return typeof s>"u"?e:s}const cL=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,qb=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Je(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Ve(s,e,t,a){let n,i,o;if(mt(s))for(i=s.length,n=0;n<i;n++)e.call(t,s[n],n);else if(Ce(s))for(o=Object.keys(s),i=o.length,n=0;n<i;n++)e.call(t,s[o[n]],o[n])}function Sl(s,e){let t,a,n,i;if(!s||!e||s.length!==e.length)return!1;for(t=0,a=s.length;t<a;++t)if(n=s[t],i=e[t],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Cl(s){if(mt(s))return s.map(Cl);if(Ce(s)){const e=Object.create(null),t=Object.keys(s),a=t.length;let n=0;for(;n<a;++n)e[t[n]]=Cl(s[t[n]]);return e}return s}function Gb(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function dL(s,e,t,a){if(!Gb(s))return;const n=e[s],i=t[s];Ce(n)&&Ce(i)?vi(n,i,a):e[s]=Cl(i)}function vi(s,e,t){const a=mt(e)?e:[e],n=a.length;if(!Ce(s))return s;t=t||{};const i=t.merger||dL;let o;for(let l=0;l<n;++l){if(o=a[l],!Ce(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],s,o,t)}return s}function ri(s,e){return vi(s,e,{merger:uL})}function uL(s,e,t){if(!Gb(s))return;const a=e[s],n=t[s];Ce(a)&&Ce(n)?ri(a,n):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Cl(n))}const Ef={"":s=>s,x:s=>s.x,y:s=>s.y};function hL(s){const e=s.split("."),t=[];let a="";for(const n of e)a+=n,a.endsWith("\\")?a=a.slice(0,-1)+".":(t.push(a),a="");return t}function mL(s){const e=hL(s);return t=>{for(const a of e){if(a==="")break;t=t&&t[a]}return t}}function la(s,e){return(Ef[e]||(Ef[e]=mL(e)))(s)}function Qh(s){return s.charAt(0).toUpperCase()+s.slice(1)}const wi=s=>typeof s<"u",Ss=s=>typeof s=="function",Tf=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function pL(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Ue=Math.PI,at=2*Ue,fL=at+Ue,El=Number.POSITIVE_INFINITY,gL=Ue/180,yt=Ue/2,Ls=Ue/4,Pf=Ue*2/3,Yb=Math.log10,Pr=Math.sign;function si(s,e,t){return Math.abs(s-e)<t}function Af(s){const e=Math.round(s);s=si(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Yb(s))),a=s/t;return(a<=1?1:a<=2?2:a<=5?5:10)*t}function xL(s){const e=[],t=Math.sqrt(s);let a;for(a=1;a<t;a++)s%a===0&&(e.push(a),e.push(s/a));return t===(t|0)&&e.push(t),e.sort((n,i)=>n-i).pop(),e}function yL(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function ji(s){return!yL(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function bL(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function vL(s,e,t){let a,n,i;for(a=0,n=s.length;a<n;a++)i=s[a][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Yr(s){return s*(Ue/180)}function wL(s){return s*(180/Ue)}function Of(s){if(!Lt(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function Kb(s,e){const t=e.x-s.x,a=e.y-s.y,n=Math.sqrt(t*t+a*a);let i=Math.atan2(a,t);return i<-.5*Ue&&(i+=at),{angle:i,distance:n}}function Du(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function jL(s,e){return(s-e+fL)%at-Ue}function Qt(s){return(s%at+at)%at}function Ni(s,e,t,a){const n=Qt(s),i=Qt(e),o=Qt(t),l=Qt(i-n),c=Qt(o-n),d=Qt(n-i),u=Qt(n-o);return n===i||n===o||a&&i===o||l>c&&d<u}function Tt(s,e,t){return Math.max(e,Math.min(t,s))}function NL(s){return Tt(s,-32768,32767)}function Kr(s,e,t,a=1e-6){return s>=Math.min(e,t)-a&&s<=Math.max(e,t)+a}function Zh(s,e,t){t=t||(o=>s[o]<e);let a=s.length-1,n=0,i;for(;a-n>1;)i=n+a>>1,t(i)?n=i:a=i;return{lo:n,hi:a}}const Qs=(s,e,t,a)=>Zh(s,t,a?n=>{const i=s[n][e];return i<t||i===t&&s[n+1][e]===t}:n=>s[n][e]<t),kL=(s,e,t)=>Zh(s,t,a=>s[a][e]>=t);function _L(s,e,t){let a=0,n=s.length;for(;a<n&&s[a]<e;)a++;for(;n>a&&s[n-1]>t;)n--;return a>0||n<s.length?s.slice(a,n):s}const Qb=["push","pop","shift","splice","unshift"];function SL(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Qb.forEach(t=>{const a="_onData"+Qh(t),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...i){const o=n.apply(this,i);return s._chartjs.listeners.forEach(l=>{typeof l[a]=="function"&&l[a](...i)}),o}})})}function Lf(s,e){const t=s._chartjs;if(!t)return;const a=t.listeners,n=a.indexOf(e);n!==-1&&a.splice(n,1),!(a.length>0)&&(Qb.forEach(i=>{delete s[i]}),delete s._chartjs)}function Zb(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Jb=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Xb(s,e){let t=[],a=!1;return function(...n){t=n,a||(a=!0,Jb.call(window,()=>{a=!1,s.apply(e,t)}))}}function CL(s,e){let t;return function(...a){return e?(clearTimeout(t),t=setTimeout(s,e,a)):s.apply(this,a),e}}const Jh=s=>s==="start"?"left":s==="end"?"right":"center",Et=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,EL=(s,e,t,a)=>s===(a?"left":"right")?t:s==="center"?(e+t)/2:e;function TL(s,e,t){const a=e.length;let n=0,i=a;if(s._sorted){const{iScale:o,vScale:l,_parsed:c}=s,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,u=o.axis,{min:h,max:p,minDefined:f,maxDefined:y}=o.getUserBounds();if(f){if(n=Math.min(Qs(c,u,h).lo,t?a:Qs(e,u,o.getPixelForValue(h)).lo),d){const x=c.slice(0,n+1).reverse().findIndex(g=>!$e(g[l.axis]));n-=Math.max(0,x)}n=Tt(n,0,a-1)}if(y){let x=Math.max(Qs(c,o.axis,p,!0).hi+1,t?0:Qs(e,u,o.getPixelForValue(p),!0).hi+1);if(d){const g=c.slice(x-1).findIndex(v=>!$e(v[l.axis]));x+=Math.max(0,g)}i=Tt(x,n,a)-n}else i=a-n}return{start:n,count:i}}function PL(s){const{xScale:e,yScale:t,_scaleRanges:a}=s,n={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!a)return s._scaleRanges=n,!0;const i=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==t.min||a.ymax!==t.max;return Object.assign(a,n),i}const co=s=>s===0||s===1,Rf=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*at/t)),If=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*at/t)+1,ai={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*yt)+1,easeOutSine:s=>Math.sin(s*yt),easeInOutSine:s=>-.5*(Math.cos(Ue*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>co(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>co(s)?s:Rf(s,.075,.3),easeOutElastic:s=>co(s)?s:If(s,.075,.3),easeInOutElastic(s){return co(s)?s:s<.5?.5*Rf(s*2,.1125,.45):.5+.5*If(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-ai.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ai.easeInBounce(s*2)*.5:ai.easeOutBounce(s*2-1)*.5+.5};function Xh(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Mf(s){return Xh(s)?s:new bi(s)}function dd(s){return Xh(s)?s:new bi(s).saturate(.5).darken(.1).hexString()}const AL=["x","y","borderWidth","radius","tension"],OL=["color","borderColor","backgroundColor"];function LL(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:OL},numbers:{type:"number",properties:AL}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function RL(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $f=new Map;function IL(s,e){e=e||{};const t=s+JSON.stringify(e);let a=$f.get(t);return a||(a=new Intl.NumberFormat(s,e),$f.set(t,a)),a}function em(s,e,t){return IL(e,t).format(s)}const ML={values(s){return mt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const a=this.chart.options.locale;let n,i=s;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),i=$L(s,t)}const o=Yb(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),em(s,a,c)}};function $L(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var ev={formatters:ML};function DL(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ev.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ca=Object.create(null),Fu=Object.create(null);function ni(s,e){if(!e)return s;const t=e.split(".");for(let a=0,n=t.length;a<n;++a){const i=t[a];s=s[i]||(s[i]=Object.create(null))}return s}function ud(s,e,t){return typeof e=="string"?vi(ni(s,e),t):vi(ni(s,""),e)}class FL{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,n)=>dd(n.backgroundColor),this.hoverBorderColor=(a,n)=>dd(n.borderColor),this.hoverColor=(a,n)=>dd(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ud(this,e,t)}get(e){return ni(this,e)}describe(e,t){return ud(Fu,e,t)}override(e,t){return ud(ca,e,t)}route(e,t,a,n){const i=ni(this,e),o=ni(this,a),l="_"+t;Object.defineProperties(i,{[l]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=o[n];return Ce(c)?Object.assign({},d,c):ke(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var ct=new FL({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LL,RL,DL]);function BL(s){return!s||$e(s.size)||$e(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Df(s,e,t,a,n){let i=e[n];return i||(i=e[n]=s.measureText(n).width,t.push(n)),i>a&&(a=i),a}function Rs(s,e,t){const a=s.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*a)/a+n}function Ff(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Bu(s,e,t,a){tv(s,e,t,a,null)}function tv(s,e,t,a,n){let i,o,l,c,d,u,h,p;const f=e.pointStyle,y=e.rotation,x=e.radius;let g=(y||0)*gL;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(t,a),s.rotate(g),s.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),s.restore();return}if(!(isNaN(x)||x<=0)){switch(s.beginPath(),f){default:n?s.ellipse(t,a,n/2,x,0,0,at):s.arc(t,a,x,0,at),s.closePath();break;case"triangle":u=n?n/2:x,s.moveTo(t+Math.sin(g)*u,a-Math.cos(g)*x),g+=Pf,s.lineTo(t+Math.sin(g)*u,a-Math.cos(g)*x),g+=Pf,s.lineTo(t+Math.sin(g)*u,a-Math.cos(g)*x),s.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(g+Ls)*c,h=Math.cos(g+Ls)*(n?n/2-d:c),l=Math.sin(g+Ls)*c,p=Math.sin(g+Ls)*(n?n/2-d:c),s.arc(t-h,a-l,d,g-Ue,g-yt),s.arc(t+p,a-o,d,g-yt,g),s.arc(t+h,a+l,d,g,g+yt),s.arc(t-p,a+o,d,g+yt,g+Ue),s.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,u=n?n/2:c,s.rect(t-u,a-c,2*u,2*c);break}g+=Ls;case"rectRot":h=Math.cos(g)*(n?n/2:x),o=Math.cos(g)*x,l=Math.sin(g)*x,p=Math.sin(g)*(n?n/2:x),s.moveTo(t-h,a-l),s.lineTo(t+p,a-o),s.lineTo(t+h,a+l),s.lineTo(t-p,a+o),s.closePath();break;case"crossRot":g+=Ls;case"cross":h=Math.cos(g)*(n?n/2:x),o=Math.cos(g)*x,l=Math.sin(g)*x,p=Math.sin(g)*(n?n/2:x),s.moveTo(t-h,a-l),s.lineTo(t+h,a+l),s.moveTo(t+p,a-o),s.lineTo(t-p,a+o);break;case"star":h=Math.cos(g)*(n?n/2:x),o=Math.cos(g)*x,l=Math.sin(g)*x,p=Math.sin(g)*(n?n/2:x),s.moveTo(t-h,a-l),s.lineTo(t+h,a+l),s.moveTo(t+p,a-o),s.lineTo(t-p,a+o),g+=Ls,h=Math.cos(g)*(n?n/2:x),o=Math.cos(g)*x,l=Math.sin(g)*x,p=Math.sin(g)*(n?n/2:x),s.moveTo(t-h,a-l),s.lineTo(t+h,a+l),s.moveTo(t+p,a-o),s.lineTo(t-p,a+o);break;case"line":o=n?n/2:Math.cos(g)*x,l=Math.sin(g)*x,s.moveTo(t-o,a-l),s.lineTo(t+o,a+l);break;case"dash":s.moveTo(t,a),s.lineTo(t+Math.cos(g)*(n?n/2:x),a+Math.sin(g)*x);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function ki(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function gc(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function xc(s){s.restore()}function VL(s,e,t,a,n){if(!e)return s.lineTo(t.x,t.y);if(n==="middle"){const i=(e.x+t.x)/2;s.lineTo(i,e.y),s.lineTo(i,t.y)}else n==="after"!=!!a?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function UL(s,e,t,a){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?t.cp2x:t.cp1x,a?t.cp2y:t.cp1y,t.x,t.y)}function WL(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),$e(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function zL(s,e,t,a,n){if(n.strikethrough||n.underline){const i=s.measureText(a),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=t-i.actualBoundingBoxAscent,d=t+i.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(o,u),s.lineTo(l,u),s.stroke()}}function HL(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function _i(s,e,t,a,n,i={}){const o=mt(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(s.save(),s.font=n.string,WL(s,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&HL(s,i.backdrop),l&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),$e(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(d,t,a,i.maxWidth)),s.fillText(d,t,a,i.maxWidth),zL(s,t,a,d,i),a+=Number(n.lineHeight);s.restore()}function Tl(s,e){const{x:t,y:a,w:n,h:i,radius:o}=e;s.arc(t+o.topLeft,a+o.topLeft,o.topLeft,1.5*Ue,Ue,!0),s.lineTo(t,a+i-o.bottomLeft),s.arc(t+o.bottomLeft,a+i-o.bottomLeft,o.bottomLeft,Ue,yt,!0),s.lineTo(t+n-o.bottomRight,a+i),s.arc(t+n-o.bottomRight,a+i-o.bottomRight,o.bottomRight,yt,0,!0),s.lineTo(t+n,a+o.topRight),s.arc(t+n-o.topRight,a+o.topRight,o.topRight,0,-yt,!0),s.lineTo(t+o.topLeft,a)}const qL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,GL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YL(s,e){const t=(""+s).match(qL);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const KL=s=>+s||0;function tm(s,e){const t={},a=Ce(e),n=a?Object.keys(e):e,i=Ce(s)?a?o=>ke(s[o],s[e[o]]):o=>s[o]:()=>s;for(const o of n)t[o]=KL(i(o));return t}function rv(s){return tm(s,{top:"y",right:"x",bottom:"y",left:"x"})}function za(s){return tm(s,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(s){const e=rv(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pt(s,e){s=s||{},e=e||ct.font;let t=ke(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let a=ke(s.style,e.style);a&&!(""+a).match(GL)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const n={family:ke(s.family,e.family),lineHeight:YL(ke(s.lineHeight,e.lineHeight),t),size:t,style:a,weight:ke(s.weight,e.weight),string:""};return n.string=BL(n),n}function uo(s,e,t,a){let n,i,o;for(n=0,i=s.length;n<i;++n)if(o=s[n],o!==void 0&&o!==void 0)return o}function QL(s,e,t){const{min:a,max:n}=s,i=qb(e,(n-a)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(a,-Math.abs(i)),max:o(n,i)}}function ya(s,e){return Object.assign(Object.create(s),e)}function rm(s,e=[""],t,a,n=()=>s[0]){const i=t||s;typeof a>"u"&&(a=iv("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:a,_getTarget:n,override:l=>rm([l,...s],e,i,a)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete s[0][c],!0},get(l,c){return av(l,c,()=>aR(c,e,s,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,c){return Vf(l).includes(c)},ownKeys(l){return Vf(l)},set(l,c,d){const u=l._storage||(l._storage=n());return l[c]=u[c]=d,delete l._keys,!0}})}function Xa(s,e,t,a){const n={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:sv(s,a),setContext:i=>Xa(s,i,t,a),override:i=>Xa(s.override(i),e,t,a)};return new Proxy(n,{deleteProperty(i,o){return delete i[o],delete s[o],!0},get(i,o,l){return av(i,o,()=>JL(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(i,o,l){return s[o]=l,delete i[o],!0}})}function sv(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:a=e.indexable,_allKeys:n=e.allKeys}=s;return{allKeys:n,scriptable:t,indexable:a,isScriptable:Ss(t)?t:()=>t,isIndexable:Ss(a)?a:()=>a}}const ZL=(s,e)=>s?s+Qh(e):e,sm=(s,e)=>Ce(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function av(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const a=t();return s[e]=a,a}function JL(s,e,t){const{_proxy:a,_context:n,_subProxy:i,_descriptors:o}=s;let l=a[e];return Ss(l)&&o.isScriptable(e)&&(l=XL(e,l,s,t)),mt(l)&&l.length&&(l=eR(e,l,s,o.isIndexable)),sm(e,l)&&(l=Xa(l,n,i&&i[e],o)),l}function XL(s,e,t,a){const{_proxy:n,_context:i,_subProxy:o,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let c=e(i,o||a);return l.delete(s),sm(s,c)&&(c=am(n._scopes,n,s,c)),c}function eR(s,e,t,a){const{_proxy:n,_context:i,_subProxy:o,_descriptors:l}=t;if(typeof i.index<"u"&&a(s))return e[i.index%e.length];if(Ce(e[0])){const c=e,d=n._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=am(d,n,s,u);e.push(Xa(h,i,o&&o[s],l))}}return e}function nv(s,e,t){return Ss(s)?s(e,t):s}const tR=(s,e)=>s===!0?e:typeof s=="string"?la(e,s):void 0;function rR(s,e,t,a,n){for(const i of e){const o=tR(t,i);if(o){s.add(o);const l=nv(o._fallback,t,n);if(typeof l<"u"&&l!==t&&l!==a)return l}else if(o===!1&&typeof a<"u"&&t!==a)return null}return!1}function am(s,e,t,a){const n=e._rootScopes,i=nv(e._fallback,t,a),o=[...s,...n],l=new Set;l.add(a);let c=Bf(l,o,t,i||t,a);return c===null||typeof i<"u"&&i!==t&&(c=Bf(l,o,i,c,a),c===null)?!1:rm(Array.from(l),[""],n,i,()=>sR(e,t,a))}function Bf(s,e,t,a,n){for(;t;)t=rR(s,e,t,a,n);return t}function sR(s,e,t){const a=s._getTarget();e in a||(a[e]={});const n=a[e];return mt(n)&&Ce(t)?t:n||{}}function aR(s,e,t,a){let n;for(const i of e)if(n=iv(ZL(i,s),t),typeof n<"u")return sm(s,n)?am(t,a,s,n):n}function iv(s,e){for(const t of e){if(!t)continue;const a=t[s];if(typeof a<"u")return a}}function Vf(s){let e=s._keys;return e||(e=s._keys=nR(s._scopes)),e}function nR(s){const e=new Set;for(const t of s)for(const a of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(a);return Array.from(e)}const iR=Number.EPSILON||1e-14,en=(s,e)=>e<s.length&&!s[e].skip&&s[e],ov=s=>s==="x"?"y":"x";function oR(s,e,t,a){const n=s.skip?e:s,i=e,o=t.skip?e:t,l=Du(i,n),c=Du(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=a*d,p=a*u;return{previous:{x:i.x-h*(o.x-n.x),y:i.y-h*(o.y-n.y)},next:{x:i.x+p*(o.x-n.x),y:i.y+p*(o.y-n.y)}}}function lR(s,e,t){const a=s.length;let n,i,o,l,c,d=en(s,0);for(let u=0;u<a-1;++u)if(c=d,d=en(s,u+1),!(!c||!d)){if(si(e[u],0,iR)){t[u]=t[u+1]=0;continue}n=t[u]/e[u],i=t[u+1]/e[u],l=Math.pow(n,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),t[u]=n*o*e[u],t[u+1]=i*o*e[u])}}function cR(s,e,t="x"){const a=ov(t),n=s.length;let i,o,l,c=en(s,0);for(let d=0;d<n;++d){if(o=l,l=c,c=en(s,d+1),!l)continue;const u=l[t],h=l[a];o&&(i=(u-o[t])/3,l[`cp1${t}`]=u-i,l[`cp1${a}`]=h-i*e[d]),c&&(i=(c[t]-u)/3,l[`cp2${t}`]=u+i,l[`cp2${a}`]=h+i*e[d])}}function dR(s,e="x"){const t=ov(e),a=s.length,n=Array(a).fill(0),i=Array(a);let o,l,c,d=en(s,0);for(o=0;o<a;++o)if(l=c,c=d,d=en(s,o+1),!!c){if(d){const u=d[e]-c[e];n[o]=u!==0?(d[t]-c[t])/u:0}i[o]=l?d?Pr(n[o-1])!==Pr(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}lR(s,n,i),cR(s,i,e)}function ho(s,e,t){return Math.max(Math.min(s,t),e)}function uR(s,e){let t,a,n,i,o,l=ki(s[0],e);for(t=0,a=s.length;t<a;++t)o=i,i=l,l=t<a-1&&ki(s[t+1],e),i&&(n=s[t],o&&(n.cp1x=ho(n.cp1x,e.left,e.right),n.cp1y=ho(n.cp1y,e.top,e.bottom)),l&&(n.cp2x=ho(n.cp2x,e.left,e.right),n.cp2y=ho(n.cp2y,e.top,e.bottom)))}function hR(s,e,t,a,n){let i,o,l,c;if(e.spanGaps&&(s=s.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")dR(s,n);else{let d=a?s[s.length-1]:s[0];for(i=0,o=s.length;i<o;++i)l=s[i],c=oR(d,l,s[Math.min(i+1,o-(a?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&uR(s,t)}function nm(){return typeof window<"u"&&typeof document<"u"}function im(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Pl(s,e,t){let a;return typeof s=="string"?(a=parseInt(s,10),s.indexOf("%")!==-1&&(a=a/100*e.parentNode[t])):a=s,a}const yc=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function mR(s,e){return yc(s).getPropertyValue(e)}const pR=["top","right","bottom","left"];function ea(s,e,t){const a={};t=t?"-"+t:"";for(let n=0;n<4;n++){const i=pR[n];a[i]=parseFloat(s[e+"-"+i+t])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const fR=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function gR(s,e){const t=s.touches,a=t&&t.length?t[0]:s,{offsetX:n,offsetY:i}=a;let o=!1,l,c;if(fR(n,i,s.target))l=n,c=i;else{const d=e.getBoundingClientRect();l=a.clientX-d.left,c=a.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Us(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:a}=e,n=yc(t),i=n.boxSizing==="border-box",o=ea(n,"padding"),l=ea(n,"border","width"),{x:c,y:d,box:u}=gR(s,t),h=o.left+(u&&l.left),p=o.top+(u&&l.top);let{width:f,height:y}=e;return i&&(f-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-h)/f*t.width/a),y:Math.round((d-p)/y*t.height/a)}}function xR(s,e,t){let a,n;if(e===void 0||t===void 0){const i=s&&im(s);if(!i)e=s.clientWidth,t=s.clientHeight;else{const o=i.getBoundingClientRect(),l=yc(i),c=ea(l,"border","width"),d=ea(l,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,a=Pl(l.maxWidth,i,"clientWidth"),n=Pl(l.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:a||El,maxHeight:n||El}}const mo=s=>Math.round(s*10)/10;function yR(s,e,t,a){const n=yc(s),i=ea(n,"margin"),o=Pl(n.maxWidth,s,"clientWidth")||El,l=Pl(n.maxHeight,s,"clientHeight")||El,c=xR(s,e,t);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const p=ea(n,"border","width"),f=ea(n,"padding");d-=f.width+p.width,u-=f.height+p.height}return d=Math.max(0,d-i.width),u=Math.max(0,a?d/a:u-i.height),d=mo(Math.min(d,o,c.maxWidth)),u=mo(Math.min(u,l,c.maxHeight)),d&&!u&&(u=mo(d/2)),(e!==void 0||t!==void 0)&&a&&c.height&&u>c.height&&(u=c.height,d=mo(Math.floor(u*a))),{width:d,height:u}}function Uf(s,e,t){const a=e||1,n=Math.floor(s.height*a),i=Math.floor(s.width*a);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==a||o.height!==n||o.width!==i?(s.currentDevicePixelRatio=a,o.height=n,o.width=i,s.ctx.setTransform(a,0,0,a,0,0),!0):!1}const bR=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};nm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function Wf(s,e){const t=mR(s,e),a=t&&t.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Ws(s,e,t,a){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function vR(s,e,t,a){return{x:s.x+t*(e.x-s.x),y:a==="middle"?t<.5?s.y:e.y:a==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function wR(s,e,t,a){const n={x:s.cp2x,y:s.cp2y},i={x:e.cp1x,y:e.cp1y},o=Ws(s,n,t),l=Ws(n,i,t),c=Ws(i,e,t),d=Ws(o,l,t),u=Ws(l,c,t);return Ws(d,u,t)}const jR=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,a){return t-a},leftForLtr(t,a){return t-a}}},NR=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Ha(s,e,t){return s?jR(e,t):NR()}function lv(s,e){let t,a;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,a=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=a)}function cv(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function dv(s){return s==="angle"?{between:Ni,compare:jL,normalize:Qt}:{between:Kr,compare:(e,t)=>e-t,normalize:e=>e}}function zf({start:s,end:e,count:t,loop:a,style:n}){return{start:s%t,end:e%t,loop:a&&(e-s+1)%t===0,style:n}}function kR(s,e,t){const{property:a,start:n,end:i}=t,{between:o,normalize:l}=dv(a),c=e.length;let{start:d,end:u,loop:h}=s,p,f;if(h){for(d+=c,u+=c,p=0,f=c;p<f&&o(l(e[d%c][a]),n,i);++p)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:s.style}}function uv(s,e,t){if(!t)return[s];const{property:a,start:n,end:i}=t,o=e.length,{compare:l,between:c,normalize:d}=dv(a),{start:u,end:h,loop:p,style:f}=kR(s,e,t),y=[];let x=!1,g=null,v,b,k;const w=()=>c(n,k,v)&&l(n,k)!==0,N=()=>l(i,v)===0||c(i,k,v),j=()=>x||w(),_=()=>!x||N();for(let S=u,C=u;S<=h;++S)b=e[S%o],!b.skip&&(v=d(b[a]),v!==k&&(x=c(v,n,i),g===null&&j()&&(g=l(v,n)===0?S:C),g!==null&&_()&&(y.push(zf({start:g,end:S,loop:p,count:o,style:f})),g=null),C=S,k=v));return g!==null&&y.push(zf({start:g,end:h,loop:p,count:o,style:f})),y}function hv(s,e){const t=[],a=s.segments;for(let n=0;n<a.length;n++){const i=uv(a[n],s.points,e);i.length&&t.push(...i)}return t}function _R(s,e,t,a){let n=0,i=e-1;if(t&&!a)for(;n<e&&!s[n].skip;)n++;for(;n<e&&s[n].skip;)n++;for(n%=e,t&&(i+=n);i>n&&s[i%e].skip;)i--;return i%=e,{start:n,end:i}}function SR(s,e,t,a){const n=s.length,i=[];let o=e,l=s[e],c;for(c=e+1;c<=t;++c){const d=s[c%n];d.skip||d.stop?l.skip||(a=!1,i.push({start:e%n,end:(c-1)%n,loop:a}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%n,end:o%n,loop:a}),i}function CR(s,e){const t=s.points,a=s.options.spanGaps,n=t.length;if(!n)return[];const i=!!s._loop,{start:o,end:l}=_R(t,n,i,a);if(a===!0)return Hf(s,[{start:o,end:l,loop:i}],t,e);const c=l<o?l+n:l,d=!!s._fullLoop&&o===0&&l===n-1;return Hf(s,SR(t,o,c,d),t,e)}function Hf(s,e,t,a){return!a||!a.setContext||!t?e:ER(s,e,t,a)}function ER(s,e,t,a){const n=s._chart.getContext(),i=qf(s.options),{_datasetIndex:o,options:{spanGaps:l}}=s,c=t.length,d=[];let u=i,h=e[0].start,p=h;function f(y,x,g,v){const b=l?-1:1;if(y!==x){for(y+=c;t[y%c].skip;)y-=b;for(;t[x%c].skip;)x+=b;y%c!==x%c&&(d.push({start:y%c,end:x%c,loop:g,style:v}),u=v,h=x%c)}}for(const y of e){h=l?h:y.start;let x=t[h%c],g;for(p=h+1;p<=y.end;p++){const v=t[p%c];g=qf(a.setContext(ya(n,{type:"segment",p0:x,p1:v,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:o}))),TR(g,u)&&f(h,p-1,y.loop,u),x=v,u=g}h<p-1&&f(h,p-1,y.loop,u)}return d}function qf(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function TR(s,e){if(!e)return!1;const t=[],a=function(n,i){return Xh(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(s,a)!==JSON.stringify(e,a)}function po(s,e,t){return s.options.clip?s[t]:e[t]}function PR(s,e){const{xScale:t,yScale:a}=s;return t&&a?{left:po(t,e,"left"),right:po(t,e,"right"),top:po(a,e,"top"),bottom:po(a,e,"bottom")}:e}function mv(s,e){const t=e._clip;if(t.disabled)return!1;const a=PR(e,s.chartArea);return{left:t.left===!1?0:a.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:a.right+(t.right===!0?0:t.right),top:t.top===!1?0:a.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:a.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,n){const i=t.listeners[n],o=t.duration;i.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(a-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Jb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((a,n)=>{if(!a.running||!a.items.length)return;const i=a.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>a.duration&&(a.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(n.draw(),this._notify(n,a,e,"progress")),i.length||(a.running=!1,this._notify(n,a,e,"complete"),a.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((a,n)=>Math.max(a,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let n=a.length-1;for(;n>=0;--n)a[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zr=new AR;const Gf="transparent",OR={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const a=Mf(s||Gf),n=a.valid&&Mf(e||Gf);return n&&n.valid?n.mix(a,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class LR{constructor(e,t,a,n){const i=t[a];n=uo([e.to,n,i,e.from]);const o=uo([e.from,i,n]);this._active=!0,this._fn=e.fn||OR[e.type||typeof o],this._easing=ai[e.easing]||ai.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const n=this._target[this._prop],i=a-this._start,o=this._duration-i;this._start=a,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=uo([e.to,t,n,e.from]),this._from=uo([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,n=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||t<a),!this._active){this._target[n]=l,this._notify(!0);return}if(t<0){this._target[n]=i;return}c=t/a%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,a)=>{e.push({res:t,rej:a})})}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let n=0;n<a.length;n++)a[n][t]()}}class pv{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ce(e))return;const t=Object.keys(ct.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!Ce(i))return;const o={};for(const l of t)o[l]=i[l];(mt(i.properties)&&i.properties||[n]).forEach(l=>{(l===n||!a.has(l))&&a.set(l,o)})})}_animateOptions(e,t){const a=t.options,n=IR(e,a);if(!n)return[];const i=this._createAnimations(n,a);return a.$shared&&RR(e.options.$animations,a).then(()=>{e.options=a},()=>{}),i}_createAnimations(e,t){const a=this._properties,n=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(e,t));continue}const u=t[d];let h=i[d];const p=a.get(d);if(h)if(p&&h.active()){h.update(p,u,l);continue}else h.cancel();if(!p||!p.duration){e[d]=u;continue}i[d]=h=new LR(p,e,d,u),n.push(h)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const a=this._createAnimations(e,t);if(a.length)return zr.add(this._chart,a),!0}}function RR(s,e){const t=[],a=Object.keys(e);for(let n=0;n<a.length;n++){const i=s[a[n]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function IR(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Yf(s,e){const t=s&&s.options||{},a=t.reverse,n=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:a?i:n,end:a?n:i}}function MR(s,e,t){if(t===!1)return!1;const a=Yf(s,t),n=Yf(e,t);return{top:n.end,right:a.end,bottom:n.start,left:a.start}}function $R(s){let e,t,a,n;return Ce(s)?(e=s.top,t=s.right,a=s.bottom,n=s.left):e=t=a=n=s,{top:e,right:t,bottom:a,left:n,disabled:s===!1}}function fv(s,e){const t=[],a=s._getSortedDatasetMetas(e);let n,i;for(n=0,i=a.length;n<i;++n)t.push(a[n].index);return t}function Kf(s,e,t,a={}){const n=s.keys,i=a.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=n.length;o<l;++o){if(c=+n[o],c===t){if(u=!0,a.all)continue;break}d=s.values[c],Lt(d)&&(i||e===0||Pr(e)===Pr(d))&&(e+=d)}return!u&&!a.all?0:e}function DR(s,e){const{iScale:t,vScale:a}=e,n=t.axis==="x"?"x":"y",i=a.axis==="x"?"x":"y",o=Object.keys(s),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[n]:u,[i]:s[u]};return l}function hd(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function FR(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function BR(s){const{min:e,max:t,minDefined:a,maxDefined:n}=s.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function VR(s,e,t){const a=s[e]||(s[e]={});return a[t]||(a[t]={})}function Qf(s,e,t,a){for(const n of e.getMatchingVisibleMetas(a).reverse()){const i=s[n.index];if(t&&i>0||!t&&i<0)return n.index}return null}function Zf(s,e){const{chart:t,_cachedMeta:a}=s,n=t._stacks||(t._stacks={}),{iScale:i,vScale:o,index:l}=a,c=i.axis,d=o.axis,u=FR(i,o,a),h=e.length;let p;for(let f=0;f<h;++f){const y=e[f],{[c]:x,[d]:g}=y,v=y._stacks||(y._stacks={});p=v[d]=VR(n,u,x),p[l]=g,p._top=Qf(p,o,!0,a.type),p._bottom=Qf(p,o,!1,a.type);const b=p._visualValues||(p._visualValues={});b[l]=g}}function md(s,e){const t=s.scales;return Object.keys(t).filter(a=>t[a].axis===e).shift()}function UR(s,e){return ya(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function WR(s,e,t){return ya(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Sn(s,e){const t=s.controller.index,a=s.vScale&&s.vScale.axis;if(a){e=e||s._parsed;for(const n of e){const i=n._stacks;if(!i||i[a]===void 0||i[a][t]===void 0)return;delete i[a][t],i[a]._visualValues!==void 0&&i[a]._visualValues[t]!==void 0&&delete i[a]._visualValues[t]}}}const pd=s=>s==="reset"||s==="none",Jf=(s,e)=>e?s:Object.assign({},s),zR=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:fv(t,!0),values:null};class ta{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=hd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Sn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),n=(h,p,f,y)=>h==="x"?p:h==="r"?y:f,i=t.xAxisID=ke(a.xAxisID,md(e,"x")),o=t.yAxisID=ke(a.yAxisID,md(e,"y")),l=t.rAxisID=ke(a.rAxisID,md(e,"r")),c=t.indexAxis,d=t.iAxisID=n(c,i,o,l),u=t.vAxisID=n(c,o,i,l);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lf(this._data,this),e._stacked&&Sn(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(Ce(t)){const n=this._cachedMeta;this._data=DR(t,n)}else if(a!==t){if(a){Lf(a,this);const n=this._cachedMeta;Sn(n),n._parsed=[]}t&&Object.isExtensible(t)&&SL(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let n=!1;this._dataCheck();const i=t._stacked;t._stacked=hd(t.vScale,t),t.stack!==a.stack&&(n=!0,Sn(t),t.stack=a.stack),this._resyncElements(e),(n||i!==t._stacked)&&(Zf(this,t._parsed),t._stacked=hd(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:n}=this,{iScale:i,_stacked:o}=a,l=i.axis;let c=e===0&&t===n.length?!0:a._sorted,d=e>0&&a._parsed[e-1],u,h,p;if(this._parsing===!1)a._parsed=n,a._sorted=!0,p=n;else{mt(n[e])?p=this.parseArrayData(a,n,e,t):Ce(n[e])?p=this.parseObjectData(a,n,e,t):p=this.parsePrimitiveData(a,n,e,t);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<t;++u)a._parsed[u+e]=h=p[u],c&&(f()&&(c=!1),d=h);a._sorted=c}o&&Zf(this,p)}parsePrimitiveData(e,t,a,n){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(n);let p,f,y;for(p=0,f=n;p<f;++p)y=p+a,h[p]={[l]:u||i.parse(d[y],y),[c]:o.parse(t[y],y)};return h}parseArrayData(e,t,a,n){const{xScale:i,yScale:o}=e,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+a,h=t[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,t,a,n){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,h,p,f;for(u=0,h=n;u<h;++u)p=u+a,f=t[p],d[u]={x:i.parse(la(f,l),p),y:o.parse(la(f,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const n=this.chart,i=this._cachedMeta,o=t[e.axis],l={keys:fv(n,!0),values:t._stacks[e.axis]._visualValues};return Kf(l,o,i.index,{mode:a})}updateRangeFromParsed(e,t,a,n){const i=a[t.axis];let o=i===null?NaN:i;const l=n&&a._stacks[t.axis];n&&l&&(n.values=l,o=Kf(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const a=this._cachedMeta,n=a._parsed,i=a._sorted&&e===a.iScale,o=n.length,l=this._getOtherScale(e),c=zR(t,a,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=BR(l);let p,f;function y(){f=n[p];const x=f[l.axis];return!Lt(f[e.axis])||u>x||h<x}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(d,e,f,c),i));++p);if(i){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let n,i,o;for(n=0,i=t.length;n<i;++n)o=t[n][e.axis],Lt(o)&&a.push(o);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,n=t.vScale,i=this.getParsed(e);return{label:a?""+a.getLabelForValue(i[a.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=$R(ke(this.options.clip,MR(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,n=a.data||[],i=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||n.length-l,d=this.options.drawActiveElementsOnTop;let u;for(a.dataset&&a.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=n[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,t){const a=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=WR(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=UR(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=a,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){const n=t==="active",i=this._cachedDataOpts,o=e+"-"+t,l=i[o],c=this.enableOptionSharing&&wi(a);if(l)return Jf(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=n?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),u),f=Object.keys(ct.elements[e]),y=()=>this.getContext(a,n,t),x=d.resolveNamedOptions(p,f,y,h);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(Jf(x,c))),x}_resolveAnimations(e,t,a){const n=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,l=i[o];if(l)return l;let c;if(n.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),p=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(p,this.getContext(e,a,t))}const d=new pv(n,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||pd(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),n=this._sharedOptions,i=this.getSharedOptions(a),o=this.includeOptions(t,i)||i!==n;return this.updateSharedOptions(i,t,a),{sharedOptions:i,includeOptions:o}}updateElement(e,t,a,n){pd(n)?Object.assign(e,a):this._resolveAnimations(t,n).update(e,a)}updateSharedOptions(e,t,a){e&&!pd(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,n){e.active=n;const i=this.getStyle(t,n);this._resolveAnimations(t,a,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const n=a.length,i=t.length,o=Math.min(i,n);o&&this.parse(0,o),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,t,a=!0){const n=this._cachedMeta,i=n.data,o=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=o;l--)d[l]=d[l-t]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(e,t),a&&this.updateElements(i,e,t,"reset")}updateElements(e,t,a,n){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const n=a._parsed.splice(e,t);a._stacked&&Sn(a,n)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,n]=e;this[t](a,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}se(ta,"defaults",{}),se(ta,"datasetElementType",null),se(ta,"dataElementType",null);function HR(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let a=[];for(let n=0,i=t.length;n<i;n++)a=a.concat(t[n].controller.getAllParsedValues(s));s._cache.$bar=Zb(a.sort((n,i)=>n-i))}return s._cache.$bar}function qR(s){const e=s.iScale,t=HR(e,s.type);let a=e._length,n,i,o,l;const c=()=>{o===32767||o===-32768||(wi(l)&&(a=Math.min(a,Math.abs(o-l)||a)),l=o)};for(n=0,i=t.length;n<i;++n)o=e.getPixelForValue(t[n]),c();for(l=void 0,n=0,i=e.ticks.length;n<i;++n)o=e.getPixelForTick(n),c();return a}function GR(s,e,t,a){const n=t.barThickness;let i,o;return $e(n)?(i=e.min*t.categoryPercentage,o=t.barPercentage):(i=n*a,o=1),{chunk:i/a,ratio:o,start:e.pixels[s]-i/2}}function YR(s,e,t,a){const n=e.pixels,i=n[s];let o=s>0?n[s-1]:null,l=s<n.length-1?n[s+1]:null;const c=t.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/a,ratio:t.barPercentage,start:d}}function KR(s,e,t,a){const n=t.parse(s[0],a),i=t.parse(s[1],a),o=Math.min(n,i),l=Math.max(n,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:n,end:i,min:o,max:l}}function gv(s,e,t,a){return mt(s)?KR(s,e,t,a):e[t.axis]=t.parse(s,a),e}function Xf(s,e,t,a){const n=s.iScale,i=s.vScale,o=n.getLabels(),l=n===i,c=[];let d,u,h,p;for(d=t,u=t+a;d<u;++d)p=e[d],h={},h[n.axis]=l||n.parse(o[d],d),c.push(gv(p,h,i,d));return c}function fd(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function QR(s,e,t){return s!==0?Pr(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function ZR(s){let e,t,a,n,i;return s.horizontal?(e=s.base>s.x,t="left",a="right"):(e=s.base<s.y,t="bottom",a="top"),e?(n="end",i="start"):(n="start",i="end"),{start:t,end:a,reverse:e,top:n,bottom:i}}function JR(s,e,t,a){let n=e.borderSkipped;const i={};if(!n){s.borderSkipped=i;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=ZR(s);n==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===a?n=d:(t._bottom||0)===a?n=u:(i[e0(u,o,l,c)]=!0,n=d)),i[e0(n,o,l,c)]=!0,s.borderSkipped=i}function e0(s,e,t,a){return a?(s=XR(s,e,t),s=t0(s,t,e)):s=t0(s,e,t),s}function XR(s,e,t){return s===e?t:s===t?e:s}function t0(s,e,t){return s==="start"?e:s==="end"?t:s}function eI(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class Jo extends ta{parsePrimitiveData(e,t,a,n){return Xf(e,t,a,n)}parseArrayData(e,t,a,n){return Xf(e,t,a,n)}parseObjectData(e,t,a,n){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let p,f,y,x;for(p=a,f=a+n;p<f;++p)x=t[p],y={},y[i.axis]=i.parse(la(x,d),p),h.push(gv(la(x,u),y,o,p));return h}updateRangeFromParsed(e,t,a,n){super.updateRangeFromParsed(e,t,a,n);const i=a._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:a,vScale:n}=t,i=this.getParsed(e),o=i._custom,l=fd(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+a.getLabelForValue(i[a.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,n){const i=n==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,n);for(let f=t;f<t+a;f++){const y=this.getParsed(f),x=i||$e(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,u),v=(y._stacks||{})[l.axis],b={horizontal:d,base:x.base,enableBorderRadius:!v||fd(y._custom)||o===v._top||o===v._bottom,x:d?x.head:g.center,y:d?g.center:x.head,height:d?g.size:Math.abs(x.size),width:d?Math.abs(x.size):g.size};p&&(b.options=h||this.resolveDataElementOptions(f,e[f].active?"active":n));const k=b.options||e[f].options;JR(b,k,v,o),eI(b,k,u.ratio),this.updateElement(e[f],f,b,n)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,n=a.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=a.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[a.axis],d=u=>{const h=u._parsed.find(f=>f[a.axis]===c),p=h&&h[u.vScale.axis];if($e(p)||isNaN(p))return!0};for(const u of n)if(!(t!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[ke(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,a){const n=this._getStacks(e,a),i=t!==void 0?n.indexOf(t):-1;return i===-1?n.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,a=t.iScale,n=[];let i,o;for(i=0,o=t.data.length;i<o;++i)n.push(a.getPixelForValue(this.getParsed(i)[a.axis],i));const l=e.barThickness;return{min:l||qR(t),pixels:n,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a,index:n},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=fd(d);let h=c[t.axis],p=0,f=a?this.applyStack(t,c,a):h,y,x;f!==h&&(p=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&Pr(h)!==Pr(d.barEnd)&&(p=0),p+=h);const g=!$e(i)&&!u?i:p;let v=t.getPixelForValue(g);if(this.chart.getDataVisibility(e)?y=t.getPixelForValue(p+f):y=v,x=y-v,Math.abs(x)<o){x=QR(x,t,l)*o,h===l&&(v-=x/2);const b=t.getPixelForDecimal(0),k=t.getPixelForDecimal(1),w=Math.min(b,k),N=Math.max(b,k);v=Math.max(Math.min(v,N),w),y=v+x,a&&!u&&(c._stacks[t.axis]._visualValues[n]=t.getValueForPixel(y)-t.getValueForPixel(v))}if(v===t.getPixelForValue(l)){const b=Pr(x)*t.getLineWidthForValue(l)/2;v+=b,x-=b}return{size:x,base:v,head:y,center:y+x/2}}_calculateBarIndexPixels(e,t){const a=t.scale,n=this.options,i=n.skipNull,o=ke(n.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(t.grouped){const u=i?this._getStackCount(e):t.stackCount,h=n.barThickness==="flex"?YR(e,t,n,u*d):GR(e,t,n,u*d),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ke(p,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=h.start+h.chunk*y+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=a.getPixelForValue(this.getParsed(e)[a.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,a=e.data,n=a.length;let i=0;for(;i<n;++i)this.getParsed(i)[t.axis]!==null&&!a[i].hidden&&a[i].draw(this._ctx)}}se(Jo,"id","bar"),se(Jo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),se(Jo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function tI(s,e,t){let a=1,n=1,i=0,o=0;if(e<at){const l=s,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),p=Math.sin(c),f=(k,w,N)=>Ni(k,l,c,!0)?1:Math.max(w,w*t,N,N*t),y=(k,w,N)=>Ni(k,l,c,!0)?-1:Math.min(w,w*t,N,N*t),x=f(0,d,h),g=f(yt,u,p),v=y(Ue,d,h),b=y(Ue+yt,u,p);a=(x-v)/2,n=(g-b)/2,i=-(x+v)/2,o=-(g+b)/2}return{ratioX:a,ratioY:n,offsetX:i,offsetY:o}}class Wn extends ta{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const a=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=a;else{let i=c=>+a[c];if(Ce(a[e])){const{key:c="value"}=this._parsing;i=d=>+la(a[d],c)}let o,l;for(o=e,l=e+t;o<l;++o)n._parsed[o]=i(o)}}_getRotation(){return Yr(this.options.rotation-90)}_getCircumference(){return Yr(this.options.circumference)}_getRotationExtents(){let e=at,t=-at;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const n=this.chart.getDatasetMeta(a).controller,i=n._getRotation(),o=n._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:a}=t,n=this._cachedMeta,i=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(a.width,a.height)-o)/2,0),c=Math.min(cL(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:y,offsetY:x}=tI(h,u,c),g=(a.width-o)/p,v=(a.height-o)/f,b=Math.max(Math.min(g,v)/2,0),k=qb(this.options.radius,b),w=Math.max(k*c,0),N=(k-w)/this._getVisibleDatasetWeightTotal();this.offsetX=y*k,this.offsetY=x*k,n.total=this.calculateTotal(),this.outerRadius=k-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const a=this.options,n=this._cachedMeta,i=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*i/at)}updateElements(e,t,a,n){const i=n==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,p=i&&d.animateScale,f=p?0:this.innerRadius,y=p?0:this.outerRadius,{sharedOptions:x,includeOptions:g}=this._getSharedOptions(t,n);let v=this._getRotation(),b;for(b=0;b<t;++b)v+=this._circumference(b,i);for(b=t;b<t+a;++b){const k=this._circumference(b,i),w=e[b],N={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+k,circumference:k,outerRadius:y,innerRadius:f};g&&(N.options=x||this.resolveDataElementOptions(b,w.active?"active":n)),v+=k,this.updateElement(w,b,N,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a=0,n;for(n=0;n<t.length;n++){const i=e._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(a+=Math.abs(i))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?at*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,n=a.data.labels||[],i=em(t._parsed[e],a.options.locale);return{label:n[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const a=this.chart;let n,i,o,l,c;if(!e){for(n=0,i=a.data.datasets.length;n<i;++n)if(a.isDatasetVisible(n)){o=a.getDatasetMeta(n),e=o.data,l=o.controller;break}}if(!e)return 0;for(n=0,i=e.length;n<i;++n)c=l.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,n=e.length;a<n;++a){const i=this.resolveDataElementOptions(a);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}se(Wn,"id","doughnut"),se(Wn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),se(Wn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),se(Wn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:n}}=e.legend.options;return t.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}});class Xo extends ta{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:a,data:n=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:l,count:c}=TL(t,n,o);this._drawStart=l,this._drawCount=c,PL(t)&&(l=0,c=n.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!i._decimated,a.points=n;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:d},e),this.updateElements(n,l,c,e)}updateElements(e,t,a,n){const i=n==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,n),p=o.axis,f=l.axis,{spanGaps:y,segment:x}=this.options,g=ji(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||n==="none",b=t+a,k=e.length;let w=t>0&&this.getParsed(t-1);for(let N=0;N<k;++N){const j=e[N],_=v?j:{};if(N<t||N>=b){_.skip=!0;continue}const S=this.getParsed(N),C=$e(S[f]),I=_[p]=o.getPixelForValue(S[p],N),P=_[f]=i||C?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,S,c):S[f],N);_.skip=isNaN(I)||isNaN(P)||C,_.stop=N>0&&Math.abs(S[p]-w[p])>g,x&&(_.parsed=S,_.raw=d.data[N]),h&&(_.options=u||this.resolveDataElementOptions(N,j.active?"active":n)),v||this.updateElement(j,N,_,n),w=S}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return a;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}se(Xo,"id","line"),se(Xo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),se(Xo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Is(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class om{constructor(e){se(this,"options");this.options=e||{}}static override(e){Object.assign(om.prototype,e)}init(){}formats(){return Is()}parse(){return Is()}format(){return Is()}add(){return Is()}diff(){return Is()}startOf(){return Is()}endOf(){return Is()}}var rI={_date:om};function sI(s,e,t,a){const{controller:n,data:i,_sorted:o}=s,l=n._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?kL:Qs;if(a){if(n._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const p=d(i,e,t-h),f=d(i,e,t+h);return{lo:p.lo,hi:f.hi}}}}else{const u=d(i,e,t);if(c){const{vScale:h}=n._cachedMeta,{_parsed:p}=s,f=p.slice(0,u.lo+1).reverse().findIndex(x=>!$e(x[h.axis]));u.lo-=Math.max(0,f);const y=p.slice(u.hi).findIndex(x=>!$e(x[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:i.length-1}}function bc(s,e,t,a,n){const i=s.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:p}=sI(i[l],e,o,n);for(let f=h;f<=p;++f){const y=u[f];y.skip||a(y,d,f)}}}function aI(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(a,n){const i=e?Math.abs(a.x-n.x):0,o=t?Math.abs(a.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function gd(s,e,t,a,n){const i=[];return!n&&!s.isPointInArea(e)||bc(s,t,e,function(l,c,d){!n&&!ki(l,s.chartArea,0)||l.inRange(e.x,e.y,a)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function nI(s,e,t,a){let n=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],a),{angle:h}=Kb(o,{x:e.x,y:e.y});Ni(h,d,u)&&n.push({element:o,datasetIndex:l,index:c})}return bc(s,t,e,i),n}function iI(s,e,t,a,n,i){let o=[];const l=aI(t);let c=Number.POSITIVE_INFINITY;function d(u,h,p){const f=u.inRange(e.x,e.y,n);if(a&&!f)return;const y=u.getCenterPoint(n);if(!(!!i||s.isPointInArea(y))&&!f)return;const g=l(e,y);g<c?(o=[{element:u,datasetIndex:h,index:p}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:p})}return bc(s,t,e,d),o}function xd(s,e,t,a,n,i){return!i&&!s.isPointInArea(e)?[]:t==="r"&&!a?nI(s,e,t,n):iI(s,e,t,a,n,i)}function r0(s,e,t,a,n){const i=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return bc(s,t,e,(c,d,u)=>{c[o]&&c[o](e[t],n)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,n))}),a&&!l?[]:i}var oI={modes:{index(s,e,t,a){const n=Us(e,s),i=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?gd(s,n,i,a,o):xd(s,n,i,!1,a,o),c=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(s,e,t,a){const n=Us(e,s),i=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?gd(s,n,i,a,o):xd(s,n,i,!1,a,o);if(l.length>0){const c=l[0].datasetIndex,d=s.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(s,e,t,a){const n=Us(e,s),i=t.axis||"xy",o=t.includeInvisible||!1;return gd(s,n,i,a,o)},nearest(s,e,t,a){const n=Us(e,s),i=t.axis||"xy",o=t.includeInvisible||!1;return xd(s,n,i,t.intersect,a,o)},x(s,e,t,a){const n=Us(e,s);return r0(s,n,"x",t.intersect,a)},y(s,e,t,a){const n=Us(e,s);return r0(s,n,"y",t.intersect,a)}}};const xv=["left","top","right","bottom"];function Cn(s,e){return s.filter(t=>t.pos===e)}function s0(s,e){return s.filter(t=>xv.indexOf(t.pos)===-1&&t.box.axis===e)}function En(s,e){return s.sort((t,a)=>{const n=e?a:t,i=e?t:a;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function lI(s){const e=[];let t,a,n,i,o,l;for(t=0,a=(s||[]).length;t<a;++t)n=s[t],{position:i,options:{stack:o,stackWeight:l=1}}=n,e.push({index:t,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&i+o,stackWeight:l});return e}function cI(s){const e={};for(const t of s){const{stack:a,pos:n,stackWeight:i}=t;if(!a||!xv.includes(n))continue;const o=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function dI(s,e){const t=cI(s),{vBoxMaxWidth:a,hBoxMaxHeight:n}=e;let i,o,l;for(i=0,o=s.length;i<o;++i){l=s[i];const{fullSize:c}=l.box,d=t[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*a:c&&e.availableWidth,l.height=n):(l.width=a,l.height=u?u*n:c&&e.availableHeight)}return t}function uI(s){const e=lI(s),t=En(e.filter(d=>d.box.fullSize),!0),a=En(Cn(e,"left"),!0),n=En(Cn(e,"right")),i=En(Cn(e,"top"),!0),o=En(Cn(e,"bottom")),l=s0(e,"x"),c=s0(e,"y");return{fullSize:t,leftAndTop:a.concat(i),rightAndBottom:n.concat(c).concat(o).concat(l),chartArea:Cn(e,"chartArea"),vertical:a.concat(n).concat(c),horizontal:i.concat(o).concat(l)}}function a0(s,e,t,a){return Math.max(s[t],e[t])+Math.max(s[a],e[a])}function yv(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function hI(s,e,t,a){const{pos:n,box:i}=t,o=s.maxPadding;if(!Ce(n)){t.size&&(s[n]-=t.size);const h=a[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?i.height:i.width),t.size=h.size/h.count,s[n]+=t.size}i.getPadding&&yv(o,i.getPadding());const l=Math.max(0,e.outerWidth-a0(o,s,"left","right")),c=Math.max(0,e.outerHeight-a0(o,s,"top","bottom")),d=l!==s.w,u=c!==s.h;return s.w=l,s.h=c,t.horizontal?{same:d,other:u}:{same:u,other:d}}function mI(s){const e=s.maxPadding;function t(a){const n=Math.max(e[a]-s[a],0);return s[a]+=n,n}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function pI(s,e){const t=e.maxPadding;function a(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{i[o]=Math.max(e[o],t[o])}),i}return a(s?["left","right"]:["top","bottom"])}function zn(s,e,t,a){const n=[];let i,o,l,c,d,u;for(i=0,o=s.length,d=0;i<o;++i){l=s[i],c=l.box,c.update(l.width||e.w,l.height||e.h,pI(l.horizontal,e));const{same:h,other:p}=hI(e,t,l,a);d|=h&&n.length,u=u||p,c.fullSize||n.push(l)}return d&&zn(n,e,t,a)||u}function fo(s,e,t,a,n){s.top=t,s.left=e,s.right=e+a,s.bottom=t+n,s.width=a,s.height=n}function n0(s,e,t,a){const n=t.padding;let{x:i,y:o}=e;for(const l of s){const c=l.box,d=a[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,p=d.size||c.height;wi(d.start)&&(o=d.start),c.fullSize?fo(c,n.left,o,t.outerWidth-n.right-n.left,p):fo(c,e.left+d.placed,o,h,p),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,p=d.size||c.width;wi(d.start)&&(i=d.start),c.fullSize?fo(c,i,n.top,p,t.outerHeight-n.bottom-n.top):fo(c,i,e.top+d.placed,p,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var nr={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,a){if(!s)return;const n=lr(s.options.layout.padding),i=Math.max(e-n.width,0),o=Math.max(t-n.height,0),l=uI(s.boxes),c=l.vertical,d=l.horizontal;Ve(s.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,g)=>g.box.options&&g.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),p=Object.assign({},n);yv(p,lr(a));const f=Object.assign({maxPadding:p,w:i,h:o,x:n.left,y:n.top},n),y=dI(c.concat(d),h);zn(l.fullSize,f,h,y),zn(c,f,h,y),zn(d,f,h,y)&&zn(c,f,h,y),mI(f),n0(l.leftAndTop,f,h,y),f.x+=f.w,f.y+=f.h,n0(l.rightAndBottom,f,h,y),s.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ve(l.chartArea,x=>{const g=x.box;Object.assign(g,s.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class bv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,n){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):a)}}isAttached(e){return!0}updateConfig(e){}}class fI extends bv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const el="$chartjs",gI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},i0=s=>s===null||s==="";function xI(s,e){const t=s.style,a=s.getAttribute("height"),n=s.getAttribute("width");if(s[el]={initial:{height:a,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",i0(n)){const i=Wf(s,"width");i!==void 0&&(s.width=i)}if(i0(a))if(s.style.height==="")s.height=s.width/(e||2);else{const i=Wf(s,"height");i!==void 0&&(s.height=i)}return s}const vv=bR?{passive:!0}:!1;function yI(s,e,t){s&&s.addEventListener(e,t,vv)}function bI(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,vv)}function vI(s,e){const t=gI[s.type]||s.type,{x:a,y:n}=Us(s,e);return{type:t,chart:e,native:s,x:a!==void 0?a:null,y:n!==void 0?n:null}}function Al(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function wI(s,e,t){const a=s.canvas,n=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Al(l.addedNodes,a),o=o&&!Al(l.removedNodes,a);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function jI(s,e,t){const a=s.canvas,n=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Al(l.removedNodes,a),o=o&&!Al(l.addedNodes,a);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const Si=new Map;let o0=0;function wv(){const s=window.devicePixelRatio;s!==o0&&(o0=s,Si.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function NI(s,e){Si.size||window.addEventListener("resize",wv),Si.set(s,e)}function kI(s){Si.delete(s),Si.size||window.removeEventListener("resize",wv)}function _I(s,e,t){const a=s.canvas,n=a&&im(a);if(!n)return;const i=Xb((l,c)=>{const d=n.clientWidth;t(l,c),d<n.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(n),NI(s,i),o}function yd(s,e,t){t&&t.disconnect(),e==="resize"&&kI(s)}function SI(s,e,t){const a=s.canvas,n=Xb(i=>{s.ctx!==null&&t(vI(i,s))},s);return yI(a,e,n),n}class CI extends bv{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(xI(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[el])return!1;const a=t[el].initial;["height","width"].forEach(i=>{const o=a[i];$e(o)?t.removeAttribute(i):t.setAttribute(i,o)});const n=a.style||{};return Object.keys(n).forEach(i=>{t.style[i]=n[i]}),t.width=t.width,delete t[el],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:wI,detach:jI,resize:_I}[t]||SI;n[t]=o(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),n=a[t];if(!n)return;({attach:yd,detach:yd,resize:yd}[t]||bI)(e,t,n),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,n){return yR(e,t,a,n)}isAttached(e){const t=e&&im(e);return!!(t&&t.isConnected)}}function EI(s){return!nm()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?fI:CI}var qo;let ts=(qo=class{constructor(){se(this,"x");se(this,"y");se(this,"active",!1);se(this,"options");se(this,"$animations")}tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return ji(this.x)&&ji(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const n={};return e.forEach(i=>{n[i]=a[i]&&a[i].active()?a[i]._to:this[i]}),n}},se(qo,"defaults",{}),se(qo,"defaultRoutes"),qo);function TI(s,e){const t=s.options.ticks,a=PI(s),n=Math.min(t.maxTicksLimit||a,a),i=t.major.enabled?OI(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>n)return LI(e,d,i,o/n),d;const u=AI(i,e,n);if(o>0){let h,p;const f=o>1?Math.round((c-l)/(o-1)):null;for(go(e,d,u,$e(f)?0:l-f,l),h=0,p=o-1;h<p;h++)go(e,d,u,i[h],i[h+1]);return go(e,d,u,c,$e(f)?e.length:c+f),d}return go(e,d,u),d}function PI(s){const e=s.options.offset,t=s._tickSize(),a=s._length/t+(e?0:1),n=s._maxLength/t;return Math.floor(Math.min(a,n))}function AI(s,e,t){const a=RI(s),n=e.length/t;if(!a)return Math.max(n,1);const i=xL(a);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>n)return c}return Math.max(n,1)}function OI(s){const e=[];let t,a;for(t=0,a=s.length;t<a;t++)s[t].major&&e.push(t);return e}function LI(s,e,t,a){let n=0,i=t[0],o;for(a=Math.ceil(a),o=0;o<s.length;o++)o===i&&(e.push(s[o]),n++,i=t[n*a])}function go(s,e,t,a,n){const i=ke(a,0),o=Math.min(ke(n,s.length),s.length);let l=0,c,d,u;for(t=Math.ceil(t),n&&(c=n-a,t=c/Math.floor(c/t)),u=i;u<0;)l++,u=Math.round(i+l*t);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(s[d]),l++,u=Math.round(i+l*t))}function RI(s){const e=s.length;let t,a;if(e<2)return!1;for(a=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==a)return!1;return a}const II=s=>s==="left"?"right":s==="right"?"left":s,l0=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,c0=(s,e)=>Math.min(e||s,s);function d0(s,e){const t=[],a=s.length/e,n=s.length;let i=0;for(;i<n;i+=a)t.push(s[Math.floor(i)]);return t}function MI(s,e,t){const a=s.ticks.length,n=Math.min(e,a-1),i=s._startPixel,o=s._endPixel,l=1e-6;let c=s.getPixelForTick(n),d;if(!(t&&(a===1?d=Math.max(c-i,o-c):e===0?d=(s.getPixelForTick(1)-c)/2:d=(c-s.getPixelForTick(n-1))/2,c+=n<e?d:-d,c<i-l||c>o+l)))return c}function $I(s,e){Ve(s,t=>{const a=t.gc,n=a.length/2;let i;if(n>e){for(i=0;i<n;++i)delete t.data[a[i]];a.splice(0,n)}})}function Tn(s){return s.drawTicks?s.tickLength:0}function u0(s,e){if(!s.display)return 0;const t=Pt(s.font,e),a=lr(s.padding);return(mt(s.text)?s.text.length:1)*t.lineHeight+a.height}function DI(s,e){return ya(s,{scale:e,type:"scale"})}function FI(s,e,t){return ya(s,{tick:t,index:e,type:"tick"})}function BI(s,e,t){let a=Jh(s);return(t&&e!=="right"||!t&&e==="right")&&(a=II(a)),a}function VI(s,e,t,a){const{top:n,left:i,bottom:o,right:l,chart:c}=s,{chartArea:d,scales:u}=c;let h=0,p,f,y;const x=o-n,g=l-i;if(s.isHorizontal()){if(f=Et(a,i,l),Ce(t)){const v=Object.keys(t)[0],b=t[v];y=u[v].getPixelForValue(b)+x-e}else t==="center"?y=(d.bottom+d.top)/2+x-e:y=l0(s,t,e);p=l-i}else{if(Ce(t)){const v=Object.keys(t)[0],b=t[v];f=u[v].getPixelForValue(b)-g+e}else t==="center"?f=(d.left+d.right)/2-g+e:f=l0(s,t,e);y=Et(a,o,n),h=t==="left"?-yt:yt}return{titleX:f,titleY:y,maxWidth:p,rotation:h}}class un extends ts{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:n}=this;return e=xr(e,Number.POSITIVE_INFINITY),t=xr(t,Number.NEGATIVE_INFINITY),a=xr(a,Number.POSITIVE_INFINITY),n=xr(n,Number.NEGATIVE_INFINITY),{min:xr(e,a),max:xr(t,n),minDefined:Lt(e),maxDefined:Lt(t)}}getMinMax(e){let{min:t,max:a,minDefined:n,maxDefined:i}=this.getUserBounds(),o;if(n&&i)return{min:t,max:a};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),n||(t=Math.min(t,o.min)),i||(a=Math.max(a,o.max));return t=i&&t>a?a:t,a=n&&t>a?t:a,{min:xr(t,xr(a,t)),max:xr(a,xr(t,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:n,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QL(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?d0(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=TI(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,a;this.isHorizontal()?(t=this.left,a=this.right):(t=this.top,a=this.bottom,e=!e),this._startPixel=t,this._endPixel=a,this._reversePixels=e,this._length=a-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,n,i;for(a=0,n=e.length;a<n;a++)i=e[a],i.label=Je(t.callback,[i.value,a,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=c0(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,i=t.maxRotation;let o=n,l,c,d;if(!this._isVisible()||!t.display||n>=i||a<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,f=Tt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/a:f/(a-1),h+6>l&&(l=f/(a-(e.offset?.5:1)),c=this.maxHeight-Tn(e.grid)-t.padding-u0(e.title,this.chart.options.font),d=Math.sqrt(h*h+p*p),o=wL(Math.min(Math.asin(Tt((u.highest.height+6)/l,-1,1)),Math.asin(Tt(c/d,-1,1))-Math.asin(Tt(p/d,-1,1)))),o=Math.max(n,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:n,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=u0(n,t.options.font);if(l?(e.width=this.maxWidth,e.height=Tn(i)+c):(e.height=this.maxHeight,e.width=Tn(i)+c),a.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:p}=this._getLabelSizes(),f=a.padding*2,y=Yr(this.labelRotation),x=Math.cos(y),g=Math.sin(y);if(l){const v=a.mirror?0:g*h.width+x*p.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=a.mirror?0:x*h.width+g*p.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(d,u,g,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,n){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;c?d?(p=n*e.width,f=a*t.height):(p=a*e.height,f=n*t.width):i==="start"?f=t.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,f=t.width/2),this.paddingLeft=Math.max((p-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,a;for(t=0,a=e.length;t<a;t++)$e(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=d0(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){const{ctx:n,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(t/c0(t,a));let d=0,u=0,h,p,f,y,x,g,v,b,k,w,N;for(h=0;h<t;h+=c){if(y=e[h].label,x=this._resolveTickFontOptions(h),n.font=g=x.string,v=i[g]=i[g]||{data:{},gc:[]},b=x.lineHeight,k=w=0,!$e(y)&&!mt(y))k=Df(n,v.data,v.gc,k,y),w=b;else if(mt(y))for(p=0,f=y.length;p<f;++p)N=y[p],!$e(N)&&!mt(N)&&(k=Df(n,v.data,v.gc,k,N),w+=b);o.push(k),l.push(w),d=Math.max(k,d),u=Math.max(w,u)}$I(i,t);const j=o.indexOf(d),_=l.indexOf(u),S=C=>({width:o[C]||0,height:l[C]||0});return{first:S(0),last:S(t-1),widest:S(j),highest:S(_),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return NL(this._alignToPixels?Rs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=FI(this.getContext(),e,a))}return this.$context||(this.$context=DI(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Yr(this.labelRotation),a=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*a>l*n?l/a:c/n:c*n<l*a?c/a:l/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,n=this.options,{grid:i,position:o,border:l}=n,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=Tn(i),f=[],y=l.setContext(this.getContext()),x=y.display?y.width:0,g=x/2,v=function($){return Rs(a,$,x)};let b,k,w,N,j,_,S,C,I,P,A,L;if(o==="top")b=v(this.bottom),_=this.bottom-p,C=b-g,P=v(e.top)+g,L=e.bottom;else if(o==="bottom")b=v(this.top),P=e.top,L=v(e.bottom)-g,_=b+g,C=this.top+p;else if(o==="left")b=v(this.right),j=this.right-p,S=b-g,I=v(e.left)+g,A=e.right;else if(o==="right")b=v(this.left),I=e.left,A=v(e.right)-g,j=b+g,S=this.left+p;else if(t==="x"){if(o==="center")b=v((e.top+e.bottom)/2+.5);else if(Ce(o)){const $=Object.keys(o)[0],D=o[$];b=v(this.chart.scales[$].getPixelForValue(D))}P=e.top,L=e.bottom,_=b+g,C=_+p}else if(t==="y"){if(o==="center")b=v((e.left+e.right)/2);else if(Ce(o)){const $=Object.keys(o)[0],D=o[$];b=v(this.chart.scales[$].getPixelForValue(D))}j=b-g,S=j-p,I=e.left,A=e.right}const O=ke(n.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/O));for(k=0;k<h;k+=M){const $=this.getContext(k),D=i.setContext($),q=l.setContext($),W=D.lineWidth,B=D.color,V=q.dash||[],ee=q.dashOffset,F=D.tickWidth,z=D.tickColor,X=D.tickBorderDash||[],Y=D.tickBorderDashOffset;w=MI(this,k,c),w!==void 0&&(N=Rs(a,w,W),d?j=S=I=A=N:_=C=P=L=N,f.push({tx1:j,ty1:_,tx2:S,ty2:C,x1:I,y1:P,x2:A,y2:L,width:W,color:B,borderDash:V,borderDashOffset:ee,tickWidth:F,tickColor:z,tickBorderDash:X,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(e){const t=this.axis,a=this.options,{position:n,ticks:i}=a,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,p=Tn(a.grid),f=p+u,y=h?-u:f,x=-Yr(this.labelRotation),g=[];let v,b,k,w,N,j,_,S,C,I,P,A,L="middle";if(n==="top")j=this.bottom-y,_=this._getXAxisLabelAlignment();else if(n==="bottom")j=this.top+y,_=this._getXAxisLabelAlignment();else if(n==="left"){const M=this._getYAxisLabelAlignment(p);_=M.textAlign,N=M.x}else if(n==="right"){const M=this._getYAxisLabelAlignment(p);_=M.textAlign,N=M.x}else if(t==="x"){if(n==="center")j=(e.top+e.bottom)/2+f;else if(Ce(n)){const M=Object.keys(n)[0],$=n[M];j=this.chart.scales[M].getPixelForValue($)+f}_=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")N=(e.left+e.right)/2-f;else if(Ce(n)){const M=Object.keys(n)[0],$=n[M];N=this.chart.scales[M].getPixelForValue($)}_=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const O=this._getLabelSizes();for(v=0,b=l.length;v<b;++v){k=l[v],w=k.label;const M=i.setContext(this.getContext(v));S=this.getPixelForTick(v)+i.labelOffset,C=this._resolveTickFontOptions(v),I=C.lineHeight,P=mt(w)?w.length:1;const $=P/2,D=M.color,q=M.textStrokeColor,W=M.textStrokeWidth;let B=_;o?(N=S,_==="inner"&&(v===b-1?B=this.options.reverse?"left":"right":v===0?B=this.options.reverse?"right":"left":B="center"),n==="top"?d==="near"||x!==0?A=-P*I+I/2:d==="center"?A=-O.highest.height/2-$*I+I:A=-O.highest.height+I/2:d==="near"||x!==0?A=I/2:d==="center"?A=O.highest.height/2-$*I:A=O.highest.height-P*I,h&&(A*=-1),x!==0&&!M.showLabelBackdrop&&(N+=I/2*Math.sin(x))):(j=S,A=(1-P)*I/2);let V;if(M.showLabelBackdrop){const ee=lr(M.backdropPadding),F=O.heights[v],z=O.widths[v];let X=A-ee.top,Y=0-ee.left;switch(L){case"middle":X-=F/2;break;case"bottom":X-=F;break}switch(_){case"center":Y-=z/2;break;case"right":Y-=z;break;case"inner":v===b-1?Y-=z:v>0&&(Y-=z/2);break}V={left:Y,top:X,width:z+ee.width,height:F+ee.height,color:M.backdropColor}}g.push({label:w,font:C,textOffset:A,options:{rotation:x,color:D,strokeColor:q,strokeWidth:W,textAlign:B,textBaseline:L,translation:[N,j],backdrop:V}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Yr(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:n,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return t==="left"?n?(u=this.right+i,a==="near"?d="left":a==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,a==="near"?d="right":a==="center"?(d="center",u-=c/2):(d="left",u=this.left)):t==="right"?n?(u=this.left+i,a==="near"?d="right":a==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,a==="near"?d="left":a==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:n,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,n,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(i=>i.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,a=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(a.save(),a.lineWidth=u.width,a.strokeStyle=u.color,a.setLineDash(u.borderDash||[]),a.lineDashOffset=u.borderDashOffset,a.beginPath(),a.moveTo(c.x,c.y),a.lineTo(d.x,d.y),a.stroke(),a.restore())};if(t.display)for(i=0,o=n.length;i<o;++i){const c=n[i];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:a,grid:n}}=this,i=a.setContext(this.getContext()),o=a.display?i.width:0;if(!o)return;const l=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,p;this.isHorizontal()?(d=Rs(e,this.left,o)-o/2,u=Rs(e,this.right,l)+l/2,h=p=c):(h=Rs(e,this.top,o)-o/2,p=Rs(e,this.bottom,l)+l/2,d=u=c),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(d,h),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,n=this._computeLabelArea();n&&gc(a,n);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;_i(a,d,0,u,c,l)}n&&xc(a)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:n}}=this;if(!a.display)return;const i=Pt(a.font),o=lr(a.padding),l=a.align;let c=i.lineHeight/2;t==="bottom"||t==="center"||Ce(t)?(c+=o.bottom,mt(a.text)&&(c+=i.lineHeight*(a.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:p}=VI(this,c,t,l);_i(e,a.text,0,0,i,{color:a.color,maxWidth:h,rotation:p,textAlign:BI(l,t,n),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=ke(e.grid&&e.grid.z,-1),n=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==un.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:a,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",n=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];l[a]===this.id&&(!e||l.type===e)&&n.push(l)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Pt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class xo{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;zI(t)&&(a=this.register(t));const n=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,UI(e,o,a),this.override&&ct.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,n=this.scope;a in t&&delete t[a],n&&a in ct[n]&&(delete ct[n][a],this.override&&delete ca[a])}}function UI(s,e,t){const a=vi(Object.create(null),[t?ct.get(t):{},ct.get(e),s.defaults]);ct.set(e,a),s.defaultRoutes&&WI(e,s.defaultRoutes),s.descriptors&&ct.describe(e,s.descriptors)}function WI(s,e){Object.keys(e).forEach(t=>{const a=t.split("."),n=a.pop(),i=[s].concat(a).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");ct.route(i,n,c,l)})}function zI(s){return"id"in s&&"defaults"in s}class HI{constructor(){this.controllers=new xo(ta,"datasets",!0),this.elements=new xo(ts,"elements"),this.plugins=new xo(Object,"plugins"),this.scales=new xo(un,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach(n=>{const i=a||this._getRegistryForType(n);a||i.isForType(n)||i===this.plugins&&n.id?this._exec(e,i,n):Ve(n,o=>{const l=a||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,a){const n=Qh(e);Je(a["before"+n],[],a),t[e](a),Je(a["after"+n],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return n}}var br=new HI;class qI{constructor(){this._init=[]}notify(e,t,a,n){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(i,e,t,a);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,a,n){n=n||{};for(const i of e){const o=i.plugin,l=o[a],c=[t,n,i.options];if(Je(l,c,o)===!1&&n.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,n=ke(a.options&&a.options.plugins,{}),i=GI(a);return n===!1&&!t?[]:KI(e,i,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,n=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(n(t,a),e,"stop"),this._notify(n(a,t),e,"start")}}function GI(s){const e={},t=[],a=Object.keys(br.plugins.items);for(let i=0;i<a.length;i++)t.push(br.getPlugin(a[i]));const n=s.plugins||[];for(let i=0;i<n.length;i++){const o=n[i];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function YI(s,e){return!e&&s===!1?null:s===!0?{}:s}function KI(s,{plugins:e,localIds:t},a,n){const i=[],o=s.getContext();for(const l of e){const c=l.id,d=YI(a[c],n);d!==null&&i.push({plugin:l,options:QI(s.config,{plugin:l,local:t[c]},d,o)})}return i}function QI(s,{plugin:e,local:t},a,n){const i=s.pluginScopeKeys(e),o=s.getOptionScopes(a,i);return t&&e.defaults&&o.push(e.defaults),s.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vu(s,e){const t=ct.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ZI(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function JI(s,e){return s===e?"_index_":"_value_"}function h0(s){if(s==="x"||s==="y"||s==="r")return s}function XI(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Uu(s,...e){if(h0(s))return s;for(const t of e){const a=t.axis||XI(t.position)||s.length>1&&h0(s[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function m0(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function eM(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(a=>a.xAxisID===s||a.yAxisID===s);if(t.length)return m0(s,"x",t[0])||m0(s,"y",t[0])}return{}}function tM(s,e){const t=ca[s.type]||{scales:{}},a=e.scales||{},n=Vu(s.type,e),i=Object.create(null);return Object.keys(a).forEach(o=>{const l=a[o];if(!Ce(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Uu(o,l,eM(o,s),ct.scales[l.type]),d=JI(c,n),u=t.scales||{};i[o]=ri(Object.create(null),[{axis:c},l,u[c],u[d]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,c=o.indexAxis||Vu(l,e),u=(ca[l]||{}).scales||{};Object.keys(u).forEach(h=>{const p=ZI(h,c),f=o[p+"AxisID"]||p;i[f]=i[f]||Object.create(null),ri(i[f],[{axis:p},a[f],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];ri(l,[ct.scales[l.type],ct.scale])}),i}function jv(s){const e=s.options||(s.options={});e.plugins=ke(e.plugins,{}),e.scales=tM(s,e)}function Nv(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function rM(s){return s=s||{},s.data=Nv(s.data),jv(s),s}const p0=new Map,kv=new Set;function yo(s,e){let t=p0.get(s);return t||(t=e(),p0.set(s,t),kv.add(t)),t}const Pn=(s,e,t)=>{const a=la(e,t);a!==void 0&&s.add(a)};class sM{constructor(e){this._config=rM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Nv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),jv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return yo(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return yo(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,a=this.type;return yo(`${a}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const a=this._scopeCache;let n=a.get(e);return(!n||t)&&(n=new Map,a.set(e,n)),n}getOptionScopes(e,t,a){const{options:n,type:i}=this,o=this._cachedScopes(e,a),l=o.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>Pn(c,e,h))),u.forEach(h=>Pn(c,n,h)),u.forEach(h=>Pn(c,ca[i]||{},h)),u.forEach(h=>Pn(c,ct,h)),u.forEach(h=>Pn(c,Fu,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),kv.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,ca[t]||{},ct.datasets[t]||{},{type:t},ct,Fu]}resolveNamedOptions(e,t,a,n=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=f0(this._resolverCache,e,n);let c=o;if(nM(o,t)){i.$shared=!1,a=Ss(a)?a():a;const d=this.createResolver(e,a,l);c=Xa(o,a,d)}for(const d of t)i[d]=c[d];return i}createResolver(e,t,a=[""],n){const{resolver:i}=f0(this._resolverCache,e,a);return Ce(t)?Xa(i,t,void 0,n):i}}function f0(s,e,t){let a=s.get(e);a||(a=new Map,s.set(e,a));const n=t.join();let i=a.get(n);return i||(i={resolver:rm(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},a.set(n,i)),i}const aM=s=>Ce(s)&&Object.getOwnPropertyNames(s).some(e=>Ss(s[e]));function nM(s,e){const{isScriptable:t,isIndexable:a}=sv(s);for(const n of e){const i=t(n),o=a(n),l=(o||i)&&s[n];if(i&&(Ss(l)||aM(l))||o&&mt(l))return!0}return!1}var iM="4.5.0";const oM=["top","bottom","left","right","chartArea"];function g0(s,e){return s==="top"||s==="bottom"||oM.indexOf(s)===-1&&e==="x"}function x0(s,e){return function(t,a){return t[s]===a[s]?t[e]-a[e]:t[s]-a[s]}}function y0(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Je(t&&t.onComplete,[s],e)}function lM(s){const e=s.chart,t=e.options.animation;Je(t&&t.onProgress,[s],e)}function _v(s){return nm()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const tl={},b0=s=>{const e=_v(s);return Object.values(tl).filter(t=>t.canvas===e).pop()};function cM(s,e,t){const a=Object.keys(s);for(const n of a){const i=+n;if(i>=e){const o=s[n];delete s[n],(t>0||i>e)&&(s[i+t]=o)}}}function dM(s,e,t,a){return!t||s.type==="mouseout"?null:a?e:s}var ds;let zi=(ds=class{static register(...e){br.add(...e),v0()}static unregister(...e){br.remove(...e),v0()}constructor(e,t){const a=this.config=new sM(t),n=_v(e),i=b0(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||EI(n)),this.platform.updateConfig(a);const l=this.platform.acquireContext(n,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=lL(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CL(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],tl[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",y0),zr.listen(this,"progress",lM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:n,_aspectRatio:i}=this;return $e(e)?t&&i?i:n?a/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return br}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Uf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ff(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(e,t){zr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,n=this.canvas,i=a.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,t,i),l=a.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Uf(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Je(a.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ve(t,(a,n)=>{a.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,n=Object.keys(a).reduce((o,l)=>(o[l]=!1,o),{});let i=[];t&&(i=i.concat(Object.keys(t).map(o=>{const l=t[o],c=Uu(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Ve(i,o=>{const l=o.options,c=l.id,d=Uu(c,l),u=ke(l.type,o.dtype);(l.position===void 0||g0(l.position,d)!==g0(o.dposition))&&(l.position=o.dposition),n[c]=!0;let h=null;if(c in a&&a[c].type===u)h=a[c];else{const p=br.getScale(u);h=new p({id:c,type:u,ctx:this.ctx,chart:this}),a[h.id]=h}h.init(l,e)}),Ve(n,(o,l)=>{o||delete a[l]}),Ve(a,o=>{nr.configure(this,o,o.options),nr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((n,i)=>n.index-i.index),a>t){for(let n=t;n<a;++n)this._destroyDatasetMeta(n);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(x0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((a,n)=>{t.filter(i=>i===a._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,n;for(this._removeUnreferencedMetasets(),a=0,n=t.length;a<n;a++){const i=t[a];let o=this.getDatasetMeta(a);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(a),o=this.getDatasetMeta(a)),o.type=l,o.indexAxis=i.indexAxis||Vu(l,this.options),o.order=i.order||0,o.index=a,o.label=""+i.label,o.visible=this.isDatasetVisible(a),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{const c=br.getController(l),{datasetElementType:d,dataElementType:u}=ct.datasets[l];Object.assign(c,{dataElementType:br.getElement(u),datasetElementType:d&&br.getElement(d)}),o.controller=new c(this,a),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ve(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),p=!n&&i.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=a.layout.autoPadding?o:0,this._updateLayout(o),n||Ve(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(x0("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ve(this.scales,e=>{nr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!Tf(t,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:n,count:i}of t){const o=a==="_removeElements"?-i:i;cM(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),n=a(0);for(let i=1;i<t;i++)if(!Tf(n,a(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nr.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],Ve(this.boxes,n=>{a&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,a=this.data.datasets.length;t<a;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,Ss(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),n={meta:a,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(a.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),y0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let n,i;for(n=0,i=t.length;n<i;++n){const o=t[n];(!e||o.visible)&&a.push(o)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a={meta:e,index:e.index,cancelable:!0},n=mv(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(n&&gc(t,n),e.controller.draw(),n&&xc(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return ki(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,n){const i=oI.modes[t];return typeof i=="function"?i(this,e,a,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let n=a.filter(i=>i&&i._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(n)),n}getContext(){return this.$context||(this.$context=ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!t.hidden}setDatasetVisibility(e,t){const a=this.getDatasetMeta(e);a.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const n=a?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,n);wi(t)?(i.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),o.update(i,{visible:a}),this.update(l=>l.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),zr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ff(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete tl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},n=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Ve(this.options.events,i=>a(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},n=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{n("attach",l),this.attached=!0,this.resize(),a("resize",i),a("detach",o)};o=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),a("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){Ve(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ve(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const n=a?"set":"remove";let i,o,l,c;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Sl(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,a){const n=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(t,e),l=a?e:i(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,n)===!1)return;const i=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,n),(i||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:n=[],options:i}=this,o=t,l=this._getActiveElements(e,n,a,o),c=pL(e),d=dM(e,this._lastEvent,a,c);a&&(this._lastEvent=null,Je(i.onHover,[e,l,this],this),c&&Je(i.onClick,[e,l,this],this));const u=!Sl(l,n);return(u||t)&&(this._active=l,this._updateHoverStyles(l,n,t)),this._lastEvent=d,u}_getActiveElements(e,t,a,n){if(e.type==="mouseout")return[];if(!a)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}},se(ds,"defaults",ct),se(ds,"instances",tl),se(ds,"overrides",ca),se(ds,"registry",br),se(ds,"version",iM),se(ds,"getChart",b0),ds);function v0(){return Ve(zi.instances,s=>s._plugins.invalidate())}function uM(s,e,t){const{startAngle:a,x:n,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,Qt(a-t));if(s.beginPath(),s.arc(n,i,o-d/2,a+h/2,t-h/2),l>0){const p=Math.min(d/l,Qt(a-t));s.arc(n,i,l+d/2,t-p/2,a+p/2,!0)}else{const p=Math.min(d/2,o*Qt(a-t));if(u==="round")s.arc(n,i,p,t-Ue/2,a+Ue/2,!0);else if(u==="bevel"){const f=2*p*p,y=-f*Math.cos(t+Ue/2)+n,x=-f*Math.sin(t+Ue/2)+i,g=f*Math.cos(a+Ue/2)+n,v=f*Math.sin(a+Ue/2)+i;s.lineTo(y,x),s.lineTo(g,v)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function hM(s,e,t){const{startAngle:a,pixelMargin:n,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=n/l;s.beginPath(),s.arc(i,o,l,a-d,t+d),c>n?(d=n/c,s.arc(i,o,c,t+d,a-d,!0)):s.arc(i,o,n,t+yt,a-yt),s.closePath(),s.clip()}function mM(s){return tm(s,["outerStart","outerEnd","innerStart","innerEnd"])}function pM(s,e,t,a){const n=mM(s.options.borderRadius),i=(t-e)/2,o=Math.min(i,a*e/2),l=c=>{const d=(t-Math.min(i,c))*a/2;return Tt(c,0,Math.min(i,d))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:Tt(n.innerStart,0,o),innerEnd:Tt(n.innerEnd,0,o)}}function Pa(s,e,t,a){return{x:t+s*Math.cos(e),y:a+s*Math.sin(e)}}function Ol(s,e,t,a,n,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+a+t-d,0),p=u>0?u+a+t+d:0;let f=0;const y=n-c;if(a){const M=u>0?u-a:0,$=h>0?h-a:0,D=(M+$)/2,q=D!==0?y*D/(D+a):y;f=(y-q)/2}const x=Math.max(.001,y*h-t/Ue)/h,g=(y-x)/2,v=c+g+f,b=n-g-f,{outerStart:k,outerEnd:w,innerStart:N,innerEnd:j}=pM(e,p,h,b-v),_=h-k,S=h-w,C=v+k/_,I=b-w/S,P=p+N,A=p+j,L=v+N/P,O=b-j/A;if(s.beginPath(),i){const M=(C+I)/2;if(s.arc(o,l,h,C,M),s.arc(o,l,h,M,I),w>0){const W=Pa(S,I,o,l);s.arc(W.x,W.y,w,I,b+yt)}const $=Pa(A,b,o,l);if(s.lineTo($.x,$.y),j>0){const W=Pa(A,O,o,l);s.arc(W.x,W.y,j,b+yt,O+Math.PI)}const D=(b-j/p+(v+N/p))/2;if(s.arc(o,l,p,b-j/p,D,!0),s.arc(o,l,p,D,v+N/p,!0),N>0){const W=Pa(P,L,o,l);s.arc(W.x,W.y,N,L+Math.PI,v-yt)}const q=Pa(_,v,o,l);if(s.lineTo(q.x,q.y),k>0){const W=Pa(_,C,o,l);s.arc(W.x,W.y,k,v-yt,C)}}else{s.moveTo(o,l);const M=Math.cos(C)*h+o,$=Math.sin(C)*h+l;s.lineTo(M,$);const D=Math.cos(I)*h+o,q=Math.sin(I)*h+l;s.lineTo(D,q)}s.closePath()}function fM(s,e,t,a,n){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){Ol(s,e,t,a,c,n);for(let d=0;d<i;++d)s.fill();isNaN(l)||(c=o+(l%at||at))}return Ol(s,e,t,a,c,n),s.fill(),c}function gM(s,e,t,a,n){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:p,borderRadius:f}=c,y=c.borderAlign==="inner";if(!d)return;s.setLineDash(h||[]),s.lineDashOffset=p,y?(s.lineWidth=d*2,s.lineJoin=u||"round"):(s.lineWidth=d,s.lineJoin=u||"bevel");let x=e.endAngle;if(i){Ol(s,e,t,a,x,n);for(let g=0;g<i;++g)s.stroke();isNaN(l)||(x=o+(l%at||at))}y&&hM(s,e,x),c.selfJoin&&x-o>=Ue&&f===0&&u!=="miter"&&uM(s,e,x),i||(Ol(s,e,t,a,x,n),s.stroke())}class Hn extends ts{constructor(t){super();se(this,"circumference");se(this,"endAngle");se(this,"fullCircles");se(this,"innerRadius");se(this,"outerRadius");se(this,"pixelMargin");se(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,n){const i=this.getProps(["x","y"],n),{angle:o,distance:l}=Kb(i,{x:t,y:a}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,y=ke(p,d-c),x=Ni(o,c,d)&&c!==d,g=y>=at||x,v=Kr(l,u+f,h+f);return g&&v}getCenterPoint(t){const{x:a,y:n,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:u}=this.options,h=(i+o)/2,p=(l+c+u+d)/2;return{x:a+Math.cos(h)*p,y:n+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:n}=this,i=(a.offset||0)/4,o=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>at?Math.floor(n/at):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(Ue,n||0)),u=i*d;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,fM(t,this,u,o,l),gM(t,this,u,o,l),t.restore()}}se(Hn,"id","arc"),se(Hn,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),se(Hn,"defaultRoutes",{backgroundColor:"backgroundColor"}),se(Hn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Sv(s,e,t=e){s.lineCap=ke(t.borderCapStyle,e.borderCapStyle),s.setLineDash(ke(t.borderDash,e.borderDash)),s.lineDashOffset=ke(t.borderDashOffset,e.borderDashOffset),s.lineJoin=ke(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ke(t.borderWidth,e.borderWidth),s.strokeStyle=ke(t.borderColor,e.borderColor)}function xM(s,e,t){s.lineTo(t.x,t.y)}function yM(s){return s.stepped?VL:s.tension||s.cubicInterpolationMode==="monotone"?UL:xM}function Cv(s,e,t={}){const a=s.length,{start:n=0,end:i=a-1}=t,{start:o,end:l}=e,c=Math.max(n,o),d=Math.min(i,l),u=n<o&&i<o||n>l&&i>l;return{count:a,start:c,loop:e.loop,ilen:d<c&&!u?a+d-c:d-c}}function bM(s,e,t,a){const{points:n,options:i}=e,{count:o,start:l,loop:c,ilen:d}=Cv(n,t,a),u=yM(i);let{move:h=!0,reverse:p}=a||{},f,y,x;for(f=0;f<=d;++f)y=n[(l+(p?d-f:f))%o],!y.skip&&(h?(s.moveTo(y.x,y.y),h=!1):u(s,x,y,p,i.stepped),x=y);return c&&(y=n[(l+(p?d:0))%o],u(s,x,y,p,i.stepped)),!!c}function vM(s,e,t,a){const n=e.points,{count:i,start:o,ilen:l}=Cv(n,t,a),{move:c=!0,reverse:d}=a||{};let u=0,h=0,p,f,y,x,g,v;const b=w=>(o+(d?l-w:w))%i,k=()=>{x!==g&&(s.lineTo(u,g),s.lineTo(u,x),s.lineTo(u,v))};for(c&&(f=n[b(0)],s.moveTo(f.x,f.y)),p=0;p<=l;++p){if(f=n[b(p)],f.skip)continue;const w=f.x,N=f.y,j=w|0;j===y?(N<x?x=N:N>g&&(g=N),u=(h*u+w)/++h):(k(),s.lineTo(w,N),y=j,h=0,x=g=N),v=N}k()}function Wu(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?vM:bM}function wM(s){return s.stepped?vR:s.tension||s.cubicInterpolationMode==="monotone"?wR:Ws}function jM(s,e,t,a){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,a)&&n.closePath()),Sv(s,e.options),s.stroke(n)}function NM(s,e,t,a){const{segments:n,options:i}=e,o=Wu(e);for(const l of n)Sv(s,i,l.style),s.beginPath(),o(s,e,l,{start:t,end:t+a-1})&&s.closePath(),s.stroke()}const kM=typeof Path2D=="function";function _M(s,e,t,a){kM&&!e.options.segment?jM(s,e,t,a):NM(s,e,t,a)}class Qr extends ts{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const n=a.spanGaps?this._loop:this._fullLoop;hR(this._points,a,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CR(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){const a=this.options,n=e[t],i=this.points,o=hv(this,{property:t,start:n,end:n});if(!o.length)return;const l=[],c=wM(a);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:p}=o[d],f=i[h],y=i[p];if(f===y){l.push(f);continue}const x=Math.abs((n-f[t])/(y[t]-f[t])),g=c(f,y,x,a.stepped);g[t]=e[t],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,t,a){return Wu(this)(e,this,t,a)}path(e,t,a){const n=this.segments,i=Wu(this);let o=this._loop;t=t||0,a=a||this.points.length-t;for(const l of n)o&=i(e,this,l,{start:t,end:t+a-1});return!!o}draw(e,t,a,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),_M(e,this,a,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}se(Qr,"id","line"),se(Qr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),se(Qr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),se(Qr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function w0(s,e,t,a){const n=s.options,{[t]:i}=s.getProps([t],a);return Math.abs(e-i)<n.radius+n.hitRadius}class ii extends ts{constructor(t){super();se(this,"parsed");se(this,"skip");se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,n){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(a-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,a){return w0(this,t,"x",a)}inYRange(t,a){return w0(this,t,"y",a)}getCenterPoint(t){const{x:a,y:n}=this.getProps(["x","y"],t);return{x:a,y:n}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const n=a&&t.borderWidth||0;return(a+n)*2}draw(t,a){const n=this.options;this.skip||n.radius<.1||!ki(this,a,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Bu(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}se(ii,"id","point"),se(ii,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),se(ii,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Ev(s,e){const{x:t,y:a,base:n,width:i,height:o}=s.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return s.horizontal?(h=o/2,l=Math.min(t,n),c=Math.max(t,n),d=a-h,u=a+h):(h=i/2,l=t-h,c=t+h,d=Math.min(a,n),u=Math.max(a,n)),{left:l,top:d,right:c,bottom:u}}function xs(s,e,t,a){return s?0:Tt(e,t,a)}function SM(s,e,t){const a=s.options.borderWidth,n=s.borderSkipped,i=rv(a);return{t:xs(n.top,i.top,0,t),r:xs(n.right,i.right,0,e),b:xs(n.bottom,i.bottom,0,t),l:xs(n.left,i.left,0,e)}}function CM(s,e,t){const{enableBorderRadius:a}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,i=za(n),o=Math.min(e,t),l=s.borderSkipped,c=a||Ce(n);return{topLeft:xs(!c||l.top||l.left,i.topLeft,0,o),topRight:xs(!c||l.top||l.right,i.topRight,0,o),bottomLeft:xs(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:xs(!c||l.bottom||l.right,i.bottomRight,0,o)}}function EM(s){const e=Ev(s),t=e.right-e.left,a=e.bottom-e.top,n=SM(s,t/2,a/2),i=CM(s,t/2,a/2);return{outer:{x:e.left,y:e.top,w:t,h:a,radius:i},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function bd(s,e,t,a){const n=e===null,i=t===null,l=s&&!(n&&i)&&Ev(s,a);return l&&(n||Kr(e,l.left,l.right))&&(i||Kr(t,l.top,l.bottom))}function TM(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function PM(s,e){s.rect(e.x,e.y,e.w,e.h)}function vd(s,e,t={}){const a=s.x!==t.x?-e:0,n=s.y!==t.y?-e:0,i=(s.x+s.w!==t.x+t.w?e:0)-a,o=(s.y+s.h!==t.y+t.h?e:0)-n;return{x:s.x+a,y:s.y+n,w:s.w+i,h:s.h+o,radius:s.radius}}class rl extends ts{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:a,backgroundColor:n}}=this,{inner:i,outer:o}=EM(this),l=TM(o.radius)?Tl:PM;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,vd(o,t,i)),e.clip(),l(e,vd(i,-t,o)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),l(e,vd(i,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,a){return bd(this,e,t,a)}inXRange(e,t){return bd(this,e,null,t)}inYRange(e,t){return bd(this,null,e,t)}getCenterPoint(e){const{x:t,y:a,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+n)/2:t,y:i?a:(a+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}se(rl,"id","bar"),se(rl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),se(rl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function AM(s,e,t){const a=s.segments,n=s.points,i=e.points,o=[];for(const l of a){let{start:c,end:d}=l;d=vc(c,d,n);const u=zu(t,n[c],n[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:n[c],end:n[d]});continue}const h=hv(e,u);for(const p of h){const f=zu(t,i[p.start],i[p.end],p.loop),y=uv(l,n,f);for(const x of y)o.push({source:x,target:p,start:{[t]:j0(u,f,"start",Math.max)},end:{[t]:j0(u,f,"end",Math.min)}})}}return o}function zu(s,e,t,a){if(a)return;let n=e[s],i=t[s];return s==="angle"&&(n=Qt(n),i=Qt(i)),{property:s,start:n,end:i}}function OM(s,e){const{x:t=null,y:a=null}=s||{},n=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=vc(o,l,n);const c=n[o],d=n[l];a!==null?(i.push({x:c.x,y:a}),i.push({x:d.x,y:a})):t!==null&&(i.push({x:t,y:c.y}),i.push({x:t,y:d.y}))}),i}function vc(s,e,t){for(;e>s;e--){const a=t[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function j0(s,e,t,a){return s&&e?a(s[t],e[t]):s?s[t]:e?e[t]:0}function Tv(s,e){let t=[],a=!1;return mt(s)?(a=!0,t=s):t=OM(s,e),t.length?new Qr({points:t,options:{tension:0},_loop:a,_fullLoop:a}):null}function N0(s){return s&&s.fill!==!1}function LM(s,e,t){let n=s[e].fill;const i=[e];let o;if(!t)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Lt(n))return n;if(o=s[n],!o)return!1;if(o.visible)return n;i.push(n),n=o.fill}return!1}function RM(s,e,t){const a=DM(s);if(Ce(a))return isNaN(a.value)?!1:a;let n=parseFloat(a);return Lt(n)&&Math.floor(n)===n?IM(a[0],e,n,t):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function IM(s,e,t,a){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=a?!1:t}function MM(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:Ce(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function $M(s,e,t){let a;return s==="start"?a=t:s==="end"?a=e.options.reverse?e.min:e.max:Ce(s)?a=s.value:a=e.getBaseValue(),a}function DM(s){const e=s.options,t=e.fill;let a=ke(t&&t.target,t);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function FM(s){const{scale:e,index:t,line:a}=s,n=[],i=a.segments,o=a.points,l=BM(e,t);l.push(Tv({x:null,y:e.bottom},a));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)VM(n,o[u],l)}return new Qr({points:n,options:{}})}function BM(s,e){const t=[],a=s.getMatchingVisibleMetas("line");for(let n=0;n<a.length;n++){const i=a[n];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function VM(s,e,t){const a=[];for(let n=0;n<t.length;n++){const i=t[n],{first:o,last:l,point:c}=UM(i,e,"x");if(!(!c||o&&l)){if(o)a.unshift(c);else if(s.push(c),!l)break}}s.push(...a)}function UM(s,e,t){const a=s.interpolate(e,t);if(!a)return{};const n=a[t],i=s.segments,o=s.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][t],p=o[u.end][t];if(Kr(n,h,p)){l=n===h,c=n===p;break}}return{first:l,last:c,point:a}}class Pv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,a){const{x:n,y:i,radius:o}=this;return t=t||{start:0,end:at},e.arc(n,i,o,t.end,t.start,!0),!a.bounds}interpolate(e){const{x:t,y:a,radius:n}=this,i=e.angle;return{x:t+Math.cos(i)*n,y:a+Math.sin(i)*n,angle:i}}}function WM(s){const{chart:e,fill:t,line:a}=s;if(Lt(t))return zM(e,t);if(t==="stack")return FM(s);if(t==="shape")return!0;const n=HM(s);return n instanceof Pv?n:Tv(n,a)}function zM(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function HM(s){return(s.scale||{}).getPointPositionForValue?GM(s):qM(s)}function qM(s){const{scale:e={},fill:t}=s,a=MM(t,e);if(Lt(a)){const n=e.isHorizontal();return{x:n?a:null,y:n?null:a}}return null}function GM(s){const{scale:e,fill:t}=s,a=e.options,n=e.getLabels().length,i=a.reverse?e.max:e.min,o=$M(t,e,i),l=[];if(a.grid.circular){const c=e.getPointPositionForValue(0,i);return new Pv({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<n;++c)l.push(e.getPointPositionForValue(c,o));return l}function wd(s,e,t){const a=WM(e),{chart:n,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:p=h,below:f=h}=u||{},y=n.getDatasetMeta(i),x=mv(n,y);a&&o.points.length&&(gc(s,t),YM(s,{line:o,target:a,above:p,below:f,area:t,scale:l,axis:c,clip:x}),xc(s))}function YM(s,e){const{line:t,target:a,above:n,below:i,area:o,scale:l,clip:c}=e,d=t._loop?"angle":e.axis;s.save();let u=i;i!==n&&(d==="x"?(k0(s,a,o.top),jd(s,{line:t,target:a,color:n,scale:l,property:d,clip:c}),s.restore(),s.save(),k0(s,a,o.bottom)):d==="y"&&(_0(s,a,o.left),jd(s,{line:t,target:a,color:i,scale:l,property:d,clip:c}),s.restore(),s.save(),_0(s,a,o.right),u=n)),jd(s,{line:t,target:a,color:u,scale:l,property:d,clip:c}),s.restore()}function k0(s,e,t){const{segments:a,points:n}=e;let i=!0,o=!1;s.beginPath();for(const l of a){const{start:c,end:d}=l,u=n[c],h=n[vc(c,d,n)];i?(s.moveTo(u.x,u.y),i=!1):(s.lineTo(u.x,t),s.lineTo(u.x,u.y)),o=!!e.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(h.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function _0(s,e,t){const{segments:a,points:n}=e;let i=!0,o=!1;s.beginPath();for(const l of a){const{start:c,end:d}=l,u=n[c],h=n[vc(c,d,n)];i?(s.moveTo(u.x,u.y),i=!1):(s.lineTo(t,u.y),s.lineTo(u.x,u.y)),o=!!e.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(t,h.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function jd(s,e){const{line:t,target:a,property:n,color:i,scale:o,clip:l}=e,c=AM(t,a,n);for(const{source:d,target:u,start:h,end:p}of c){const{style:{backgroundColor:f=i}={}}=d,y=a!==!0;s.save(),s.fillStyle=f,KM(s,o,l,y&&zu(n,h,p)),s.beginPath();const x=!!t.pathSegment(s,d);let g;if(y){x?s.closePath():S0(s,a,p,n);const v=!!a.pathSegment(s,u,{move:x,reverse:!0});g=x&&v,g||S0(s,a,h,n)}s.closePath(),s.fill(g?"evenodd":"nonzero"),s.restore()}}function KM(s,e,t,a){const n=e.chart.chartArea,{property:i,start:o,end:l}=a||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=n.top,u=l,h=n.bottom):(c=n.left,d=o,u=n.right,h=l),s.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),d=Math.max(d,t.top),h=Math.min(h,t.bottom)),s.rect(c,d,u-c,h-d),s.clip()}}function S0(s,e,t,a){const n=e.interpolate(t,a);n&&s.lineTo(n.x,n.y)}var Av={id:"filler",afterDatasetsUpdate(s,e,t){const a=(s.data.datasets||[]).length,n=[];let i,o,l,c;for(o=0;o<a;++o)i=s.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Qr&&(c={visible:s.isDatasetVisible(o),index:o,fill:RM(l,o,a),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,n.push(c);for(o=0;o<a;++o)c=n[o],!(!c||c.fill===!1)&&(c.fill=LM(n,o,t.propagate))},beforeDraw(s,e,t){const a=t.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let o=n.length-1;o>=0;--o){const l=n[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),a&&l.fill&&wd(s.ctx,l,i))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const a=s.getSortedVisibleDatasetMetas();for(let n=a.length-1;n>=0;--n){const i=a[n].$filler;N0(i)&&wd(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,e,t){const a=e.meta.$filler;!N0(a)||t.drawTime!=="beforeDatasetDraw"||wd(s.ctx,a,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const C0=(s,e)=>{let{boxHeight:t=e,boxWidth:a=e}=s;return s.usePointStyle&&(t=Math.min(t,e),a=s.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:t,itemHeight:Math.max(e,t)}},QM=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class E0 extends ts{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(a=>e.filter(a,this.chart.data))),e.sort&&(t=t.sort((a,n)=>e.sort(a,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,n=Pt(a.font),i=n.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=C0(a,i);let d,u;t.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,n,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,n){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+l;let h=e;i.textAlign="left",i.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((y,x)=>{const g=a+t/2+i.measureText(y.text).width;(x===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(x>0?0:1)]=0,f+=u,p++),c[x]={left:0,top:f,row:p,width:g,height:n},d[d.length-1]+=g+l}),h}_fitCols(e,t,a,n){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,p=0,f=0,y=0,x=0;return this.legendItems.forEach((g,v)=>{const{itemWidth:b,itemHeight:k}=ZM(a,t,i,g,n);v>0&&f+k+2*l>u&&(h+=p+l,d.push({width:p,height:f}),y+=p+l,x++,p=f=0),c[v]={left:y,top:f,col:x,width:b,height:k},p=Math.max(p,b),f+=k+l}),h+=p,d.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:n},rtl:i}}=this,o=Ha(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Et(a,this.left+n,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=Et(a,this.left+n,this.right-this.lineWidths[l])),d.top+=this.top+e+n,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+n}else{let l=0,c=Et(a,this.top+e+n,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=Et(a,this.top+e+n,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+n,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gc(e,this),this._draw(),xc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:n}=this,{align:i,labels:o}=e,l=ct.color,c=Ha(e.rtl,this.left,this.width),d=Pt(o.font),{padding:u}=o,h=d.size,p=h/2;let f;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:y,boxHeight:x,itemHeight:g}=C0(o,h),v=function(j,_,S){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;n.save();const C=ke(S.lineWidth,1);if(n.fillStyle=ke(S.fillStyle,l),n.lineCap=ke(S.lineCap,"butt"),n.lineDashOffset=ke(S.lineDashOffset,0),n.lineJoin=ke(S.lineJoin,"miter"),n.lineWidth=C,n.strokeStyle=ke(S.strokeStyle,l),n.setLineDash(ke(S.lineDash,[])),o.usePointStyle){const I={radius:x*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:C},P=c.xPlus(j,y/2),A=_+p;tv(n,I,P,A,o.pointStyleWidth&&y)}else{const I=_+Math.max((h-x)/2,0),P=c.leftForLtr(j,y),A=za(S.borderRadius);n.beginPath(),Object.values(A).some(L=>L!==0)?Tl(n,{x:P,y:I,w:y,h:x,radius:A}):n.rect(P,I,y,x),n.fill(),C!==0&&n.stroke()}n.restore()},b=function(j,_,S){_i(n,S.text,j,_+g/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},k=this.isHorizontal(),w=this._computeTitleHeight();k?f={x:Et(i,this.left+u,this.right-a[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Et(i,this.top+w+u,this.bottom-t[0].height),line:0},lv(this.ctx,e.textDirection);const N=g+u;this.legendItems.forEach((j,_)=>{n.strokeStyle=j.fontColor,n.fillStyle=j.fontColor;const S=n.measureText(j.text).width,C=c.textAlign(j.textAlign||(j.textAlign=o.textAlign)),I=y+p+S;let P=f.x,A=f.y;c.setWidth(this.width),k?_>0&&P+I+u>this.right&&(A=f.y+=N,f.line++,P=f.x=Et(i,this.left+u,this.right-a[f.line])):_>0&&A+N>this.bottom&&(P=f.x=P+t[f.line].width+u,f.line++,A=f.y=Et(i,this.top+w+u,this.bottom-t[f.line].height));const L=c.x(P);if(v(L,A,j),P=EL(C,P+y+p,k?P+I:this.right,e.rtl),b(c.x(P),A,j),k)f.x+=I+u;else if(typeof j.text!="string"){const O=d.lineHeight;f.y+=Ov(j,O)+u}else f.y+=N}),cv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=Pt(t.font),n=lr(t.padding);if(!t.display)return;const i=Ha(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=a.size/2,d=n.top+c;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+d,h=Et(e.align,h,this.right-p);else{const y=this.columnSizes.reduce((x,g)=>Math.max(x,g.height),0);u=d+Et(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const f=Et(l,h,h+p);o.textAlign=i.textAlign(Jh(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=a.string,_i(o,t.text,f,u,a)}_computeTitleHeight(){const e=this.options.title,t=Pt(e.font),a=lr(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,n,i;if(Kr(e,this.left,this.right)&&Kr(t,this.top,this.bottom)){for(i=this.legendHitBoxes,a=0;a<i.length;++a)if(n=i[a],Kr(e,n.left,n.left+n.width)&&Kr(t,n.top,n.top+n.height))return this.legendItems[a]}return null}handleEvent(e){const t=this.options;if(!e8(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,i=QM(n,a);n&&!i&&Je(t.onLeave,[e,n,this],this),this._hoveredItem=a,a&&!i&&Je(t.onHover,[e,a,this],this)}else a&&Je(t.onClick,[e,a,this],this)}}function ZM(s,e,t,a,n){const i=JM(a,s,e,t),o=XM(n,a,e.lineHeight);return{itemWidth:i,itemHeight:o}}function JM(s,e,t,a){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((i,o)=>i.length>o.length?i:o)),e+t.size/2+a.measureText(n).width}function XM(s,e,t){let a=s;return typeof e.text!="string"&&(a=Ov(e,t)),a}function Ov(s,e){const t=s.text?s.text.length:0;return e*t}function e8(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var Lv={id:"legend",_element:E0,start(s,e,t){const a=s.legend=new E0({ctx:s.ctx,options:t,chart:s});nr.configure(s,a,t),nr.addBox(s,a)},stop(s){nr.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const a=s.legend;nr.configure(s,a,t),a.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const a=e.datasetIndex,n=t.chart;n.isDatasetVisible(a)?(n.hide(a),e.hidden=!0):(n.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:a,textAlign:n,color:i,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),u=lr(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:a||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Rv extends ts{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=mt(a.text)?a.text.length:1;this._padding=lr(a.padding);const i=n*Pt(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:a,bottom:n,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Et(l,a,i),h=t+e,d=i-a):(o.position==="left"?(u=a+e,h=Et(l,n,t),c=Ue*-.5):(u=i-e,h=Et(l,t,n),c=Ue*.5),d=n-t),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=Pt(t.font),i=a.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);_i(e,t.text,0,0,a,{color:t.color,maxWidth:c,rotation:d,textAlign:Jh(t.align),textBaseline:"middle",translation:[o,l]})}}function t8(s,e){const t=new Rv({ctx:s.ctx,options:e,chart:s});nr.configure(s,t,e),nr.addBox(s,t),s.titleBlock=t}var Iv={id:"title",_element:Rv,start(s,e,t){t8(s,t)},stop(s){const e=s.titleBlock;nr.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const a=s.titleBlock;nr.configure(s,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qn={average(s){if(!s.length)return!1;let e,t,a=new Set,n=0,i=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();a.add(c.x),n+=c.y,++i}}return i===0||a.size===0?!1:{x:[...a].reduce((l,c)=>l+c)/a.size,y:n/i}},nearest(s,e){if(!s.length)return!1;let t=e.x,a=e.y,n=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=s.length;i<o;++i){const c=s[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Du(e,d);u<n&&(n=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,a=c.y}return{x:t,y:a}}};function yr(s,e){return e&&(mt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Hr(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function r8(s,e){const{element:t,datasetIndex:a,index:n}=e,i=s.getDatasetMeta(a).controller,{label:o,value:l}=i.getLabelAndValue(n);return{chart:s,label:o,parsed:i.getParsed(n),raw:s.data.datasets[a].data[n],formattedValue:l,dataset:i.getDataset(),dataIndex:n,datasetIndex:a,element:t}}function T0(s,e){const t=s.chart.ctx,{body:a,footer:n,title:i}=s,{boxWidth:o,boxHeight:l}=e,c=Pt(e.bodyFont),d=Pt(e.titleFont),u=Pt(e.footerFont),h=i.length,p=n.length,f=a.length,y=lr(e.padding);let x=y.height,g=0,v=a.reduce((w,N)=>w+N.before.length+N.lines.length+N.after.length,0);if(v+=s.beforeBody.length+s.afterBody.length,h&&(x+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const w=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=f*w+(v-f)*c.lineHeight+(v-1)*e.bodySpacing}p&&(x+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let b=0;const k=function(w){g=Math.max(g,t.measureText(w).width+b)};return t.save(),t.font=d.string,Ve(s.title,k),t.font=c.string,Ve(s.beforeBody.concat(s.afterBody),k),b=e.displayColors?o+2+e.boxPadding:0,Ve(a,w=>{Ve(w.before,k),Ve(w.lines,k),Ve(w.after,k)}),b=0,t.font=u.string,Ve(s.footer,k),t.restore(),g+=y.width,{width:g,height:x}}function s8(s,e){const{y:t,height:a}=e;return t<a/2?"top":t>s.height-a/2?"bottom":"center"}function a8(s,e,t,a){const{x:n,width:i}=a,o=t.caretSize+t.caretPadding;if(s==="left"&&n+i+o>e.width||s==="right"&&n-i-o<0)return!0}function n8(s,e,t,a){const{x:n,width:i}=t,{width:o,chartArea:{left:l,right:c}}=s;let d="center";return a==="center"?d=n<=(l+c)/2?"left":"right":n<=i/2?d="left":n>=o-i/2&&(d="right"),a8(d,s,e,t)&&(d="center"),d}function P0(s,e,t){const a=t.yAlign||e.yAlign||s8(s,t);return{xAlign:t.xAlign||e.xAlign||n8(s,e,t,a),yAlign:a}}function i8(s,e){let{x:t,width:a}=s;return e==="right"?t-=a:e==="center"&&(t-=a/2),t}function o8(s,e,t){let{y:a,height:n}=s;return e==="top"?a+=t:e==="bottom"?a-=n+t:a-=n/2,a}function A0(s,e,t,a){const{caretSize:n,caretPadding:i,cornerRadius:o}=s,{xAlign:l,yAlign:c}=t,d=n+i,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=za(o);let y=i8(e,l);const x=o8(e,c,d);return c==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(u,p)+n:l==="right"&&(y+=Math.max(h,f)+n),{x:Tt(y,0,a.width-e.width),y:Tt(x,0,a.height-e.height)}}function bo(s,e,t){const a=lr(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-a.right:s.x+a.left}function O0(s){return yr([],Hr(s))}function l8(s,e,t){return ya(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function L0(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Mv={beforeTitle:Vr,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,a=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return t[e.dataIndex]}return""},afterTitle:Vr,beforeBody:Vr,beforeLabel:Vr,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return $e(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Vr,afterBody:Vr,beforeFooter:Vr,footer:Vr,afterFooter:Vr};function Ut(s,e,t,a){const n=s[e].call(t,a);return typeof n>"u"?Mv[e].call(t,a):n}class Hu extends ts{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),n=a.enabled&&t.options.animation&&a.animations,i=new pv(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=l8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:a}=t,n=Ut(a,"beforeTitle",this,e),i=Ut(a,"title",this,e),o=Ut(a,"afterTitle",this,e);let l=[];return l=yr(l,Hr(n)),l=yr(l,Hr(i)),l=yr(l,Hr(o)),l}getBeforeBody(e,t){return O0(Ut(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:a}=t,n=[];return Ve(e,i=>{const o={before:[],lines:[],after:[]},l=L0(a,i);yr(o.before,Hr(Ut(l,"beforeLabel",this,i))),yr(o.lines,Ut(l,"label",this,i)),yr(o.after,Hr(Ut(l,"afterLabel",this,i))),n.push(o)}),n}getAfterBody(e,t){return O0(Ut(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:a}=t,n=Ut(a,"beforeFooter",this,e),i=Ut(a,"footer",this,e),o=Ut(a,"afterFooter",this,e);let l=[];return l=yr(l,Hr(n)),l=yr(l,Hr(i)),l=yr(l,Hr(o)),l}_createItems(e){const t=this._active,a=this.chart.data,n=[],i=[],o=[];let l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(r8(this.chart,t[c]));return e.filter&&(l=l.filter((u,h,p)=>e.filter(u,h,p,a))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,a))),Ve(l,u=>{const h=L0(e.callbacks,u);n.push(Ut(h,"labelColor",this,u)),i.push(Ut(h,"labelPointStyle",this,u)),o.push(Ut(h,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const a=this.options.setContext(this.getContext()),n=this._active;let i,o=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const l=qn[a.position].call(this,n,this._eventPosition);o=this._createItems(a),this.title=this.getTitle(o,a),this.beforeBody=this.getBeforeBody(o,a),this.body=this.getBody(o,a),this.afterBody=this.getAfterBody(o,a),this.footer=this.getFooter(o,a);const c=this._size=T0(this,a),d=Object.assign({},l,c),u=P0(this.chart,a,d),h=A0(a,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,n){const i=this.getCaretPosition(e,a,n);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,a){const{xAlign:n,yAlign:i}=this,{caretSize:o,cornerRadius:l}=a,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=za(l),{x:p,y:f}=e,{width:y,height:x}=t;let g,v,b,k,w,N;return i==="center"?(w=f+x/2,n==="left"?(g=p,v=g-o,k=w+o,N=w-o):(g=p+y,v=g+o,k=w-o,N=w+o),b=g):(n==="left"?v=p+Math.max(c,u)+o:n==="right"?v=p+y-Math.max(d,h)-o:v=this.caretX,i==="top"?(k=f,w=k-o,g=v-o,b=v+o):(k=f+x,w=k+o,g=v+o,b=v-o),N=k),{x1:g,x2:v,x3:b,y1:k,y2:w,y3:N}}drawTitle(e,t,a){const n=this.title,i=n.length;let o,l,c;if(i){const d=Ha(a.rtl,this.x,this.width);for(e.x=bo(this,a.titleAlign,a),t.textAlign=d.textAlign(a.titleAlign),t.textBaseline="middle",o=Pt(a.titleFont),l=a.titleSpacing,t.fillStyle=a.titleColor,t.font=o.string,c=0;c<i;++c)t.fillText(n[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=a.titleMarginBottom-l)}}_drawColorBox(e,t,a,n,i){const o=this.labelColors[a],l=this.labelPointStyles[a],{boxHeight:c,boxWidth:d}=i,u=Pt(i.bodyFont),h=bo(this,"left",i),p=n.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,y=t.y+f;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=n.leftForLtr(p,d)+d/2,v=y+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Bu(e,x,g,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Bu(e,x,g,v)}else{e.lineWidth=Ce(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=n.leftForLtr(p,d),g=n.leftForLtr(n.xPlus(p,1),d-2),v=za(o.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Tl(e,{x,y,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tl(e,{x:g,y:y+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,y,d,c),e.strokeRect(x,y,d,c),e.fillStyle=o.backgroundColor,e.fillRect(g,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:n}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=a,h=Pt(a.bodyFont);let p=h.lineHeight,f=0;const y=Ha(a.rtl,this.x,this.width),x=function(S){t.fillText(S,y.x(e.x+f),e.y+p/2),e.y+=p+i},g=y.textAlign(o);let v,b,k,w,N,j,_;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=bo(this,g,a),t.fillStyle=a.bodyColor,Ve(this.beforeBody,x),f=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,w=0,j=n.length;w<j;++w){for(v=n[w],b=this.labelTextColors[w],t.fillStyle=b,Ve(v.before,x),k=v.lines,l&&k.length&&(this._drawColorBox(t,e,w,y,a),p=Math.max(h.lineHeight,c)),N=0,_=k.length;N<_;++N)x(k[N]),p=h.lineHeight;Ve(v.after,x)}f=0,p=h.lineHeight,Ve(this.afterBody,x),e.y-=i}drawFooter(e,t,a){const n=this.footer,i=n.length;let o,l;if(i){const c=Ha(a.rtl,this.x,this.width);for(e.x=bo(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=c.textAlign(a.footerAlign),t.textBaseline="middle",o=Pt(a.footerFont),t.fillStyle=a.footerColor,t.font=o.string,l=0;l<i;++l)t.fillText(n[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a.footerSpacing}}drawBackground(e,t,a,n){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=a,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:y}=za(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(l+h,c),o==="top"&&this.drawCaret(e,t,a,n),t.lineTo(l+d-p,c),t.quadraticCurveTo(l+d,c,l+d,c+p),o==="center"&&i==="right"&&this.drawCaret(e,t,a,n),t.lineTo(l+d,c+u-y),t.quadraticCurveTo(l+d,c+u,l+d-y,c+u),o==="bottom"&&this.drawCaret(e,t,a,n),t.lineTo(l+f,c+u),t.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,t,a,n),t.lineTo(l,c+h),t.quadraticCurveTo(l,c,l+h,c),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,n=a&&a.x,i=a&&a.y;if(n||i){const o=qn[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=T0(this,e),c=Object.assign({},o,this._size),d=P0(t,e,c),u=A0(e,c,d,t);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const o=lr(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=a,this.drawBackground(i,e,n,t),lv(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),cv(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,n=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Sl(a,n),o=this._positionChanged(n,t);(i||o)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,a),l=this._positionChanged(o,e),c=t||!Sl(o,i)||l;return c&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,a,n){const i=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,a);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:a,caretY:n,options:i}=this,o=qn[i.position].call(this,e,t);return o!==!1&&(a!==o.x||n!==o.y)}}se(Hu,"positioners",qn);var $v={id:"tooltip",_element:Hu,positioners:qn,afterInit(s,e,t){t&&(s.tooltip=new Hu({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const c8=(s,e,t,a)=>(typeof e=="string"?(t=s.push(e)-1,a.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function d8(s,e,t,a){const n=s.indexOf(e);if(n===-1)return c8(s,e,t,a);const i=s.lastIndexOf(e);return n!==i?t:n}const u8=(s,e)=>s===null?null:Tt(Math.round(s),0,e);function R0(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class Ll extends un{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const a=this.getLabels();for(const{index:n,label:i}of t)a[n]===i&&a.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if($e(e))return null;const a=this.getLabels();return t=isFinite(t)&&a[t]===e?t:d8(a,e,ke(t,e),this._addedLabels),u8(t,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),t||(n=this.getLabels().length-1)),this.min=a,this.max=n}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,n=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let o=e;o<=t;o++)n.push({value:o});return n}getLabelForValue(e){return R0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}se(Ll,"id","category"),se(Ll,"defaults",{ticks:{callback:R0}});function h8(s,e){const t=[],{bounds:n,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:p}=s,f=i||1,y=u-1,{min:x,max:g}=e,v=!$e(o),b=!$e(l),k=!$e(d),w=(g-x)/(h+1);let N=Af((g-x)/y/f)*f,j,_,S,C;if(N<1e-14&&!v&&!b)return[{value:x},{value:g}];C=Math.ceil(g/N)-Math.floor(x/N),C>y&&(N=Af(C*N/y/f)*f),$e(c)||(j=Math.pow(10,c),N=Math.ceil(N*j)/j),n==="ticks"?(_=Math.floor(x/N)*N,S=Math.ceil(g/N)*N):(_=x,S=g),v&&b&&i&&bL((l-o)/i,N/1e3)?(C=Math.round(Math.min((l-o)/N,u)),N=(l-o)/C,_=o,S=l):k?(_=v?o:_,S=b?l:S,C=d-1,N=(S-_)/C):(C=(S-_)/N,si(C,Math.round(C),N/1e3)?C=Math.round(C):C=Math.ceil(C));const I=Math.max(Of(N),Of(_));j=Math.pow(10,$e(c)?I:c),_=Math.round(_*j)/j,S=Math.round(S*j)/j;let P=0;for(v&&(p&&_!==o?(t.push({value:o}),_<o&&P++,si(Math.round((_+P*N)*j)/j,o,I0(o,w,s))&&P++):_<o&&P++);P<C;++P){const A=Math.round((_+P*N)*j)/j;if(b&&A>l)break;t.push({value:A})}return b&&p&&S!==l?t.length&&si(t[t.length-1].value,l,I0(l,w,s))?t[t.length-1].value=l:t.push({value:l}):(!b||S===l)&&t.push({value:S}),t}function I0(s,e,{horizontal:t,minRotation:a}){const n=Yr(a),i=(t?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+s).length;return Math.min(e/i,o)}class m8 extends un{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:n,max:i}=this;const o=c=>n=t?n:c,l=c=>i=a?i:c;if(e){const c=Pr(n),d=Pr(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(n-c)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:a}=e,n;return a?(n=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const n={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,o=h8(n,i);return e.bounds==="ticks"&&vL(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const n=(a-t)/Math.max(e.length-1,1)/2;t-=n,a+=n}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return em(e,this.chart.options.locale,this.options.ticks.format)}}class Rl extends m8{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Lt(e)?e:0,this.max=Lt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=Yr(this.options.ticks.minRotation),n=(e?Math.sin(a):Math.cos(a))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}se(Rl,"id","linear"),se(Rl,"defaults",{ticks:{callback:ev.formatters.numeric}});const wc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qt=Object.keys(wc);function M0(s,e){return s-e}function $0(s,e){if($e(e))return null;const t=s._adapter,{parser:a,round:n,isoWeekday:i}=s._parseOpts;let o=e;return typeof a=="function"&&(o=a(o)),Lt(o)||(o=typeof a=="string"?t.parse(o,a):t.parse(o)),o===null?null:(n&&(o=n==="week"&&(ji(i)||i===!0)?t.startOf(o,"isoWeek",i):t.startOf(o,n)),+o)}function D0(s,e,t,a){const n=qt.length;for(let i=qt.indexOf(s);i<n-1;++i){const o=wc[qt[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=a)return qt[i]}return qt[n-1]}function p8(s,e,t,a,n){for(let i=qt.length-1;i>=qt.indexOf(t);i--){const o=qt[i];if(wc[o].common&&s._adapter.diff(n,a,o)>=e-1)return o}return qt[t?qt.indexOf(t):0]}function f8(s){for(let e=qt.indexOf(s)+1,t=qt.length;e<t;++e)if(wc[qt[e]].common)return qt[e]}function F0(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:a,hi:n}=Zh(t,e),i=t[a]>=e?t[a]:t[n];s[i]=!0}}function g8(s,e,t,a){const n=s._adapter,i=+n.startOf(e[0].value,a),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+n.add(l,1,a))c=t[l],c>=0&&(e[c].major=!0);return e}function B0(s,e,t){const a=[],n={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],n[l]=o,a.push({value:l,major:!1});return i===0||!t?a:g8(s,a,n,t)}class Il extends un{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const a=e.time||(e.time={}),n=this._adapter=new rI._date(e.adapters.date);n.init(t),ri(a.displayFormats,n.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:$0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,a=e.time.unit||"day";let{min:n,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=Lt(n)&&!isNaN(n)?n:+t.startOf(Date.now(),a),i=Lt(i)&&!isNaN(i)?i:+t.endOf(Date.now(),a)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],a=e[e.length-1]),{min:t,max:a}}buildTicks(){const e=this.options,t=e.time,a=e.ticks,n=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,o=this.max,l=_L(n,i,o);return this._unit=t.unit||(a.autoSkip?D0(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):p8(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:f8(this._unit),this.initOffsets(n),e.reverse&&l.reverse(),B0(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,a=0,n,i;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?a=i:a=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Tt(t,0,o),a=Tt(a,0,o),this._offsets={start:t,end:a,factor:1/(t+1+a)}}_generate(){const e=this._adapter,t=this.min,a=this.max,n=this.options,i=n.time,o=i.unit||D0(i.minUnit,t,a,this._getLabelCapacity(t)),l=ke(n.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=ji(c)||c===!0,u={};let h=t,p,f;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(a,t,o)>1e5*l)throw new Error(t+" and "+a+" are too far apart with stepSize of "+l+" "+o);const y=n.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<a;p=+e.add(p,l,o),f++)F0(u,p,y);return(p===a||n.bounds==="ticks"||f===1)&&F0(u,p,y),Object.keys(u).sort(M0).map(x=>+x)}getLabelForValue(e){const t=this._adapter,a=this.options.time;return a.tooltipFormat?t.format(e,a.tooltipFormat):t.format(e,a.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,o=t||n[i];return this._adapter.format(e,o)}_tickFormatFunction(e,t,a,n){const i=this.options,o=i.ticks.callback;if(o)return Je(o,[e,t,a],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],p=a[t],f=d&&h&&p&&p.major;return this._adapter.format(e,n||(f?h:u))}generateTickLabels(e){let t,a,n;for(t=0,a=e.length;t<a;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+a)*t.factor)}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,a=this.ctx.measureText(e).width,n=Yr(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(n),o=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:a*i+l*o,h:a*o+l*i}}_getLabelCapacity(e){const t=this.options.time,a=t.displayFormats,n=a[t.unit]||a.millisecond,i=this._tickFormatFunction(e,0,B0(this,[e],this._majorUnit),n),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,a;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,a=n.length;t<a;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,a;if(e.length)return e;const n=this.getLabels();for(t=0,a=n.length;t<a;++t)e.push($0(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Zb(e.sort(M0))}}se(Il,"id","time"),se(Il,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vo(s,e,t){let a=0,n=s.length-1,i,o,l,c;t?(e>=s[a].pos&&e<=s[n].pos&&({lo:a,hi:n}=Qs(s,"pos",e)),{pos:i,time:l}=s[a],{pos:o,time:c}=s[n]):(e>=s[a].time&&e<=s[n].time&&({lo:a,hi:n}=Qs(s,"time",e)),{time:i,pos:l}=s[a],{time:o,pos:c}=s[n]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class V0 extends Il{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vo(t,this.min),this._tableRange=vo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:a}=this,n=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=t&&d<=a&&n.push(d);if(n.length<2)return[{time:t,pos:0},{time:a,pos:1}];for(o=0,l=n.length;o<l;++o)u=n[o+1],c=n[o-1],d=n[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,t=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(t)||a.length===1)&&a.push(t),a.sort((n,i)=>n-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),a=this.getLabelTimestamps();return t.length&&a.length?e=this.normalize(t.concat(a)):e=t.length?t:a,e=this._cache.all=e,e}getDecimalForValue(e){return(vo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return vo(this._table,a*this._tableRange+this._minPos,!0)}}se(V0,"id","timeseries"),se(V0,"defaults",Il.defaults);const Dv="label";function U0(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function x8(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function Fv(s,e){s.labels=e}function Bv(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dv;const a=[];s.datasets=e.map(n=>{const i=s.datasets.find(o=>o[t]===n[t]);return!i||!n.data||a.includes(i)?{...n}:(a.push(i),Object.assign(i,n),i)})}function y8(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dv;const t={labels:[],datasets:[]};return Fv(t,s.labels),Bv(t,s.datasets,e),t}function b8(s,e){const{height:t=150,width:a=300,redraw:n=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...p}=s,f=m.useRef(null),y=m.useRef(null),x=()=>{f.current&&(y.current=new zi(f.current,{type:o,data:y8(l,i),options:c&&{...c},plugins:d}),U0(e,y.current))},g=()=>{U0(e,null),y.current&&(y.current.destroy(),y.current=null)};return m.useEffect(()=>{!n&&y.current&&c&&x8(y.current,c)},[n,c]),m.useEffect(()=>{!n&&y.current&&Fv(y.current.config.data,l.labels)},[n,l.labels]),m.useEffect(()=>{!n&&y.current&&l.datasets&&Bv(y.current.config.data,l.datasets,i)},[n,l.datasets]),m.useEffect(()=>{y.current&&(n?(g(),setTimeout(x)):y.current.update(h))},[n,c,l.labels,l.datasets,h]),m.useEffect(()=>{y.current&&(g(),setTimeout(x))},[o]),m.useEffect(()=>(x(),()=>g()),[]),Se.createElement("canvas",{ref:f,role:"img",height:t,width:a,...p},u)}const v8=m.forwardRef(b8);function lm(s,e){return zi.register(e),m.forwardRef((t,a)=>Se.createElement(v8,{...t,ref:a,type:s}))}const Vv=lm("line",Xo),w8=lm("bar",Jo),j8=lm("doughnut",Wn);zi.register(Ll,Rl,ii,Qr,rl,Iv,$v,Lv,Hn,Av);function N8(){const[s,e]=m.useState("month"),[t,a]=m.useState(null),[n,i]=m.useState(!0),[o,l]=m.useState("0");m.useEffect(()=>{c()},[s]);const c=async()=>{try{i(!0);const g=await me.get(`/api/dashboard/stylist/revenue?period=${s}`);if(g.data.success){a(g.data.data);const v=s==="week"?"week":s==="month"?"month":"year"}}catch(g){console.error("Error loading revenue data:",g),R.error("Error al cargar datos de ingresos")}finally{i(!1)}},u=parseFloat((()=>{if(!t||!o)return 0;const g=parseFloat(t.totalRevenue),v=parseFloat(o);return v===0?0:((g-v)/v*100).toFixed(1)})()),h={labels:(t==null?void 0:t.revenueByDay.map(g=>new Date(g.date).toLocaleDateString("es-MX",{month:"short",day:"numeric"})))||[],datasets:[{label:"Ingresos ($)",data:(t==null?void 0:t.revenueByDay.map(g=>parseFloat(g.revenue)))||[],borderColor:"rgb(255, 0, 128)",backgroundColor:"rgba(255, 0, 128, 0.1)",fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"rgb(255, 0, 128)",pointBorderColor:"#fff",pointBorderWidth:2}]},p={labels:(t==null?void 0:t.revenueByService.map(g=>g.serviceName))||[],datasets:[{label:"Ingresos por Servicio ($)",data:(t==null?void 0:t.revenueByService.map(g=>parseFloat(g.revenue)))||[],backgroundColor:["rgba(255, 0, 128, 0.8)","rgba(128, 0, 255, 0.8)","rgba(0, 245, 255, 0.8)","rgba(6, 255, 165, 0.8)","rgba(255, 190, 11, 0.8)","rgba(131, 56, 236, 0.8)"],borderRadius:8,borderWidth:0}]},f={labels:(t==null?void 0:t.revenueByService.map(g=>g.serviceName))||[],datasets:[{data:(t==null?void 0:t.revenueByService.map(g=>parseFloat(g.revenue)))||[],backgroundColor:["#ff0080","#8000ff","#00f5ff","#06ffa5","#ffbe0b","#8338ec"],borderWidth:0,hoverOffset:10}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Inter, sans-serif",size:12},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:13,weight:"bold"},bodyFont:{size:12},padding:12,cornerRadius:8,displayColors:!0}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:function(g){return"$"+g.toLocaleString()}}},x:{grid:{display:!1}}}},x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{font:{family:"Inter, sans-serif",size:12},padding:15,usePointStyle:!0,generateLabels:g=>{const v=g.data;return v.labels.length&&v.datasets.length?v.labels.map((b,k)=>{const w=v.datasets[0].data[k];return{text:`${b}: $${parseFloat(w).toLocaleString()}`,fillStyle:v.datasets[0].backgroundColor[k],hidden:!1,index:k}}):[]}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",callbacks:{label:function(g){const v=g.label||"",b=g.parsed||0,k=g.dataset.data.reduce((N,j)=>N+j,0),w=(b/k*100).toFixed(1);return`${v}: $${b.toLocaleString()} (${w}%)`}}}}};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:r.jsxs("div",{className:"container-responsive py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-2 flex items-center",children:[r.jsx(Le,{className:"h-8 w-8 mr-3 text-green-600"}),"Análisis de Ingresos"]}),r.jsx("p",{className:"text-gray-600",children:"Visualiza y analiza tus ganancias"})]})}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex items-center space-x-3 mb-8",children:[r.jsx("button",{onClick:()=>e("week"),className:`px-4 py-2 rounded-full font-medium transition-all ${s==="week"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg shadow-pink-500/50":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:"Semana"}),r.jsx("button",{onClick:()=>e("month"),className:`px-4 py-2 rounded-full font-medium transition-all ${s==="month"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg shadow-pink-500/50":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:"Mes"}),r.jsx("button",{onClick:()=>e("year"),className:`px-4 py-2 rounded-full font-medium transition-all ${s==="year"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg shadow-pink-500/50":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:"Año"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-pink-500 to-purple-600 p-6 text-white shadow-xl shadow-pink-500/30",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(Le,{className:"h-10 w-10 text-white/90"}),u!==0&&r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full ${u>0?"bg-green-500/30":"bg-red-500/30"}`,children:[u>0?r.jsx(di,{className:"h-4 w-4"}):r.jsx(DN,{className:"h-4 w-4"}),r.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(u),"%"]})]})]}),r.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Ingresos Totales"}),r.jsxs("p",{className:"text-4xl font-bold",children:["$",parseFloat((t==null?void 0:t.totalRevenue)||"0").toLocaleString()]}),r.jsxs("p",{className:"text-white/70 text-sm mt-2",children:[t==null?void 0:t.totalBookings," citas completadas"]})]})]}),r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-600 p-6 text-white shadow-xl shadow-blue-500/30",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative",children:[r.jsx(ve,{className:"h-10 w-10 text-white/90 mb-4"}),r.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Ingresos Pendientes"}),r.jsxs("p",{className:"text-4xl font-bold",children:["$",parseFloat((t==null?void 0:t.pendingRevenue)||"0").toLocaleString()]}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"Citas confirmadas"})]})]}),r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 p-6 text-white shadow-xl shadow-green-500/30",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative",children:[r.jsx(vt,{className:"h-10 w-10 text-white/90 mb-4"}),r.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Promedio por Cita"}),r.jsxs("p",{className:"text-4xl font-bold",children:["$",t&&t.totalBookings>0?(parseFloat(t.totalRevenue)/t.totalBookings).toFixed(0):"0"]}),r.jsx("p",{className:"text-white/70 text-sm mt-2",children:"Ingreso medio"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Ingresos por Día"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Tendencia de ingresos en el período"})]}),r.jsx("div",{className:"card-body",children:r.jsx("div",{style:{height:"300px"},children:r.jsx(Vv,{data:h,options:y})})})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Distribución por Servicio"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Porcentaje de ingresos por servicio"})]}),r.jsx("div",{className:"card-body",children:r.jsx("div",{style:{height:"300px"},children:r.jsx(j8,{data:f,options:x})})})]})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Ingresos por Servicio"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comparación de servicios más rentables"})]}),r.jsx("div",{className:"card-body",children:r.jsx("div",{style:{height:"400px"},children:r.jsx(w8,{data:p,options:y})})})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"card mt-8",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Detalles por Servicio"})}),r.jsx("div",{className:"card-body overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Servicio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Citas"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingresos"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Promedio"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t==null?void 0:t.revenueByService.map((g,v)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:f.datasets[0].backgroundColor[v]}}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.serviceName})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[g.bookingCount," citas"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:["$",parseFloat(g.revenue).toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:["$",(parseFloat(g.revenue)/g.bookingCount).toFixed(0)]})]},v))})]})})]})]})})}zi.register(Ll,Rl,ii,Qr,Iv,$v,Lv,Av);const k8=()=>{const[s,e]=m.useState(null),[t,a]=m.useState(!0),[n,i]=m.useState("month");m.useEffect(()=>{o()},[n]);const o=async()=>{try{a(!0);const p=localStorage.getItem("beautycita-auth-token"),f=await fetch("/api/dashboard/reminder-stats",{headers:{Authorization:`Bearer ${p}`}});if(f.ok){const y=await f.json();e(y.data)}}catch(p){console.error("Error fetching reminder stats:",p)}finally{a(!1)}},c=s!=null&&s.stats?s.stats.reduce((p,f)=>({total:p.total+Number(f.total_scheduled),sent:p.sent+Number(f.sent),pending:p.pending+Number(f.pending),failed:p.failed+Number(f.failed),cancelled:p.cancelled+Number(f.cancelled)}),{total:0,sent:0,pending:0,failed:0,cancelled:0}):{total:0,sent:0,pending:0,failed:0,cancelled:0},d=c.total>0?(c.sent/c.total*100).toFixed(1):"0",u={labels:(s==null?void 0:s.stats.map(p=>new Date(p.date).toLocaleDateString("es-MX",{month:"short",day:"numeric"})).reverse())||[],datasets:[{label:"Enviados",data:(s==null?void 0:s.stats.map(p=>p.sent).reverse())||[],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Pendientes",data:(s==null?void 0:s.stats.map(p=>p.pending).reverse())||[],borderColor:"rgb(234, 179, 8)",backgroundColor:"rgba(234, 179, 8, 0.1)",fill:!0,tension:.4},{label:"Fallidos",data:(s==null?void 0:s.stats.map(p=>p.failed).reverse())||[],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},h={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-pink-500"})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"📱 Estadísticas de Recordatorios SMS"}),r.jsx("p",{className:"text-gray-600",children:"Monitorea el rendimiento de tus notificaciones automáticas"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx(YN,{className:"h-8 w-8 mb-2 opacity-80"}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:c.total}),r.jsx("div",{className:"text-sm opacity-90",children:"Total Programados"})]}),r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx(ie,{className:"h-8 w-8 mb-2 opacity-80"}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:c.sent}),r.jsx("div",{className:"text-sm opacity-90",children:"Enviados"})]}),r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx(ve,{className:"h-8 w-8 mb-2 opacity-80"}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:c.pending}),r.jsx("div",{className:"text-sm opacity-90",children:"Pendientes"})]}),r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx(rt,{className:"h-8 w-8 mb-2 opacity-80"}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:c.failed}),r.jsx("div",{className:"text-sm opacity-90",children:"Fallidos"})]}),r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx(vt,{className:"h-8 w-8 mb-2 opacity-80"}),r.jsxs("div",{className:"text-3xl font-bold mb-1",children:[d,"%"]}),r.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Éxito"})]})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Tendencia de Recordatorios"}),r.jsx(Vv,{data:u,options:h})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-lg p-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Desglose por Fecha"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Fecha"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Programados"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-green-600",children:"Enviados"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-yellow-600",children:"Pendientes"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-red-600",children:"Fallidos"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-purple-600",children:"Cancelados"})]})}),r.jsxs("tbody",{children:[s==null?void 0:s.stats.slice().reverse().map((p,f)=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:new Date(p.date).toLocaleDateString("es-MX",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),r.jsx("td",{className:"text-center py-3 px-4 font-semibold",children:p.total_scheduled}),r.jsx("td",{className:"text-center py-3 px-4 text-green-600 font-semibold",children:p.sent}),r.jsx("td",{className:"text-center py-3 px-4 text-yellow-600 font-semibold",children:p.pending}),r.jsx("td",{className:"text-center py-3 px-4 text-red-600 font-semibold",children:p.failed}),r.jsx("td",{className:"text-center py-3 px-4 text-purple-600 font-semibold",children:p.cancelled})]},f)),(!(s!=null&&s.stats)||s.stats.length===0)&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay datos de recordatorios para mostrar"})})]})]})})]})]})})},wo="https://beautycita.com",_8=["Haircut","Hair Coloring","Hair Styling","Nails","Makeup","Skincare","Waxing","Massage","Other"];function S8(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState({name:"",description:"",price:"",duration:"",category:"Other"});m.useEffect(()=>{u()},[]);const u=async()=>{var x,g;try{const v=localStorage.getItem("token"),b=await G.get(`${wo}/api/services/my-services`,{headers:{Authorization:`Bearer ${v}`}});e(b.data.data)}catch(v){console.error("Error fetching services:",v),R.error(((g=(x=v.response)==null?void 0:x.data)==null?void 0:g.message)||"Failed to load services")}finally{a(!1)}},h=async x=>{var g,v;x.preventDefault();try{const b=localStorage.getItem("token"),k={...c,price:parseFloat(c.price),duration:parseInt(c.duration)};o?(await G.patch(`${wo}/api/services/${o.id}`,k,{headers:{Authorization:`Bearer ${b}`}}),R.success("Service updated successfully!")):(await G.post(`${wo}/api/services`,k,{headers:{Authorization:`Bearer ${b}`}}),R.success("Service created successfully!")),u(),y()}catch(b){console.error("Error saving service:",b),R.error(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to save service")}},p=async x=>{var g,v;if(confirm(`Are you sure you want to delete "${x.name}"?`))try{const b=localStorage.getItem("token");await G.delete(`${wo}/api/services/${x.id}`,{headers:{Authorization:`Bearer ${b}`}}),R.success("Service deleted successfully!"),u()}catch(b){console.error("Error deleting service:",b),R.error(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to delete service")}},f=x=>{l(x),d({name:x.name,description:x.description,price:x.price.toString(),duration:x.duration.toString(),category:x.category}),i(!0)},y=()=>{i(!1),l(null),d({name:"",description:"",price:"",duration:"",category:"Other"})};return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Services"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage the services you offer to clients"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center gap-2",children:[r.jsx(or,{className:"w-5 h-5"}),"Add Service"]})]}),s.length===0?r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[r.jsx(K_,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No services yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start by adding your first service offering"}),r.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Add Your First Service"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-200",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.name}),x.is_active&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Active"})]}),r.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-700 text-sm rounded-full",children:x.category})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>f(x),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors",children:r.jsx(aa,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>p(x),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:r.jsx(Ts,{className:"w-5 h-5"})})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:x.description}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Le,{className:"w-5 h-5 text-green-600"}),r.jsxs("span",{className:"font-semibold",children:["$",x.price]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(ve,{className:"w-5 h-5 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:[x.duration," min"]})]})]})]},x.id))}),r.jsx(_e,{children:n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Service":"Add New Service"}),r.jsx("button",{onClick:y,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(De,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),r.jsx("input",{type:"text",required:!0,value:c.name,onChange:x=>d({...c,name:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Women's Haircut"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsx("select",{required:!0,value:c.category,onChange:x=>d({...c,category:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",children:_8.map(x=>r.jsx("option",{value:x,children:x},x))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:c.price,onChange:x=>d({...c,price:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"50.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),r.jsx("input",{type:"number",required:!0,min:"15",step:"15",value:c.duration,onChange:x=>d({...c,duration:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"60"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:x=>d({...c,description:x.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:outline-none resize-none",placeholder:"Describe what's included in this service..."})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:y,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-3xl hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:[r.jsx(ie,{className:"w-5 h-5"}),o?"Update Service":"Create Service"]})]})]})]})})})]})})}const An="https://beautycita.com",C8=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],E8={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};function T8(){const[s,e]=m.useState({}),[t,a]=m.useState([]),[n,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState({startDate:"",endDate:"",reason:""});m.useEffect(()=>{u()},[]);const u=async()=>{try{const x=localStorage.getItem("token"),[g,v]=await Promise.all([G.get(`${An}/api/schedule/working-hours`,{headers:{Authorization:`Bearer ${x}`}}),G.get(`${An}/api/schedule/time-off`,{headers:{Authorization:`Bearer ${x}`}})]);e(g.data.data),a(v.data.data)}catch(x){console.error("Error fetching schedule:",x),R.error("Failed to load schedule")}finally{i(!1)}},h=async()=>{try{l(!0);const x=localStorage.getItem("token");await G.put(`${An}/api/schedule/working-hours`,{workingHours:s},{headers:{Authorization:`Bearer ${x}`}}),R.success("Working hours updated successfully!")}catch(x){console.error("Error saving working hours:",x),R.error("Failed to update working hours")}finally{l(!1)}},p=async x=>{var g,v;if(x.preventDefault(),!c.startDate||!c.endDate){R.error("Please select start and end dates");return}try{const b=localStorage.getItem("token");await G.post(`${An}/api/schedule/time-off`,c,{headers:{Authorization:`Bearer ${b}`}}),R.success("Time-off added successfully!"),d({startDate:"",endDate:"",reason:""}),u()}catch(b){console.error("Error adding time-off:",b),R.error(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to add time-off")}},f=async x=>{if(confirm("Are you sure you want to delete this time-off period?"))try{const g=localStorage.getItem("token");await G.delete(`${An}/api/schedule/time-off/${x}`,{headers:{Authorization:`Bearer ${g}`}}),R.success("Time-off deleted successfully!"),u()}catch(g){console.error("Error deleting time-off:",g),R.error("Failed to delete time-off")}},y=(x,g,v)=>{e(b=>({...b,[x]:{...b[x],[g]:v}}))};return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Schedule & Availability"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your working hours and time-off"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ve,{className:"w-6 h-6 text-purple-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Working Hours"})]}),r.jsxs("button",{onClick:h,disabled:o,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(ie,{className:"w-5 h-5"}),o?"Saving...":"Save Hours"]})]}),r.jsx("div",{className:"space-y-4",children:C8.map(x=>{var g,v,b,k;return r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-3xl",children:[r.jsxs("div",{className:"flex items-center gap-3 w-40",children:[r.jsx("input",{type:"checkbox",checked:((g=s[x])==null?void 0:g.isOpen)||!1,onChange:w=>y(x,"isOpen",w.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),r.jsx("label",{className:"font-medium text-gray-900",children:E8[x]})]}),(v=s[x])!=null&&v.isOpen?r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("input",{type:"time",value:((b=s[x])==null?void 0:b.open)||"09:00",onChange:w=>y(x,"open",w.target.value),className:"px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:outline-none"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"time",value:((k=s[x])==null?void 0:k.close)||"17:00",onChange:w=>y(x,"close",w.target.value),className:"px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}):r.jsx("span",{className:"text-gray-400 italic",children:"Closed"})]},x)})})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Oe,{className:"w-6 h-6 text-purple-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Time Off"})]}),r.jsxs("form",{onSubmit:p,className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:c.startDate,onChange:x=>d({...c,startDate:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:c.endDate,onChange:x=>d({...c,endDate:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),r.jsx("input",{type:"text",value:c.reason,onChange:x=>d({...c,reason:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"Vacation, etc."})]}),r.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-3xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2",children:[r.jsx(or,{className:"w-5 h-5"}),"Add Time Off"]})]}),r.jsx("div",{className:"space-y-3",children:t.length===0?r.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No time-off scheduled"}):t.map(x=>r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-purple-50 rounded-3xl flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[new Date(x.start_date).toLocaleDateString()," - ",new Date(x.end_date).toLocaleDateString()]}),x.reason&&r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:x.reason})]}),r.jsx("button",{onClick:()=>f(x.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors",children:r.jsx(Ts,{className:"w-4 h-4"})})]},x.id))})]})})]})]})})}const P8="https://beautycita.com",W0={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-300",CONFIRMED:"bg-green-100 text-green-800 border-green-300",COMPLETED:"bg-blue-100 text-blue-800 border-blue-300",CANCELLED:"bg-red-100 text-red-800 border-red-300"},z0={PENDING:ve,CONFIRMED:ie,COMPLETED:ie,CANCELLED:rt};function A8(){const[s,e]=m.useState(new Date),[t,a]=m.useState([]),[n,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{c()},[s]);const c=async()=>{try{const b=localStorage.getItem("token"),k=s.getFullYear(),w=s.getMonth()+1,N=await G.get(`${P8}/api/bookings/month/${k}/${w}`,{headers:{Authorization:`Bearer ${b}`}});a(N.data.data||[])}catch(b){console.error("Error fetching bookings:",b),R.error("Failed to load bookings")}finally{i(!1)}},d=b=>{const k=b.getFullYear(),w=b.getMonth(),N=new Date(k,w,1),_=new Date(k,w+1,0).getDate(),S=N.getDay();return{daysInMonth:_,startingDayOfWeek:S}},u=b=>{const k=b.toISOString().split("T")[0];return t.filter(w=>w.appointment_date===k)},h=()=>{e(new Date(s.getFullYear(),s.getMonth()-1,1))},p=()=>{e(new Date(s.getFullYear(),s.getMonth()+1,1))},{daysInMonth:f,startingDayOfWeek:y}=d(s),x=s.toLocaleDateString("en-US",{month:"long",year:"numeric"}),g=()=>{const b=[],k=Math.ceil((f+y)/7)*7;for(let N=0;N<y;N++)b.push(r.jsx("div",{className:"h-32 bg-gray-50"},`empty-${N}`));for(let N=1;N<=f;N++){const j=new Date(s.getFullYear(),s.getMonth(),N),_=u(j),S=new Date().toDateString()===j.toDateString(),C=(o==null?void 0:o.toDateString())===j.toDateString();b.push(r.jsxs(E.div,{whileHover:{scale:1.02},onClick:()=>l(j),className:`h-32 border border-gray-200 p-2 cursor-pointer transition-all ${S?"bg-purple-50 border-purple-300":"bg-white hover:bg-gray-50"} ${C?"ring-2 ring-purple-500":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:`text-sm font-semibold ${S?"bg-purple-600 text-white px-2 py-1 rounded-full":"text-gray-700"}`,children:N}),_.length>0&&r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:_.length})]}),r.jsxs("div",{className:"space-y-1",children:[_.slice(0,2).map(I=>{const P=z0[I.status];return r.jsx("div",{className:`text-xs px-2 py-1 rounded border ${W0[I.status]} truncate`,children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(P,{className:"w-3 h-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:I.appointment_time.substring(0,5)})]})},I.id)}),_.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 px-2",children:["+",_.length-2," more"]})]})]},N))}const w=k-(f+y);for(let N=0;N<w;N++)b.push(r.jsx("div",{className:"h-32 bg-gray-50"},`empty-end-${N}`));return b},v=o?u(o):[];return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bookings Calendar"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage your appointments"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-4 flex justify-between items-center",children:[r.jsx("button",{onClick:h,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(Ql,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:"text-xl font-bold text-white",children:x}),r.jsx("button",{onClick:p,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(Sr,{className:"w-6 h-6 text-white"})})]}),r.jsx("div",{className:"grid grid-cols-7 bg-gray-100",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(b=>r.jsx("div",{className:"p-3 text-center text-sm font-semibold text-gray-700",children:b},b))}),r.jsx("div",{className:"grid grid-cols-7",children:g()})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?o.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"Select a date"}),v.length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"No bookings for this date"}):r.jsx("div",{className:"space-y-3",children:v.map(b=>{const k=z0[b.status];return r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-3xl p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium border ${W0[b.status]}`,children:[r.jsx(k,{className:"w-4 h-4 inline mr-1"}),b.status]}),r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",b.total_price]})]}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:b.service_name}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"w-4 h-4"}),r.jsx("span",{children:b.client_name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ve,{className:"w-4 h-4"}),r.jsxs("span",{children:[b.appointment_time.substring(0,5)," (",b.duration," min)"]})]})]})]},b.id)})})]})})]})]})})}function O8(){const{user:s}=we(),e=wt(),{t}=je(),[a,n]=m.useState(!1),[i,o]=m.useState(!0),[l,c]=m.useState(null),{register:d,handleSubmit:u,setValue:h,watch:p,formState:{errors:f,isSubmitting:y}}=cn();m.useEffect(()=>{const b=localStorage.getItem("darkMode")==="true";n(b),x()},[]);const x=async()=>{try{const b=localStorage.getItem("token"),w=(await G.get("/api/stylist/profile",{headers:{Authorization:`Bearer ${b}`}})).data;c(w),h("firstName",w.firstName||w.first_name||""),h("lastName",w.lastName||w.last_name||""),h("phone",w.phone||""),h("email",w.email||""),h("bio",w.bio||""),h("locationAddress",w.locationAddress||w.location_address||""),h("locationCity",w.locationCity||w.location_city||""),h("locationState",w.locationState||w.location_state||""),h("locationCountry",w.locationCountry||w.location_country||"Mexico"),h("locationLat",w.locationLat||w.location_lat||null),h("locationLng",w.locationLng||w.location_lng||null),h("instagramUrl",w.instagramUrl||w.instagram_url||""),h("facebookUrl",w.facebookUrl||w.facebook_url||""),h("tiktokUrl",w.tiktokUrl||w.tiktok_url||"")}catch(b){console.error("Error fetching stylist data:",b),R.error("Failed to load profile data")}finally{o(!1)}},g=b=>{h("locationAddress",b.address),h("locationCity",b.city),h("locationState",b.state),h("locationCountry",b.country),h("locationLat",b.lat),h("locationLng",b.lng)},v=async b=>{var k,w;try{const N=localStorage.getItem("token");(await G.put("/api/stylist/profile",b,{headers:{Authorization:`Bearer ${N}`}})).data.success?(R.success(t("profile.updateSuccess")||"Profile updated successfully!"),e("/dashboard")):R.error(t("profile.updateError")||"Failed to update profile")}catch(N){console.error("Error updating profile:",N),R.error(((w=(k=N.response)==null?void 0:k.data)==null?void 0:w.message)||"An error occurred while updating profile")}};return i?r.jsx("div",{className:`min-h-screen ${a?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):r.jsx("div",{className:`min-h-screen ${a?"bg-gray-900":"bg-gray-50"} py-8`,children:r.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("button",{onClick:()=>e("/dashboard"),className:`flex items-center gap-2 mb-4 ${a?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-colors`,children:[r.jsx(st,{className:"h-5 w-5"}),t("common.back")||"Back to Dashboard"]}),r.jsx("h1",{className:`text-4xl font-serif font-bold mb-2 ${a?"text-white":"text-gray-900"}`,children:t("profile.editTitle")||"Edit Your Profile"}),r.jsx("p",{className:`text-lg ${a?"text-gray-400":"text-gray-600"}`,children:t("profile.editSubtitle")||"Update your professional information and location"})]}),r.jsxs(E.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onSubmit:u(v),className:`rounded-2xl ${a?"bg-gray-800":"bg-white"} shadow-lg p-8`,children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:`text-2xl font-bold mb-6 ${a?"text-white":"text-gray-900"}`,children:t("profile.personalInfo")||"Personal Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:t("auth.firstName")||"First Name"}),r.jsx("input",{...d("firstName",{required:!0}),className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`}),f.firstName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:t("auth.validation.firstNameRequired")})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:t("auth.lastName")||"Last Name"}),r.jsx("input",{...d("lastName",{required:!0}),className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`}),f.lastName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:t("auth.validation.lastNameRequired")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:[r.jsx(na,{className:"h-5 w-5 inline mr-2"}),t("auth.phone")||"Phone"]}),r.jsx("input",{...d("phone",{required:!0}),type:"tel",className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`}),f.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:t("auth.validation.phoneRequired")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:[r.jsx(ir,{className:"h-5 w-5 inline mr-2"}),t("auth.email")||"Email"]}),r.jsx("input",{...d("email",{required:!0}),type:"email",className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`}),f.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:t("auth.validation.emailRequired")})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:t("profile.bio")||"Professional Bio"}),r.jsx("textarea",{...d("bio"),rows:4,placeholder:t("profile.bioPlaceholder")||"Tell clients about your experience and specialties...",className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:`text-2xl font-bold mb-6 ${a?"text-white":"text-gray-900"}`,children:[r.jsx(ot,{className:"h-6 w-6 inline mr-2"}),t("profile.location")||"Business Location"]}),r.jsx(_h,{onLocationSelect:g,initialAddress:p("locationAddress"),placeholder:t("profile.locationPlaceholder")||"Enter your business address",isDarkMode:a}),r.jsx("input",{...d("locationAddress",{required:!0}),type:"hidden"}),r.jsx("input",{...d("locationCity",{required:!0}),type:"hidden"}),r.jsx("input",{...d("locationState",{required:!0}),type:"hidden"}),r.jsx("input",{...d("locationCountry"),type:"hidden"}),r.jsx("input",{...d("locationLat"),type:"hidden"}),r.jsx("input",{...d("locationLng"),type:"hidden"}),(f.locationAddress||f.locationCity||f.locationState)&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:t("auth.validation.locationRequired")||"Please select a complete address from the suggestions"}),p("locationAddress")&&r.jsxs("div",{className:`mt-4 p-4 rounded-3xl ${a?"bg-gray-700":"bg-gray-50"}`,children:[r.jsx("p",{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,children:r.jsxs("strong",{children:[t("profile.selectedLocation")||"Selected Location",":"]})}),r.jsx("p",{className:`${a?"text-white":"text-gray-900"}`,children:p("locationAddress")}),r.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-500"}`,children:[p("locationCity"),", ",p("locationState"),", ",p("locationCountry")]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:`text-2xl font-bold mb-6 ${a?"text-white":"text-gray-900"}`,children:t("profile.socialMedia")||"Social Media (Optional)"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Instagram"}),r.jsx("input",{...d("instagramUrl"),type:"url",placeholder:"https://instagram.com/yourusername",className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Facebook"}),r.jsx("input",{...d("facebookUrl"),type:"url",placeholder:"https://facebook.com/yourpage",className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"TikTok"}),r.jsx("input",{...d("tiktokUrl"),type:"url",placeholder:"https://tiktok.com/@yourusername",className:`w-full px-4 py-3 rounded-3xl ${a?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border focus:ring-2 focus:ring-pink-500 focus:border-transparent`})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:`flex-1 px-6 py-3 rounded-3xl font-semibold ${a?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-900 hover:bg-gray-300"} transition-colors`,children:t("common.cancel")||"Cancel"}),r.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-semibold hover:from-pink-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t("common.saving")||"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"h-5 w-5"}),t("profile.saveChanges")||"Save Changes"]})})]})]})]})})}const Rr=Object.create(null);Rr.open="0";Rr.close="1";Rr.ping="2";Rr.pong="3";Rr.message="4";Rr.upgrade="5";Rr.noop="6";const sl=Object.create(null);Object.keys(Rr).forEach(s=>{sl[Rr[s]]=s});const qu={type:"error",data:"parser error"},Uv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wv=typeof ArrayBuffer=="function",zv=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,cm=({type:s,data:e},t,a)=>Uv&&e instanceof Blob?t?a(e):H0(e,a):Wv&&(e instanceof ArrayBuffer||zv(e))?t?a(e):H0(new Blob([e]),a):a(Rr[s]+(e||"")),H0=(s,e)=>{const t=new FileReader;return t.onload=function(){const a=t.result.split(",")[1];e("b"+(a||""))},t.readAsDataURL(s)};function q0(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Nd;function L8(s,e){if(Uv&&s.data instanceof Blob)return s.data.arrayBuffer().then(q0).then(e);if(Wv&&(s.data instanceof ArrayBuffer||zv(s.data)))return e(q0(s.data));cm(s,!1,t=>{Nd||(Nd=new TextEncoder),e(Nd.encode(t))})}const G0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<G0.length;s++)Gn[G0.charCodeAt(s)]=s;const R8=s=>{let e=s.length*.75,t=s.length,a,n=0,i,o,l,c;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(a=0;a<t;a+=4)i=Gn[s.charCodeAt(a)],o=Gn[s.charCodeAt(a+1)],l=Gn[s.charCodeAt(a+2)],c=Gn[s.charCodeAt(a+3)],u[n++]=i<<2|o>>4,u[n++]=(o&15)<<4|l>>2,u[n++]=(l&3)<<6|c&63;return d},I8=typeof ArrayBuffer=="function",dm=(s,e)=>{if(typeof s!="string")return{type:"message",data:Hv(s,e)};const t=s.charAt(0);return t==="b"?{type:"message",data:M8(s.substring(1),e)}:sl[t]?s.length>1?{type:sl[t],data:s.substring(1)}:{type:sl[t]}:qu},M8=(s,e)=>{if(I8){const t=R8(s);return Hv(t,e)}else return{base64:!0,data:s}},Hv=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},qv="",$8=(s,e)=>{const t=s.length,a=new Array(t);let n=0;s.forEach((i,o)=>{cm(i,!1,l=>{a[o]=l,++n===t&&e(a.join(qv))})})},D8=(s,e)=>{const t=s.split(qv),a=[];for(let n=0;n<t.length;n++){const i=dm(t[n],e);if(a.push(i),i.type==="error")break}return a};function F8(){return new TransformStream({transform(s,e){L8(s,t=>{const a=t.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}s.data&&typeof s.data!="string"&&(n[0]|=128),e.enqueue(n),e.enqueue(t)})}})}let kd;function jo(s){return s.reduce((e,t)=>e+t.length,0)}function No(s,e){if(s[0].length===e)return s.shift();const t=new Uint8Array(e);let a=0;for(let n=0;n<e;n++)t[n]=s[0][a++],a===s[0].length&&(s.shift(),a=0);return s.length&&a<s[0].length&&(s[0]=s[0].slice(a)),t}function B8(s,e){kd||(kd=new TextDecoder);const t=[];let a=0,n=-1,i=!1;return new TransformStream({transform(o,l){for(t.push(o);;){if(a===0){if(jo(t)<1)break;const c=No(t,1);i=(c[0]&128)===128,n=c[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(jo(t)<2)break;const c=No(t,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(jo(t)<8)break;const c=No(t,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(qu);break}n=u*Math.pow(2,32)+d.getUint32(4),a=3}else{if(jo(t)<n)break;const c=No(t,n);l.enqueue(dm(i?c:kd.decode(c),e)),a=0}if(n===0||n>s){l.enqueue(qu);break}}}})}const Gv=4;function pt(s){if(s)return V8(s)}function V8(s){for(var e in pt.prototype)s[e]=pt.prototype[e];return s}pt.prototype.on=pt.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};pt.prototype.once=function(s,e){function t(){this.off(s,t),e.apply(this,arguments)}return t.fn=e,this.on(s,t),this};pt.prototype.off=pt.prototype.removeListener=pt.prototype.removeAllListeners=pt.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var a,n=0;n<t.length;n++)if(a=t[n],a===e||a.fn===e){t.splice(n,1);break}return t.length===0&&delete this._callbacks["$"+s],this};pt.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+s],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(t){t=t.slice(0);for(var a=0,n=t.length;a<n;++a)t[a].apply(this,e)}return this};pt.prototype.emitReserved=pt.prototype.emit;pt.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};pt.prototype.hasListeners=function(s){return!!this.listeners(s).length};const jc=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ar=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),U8="arraybuffer";function Yv(s,...e){return e.reduce((t,a)=>(s.hasOwnProperty(a)&&(t[a]=s[a]),t),{})}const W8=ar.setTimeout,z8=ar.clearTimeout;function Nc(s,e){e.useNativeTimers?(s.setTimeoutFn=W8.bind(ar),s.clearTimeoutFn=z8.bind(ar)):(s.setTimeoutFn=ar.setTimeout.bind(ar),s.clearTimeoutFn=ar.clearTimeout.bind(ar))}const H8=1.33;function q8(s){return typeof s=="string"?G8(s):Math.ceil((s.byteLength||s.size)*H8)}function G8(s){let e=0,t=0;for(let a=0,n=s.length;a<n;a++)e=s.charCodeAt(a),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(a++,t+=4);return t}function Kv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Y8(s){let e="";for(let t in s)s.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return e}function K8(s){let e={},t=s.split("&");for(let a=0,n=t.length;a<n;a++){let i=t[a].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class Q8 extends Error{constructor(e,t,a){super(e),this.description=t,this.context=a,this.type="TransportError"}}class um extends pt{constructor(e){super(),this.writable=!1,Nc(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,a){return super.emitReserved("error",new Q8(e,t,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=dm(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Y8(e);return t.length?"?"+t:""}}class Z8 extends um{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||t()})),this.writable||(a++,this.once("drain",function(){--a||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};D8(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,$8(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Kv()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Qv=!1;try{Qv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const J8=Qv;function X8(){}class e7 extends Z8{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let a=location.port;a||(a=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port}}doWrite(e,t){const a=this.request({method:"POST",data:e});a.on("success",t),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,a)=>{this.onError("xhr poll error",t,a)}),this.pollXhr=e}}class Ar extends pt{constructor(e,t,a){super(),this.createRequest=e,Nc(this,a),this._opts=a,this._method=a.method||"GET",this._uri=t,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var e;const t=Yv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(t);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Ar.requestsCount++,Ar.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=X8,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ar.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ar.requestsCount=0;Ar.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Y0);else if(typeof addEventListener=="function"){const s="onpagehide"in ar?"pagehide":"unload";addEventListener(s,Y0,!1)}}function Y0(){for(let s in Ar.requests)Ar.requests.hasOwnProperty(s)&&Ar.requests[s].abort()}const t7=function(){const s=Zv({xdomain:!1});return s&&s.responseType!==null}();class r7 extends e7{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=t7&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ar(Zv,this.uri(),e)}}function Zv(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||J8))return new XMLHttpRequest}catch{}if(!e)try{return new ar[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Jv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class s7 extends um{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,a=Jv?{}:Yv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const a=e[t],n=t===e.length-1;cm(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&jc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Kv()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const _d=ar.WebSocket||ar.MozWebSocket;class a7 extends s7{createSocket(e,t,a){return Jv?new _d(e,t,a):t?new _d(e,t):new _d(e)}doWrite(e,t){this.ws.send(t)}}class n7 extends um{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=B8(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=e.readable.pipeThrough(t).getReader(),n=F8();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const a=e[t],n=t===e.length-1;this._writer.write(a).then(()=>{n&&jc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const i7={websocket:a7,webtransport:n7,polling:r7},o7=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gu(s){if(s.length>8e3)throw"URI too long";const e=s,t=s.indexOf("["),a=s.indexOf("]");t!=-1&&a!=-1&&(s=s.substring(0,t)+s.substring(t,a).replace(/:/g,";")+s.substring(a,s.length));let n=o7.exec(s||""),i={},o=14;for(;o--;)i[l7[o]]=n[o]||"";return t!=-1&&a!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=c7(i,i.path),i.queryKey=d7(i,i.query),i}function c7(s,e){const t=/\/{2,9}/g,a=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&a.splice(0,1),e.slice(-1)=="/"&&a.splice(a.length-1,1),a}function d7(s,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(t[n]=i)}),t}const Yu=typeof addEventListener=="function"&&typeof removeEventListener=="function",al=[];Yu&&addEventListener("offline",()=>{al.forEach(s=>s())},!1);class js extends pt{constructor(e,t){if(super(),this.binaryType=U8,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const a=Gu(e);t.hostname=a.host,t.secure=a.protocol==="https"||a.protocol==="wss",t.port=a.port,a.query&&(t.query=a.query)}else t.host&&(t.hostname=Gu(t.host).host);Nc(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=K8(this.opts.query)),Yu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},al.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Gv,t.transport=e,this.id&&(t.sid=this.id);const a=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&js.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",js.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(t+=q8(n)),a>0&&t>this._maxPayload)return this.writeBuffer.slice(0,a);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,jc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,a){return this._sendPacket("message",e,t,a),this}send(e,t,a){return this._sendPacket("message",e,t,a),this}_sendPacket(e,t,a,n){if(typeof t=="function"&&(n=t,t=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:e,data:t,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},a=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}_onError(e){if(js.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=al.indexOf(this._offlineEventListener);a!==-1&&al.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}js.protocol=Gv;class u7 extends js{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),a=!1;js.priorWebsocketSuccess=!1;const n=()=>{a||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!a)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;js.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function i(){a||(a=!0,u(),t.close(),t=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=t.name,i(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){t&&h.name!==t.name&&i()}const u=()=>{t.removeListener("open",n),t.removeListener("error",o),t.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};t.once("open",n),t.once("error",o),t.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{a||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let a=0;a<e.length;a++)~this.transports.indexOf(e[a])&&t.push(e[a]);return t}}let h7=class extends u7{constructor(e,t={}){const a=typeof e=="object"?e:t;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>i7[n]).filter(n=>!!n)),super(e,a)}};function m7(s,e="",t){let a=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),a=Gu(s)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+e,a.href=a.protocol+"://"+i+(t&&t.port===a.port?"":":"+a.port),a}const p7=typeof ArrayBuffer=="function",f7=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Xv=Object.prototype.toString,g7=typeof Blob=="function"||typeof Blob<"u"&&Xv.call(Blob)==="[object BlobConstructor]",x7=typeof File=="function"||typeof File<"u"&&Xv.call(File)==="[object FileConstructor]";function hm(s){return p7&&(s instanceof ArrayBuffer||f7(s))||g7&&s instanceof Blob||x7&&s instanceof File}function nl(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,a=s.length;t<a;t++)if(nl(s[t]))return!0;return!1}if(hm(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return nl(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&nl(s[t]))return!0;return!1}function y7(s){const e=[],t=s.data,a=s;return a.data=Ku(t,e),a.attachments=e.length,{packet:a,buffers:e}}function Ku(s,e){if(!s)return s;if(hm(s)){const t={_placeholder:!0,num:e.length};return e.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let a=0;a<s.length;a++)t[a]=Ku(s[a],e);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=Ku(s[a],e));return t}return s}function b7(s,e){return s.data=Qu(s.data,e),delete s.attachments,s}function Qu(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=Qu(s[t],e);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=Qu(s[t],e));return s}const v7=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],w7=5;var Pe;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class j7{constructor(e){this.replacer=e}encode(e){return(e.type===Pe.EVENT||e.type===Pe.ACK)&&nl(e)?this.encodeAsBinary({type:e.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Pe.BINARY_EVENT||e.type===Pe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=y7(e),a=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(a),n}}function K0(s){return Object.prototype.toString.call(s)==="[object Object]"}class mm extends pt{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const a=t.type===Pe.BINARY_EVENT;a||t.type===Pe.BINARY_ACK?(t.type=a?Pe.EVENT:Pe.ACK,this.reconstructor=new N7(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(hm(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const a={type:Number(e.charAt(0))};if(Pe[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Pe.BINARY_EVENT||a.type===Pe.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););a.nsp=e.substring(i,t)}else a.nsp="/";const n=e.charAt(t+1);if(n!==""&&Number(n)==n){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}a.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(mm.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Pe.CONNECT:return K0(t);case Pe.DISCONNECT:return t===void 0;case Pe.CONNECT_ERROR:return typeof t=="string"||K0(t);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&v7.indexOf(t[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class N7{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=b7(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const k7=Object.freeze(Object.defineProperty({__proto__:null,Decoder:mm,Encoder:j7,get PacketType(){return Pe},protocol:w7},Symbol.toStringTag,{value:"Module"}));function hr(s,e,t){return s.on(e,t),function(){s.off(e,t)}}const _7=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ew extends pt{constructor(e,t,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[hr(e,"open",this.onopen.bind(this)),hr(e,"packet",this.onpacket.bind(this)),hr(e,"error",this.onerror.bind(this)),hr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var a,n,i;if(_7.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:Pe.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const u=this.ids++,h=t.pop();this._registerAckCallback(u,h),o.id=u}const l=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},n),o=(...l)=>{this.io.clearTimeoutFn(i),t.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((a,n)=>{const i=(o,l)=>o?n(o):a(l);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...i)=>a!==this._queue[0]?void 0:(n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(a=>String(a.id)===e)){const a=this.acks[e];delete this.acks[e],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(e);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(e);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const a=new Error(e.data.message);a.data=e.data.data,this.emitReserved("connect_error",a);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const a of t)a.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let a=!1;return function(...n){a||(a=!0,t.packet({type:Pe.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let a=0;a<t.length;a++)if(e===t[a])return t.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let a=0;a<t.length;a++)if(e===t[a])return t.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const a of t)a.apply(this,e.data)}}}function hn(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}hn.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*s);s=Math.floor(e*10)&1?s+t:s-t}return Math.min(s,this.max)|0};hn.prototype.reset=function(){this.attempts=0};hn.prototype.setMin=function(s){this.ms=s};hn.prototype.setMax=function(s){this.max=s};hn.prototype.setJitter=function(s){this.jitter=s};class Zu extends pt{constructor(e,t){var a;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Nc(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((a=t.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||k7;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new h7(this.uri,this.opts);const t=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=hr(t,"open",function(){a.onopen(),e&&e()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=hr(t,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),t.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(hr(e,"ping",this.onping.bind(this)),hr(e,"data",this.ondata.bind(this)),hr(e,"error",this.onerror.bind(this)),hr(e,"close",this.onclose.bind(this)),hr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){jc(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let a=this.nsps[e];return a?this._autoConnect&&!a.active&&a.connect():(a=new ew(this,e,t),this.nsps[e]=a),a}_destroy(e){const t=Object.keys(this.nsps);for(const a of t)if(this.nsps[a].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let a=0;a<t.length;a++)this.engine.write(t[a],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},t);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const On={};function il(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const t=m7(s,e.path||"/socket.io"),a=t.source,n=t.id,i=t.path,o=On[n]&&i in On[n].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Zu(a,e):(On[n]||(On[n]=new Zu(a,e)),c=On[n]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(il,{Manager:Zu,Socket:ew,io:il,connect:il});const S7="https://beautycita.com",C7=(s={})=>{const{namespace:e="/",autoConnect:t=!0}=s,a=m.useRef(null),[n,i]=m.useState(!1),[o,l]=m.useState(null);m.useEffect(()=>{const h=localStorage.getItem("authToken");if(!h||!t)return;const f=il(`${S7}${e==="/"?"":e}`,{auth:{token:h},transports:["websocket","polling"]});return a.current=f,f.on("connect",()=>{console.log(`✅ Socket connected to ${e}`),i(!0),l(null)}),f.on("disconnect",()=>{console.log(`❌ Socket disconnected from ${e}`),i(!1)}),f.on("connect_error",y=>{console.error(`Socket connection error on ${e}:`,y),l(y.message),i(!1)}),f.on("connected",y=>{console.log("Socket connection confirmed:",y)}),()=>{f.connected&&f.disconnect()}},[e,t]);const c=(h,p)=>{a.current&&a.current.connected?a.current.emit(h,p):console.warn("Socket not connected, cannot emit event:",h)},d=(h,p)=>{a.current&&a.current.on(h,p)},u=(h,p)=>{a.current&&(p?a.current.off(h,p):a.current.off(h))};return{socket:a.current,isConnected:n,error:o,emit:c,on:d,off:u}},E7=()=>C7({namespace:"/chat"}),Sd="https://beautycita.com";function T7(){var _,S;const[s,e]=m.useState([]),[t,a]=m.useState(null),[n,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState(!0),[u,h]=m.useState(!1),p=m.useRef(null),{isConnected:f,on:y,off:x,emit:g}=E7();m.useEffect(()=>{b()},[]),m.useEffect(()=>{if(t){k(t.id),g("join_conversation",t.id);const C=I=>{I.conversation_id===t.id&&(i(P=>[...P,I]),v())};return y("new_message",C),()=>{g("leave_conversation",t.id),x("new_message",C)}}},[t==null?void 0:t.id]),m.useEffect(()=>{v()},[n]);const v=()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})},b=async()=>{try{const C=localStorage.getItem("authToken"),I=await G.get(`${Sd}/messages/conversations`,{headers:{Authorization:`Bearer ${C}`}});e(I.data.conversations||[])}catch(C){console.error("Fetch conversations error:",C),R.error("Failed to load conversations")}finally{d(!1)}},k=async C=>{try{const I=localStorage.getItem("authToken"),P=await G.get(`${Sd}/messages/conversations/${C}/messages`,{headers:{Authorization:`Bearer ${I}`}});i(P.data.messages||[])}catch(I){console.error("Fetch messages error:",I),R.error("Failed to load messages")}},w=async C=>{if(C.preventDefault(),!(!o.trim()||!t)){h(!0);try{const I=localStorage.getItem("authToken"),P=await G.post(`${Sd}/messages/conversations/${t.id}/messages`,{content:o.trim()},{headers:{Authorization:`Bearer ${I}`}});l("")}catch(I){console.error("Send message error:",I),R.error("Failed to send message")}finally{h(!1)}}},j=(()=>{const C=localStorage.getItem("authToken");if(C)try{return JSON.parse(atob(C.split(".")[1])).id}catch{return null}return null})();return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Messages"}),r.jsx("div",{className:"bg-white rounded-full shadow-sm overflow-hidden",style:{height:"calc(100vh - 200px)"},children:r.jsxs("div",{className:"grid grid-cols-12 h-full",children:[r.jsx("div",{className:"col-span-12 md:col-span-4 border-r border-gray-200 overflow-y-auto",children:s.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ft,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No conversations yet"})]}):r.jsx("div",{className:"divide-y divide-gray-200",children:s.map(C=>{var I,P;return r.jsx("button",{onClick:()=>a(C),className:`w-full p-4 text-left hover:bg-gray-50 transition-colors ${(t==null?void 0:t.id)===C.id?"bg-purple-50":""}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[(I=C.other_participant)!=null&&I.profile_picture_url?r.jsx("img",{src:C.other_participant.profile_picture_url,alt:C.other_participant.name,className:"w-12 h-12 rounded-full"}):r.jsx(Ct,{className:"w-12 h-12 text-gray-400"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-semibold text-gray-900 truncate",children:((P=C.other_participant)==null?void 0:P.name)||C.title||"Unknown"}),C.unread_count>0&&r.jsx("span",{className:"ml-2 bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:C.unread_count})]}),C.last_message&&r.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:C.last_message.content}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.last_message?new Date(C.last_message.created_at).toLocaleString():new Date(C.created_at).toLocaleString()})]})]})},C.id)})})}),r.jsx("div",{className:"col-span-12 md:col-span-8 flex flex-col",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center gap-3",children:[(_=t.other_participant)!=null&&_.profile_picture_url?r.jsx("img",{src:t.other_participant.profile_picture_url,alt:t.other_participant.name,className:"w-10 h-10 rounded-full"}):r.jsx(Ct,{className:"w-10 h-10 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:((S=t.other_participant)==null?void 0:S.name)||"Unknown"}),r.jsx("p",{className:"text-xs text-gray-500",children:f?"Online":"Offline"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(C=>{const I=C.sender_id===j;return r.jsx("div",{className:`flex ${I?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-xs lg:max-w-md ${I?"order-2":"order-1"}`,children:r.jsxs("div",{className:`rounded-full px-4 py-2 ${I?"bg-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[!I&&r.jsx("p",{className:"text-xs font-medium mb-1 opacity-75",children:C.sender_name}),r.jsx("p",{children:C.content}),r.jsx("p",{className:`text-xs mt-1 ${I?"text-purple-200":"text-gray-500"}`,children:new Date(C.created_at).toLocaleTimeString()})]})})},C.id)}),r.jsx("div",{ref:p})]}),r.jsx("form",{onSubmit:w,className:"p-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:o,onChange:C=>l(C.target.value),placeholder:"Type a message...",className:"flex-1 rounded-full border-gray-300 focus:border-purple-500 focus:ring-purple-500",disabled:u}),r.jsxs("button",{type:"submit",disabled:u||!o.trim(),className:"px-6 py-2 bg-purple-600 text-white rounded-full hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u?"Sending...":"Send",r.jsx(pi,{className:"h-5 w-5"})]})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ft,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Select a conversation to start messaging"})]})})})]})})]})})}const P7="https://beautycita.com";function A7(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState("ALL");m.useEffect(()=>{o()},[n]);const o=async()=>{try{const d=localStorage.getItem("authToken"),u=n!=="ALL"?{status:n}:{},h=await G.get(`${P7}/disputes`,{headers:{Authorization:`Bearer ${d}`},params:u});e(h.data.disputes||[])}catch(d){console.error("Fetch disputes error:",d),R.error("Failed to load disputes")}finally{a(!1)}},l=d=>{switch(d){case"OPEN":return"bg-yellow-100 text-yellow-800";case"UNDER_REVIEW":return"bg-blue-100 text-blue-800";case"RESOLVED":return"bg-green-100 text-green-800";case"REFUNDED":return"bg-purple-100 text-purple-800";case"CLOSED":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},c=d=>{switch(d){case"OPEN":return r.jsx(dt,{className:"h-5 w-5"});case"UNDER_REVIEW":return r.jsx(ve,{className:"h-5 w-5"});case"RESOLVED":case"REFUNDED":return r.jsx(ie,{className:"h-5 w-5"});case"CLOSED":return r.jsx(rt,{className:"h-5 w-5"});default:return r.jsx(dt,{className:"h-5 w-5"})}};return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Disputes"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and track your dispute cases"})]}),r.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["ALL","OPEN","UNDER_REVIEW","RESOLVED","CLOSED"].map(d=>r.jsx("button",{onClick:()=>i(d),className:`px-4 py-2 rounded-full font-medium transition-colors ${n===d?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:d.replace("_"," ")},d))}),s.length===0?r.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-12 text-center",children:[r.jsx(dt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No disputes found"}),r.jsx("p",{className:"text-gray-600",children:n==="ALL"?"You don't have any disputes":`No ${n.toLowerCase().replace("_"," ")} disputes`})]}):r.jsx("div",{className:"space-y-4",children:s.map(d=>r.jsx(Z,{to:`/disputes/${d.id}`,className:"block bg-white rounded-3xl shadow-sm hover:shadow-md transition-shadow",children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium ${l(d.status)}`,children:[c(d.status),d.status.replace("_"," ")]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Booking #",d.booking_id]})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:d.title}),r.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:d.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Service: ",d.service_name||"N/A"]}),r.jsx("span",{children:"•"}),r.jsx("span",{children:new Date(d.booking_date).toLocaleDateString()}),r.jsx("span",{children:"•"}),r.jsxs("span",{children:["Created ",new Date(d.created_at).toLocaleDateString()]})]})]}),r.jsx("div",{className:"ml-4",children:r.jsx(Ft,{className:"h-6 w-6 text-gray-400"})})]})})},d.id))})]})})}const Q0="https://beautycita.com";function O7(){const{id:s}=ln(),e=wt(),[t,a]=m.useState(null),[n,i]=m.useState(!0),[o,l]=m.useState(""),[c,d]=m.useState(!1);m.useEffect(()=>{s&&u()},[s]);const u=async()=>{try{const p=localStorage.getItem("authToken"),f=await G.get(`${Q0}/disputes/${s}`,{headers:{Authorization:`Bearer ${p}`}});a(f.data.dispute)}catch(p){console.error("Fetch dispute details error:",p),R.error("Failed to load dispute details")}finally{i(!1)}},h=async p=>{if(p.preventDefault(),!!o.trim()){d(!0);try{const f=localStorage.getItem("authToken");await G.post(`${Q0}/disputes/${s}/messages`,{message:o.trim()},{headers:{Authorization:`Bearer ${f}`}}),R.success("Message sent"),l(""),u()}catch(f){console.error("Send message error:",f),R.error("Failed to send message")}finally{d(!1)}}};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("button",{onClick:()=>e("/disputes"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[r.jsx(st,{className:"h-5 w-5"}),"Back to disputes"]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Booking #",t.booking_id]}),r.jsx("span",{children:"•"}),r.jsx("span",{children:t.service_name}),r.jsx("span",{children:"•"}),r.jsx("span",{children:new Date(t.booking_date).toLocaleDateString()})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="OPEN"?"bg-yellow-100 text-yellow-800":t.status==="RESOLVED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:t.status.replace("_"," ")})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:t.description}),t.requested_resolution&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Requested Resolution:"}),r.jsx("p",{className:"text-gray-700",children:t.requested_resolution.replace("_"," ")})]}),t.resolution_details&&r.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-3xl",children:[r.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Resolution:"}),r.jsx("p",{className:"text-green-800",children:t.resolution_details})]})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-sm mb-6",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsx("h2",{className:"font-semibold text-gray-900",children:"Communication"})}),r.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:t.messages&&t.messages.length>0?t.messages.map(p=>r.jsxs("div",{className:`${p.is_admin_message?"bg-purple-50 border-l-4 border-purple-600 pl-4 py-3":"bg-gray-50 p-4 rounded-full"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:p.is_admin_message?"BeautyCita Support":p.sender_name}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(p.created_at).toLocaleString()})]}),r.jsx("p",{className:"text-gray-700",children:p.message})]},p.id)):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No messages yet"})}),t.status!=="CLOSED"&&t.status!=="RESOLVED"&&r.jsx("form",{onSubmit:h,className:"p-4 border-t",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Type your message...",className:"flex-1 rounded-full border-gray-300 focus:border-purple-500 focus:ring-purple-500",disabled:c}),r.jsxs("button",{type:"submit",disabled:c||!o.trim(),className:"px-6 py-2 bg-purple-600 text-white rounded-3xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[c?"Sending...":"Send",r.jsx(pi,{className:"h-5 w-5"})]})]})})]}),t.evidence&&t.evidence.length>0&&r.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"Evidence"}),r.jsx("div",{className:"space-y-3",children:t.evidence.map(p=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-3xl",children:[r.jsx(Fk,{className:"h-6 w-6 text-gray-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:p.file_name}),p.description&&r.jsx("p",{className:"text-sm text-gray-600",children:p.description})]}),r.jsx("a",{href:p.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View"})]},p.id))})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Dispute not found"}),r.jsx("button",{onClick:()=>e("/disputes"),className:"text-purple-600 hover:text-purple-700",children:"Back to disputes"})]})})}var pm={exports:{}},kc={},tn={},_c={},L7=function(s){var e=s.location,t=s.URL;return[e,t].some(function(a){return!a})?function(n){return Promise.reject(new Error("Failed to import: "+n+": dynamicImport is not supported"))}:(s.__twilioVideoImportedModules={},function(n){return n in s.__twilioVideoImportedModules?Promise.resolve(s.__twilioVideoImportedModules[n]):new Function("scope","return import('"+new t(n,e)+"').then(m => scope.__twilioVideoImportedModules['"+n+"'] = m);")(s)})}(globalThis),tw=function(){},Cr="undefined",R7=typeof window!==Cr&&typeof window.navigator!==Cr&&/Trident\/|MSIE /.test(window.navigator.userAgent),Ju=["trace","debug","info","warn","error"];function Z0(s,e){var t=s[e];if(typeof t.bind=="function")return t.bind(s);try{return Function.prototype.bind.call(t,s)}catch{return function(){return Function.prototype.apply.apply(t,[s,arguments])}}}function I7(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function M7(s){return s==="debug"&&(s="log"),typeof console===Cr?!1:s==="trace"&&R7?I7:console[s]!==void 0?Z0(console,s):console.log!==void 0?Z0(console,"log"):tw}function rw(s,e){for(var t=0;t<Ju.length;t++){var a=Ju[t];this[a]=t<s?tw:this.methodFactory(a,s,e)}this.log=this.debug}function $7(s,e,t){return function(){typeof console!==Cr&&(rw.call(this,e,t),this[s].apply(this,arguments))}}function D7(s,e,t){return M7(s)||$7.apply(this,arguments)}function sw(s,e,t){var a=this,n,i="loglevel";typeof s=="string"?i+=":"+s:typeof s=="symbol"&&(i=void 0);function o(d){var u=(Ju[d]||"silent").toUpperCase();if(!(typeof window===Cr||!i)){try{window.localStorage[i]=u;return}catch{}try{window.document.cookie=encodeURIComponent(i)+"="+u+";"}catch{}}}function l(){var d;if(!(typeof window===Cr||!i)){try{d=window.localStorage[i]}catch{}if(typeof d===Cr)try{var u=window.document.cookie,h=u.indexOf(encodeURIComponent(i)+"=");h!==-1&&(d=/^([^;]+)/.exec(u.slice(h))[1])}catch{}return a.levels[d]===void 0&&(d=void 0),d}}a.name=s,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=t||D7,a.getLevel=function(){return n},a.setLevel=function(d,u){if(typeof d=="string"&&a.levels[d.toUpperCase()]!==void 0&&(d=a.levels[d.toUpperCase()]),typeof d=="number"&&d>=0&&d<=a.levels.SILENT){if(n=d,u!==!1&&o(d),rw.call(a,d,s),typeof console===Cr&&d<a.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+d},a.setDefaultLevel=function(d){l()||a.setLevel(d,!1)},a.enableAll=function(d){a.setLevel(a.levels.TRACE,d)},a.disableAll=function(d){a.setLevel(a.levels.SILENT,d)};var c=l();c==null&&(c=e??"WARN"),a.setLevel(c,!1)}var Or=new sw,Xu={};Or.getLogger=function(e){if(typeof e!="symbol"&&typeof e!="string"||e==="")throw new TypeError("You must supply a name when creating a logger.");var t=Xu[e];return t||(t=Xu[e]=new sw(e,Or.getLevel(),Or.methodFactory)),t};var F7=typeof window!==Cr?window.log:void 0;Or.noConflict=function(){return typeof window!==Cr&&window.log===Or&&(window.log=F7),Or};Or.getLoggers=function(){return Xu};Or.default=Or;var aw=Or,fm={exports:{}};const B7="twilio-video",V7="2.32.1",nw={name:B7,version:V7};fm.exports;(function(s){var e=nw;s.exports.SDK_NAME=e.name+".js",s.exports.SDK_VERSION=e.version,s.exports.SDP_FORMAT="unified",s.exports.hardwareDevicePublisheriPad={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPad",hwDeviceType:"tablet",platformName:"iOS"},s.exports.hardwareDevicePublisheriPhone={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPhone",hwDeviceType:"mobile",platformName:"iOS"},s.exports.DEFAULT_ENVIRONMENT="prod",s.exports.DEFAULT_REALM="us1",s.exports.DEFAULT_REGION="gll",s.exports.DEFAULT_LOG_LEVEL="warn",s.exports.DEFAULT_LOGGER_NAME="twilio-video",s.exports.WS_SERVER=function(a,n){return n=n==="gll"?"global":encodeURIComponent(n),a==="prod"?"wss://"+n+".vss.twilio.com/signaling":"wss://"+n+".vss."+a+".twilio.com/signaling"},s.exports.PUBLISH_MAX_ATTEMPTS=5,s.exports.PUBLISH_BACKOFF_JITTER=10,s.exports.PUBLISH_BACKOFF_MS=20;function t(a){return["a","e","i","o","u"].includes(a.toLowerCase()[0])?"an":"a"}s.exports.typeErrors={ILLEGAL_INVOKE:function(a,n){return new TypeError("Illegal call to "+a+": "+n)},INVALID_TYPE:function(a,n){return new TypeError(a+" must be "+t(n)+" "+n)},INVALID_VALUE:function(a,n){return new RangeError(a+" must be one of "+n.join(", "))},REQUIRED_ARGUMENT:function(a){return new TypeError(a+" must be specified")}},s.exports.DEFAULT_FRAME_RATE=24,s.exports.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS=1e4,s.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,s.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,s.exports.DEFAULT_NQ_LEVEL_LOCAL=1,s.exports.DEFAULT_NQ_LEVEL_REMOTE=0,s.exports.MAX_NQ_LEVEL=3,s.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,s.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,s.exports.iceRestartBackoffConfig={factor:1.1,min:1,max:s.exports.DEFAULT_SESSION_TIMEOUT_SEC*1e3,jitter:1},s.exports.reconnectBackoffConfig={factor:1.5,min:80,jitter:1},s.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},s.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},s.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"},s.exports.clientTrackSwitchOffControl={MODE_AUTO:"auto",MODE_MANUAL:"manual"},s.exports.videoContentPreferencesMode={MODE_AUTO:"auto",MODE_MANUAL:"manual"}})(fm);var qe=fm.exports,U7=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},W7=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},z7=aw.getLogger,iw=qe,J0=iw.DEFAULT_LOG_LEVEL,H7=iw.DEFAULT_LOGGER_NAME,ol=qe.typeErrors,Ln;function q7(s){if(Ln=Ln||new Map,Ln.has(s))return Ln.get(s);var e=new Set;return Ln.set(s,e),e}var gm=function(){function s(e,t,a,n,i){if(typeof e!="string")throw ol.INVALID_TYPE("moduleName","string");if(!t)throw ol.REQUIRED_ARGUMENT("component");typeof a!="object"&&(a={}),i=i||z7,X0(a),Object.defineProperties(this,{_component:{value:t},_logLevels:{value:a},_warnings:{value:new Set},_loggerName:{get:function(){var l=n&&typeof n=="string"?n:H7;return this._logLevelsEqual||(l=l+"-"+e),l}},_logger:{get:function(){var l=i(this._loggerName),c=this._logLevels[e]||J0;return c=c==="off"?"silent":c,l.setDefaultLevel(c),l}},_logLevelsEqual:{get:function(){return new Set(Object.values(this._logLevels)).size===1}},logLevel:{get:function(){return s.getLevelByName(a[e]||J0)}},name:{get:t.toString.bind(t)}})}return s.getLevelByName=function(e){return isNaN(e)?(e=e.toUpperCase(),cw(e),s[e]):parseInt(e,10)},s.prototype.createLog=function(e,t){var a=this._loggerName;return this._logLevelsEqual||(a=a.substring(0,a.lastIndexOf("-"))),new s(e,t,this._logLevels,a)},s.prototype.setLevels=function(e){return X0(e),Object.assign(this._logLevels,e),this},s.prototype.log=function(e,t){var a=s._levels[e];if(!a)throw ol.INVALID_VALUE("logLevel",lw);a=a.toLowerCase();var n=[new Date().toISOString(),a,this.name];return(this._logger[a]||function(){}).apply(void 0,W7([],U7(n.concat(t)))),this},s.prototype.debug=function(){return this.log(s.DEBUG,[].slice.call(arguments))},s.prototype.deprecated=function(e){var t=q7(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))},s.prototype.info=function(){return this.log(s.INFO,[].slice.call(arguments))},s.prototype.warn=function(){return this.log(s.WARN,[].slice.call(arguments))},s.prototype.warnOnce=function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))},s.prototype.error=function(){return this.log(s.ERROR,[].slice.call(arguments))},s.prototype.throw=function(e,t){throw e.clone&&(e=e.clone(t)),this.log(s.ERROR,e),e},s}();Object.defineProperties(gm,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var ow={},lw=[],G7=gm._levels.map(function(s,e){return ow[s]=!0,lw.push(e),s});function cw(s){if(!(s in ow))throw ol.INVALID_VALUE("level",G7)}function X0(s){Object.keys(s).forEach(function(e){cw(s[e].toUpperCase())})}var rs=gm,Y7=T&&T.__awaiter||function(s,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(s,e||[])).next())})},K7=T&&T.__generator||function(s,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(s,t)}catch(u){d=[6,u],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(_c,"__esModule",{value:!0});_c.createNoiseCancellationAudioProcessor=void 0;var Q7=L7,Z7={krisp:{supportedVersion:"1.0.0",pluginFile:"krispsdk.mjs"},rnnoise:{supportedVersion:"0.6.0",pluginFile:"rnnoise_sdk.mjs"}},J7=function(s){var e=s.supportedVersion,t=s.plugin,a=s.log;if(!t.getVersion||!t.isSupported)throw new Error("Plugin does not export getVersion/isSupported api. Are you using old version of the plugin ?");var n=t.getVersion();a.debug("Plugin Version = "+n);var i=e.split(".").map(function(d){return Number(d)}),o=n.split(".").map(function(d){return Number(d)});if(i.length!==3||o.length!==3)throw new Error("Unsupported Plugin version format: "+e+", "+n);if(i[0]!==o[0])throw new Error("Major version mismatch: [Plugin version "+n+"],  [Supported Version "+e+"]");if(o[1]<i[1])throw new Error("Minor version mismatch: [Plugin version "+n+"] < [Supported Version "+e+"]");var l=new AudioContext,c=t.isSupported(l);if(l.close(),!c)throw new Error("Noise Cancellation plugin is not supported on your browser")},eg=new Map;function X7(s,e){return Y7(this,void 0,void 0,function(){var t,a,n,i,o,l,c,d,u;return K7(this,function(h){switch(h.label){case 0:if(t=eg.get(s.vendor),t)return[3,6];if(a=Z7[s.vendor],!a)throw new Error("Unsupported NoiseCancellationOptions.vendor: "+s.vendor);n=a.supportedVersion,i=a.pluginFile,o=s.sdkAssetsPath,l=o+"/"+i,h.label=1;case 1:return h.trys.push([1,5,,6]),e.debug("loading noise cancellation sdk: ",l),[4,Q7(l)];case 2:return c=h.sent(),e.debug("Loaded noise cancellation sdk:",c),d=c.default,J7({supportedVersion:n,plugin:d,log:e}),d.isInitialized()?[3,4]:(e.debug("initializing noise cancellation sdk: ",o),[4,d.init({rootDir:o})]);case 3:h.sent(),e.debug("noise cancellation sdk initialized!"),h.label=4;case 4:return t={vendor:s.vendor,isInitialized:function(){return d.isInitialized()},isConnected:function(){return d.isConnected()},isEnabled:function(){return d.isEnabled()},disconnect:function(){return d.disconnect()},enable:function(){return d.enable()},disable:function(){return d.disable()},destroy:function(){return d.destroy()},setLogging:function(p){return d.setLogging(p)},connect:function(p){e.debug("connect: ",p.id),d.isConnected()&&d.disconnect();var f=d.connect(new MediaStream([p]));if(!f)throw new Error("Error connecting with noise cancellation sdk");var y=f.getAudioTracks()[0];if(!y)throw new Error("Error getting clean track from noise cancellation sdk");return d.enable(),y}},eg.set(s.vendor,t),[3,6];case 5:throw u=h.sent(),e.error("Error loading noise cancellation sdk:"+l,u),u;case 6:return[2,t]}})})}_c.createNoiseCancellationAudioProcessor=X7;var dw=T&&T.__awaiter||function(s,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(s,e||[])).next())})},uw=T&&T.__generator||function(s,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(s,t)}catch(u){d=[6,u],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(tn,"__esModule",{value:!0});tn.applyNoiseCancellation=tn.NoiseCancellationImpl=void 0;var e$=_c,hw=function(){function s(e,t){this._processor=e,this._sourceTrack=t,this._disabledPermanent=!1}return Object.defineProperty(s.prototype,"vendor",{get:function(){return this._processor.vendor},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"sourceTrack",{get:function(){return this._sourceTrack},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isEnabled",{get:function(){return this._processor.isEnabled()},enumerable:!1,configurable:!0}),s.prototype.enable=function(){if(this._disabledPermanent)throw new Error(this.vendor+" noise cancellation is disabled permanently for this track");return this._processor.enable(),Promise.resolve()},s.prototype.disable=function(){return this._processor.disable(),Promise.resolve()},s.prototype.reacquireTrack=function(e){return dw(this,void 0,void 0,function(){var t,a,n;return uw(this,function(i){switch(i.label){case 0:return t=this._processor.isEnabled(),this._processor.disconnect(),[4,e()];case 1:return a=i.sent(),this._sourceTrack=a,[4,this._processor.connect(a)];case 2:return n=i.sent(),t?this._processor.enable():this._processor.disable(),[2,n]}})})},s.prototype.disablePermanently=function(){return this._disabledPermanent=!0,this.disable()},s.prototype.stop=function(){this._processor.disconnect(),this._sourceTrack.stop()},s}();tn.NoiseCancellationImpl=hw;function t$(s,e,t){return dw(this,void 0,void 0,function(){var a,n,i,o;return uw(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,e$.createNoiseCancellationAudioProcessor(e,t)];case 1:return a=l.sent(),n=a.connect(s),i=new hw(a,s),[2,{cleanTrack:n,noiseCancellation:i}];case 2:return o=l.sent(),t.warn("Failed to create noise cancellation. Returning normal audio track: "+o),[2,{cleanTrack:s}];case 3:return[2]}})})}tn.applyNoiseCancellation=t$;var oe={},Fe={},mw=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},r$=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s};function s$(){var s={};return s.promise=new Promise(function(e,t){s.resolve=e,s.reject=t}),s}function a$(s,e,t,a){if(!(a in e)&&!a.match(/^on[a-z]+$/)){var n=!1;try{var i=Object.getOwnPropertyDescriptor(s,a);n=i&&!!i.get}catch{}if(!n){var o;try{o=typeof s[a]}catch{}o==="function"&&(e[a]=function(){return this[t][a].apply(this[t],arguments)})}}}function n$(s,e,t){for(var a in s)a$(s,e,t,a)}function i$(s,e){s=Array.isArray(s)?new Set(s):new Set(s.values()),e=Array.isArray(e)?new Set(e):new Set(e.values());var t=new Set;return s.forEach(function(a){e.has(a)||t.add(a)}),t}function o$(s,e){var t=s instanceof Map||s instanceof Set?Array.from(s.values()):s;return t.reduce(function(a,n){return a.concat(e(n))},[])}function xm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:null}function ym(s){return typeof s>"u"&&(s=xm()),/Chrome|CriOS/.test(s)?"chrome":/Firefox|FxiOS/.test(s)?"firefox":/Safari|iPhone|iPad|iPod/.test(s)?"safari":null}function l$(s){typeof s>"u"&&(s=xm());var e={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[ym(s)];if(!e)return null;var t=new RegExp("("+e+")/([^\\s]+)"),a=mw(s.match(t)||[],3),n=a[2];if(!n)return null;var i=n.split(".").map(Number);return{major:isNaN(i[0])?null:i[0],minor:isNaN(i[1])?null:i[1]}}function c$(s){return typeof s>"u"&&(s=xm()),/Mobi/.test(s)&&ym()==="chrome"&&/iPad|iPhone|iPod/.test(s)}function d$(s,e){var t=null;Object.defineProperty(s,"on"+e,{get:function(){return t},set:function(a){t&&this.removeEventListener(e,t),typeof a=="function"?(t=a,this.addEventListener(e,t)):t=null}})}function u$(s,e,t){return e?s.then(e,t):s}function h$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var e=Math.random()*16|0,t=s==="x"?e:e&3|8;return t.toString(16)})}function m$(s,e,t){Object.getOwnPropertyNames(s).forEach(function(a){p$(s,e,t,a)})}function p$(s,e,t,a){if(!(a in e)){if(a.match(/^on[a-z]+$/)){Object.defineProperty(e,a,{value:null,writable:!0}),t.addEventListener(a.slice(2),function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.dispatchEvent.apply(e,r$([],mw(n)))});return}Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})}}function f$(){return typeof navigator=="object"&&typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.getUserMedia=="function"&&typeof RTCPeerConnection=="function"}function g$(s){if(typeof RTCRtpSender<"u"&&typeof RTCRtpSender.getCapabilities=="function")return Promise.resolve(new Set(RTCRtpSender.getCapabilities(s).codecs.map(function(t){var a=t.mimeType;return a.split("/")[1].toLowerCase()})));if(typeof RTCPeerConnection>"u"||typeof RTCPeerConnection.prototype>"u"||typeof RTCPeerConnection.prototype.addTransceiver!="function"||typeof RTCPeerConnection.prototype.close!="function"||typeof RTCPeerConnection.prototype.createOffer!="function")return Promise.resolve(new Set);var e=new RTCPeerConnection;return e.addTransceiver(s),e.createOffer().then(function(t){var a=t.sdp;return e.close(),new Set((a.match(/^a=rtpmap:.+$/gm)||[]).map(function(n){return n.match(/^a=rtpmap:.+ ([^/]+)/)[1].toLowerCase()}))},function(){return e.close(),new Set})}var eh=new Map;function x$(s,e){var t=eh.get(e);return t?Promise.resolve(t.has(s.toLowerCase())):g$(e).then(function(a){return eh.set(e,a),a.has(s.toLowerCase())})}function y$(){eh.clear()}Fe.clearCachedSupportedCodecs=y$;Fe.defer=s$;Fe.delegateMethods=n$;Fe.difference=i$;Fe.flatMap=o$;Fe.guessBrowser=ym;Fe.guessBrowserVersion=l$;Fe.isCodecSupported=x$;Fe.isIOSChrome=c$;Fe.interceptEvent=d$;Fe.legacyPromise=u$;Fe.makeUUID=h$;Fe.proxyProperties=m$;Fe.support=f$;var Sc={},tg="1234567890abcdef",b$=32;function pw(s){for(var e="",t=0;t<b$;t++)e+=tg.charAt(Math.floor(Math.random()*tg.length));return""+s+e}Sc.sessionSID=pw("SS");Sc.createSID=pw;var v$={recordingMediaLost:"recording-media-lost"},fw=v$,w$=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Dt=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},da=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},bm=qe,j$=bm.typeErrors,Cd=bm.trackPriority,N$=Fe,k$=Sc.sessionSID,_$=fw;function S$(s,e){if(s instanceof e.LocalAudioTrack||s instanceof e.LocalVideoTrack||s instanceof e.LocalDataTrack)return s;if(s instanceof e.MediaStreamTrack)return s.kind==="audio"?new e.LocalAudioTrack(s,e):new e.LocalVideoTrack(s,e);throw j$.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}function C$(s,e,t,a){var n={audio:a.LocalAudioTrackPublication,video:a.LocalVideoTrackPublication,data:a.LocalDataTrackPublication}[s.kind];return new n(e,s,t,a)}function E$(s){return s[0].toUpperCase()+s.slice(1)}function T$(s,e,t,a){var n=new Set;e.on("newListener",function i(o){t.has(o)&&!n.has(o)&&(a.deprecated(s+"#"+o+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(t.get(o)?" Use "+s+"#"+t.get(o)+" instead.":"")),n.add(o)),n.size>=t.size&&e.removeListener("newListener",i)})}function P$(s,e){s=Array.isArray(s)?new Set(s):new Set(s.values()),e=Array.isArray(e)?new Set(e):new Set(e.values());var t=new Set;return s.forEach(function(a){e.has(a)||t.add(a)}),t}function A$(s,e){return Object.keys(s).reduce(function(t,a){return s[a]!==e&&(t[a]=s[a]),t},{})}function O$(s,e){var t=s instanceof Map||s instanceof Set?Array.from(s.values()):s;return e=e||function(n){return n},t.reduce(function(a,n){var i=e(n);return a.concat(i)},[])}function gw(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent:"Unknown"}function L$(){var s=gw(),e=Dt(s.match(/\(([^)]+)\)/)||[],2),t=e[1],a=t===void 0?"unknown":t,n=Dt(a.split(";").map(function(o){return o.trim()}),1),i=n[0];return i.toLowerCase()}function R$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var e=Math.random()*16|0,t=s==="x"?e:e&3|8;return t.toString(16)})}function I$(s){var e=null;function t(){e=null,s()}return function(){e&&clearTimeout(e),e=setTimeout(t)}}function M$(s,e,t,a){return new Promise(function(n,i){function o(){var c=[].slice.call(arguments);a&&e.removeListener(a,l),n.apply(void 0,da([],Dt(c)))}function l(){var c=[].slice.call(arguments);e.removeListener(t,o),i.apply(void 0,da([],Dt(c)))}e.once(t,o),a&&e.once(a,l),s()})}function $$(s,e){return e.split(".").reduce(function(t,a){return t?t[a]:null},s)}function D$(){var s={};return s.promise=new Promise(function(e,t){s.resolve=e,s.reject=t}),s}function F$(s,e,t,a){if(!(a in e)&&!a.match(/^on[a-z]+$/)){var n;try{n=typeof s[a]}catch{}n==="function"&&(e[a]=function(){for(var i,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return(i=this[t])[a].apply(i,da([],Dt(o)))})}}function B$(s,e,t){for(var a in s)F$(s,e,t,a)}function ll(s,e){if(s===e)return!0;if(typeof s!=typeof e)return!1;if(s===null)return e===null;if(e===null)return!1;if(Array.isArray(s))return Array.isArray(e)&&s.length===e.length&&s.every(function(n,i){return ll(n,e[i])});if(typeof s=="object"){var t=Object.keys(s).sort(),a=Object.keys(e).sort();return!Array.isArray(e)&&ll(t,a)&&t.every(function(n){return ll(s[n],e[n])})}return!1}function xw(s){return typeof s=="object"&&!Array.isArray(s)}function V$(s,e,t){Object.getOwnPropertyNames(s).forEach(function(a){U$(s,e,t,a)})}function U$(s,e,t,a){if(!(a in e)){if(a.match(/^on[a-z]+$/)){Object.defineProperty(e,a,{value:null,writable:!0}),t.addEventListener(a.slice(2),function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e.dispatchEvent.apply(e,da([],Dt(n)))});return}Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})}}function W$(s,e,t){return e?s.then(function(a){e(a)},function(a){t(a)}):s}function z$(s){return typeof s=="string"?{default:s,media:s,signaling:s,webrtc:s}:s}function H$(s,e){return e=e?"Local":"",e+(s.kind||"").replace(/\w{1}/,function(t){return t.toUpperCase()})+"Track"}function q$(s,e){return e=e?"Local":"",e+(s.kind||"").replace(/\w{1}/,function(t){return t.toUpperCase()})+"TrackPublication"}function yw(s){Object.getOwnPropertyNames(s).forEach(function(e){e.startsWith("_")&&bw(s,e)})}function G$(s,e){return function(t){w$(a,t);function a(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=t.apply(this,da([],Dt(n)))||this;return yw(o),Y$(o,e),o}return a}(s)}function bw(s,e){var t=Object.getOwnPropertyDescriptor(s,e);t.enumerable=!1,Object.defineProperty(s,e,t)}function Y$(s,e){e===void 0&&(e=[]),e.forEach(function(t){s.hasOwnProperty(t)&&bw(s,t)})}function vw(s){return s.map(Cc)}function K$(s){return vw(da([],Dt(s)))}function Q$(s){return da([],Dt(s.entries())).reduce(function(e,t){var a,n=Dt(t,2),i=n[0],o=n[1];return Object.assign((a={},a[i]=Cc(o),a),e)},{})}function Z$(s){return Object.entries(s).reduce(function(e,t){var a,n=Dt(t,2),i=n[0],o=n[1];return Object.assign((a={},a[i]=Cc(o),a),e)},{})}function Cc(s){return Array.isArray(s)?vw(s):s instanceof Set?K$(s):s instanceof Map?Q$(s):s&&typeof s=="object"?Z$(s):s}function J$(s){function e(i){return i?"true":"false"}var t={sessionSID:k$,iceServers:(s.iceServers||[]).length,audioTracks:(s.tracks||[]).filter(function(i){return i.kind==="audio"}).length,videoTracks:(s.tracks||[]).filter(function(i){return i.kind==="video"}).length,dataTracks:(s.tracks||[]).filter(function(i){return i.kind==="data"}).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach(function(i){var o=Dt(i,2),l=o[0],c=o[1];c=c||l,t[c]=e(!!s[l])}),[["maxVideoBitrate"],["maxAudioBitrate"]].forEach(function(i){var o=Dt(i,2),l=o[0],c=o[1];c=c||l,typeof s[l]=="number"?t[c]=s[l]:isNaN(Number(s[l]))||(t[c]=Number(s[l]))}),[["iceTransportPolicy"],["region"],["name","roomName"]].forEach(function(i){var o=Dt(i,2),l=o[0],c=o[1];c=c||l,typeof s[l]=="string"?t[c]=s[l]:typeof s[l]=="number"&&l==="name"&&(t[c]=s[l].toString())}),["preferredAudioCodecs","preferredVideoCodecs"].forEach(function(i){i in s&&(t[i]=JSON.stringify(s[i]))}),"networkQuality"in s&&(t.networkQualityConfiguration={},xw(s.networkQuality)?["local","remote"].forEach(function(i){typeof s.networkQuality[i]=="number"&&(t.networkQualityConfiguration[i]=s.networkQuality[i])}):(t.networkQualityConfiguration.remote=0,t.networkQualityConfiguration.local=s.networkQuality?1:0)),s.bandwidthProfile&&s.bandwidthProfile.video){var a=s.bandwidthProfile.video||{};t.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate","renderDimensions","contentPreferencesMode","clientTrackSwitchOffControl"].forEach(function(i){typeof a[i]=="number"||typeof a[i]=="string"?t.bandwidthProfileOptions[i]=a[i]:typeof a[i]=="boolean"?t.bandwidthProfileOptions[i]=e(a[i]):typeof a[i]=="object"&&(t.bandwidthProfileOptions[i]=JSON.stringify(a[i]))})}var n={RTCPeerConnection:"customRTCPeerConnectionImpl",MediaStream:"customMediaStreamImpl",getUserMedia:"customGetUserMediaImpl",enumerateDevices:"customEnumerateDevicesImpl"};return Object.entries(n).forEach(function(i){var o=Dt(i,2),l=o[0],c=o[1];t[c]=e(typeof s[l]<"u")}),{group:"room",name:"connect",level:"info",payload:t}}function X$(s){return Ec(s,[{prop:"video",type:"object",transform:eD}])}function eD(s){return Ec(s,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:rD},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function tD(s,e,t,a,n,i,o){var l={transports:[{type:"data-channel"}]};return Object.assign(s?{active_speaker:l}:{},e?{network_quality:l}:{},i?{render_hints:l}:{},n?{publisher_hints:l}:{},t?{track_priority:l}:{},a?{track_switch_off:l}:{},o?{extension_transcriptions:l}:{})}function Ed(s){return Ec(s,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function rD(s){var e=Cd.PRIORITY_HIGH,t=Cd.PRIORITY_LOW,a=Cd.PRIORITY_STANDARD;return Ec(s,[{prop:e,type:"object",transform:Ed},{prop:t,type:"object",transform:Ed},{prop:a,type:"object",transform:Ed}])}function Ec(s,e){return e.reduce(function(t,a){var n,i=a.prop,o=a.type,l=a.payloadProp,c=l===void 0?i:l,d=a.transform,u=d===void 0?function(h){return h}:d;return typeof s[i]===o?Object.assign((n={},n[c]=u(s[i]),n),t):t},{})}function sD(s){return{rules:[{type:s?"include":"exclude",all:!0}],revision:1}}function aD(s){var e,t=(e={},e[_$.recordingMediaLost]="recordings",e);return s.map(function(a){return t[a]}).filter(function(a){return!!a})}function nD(s,e){var t=Math.random();return s-e+Math.floor(2*e*t+.5)}function iD(s,e,t){return e<=s&&s<=t}function oD(s){return N$.guessBrowser()==="chrome"&&s.kind==="video"&&"displaySurface"in s.getSettings()}function lD(s){return s===void 0&&(s=10),new Promise(function(e){return setTimeout(e,s)})}function cD(s,e){return new Promise(function(t){s.addEventListener(e,function a(n){s.removeEventListener(e,a),t(n)})})}oe.constants=bm;oe.createBandwidthProfilePayload=X$;oe.createMediaSignalingPayload=tD;oe.createMediaWarningsPayload=aD;oe.createRoomConnectEventPayload=J$;oe.createSubscribePayload=sD;oe.asLocalTrack=S$;oe.asLocalTrackPublication=C$;oe.capitalize=E$;oe.deprecateEvents=T$;oe.difference=P$;oe.filterObject=A$;oe.flatMap=O$;oe.getPlatform=L$;oe.getUserAgent=gw;oe.hidePrivateProperties=yw;oe.hidePrivateAndCertainPublicPropertiesInClass=G$;oe.isDeepEqual=ll;oe.isNonArrayObject=xw;oe.inRange=iD;oe.makeUUID=R$;oe.oncePerTick=I$;oe.promiseFromEvents=M$;oe.getOrNull=$$;oe.defer=D$;oe.delegateMethods=B$;oe.proxyProperties=V$;oe.legacyPromise=W$;oe.buildLogLevels=z$;oe.trackClass=H$;oe.trackPublicationClass=q$;oe.valueToJSON=Cc;oe.withJitter=nD;oe.isChromeScreenShareTrack=oD;oe.waitForSometime=lD;oe.waitForEvent=cD;var Gt={},ww=Fe,dD=ww.flatMap,uD=ww.guessBrowser,Ms=null;function hD(){if(typeof Ms=="boolean")return Ms;if(typeof RTCPeerConnection>"u")return Ms=!1,Ms;try{new RTCPeerConnection({sdpSemantics:"foo"}),Ms=!1}catch{Ms=!0}return Ms}var $a=null;function mD(){$a=null}function pD(){if(!$a)if(typeof RTCPeerConnection<"u"&&"addTransceiver"in RTCPeerConnection.prototype){var s=new RTCPeerConnection;try{s.addTransceiver("audio"),$a="unified"}catch{$a="planb"}s.close()}else $a="planb";return $a}function fD(s){return!s||!hD()?pD():{"plan-b":"planb","unified-plan":"unified"}[s]}function gD(){return typeof RTCRtpTransceiver<"u"&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}function xD(s){return{chrome:fD(s),firefox:"unified",safari:gD()}[uD()]||null}function vm(s,e){var t=e.match(new RegExp(s,"gm"))||[];return t.reduce(function(a,n){var i=n.match(new RegExp(s));return i?a.add(i[1]):a},new Set)}function jw(s,e){return vm(s,e)}function Nw(s){return jw("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",s)}function kw(s){return jw("^a=msid:.+ +(.+) *$",s)}function _w(s,e){var t="^a=ssrc:([0-9]+) +msid:[^ ]+ +"+e+" *$";return vm(t,s)}function Sw(s,e,t){return e===void 0&&(e=".*"),t===void 0&&(t=".*"),s.split(`\r
m=`).slice(1).map(function(a){return"m="+a}).filter(function(a){var n=new RegExp("m="+e,"gm"),i=new RegExp("a="+t,"gm");return n.test(a)&&i.test(a)})}function yD(s){return Array.from(vm("^a=ssrc:([0-9]+) +.*$",s))}function Cw(s,e){var t=Sw(s),a=new RegExp("^a=msid:[^ ]+ +"+e+" *$","gm"),n=t.filter(function(i){return i.match(a)});return new Set(dD(n,yD))}function Ew(s,e,t){return new Map(Array.from(s(t)).map(function(a){return[a,e(t,a)]}))}function bD(s){return Ew(Nw,_w,s)}function vD(s){return Ew(kw,Cw,s)}function Tw(s,e,t){var a=s(t),n=new Map;a.forEach(function(l,c){if(!e.has(c)){e.set(c,l);return}var d=Array.from(e.get(c)),u=Array.from(l);d.forEach(function(h,p){var f=u[p];n.set(f,h);var y="^a=ssrc:"+f+" (.*)$",x="a=ssrc:"+h+" $1";t=t.replace(new RegExp(y,"gm"),x)})});var i="^(a=ssrc-group:[^ ]+ +)(.*)$",o=t.match(new RegExp(i,"gm"))||[];return o.forEach(function(l){var c=l.match(new RegExp(i));if(c){var d=c[1],u=c[2],h=u.split(" ").map(function(p){var f=n.get(p);return f||p}).join(" ");t=t.replace(c[0],d+h)}}),t}function wD(s,e){return Tw(bD,s,e)}function jD(s,e){return Tw(vD,s,e)}Gt.clearChromeCachedSdpFormat=mD;Gt.getSdpFormat=xD;Gt.getMediaSections=Sw;Gt.getPlanBTrackIds=Nw;Gt.getUnifiedPlanTrackIds=kw;Gt.getPlanBSSRCs=_w;Gt.getUnifiedPlanSSRCs=Cw;Gt.updatePlanBTrackIdsToSSRCs=wD;Gt.updateUnifiedPlanTrackIdsToSSRCs=jD;var Ht=T&&T.__values||function(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],a=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},us=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},wm=Fe,Pw=wm.flatMap,ND=wm.guessBrowser,kD=wm.guessBrowserVersion,_D=Gt.getSdpFormat,jm=ND(),SD=kD(),Nm=jm==="chrome",Aw=jm==="firefox",Ow=jm==="safari",rg=Nm?SD.major:null,CD=32767;function rn(s,e){return typeof s.get=="function"?s.get(e):s.find(function(t){return t.id===e})}function ED(s,e,t){var a,n,i,o,l,c,d,u,h,p,f,y,x,g,v,b,k,w,N,j,_,S;t===void 0&&(t=!1);var C;if(Array.isArray(s))C=new Map(s.map(function(Qe){return[Qe.id||String(Math.random()),Qe]}));else if(s instanceof Map)C=s;else if(typeof s=="object"&&s!==null){var I=new Map;Object.keys(s).forEach(function(Qe){I.set(Qe,s[Qe])}),C=I}else return new Map;if(!C||!e)return new Map;var P=new Map,A=e.id,L=e.kind,O=null,M=null,$=null;try{for(var D=Ht(C),q=D.next();!q.done;q=D.next()){var W=us(q.value,2),B=W[0],V=W[1];if(t&&V.type==="inbound-rtp"&&V.trackIdentifier===A){O=V,M=B,$=V.ssrc;break}else if(!t&&V.type==="media-source"&&V.trackIdentifier===A){O=V,M=B;break}else V.type==="track"&&V.trackIdentifier===A&&(O||(O=V,M=B))}}catch(Qe){a={error:Qe}}finally{try{q&&!q.done&&(n=D.return)&&n.call(D)}finally{if(a)throw a.error}}if(!O)if(t){var ee=[];try{for(var F=Ht(C),z=F.next();!z.done;z=F.next()){var X=us(z.value,2),B=X[0],V=X[1];V.type==="inbound-rtp"&&(V.kind===L||V.mediaType===L)&&ee.push({id:B,stat:V})}}catch(Qe){i={error:Qe}}finally{try{z&&!z.done&&(o=F.return)&&o.call(F)}finally{if(i)throw i.error}}(ee.length===1||ee.length>1)&&(O=ee[0].stat,M=ee[0].id,$=O.ssrc)}else try{for(var Y=Ht(C),K=Y.next();!K.done;K=Y.next()){var U=us(K.value,2),B=U[0],V=U[1];if(V.type==="media-source"&&V.kind===L){O=V,M=B;break}}}catch(Qe){l={error:Qe}}finally{try{K&&!K.done&&(c=Y.return)&&c.call(Y)}finally{if(l)throw l.error}}if(!O)return P;P.set(M,O);var ae=new Set;if(t){if(O.codecId&&ae.add(O.codecId),O.transportId&&ae.add(O.transportId),O.remoteId&&ae.add(O.remoteId),$)try{for(var Q=Ht(C),re=Q.next();!re.done;re=Q.next()){var ue=us(re.value,2),B=ue[0],V=ue[1];V.type==="remote-outbound-rtp"&&V.ssrc===$&&ae.add(B)}}catch(Qe){d={error:Qe}}finally{try{re&&!re.done&&(u=Q.return)&&u.call(Q)}finally{if(d)throw d.error}}try{for(var Me=Ht(ae),it=Me.next();!it.done;it=Me.next()){var ut=it.value;C.has(ut)&&P.set(ut,C.get(ut))}}catch(Qe){h={error:Qe}}finally{try{it&&!it.done&&(p=Me.return)&&p.call(Me)}finally{if(h)throw h.error}}try{for(var bt=Ht(C),te=bt.next();!te.done;te=bt.next()){var ge=us(te.value,2),B=ge[0],V=ge[1];V.type==="track"&&V.trackIdentifier===A&&P.set(B,V)}}catch(Qe){f={error:Qe}}finally{try{te&&!te.done&&(y=bt.return)&&y.call(bt)}finally{if(f)throw f.error}}}else{try{for(var ye=Ht(C),lt=ye.next();!lt.done;lt=ye.next()){var ns=us(lt.value,2),B=ns[0],V=ns[1];if(V.type==="outbound-rtp"&&V.mediaSourceId===M){P.set(B,V),V.codecId&&ae.add(V.codecId),V.transportId&&ae.add(V.transportId);var H=B;try{for(var ne=(v=void 0,Ht(C)),ce=ne.next();!ce.done;ce=ne.next()){var fe=us(ce.value,2),Ne=fe[0],Ae=fe[1];Ae.type==="remote-inbound-rtp"&&Ae.localId===H&&P.set(Ne,Ae)}}catch(G2){v={error:G2}}finally{try{ce&&!ce.done&&(b=ne.return)&&b.call(ne)}finally{if(v)throw v.error}}}}}catch(Qe){x={error:Qe}}finally{try{lt&&!lt.done&&(g=ye.return)&&g.call(ye)}finally{if(x)throw x.error}}try{for(var ht=Ht(ae),It=ht.next();!It.done;It=ht.next()){var ut=It.value;C.has(ut)&&P.set(ut,C.get(ut))}}catch(Qe){k={error:Qe}}finally{try{It&&!It.done&&(w=ht.return)&&w.call(ht)}finally{if(k)throw k.error}}}var $r=null,ka=new Set;try{for(var _a=Ht(P.values()),is=_a.next();!is.done;is=_a.next()){var V=is.value;V.transportId&&ka.add(V.transportId)}}catch(Qe){N={error:Qe}}finally{try{is&&!is.done&&(j=_a.return)&&j.call(_a)}finally{if(N)throw N.error}}try{for(var Sa=Ht(ka),xn=Sa.next();!xn.done;xn=Sa.next()){var Hc=xn.value;if(C.has(Hc)){var cr=C.get(Hc);P.set(Hc,cr),cr.selectedCandidatePairId&&($r=cr.selectedCandidatePairId),cr.localCertificateId&&C.has(cr.localCertificateId)&&P.set(cr.localCertificateId,C.get(cr.localCertificateId)),cr.remoteCertificateId&&C.has(cr.remoteCertificateId)&&P.set(cr.remoteCertificateId,C.get(cr.remoteCertificateId))}}}catch(Qe){_={error:Qe}}finally{try{xn&&!xn.done&&(S=Sa.return)&&S.call(Sa)}finally{if(_)throw _.error}}if($r&&C.has($r)){var Dr=C.get($r);P.set($r,Dr),Dr.localCandidateId&&C.has(Dr.localCandidateId)&&P.set(Dr.localCandidateId,C.get(Dr.localCandidateId)),Dr.remoteCandidateId&&C.has(Dr.remoteCandidateId)&&P.set(Dr.remoteCandidateId,C.get(Dr.remoteCandidateId))}return P}function TD(s,e){return s&&typeof s.getStats=="function"?PD(s,e):Promise.reject(new Error("Given PeerConnection does not support getStats"))}function PD(s,e){var t=ko(s,"audio","local"),a=ko(s,"video","local"),n=ko(s,"audio"),i=ko(s,"video"),o={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},l=Pw([[t,"localAudioTrackStats",!1],[a,"localVideoTrackStats",!1],[n,"remoteAudioTrackStats",!0],[i,"remoteVideoTrackStats",!0]],function(c){var d=us(c,3),u=d[0],h=d[1],p=d[2];return u.map(function(f){return ID(s,f,Object.assign({isRemote:p},e)).then(function(y){y.forEach(function(x){x.trackId=f.id,o[h].push(x)})})})});return Promise.all(l).then(function(){return AD(s,e)}).then(function(c){return o.activeIceCandidatePair=c,o})}function AD(s,e){return e===void 0&&(e={}),typeof e.testForChrome<"u"||Nm||typeof e.testForSafari<"u"||Ow?s.getStats().then(OD):typeof e.testForFirefox<"u"||Aw?s.getStats().then(LD):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}function OD(s){var e=Array.from(s.values()).find(function(c){var d=c.nominated,u=c.type;return u==="candidate-pair"&&d});if(!e)return null;var t=rn(s,e.localCandidateId),a=rn(s,e.remoteCandidateId),n=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],i=n.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o=t?i.reduce(function(c,d){var u=d.key,h=d.type;return c[u]=typeof t[u]===h?t[u]:u==="deleted"?!1:null,c},{}):null,l=a?n.reduce(function(c,d){var u=d.key,h=d.type;return c[u]=typeof a[u]===h?a[u]:null,c},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(c){return c==="inprogress"?"in-progress":c}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(c,d){var u=d.key,h=d.type,p=d.fixup;return c[u]=typeof e[u]===h?p?p(e[u]):e[u]:null,c},{localCandidate:o,remoteCandidate:l})}function LD(s){var e=Array.from(s.values()).find(function(d){var u=d.nominated,h=d.type;return h==="candidate-pair"&&u});if(!e)return null;var t=rn(s,e.localCandidateId),a=rn(s,e.remoteCandidateId),n=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],i=n.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},l=t?i.reduce(function(d,u){var h=u.ffKeys,p=u.key,f=u.type,y=h&&h.find(function(x){return x in t})||p;return d[p]=typeof t[y]===f?y==="candidateType"&&o[t[y]]||t[y]:y==="deleted"?!1:null,d},{}):null,c=a?n.reduce(function(d,u){var h=u.ffKeys,p=u.key,f=u.type,y=h&&h.find(function(x){return x in a})||p;return d[p]=typeof a[y]===f?y==="candidateType"&&o[a[y]]||a[y]:null,d},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(d,u){var h=u.key,p=u.type;return d[h]=typeof e[h]===p?e[h]:null,d},{localCandidate:l,remoteCandidate:c})}function ko(s,e,t){var a=t==="local"?"getSenders":"getReceivers";if(s[a])return s[a]().map(function(o){var l=o.track;return l}).filter(function(o){return o&&o.kind===e});var n=t==="local"?"getLocalStreams":"getRemoteStreams",i=e==="audio"?"getAudioTracks":"getVideoTracks";return Pw(s[n](),function(o){return o[i]()})}function RD(s,e){var t,a,n,i,o,l;if(!s||!e)return!1;if(s.getReceivers){var c=s.getReceivers();try{for(var d=Ht(c),u=d.next();!u.done;u=d.next()){var h=u.value;if(h.track&&h.track.id===e.id)return!0}}catch(w){t={error:w}}finally{try{u&&!u.done&&(a=d.return)&&a.call(d)}finally{if(t)throw t.error}}}if(s.getRemoteStreams){var p=s.getRemoteStreams();try{for(var f=Ht(p),y=f.next();!y.done;y=f.next()){var x=y.value,g=x.getTracks();try{for(var v=(o=void 0,Ht(g)),b=v.next();!b.done;b=v.next()){var k=b.value;if(k.id===e.id)return!0}}catch(w){o={error:w}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}}}catch(w){n={error:w}}finally{try{y&&!y.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}return!1}function ID(s,e,t){return t===void 0&&(t={}),typeof t.testForChrome<"u"||Nm?sg(s,e,t):typeof t.testForFirefox<"u"||Aw?MD(s,e,t):typeof t.testForSafari<"u"||Ow?typeof t.testForSafari<"u"||_D()==="unified"?sg(s,e,t):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" "))):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}function sg(s,e,t){var a=t.log;return rg&&rg<67?new Promise(function(n,i){s.getStats(function(o){n([$D(o,e)])},null,i)}):s.getStats(e).then(function(n){return a.info("getStats by track successful"),ag(n,t)}).catch(function(){return a.warn("getStats by track failed. Getting default stats"),s.getStats().then(function(n){a.info("getStats by default successful");var i=RD(s,e);a.info("Starting filtering stats for "+(i?"remote":"local")+" track");var o=ED(n,e,i);return a.info("Completed filtering stats for "+(i?"remote":"local")+" track"),ag(o,t)})})}function MD(s,e,t){return s.getStats(e).then(function(a){return[DD(a,t)]})}function $D(s,e){var t=s.result().find(function(n){return n.type==="ssrc"&&n.stat("googTrackId")===e.id}),a={};return t&&(a.timestamp=Math.round(Number(t.timestamp)),a=t.names().reduce(function(n,i){switch(i){case"googCodecName":n.codecName=t.stat(i);break;case"googRtt":n.roundTripTime=Number(t.stat(i));break;case"googJitterReceived":n.jitter=Number(t.stat(i));break;case"googFrameWidthInput":n.frameWidthInput=Number(t.stat(i));break;case"googFrameHeightInput":n.frameHeightInput=Number(t.stat(i));break;case"googFrameWidthSent":n.frameWidthSent=Number(t.stat(i));break;case"googFrameHeightSent":n.frameHeightSent=Number(t.stat(i));break;case"googFrameWidthReceived":n.frameWidthReceived=Number(t.stat(i));break;case"googFrameHeightReceived":n.frameHeightReceived=Number(t.stat(i));break;case"googFrameRateInput":n.frameRateInput=Number(t.stat(i));break;case"googFrameRateSent":n.frameRateSent=Number(t.stat(i));break;case"googFrameRateReceived":n.frameRateReceived=Number(t.stat(i));break;case"ssrc":n[i]=t.stat(i);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":n[i]=Number(t.stat(i));break}return n},a)),a}function ag(s,e){var t=e.simulateExceptionWhileStandardizingStats,a=t===void 0?!1:t;if(a)throw new Error("Error while gathering stats");var n=null,i=[],o=null,l=null,c=null,d=null,u=null;s.forEach(function(x){var g=x.type;switch(g){case"inbound-rtp":n=x;break;case"outbound-rtp":i.push(x);break;case"media-source":u=x;break;case"track":c=x;break;case"codec":d=x;break;case"remote-inbound-rtp":o=x;break;case"remote-outbound-rtp":l=x;break}});var h=c?c.remoteSource:!u,p=h?[n]:i,f=[],y=h?l:o;return p.forEach(function(x){var g={},v=[x,u,c,d,y&&y.ssrc===x.ssrc?y:null];function b(X){var Y=v.find(function(K){return K&&typeof K[X]<"u"})||null;return Y?Y[X]:null}var k=b("ssrc");typeof k=="number"&&(g.ssrc=String(k));var w=b("timestamp");g.timestamp=Math.round(w);var N=b("mimeType");typeof N=="string"&&(N=N.split("/"),g.codecName=N[N.length-1]);var j=b("roundTripTime");typeof j=="number"&&(g.roundTripTime=Math.round(j*1e3));var _=b("jitter");typeof _=="number"&&(g.jitter=Math.round(_*1e3));var S=b("frameWidth");typeof S=="number"&&(h?g.frameWidthReceived=S:(g.frameWidthSent=S,g.frameWidthInput=c?c.frameWidth:u.width));var C=b("frameHeight");typeof C=="number"&&(h?g.frameHeightReceived=C:(g.frameHeightSent=C,g.frameHeightInput=c?c.frameHeight:u.height));var I=b("framesPerSecond");typeof I=="number"&&(g[h?"frameRateReceived":"frameRateSent"]=I);var P=b("bytesReceived");typeof P=="number"&&(g.bytesReceived=P);var A=b("bytesSent");typeof A=="number"&&(g.bytesSent=A);var L=b("packetsLost");typeof L=="number"&&(g.packetsLost=L);var O=b("packetsReceived");typeof O=="number"&&(g.packetsReceived=O);var M=b("packetsSent");typeof M=="number"&&(g.packetsSent=M);var $=b("audioLevel");typeof $=="number"&&($=Math.round($*CD),h?g.audioOutputLevel=$:g.audioInputLevel=$);var D=b("totalPacketSendDelay");typeof D=="number"&&(g.totalPacketSendDelay=D);var q=b("totalEncodeTime");typeof q=="number"&&(g.totalEncodeTime=q);var W=b("framesEncoded");typeof W=="number"&&(g.framesEncoded=W);var B=b("estimatedPlayoutTimestamp");typeof B=="number"&&(g.estimatedPlayoutTimestamp=B);var V=b("totalDecodeTime");typeof V=="number"&&(g.totalDecodeTime=V);var ee=b("framesDecoded");typeof ee=="number"&&(g.framesDecoded=ee);var F=b("jitterBufferDelay");typeof F=="number"&&(g.jitterBufferDelay=F);var z=b("jitterBufferEmittedCount");typeof z=="number"&&(g.jitterBufferEmittedCount=z),f.push(g)}),f}function DD(s,e){s===void 0&&(s=new Map);var t=e.isRemote,a=e.simulateExceptionWhileStandardizingStats,n=a===void 0?!1:a;if(n)throw new Error("Error while gathering stats");var i=null,o=null;s.forEach(function(O){var M=O.isRemote,$=O.remoteId,D=O.type;if(!M)switch(D){case"inbound-rtp":i=O,o=rn(s,$);break;case"outbound-rtp":o=O,i=rn(s,$);break}});var l=t?i:o,c=t?o:i;function d(O){return l&&typeof l[O]<"u"?l[O]:c&&typeof c[O]<"u"?c[O]:null}var u={},h=d("timestamp");u.timestamp=Math.round(h);var p=d("ssrc");typeof p=="number"&&(u.ssrc=String(p));var f=d("bytesSent");typeof f=="number"&&(u.bytesSent=f);var y=d("packetsLost");typeof y=="number"&&(u.packetsLost=y);var x=d("packetsSent");typeof x=="number"&&(u.packetsSent=x);var g=d("roundTripTime");typeof g=="number"&&(u.roundTripTime=Math.round(g*1e3));var v=d("jitter");typeof v=="number"&&(u.jitter=Math.round(v*1e3));var b=d("framerateMean");typeof b=="number"&&(u.frameRateSent=Math.round(b));var k=d("bytesReceived");typeof k=="number"&&(u.bytesReceived=k);var w=d("packetsReceived");typeof w=="number"&&(u.packetsReceived=w);var N=d("framerateMean");typeof N=="number"&&(u.frameRateReceived=Math.round(N));var j=d("totalPacketSendDelay");typeof j=="number"&&(u.totalPacketSendDelay=j);var _=d("totalEncodeTime");typeof _=="number"&&(u.totalEncodeTime=_);var S=d("framesEncoded");typeof S=="number"&&(u.framesEncoded=S);var C=d("estimatedPlayoutTimestamp");typeof C=="number"&&(u.estimatedPlayoutTimestamp=C);var I=d("totalDecodeTime");typeof I=="number"&&(u.totalDecodeTime=I);var P=d("framesDecoded");typeof P=="number"&&(u.framesDecoded=P);var A=d("jitterBufferDelay");typeof A=="number"&&(u.jitterBufferDelay=A);var L=d("jitterBufferEmittedCount");return typeof L=="number"&&(u.jitterBufferEmittedCount=L),u}var FD=TD;function BD(s){return s===void 0&&(s={audio:!0,video:!0}),typeof navigator=="object"&&typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(s):Promise.reject(new Error("getUserMedia is not supported"))}var VD=BD,th={exports:{}};typeof MediaStream=="function"?th.exports=MediaStream:th.exports=function(){throw new Error("MediaStream is not supported")};var Lw=th.exports,rh={exports:{}};typeof MediaStreamTrack=="function"?rh.exports=MediaStreamTrack:rh.exports=function(){throw new Error("MediaStreamTrack is not supported")};var UD=rh.exports,sh={exports:{}};typeof RTCIceCandidate=="function"?sh.exports=RTCIceCandidate:sh.exports=function(){throw new Error("RTCIceCandidate is not supported")};var WD=sh.exports,Da={exports:{}},Td,ng;function Rw(){if(ng)return Td;ng=1;var s=function(){function e(t){this.descriptionInitDict=t;var a=t&&t.type==="rollback"?null:new RTCSessionDescription(t);Object.defineProperties(this,{_description:{get:function(){return a}}})}return Object.defineProperty(e.prototype,"sdp",{get:function(){return this._description?this._description.sdp:this.descriptionInitDict.sdp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._description?this._description.type:this.descriptionInitDict.type},enumerable:!1,configurable:!0}),e}();return Td=s,Td}var km={exports:{}},qa=typeof Reflect=="object"?Reflect:null,ig=qa&&typeof qa.apply=="function"?qa.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)},cl;qa&&typeof qa.ownKeys=="function"?cl=qa.ownKeys:Object.getOwnPropertySymbols?cl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:cl=function(e){return Object.getOwnPropertyNames(e)};function zD(s){console&&console.warn&&console.warn(s)}var Iw=Number.isNaN||function(e){return e!==e};function He(){He.init.call(this)}km.exports=He;km.exports.once=YD;He.EventEmitter=He;He.prototype._events=void 0;He.prototype._eventsCount=0;He.prototype._maxListeners=void 0;var og=10;function Tc(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return og},set:function(s){if(typeof s!="number"||s<0||Iw(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");og=s}});He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};He.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Iw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Mw(s){return s._maxListeners===void 0?He.defaultMaxListeners:s._maxListeners}He.prototype.getMaxListeners=function(){return Mw(this)};He.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")ig(c,this,t);else for(var d=c.length,u=Vw(c,d),a=0;a<d;++a)ig(u[a],this,t);return!0};function $w(s,e,t,a){var n,i,o;if(Tc(t),i=s._events,i===void 0?(i=s._events=Object.create(null),s._eventsCount=0):(i.newListener!==void 0&&(s.emit("newListener",e,t.listener?t.listener:t),i=s._events),o=i[e]),o===void 0)o=i[e]=t,++s._eventsCount;else if(typeof o=="function"?o=i[e]=a?[t,o]:[o,t]:a?o.unshift(t):o.push(t),n=Mw(s),n>0&&o.length>n&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=s,l.type=e,l.count=o.length,zD(l)}return s}He.prototype.addListener=function(e,t){return $w(this,e,t,!1)};He.prototype.on=He.prototype.addListener;He.prototype.prependListener=function(e,t){return $w(this,e,t,!0)};function HD(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Dw(s,e,t){var a={fired:!1,wrapFn:void 0,target:s,type:e,listener:t},n=HD.bind(a);return n.listener=t,a.wrapFn=n,n}He.prototype.once=function(e,t){return Tc(t),this.on(e,Dw(this,e,t)),this};He.prototype.prependOnceListener=function(e,t){return Tc(t),this.prependListener(e,Dw(this,e,t)),this};He.prototype.removeListener=function(e,t){var a,n,i,o,l;if(Tc(t),n=this._events,n===void 0)return this;if(a=n[e],a===void 0)return this;if(a===t||a.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if(typeof a!="function"){for(i=-1,o=a.length-1;o>=0;o--)if(a[o]===t||a[o].listener===t){l=a[o].listener,i=o;break}if(i<0)return this;i===0?a.shift():qD(a,i),a.length===1&&(n[e]=a[0]),n.removeListener!==void 0&&this.emit("removeListener",e,l||t)}return this};He.prototype.off=He.prototype.removeListener;He.prototype.removeAllListeners=function(e){var t,a,n;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[e]),this;if(arguments.length===0){var i=Object.keys(a),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=a[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function Fw(s,e,t){var a=s._events;if(a===void 0)return[];var n=a[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?GD(n):Vw(n,n.length)}He.prototype.listeners=function(e){return Fw(this,e,!0)};He.prototype.rawListeners=function(e){return Fw(this,e,!1)};He.listenerCount=function(s,e){return typeof s.listenerCount=="function"?s.listenerCount(e):Bw.call(s,e)};He.prototype.listenerCount=Bw;function Bw(s){var e=this._events;if(e!==void 0){var t=e[s];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?cl(this._events):[]};function Vw(s,e){for(var t=new Array(e),a=0;a<e;++a)t[a]=s[a];return t}function qD(s,e){for(;e+1<s.length;e++)s[e]=s[e+1];s.pop()}function GD(s){for(var e=new Array(s.length),t=0;t<e.length;++t)e[t]=s[t].listener||s[t];return e}function YD(s,e){return new Promise(function(t,a){function n(o){s.removeListener(e,i),a(o)}function i(){typeof s.removeListener=="function"&&s.removeListener("error",n),t([].slice.call(arguments))}Uw(s,e,i,{once:!0}),e!=="error"&&KD(s,n,{once:!0})})}function KD(s,e,t){typeof s.on=="function"&&Uw(s,"error",e,t)}function Uw(s,e,t,a){if(typeof s.on=="function")a.once?s.once(e,t):s.on(e,t);else if(typeof s.addEventListener=="function")s.addEventListener(e,function n(i){a.once&&s.removeEventListener(e,n),t(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}var Bt=km.exports,Pd,lg;function _m(){if(lg)return Pd;lg=1;var s=T&&T.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var l=o.call(n),c,d=[],u;try{for(;(i===void 0||i-- >0)&&!(c=l.next()).done;)d.push(c.value)}catch(h){u={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(u)throw u.error}}return d},e=T&&T.__spreadArray||function(n,i){for(var o=0,l=i.length,c=n.length;o<l;o++,c++)n[c]=i[o];return n},t=Bt.EventEmitter,a=function(){function n(){Object.defineProperties(this,{_eventEmitter:{value:new t}})}return n.prototype.dispatchEvent=function(i){return this._eventEmitter.emit(i.type,i)},n.prototype.addEventListener=function(){var i;return(i=this._eventEmitter).addListener.apply(i,e([],s(arguments)))},n.prototype.removeEventListener=function(){var i;return(i=this._eventEmitter).removeListener.apply(i,e([],s(arguments)))},n}();return Pd=a,Pd}var Ad,cg;function Ww(){if(cg)return Ad;cg=1;var s=Fe.defer,e={high:new Set(["low"]),low:new Set(["high"])},t=function(){function n(i){i===void 0&&(i="low");var o=i;Object.defineProperties(this,{_state:{set:function(l){var c=this;if(o!==l){o=l;var d=this._whenDeferreds.get(o);d.forEach(function(u){return u.resolve(c)}),d.clear()}},get:function(){return o}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])}})}return Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.lower=function(){return this.transition("low")},n.prototype.raise=function(){return this.transition("high")},n.prototype.transition=function(i){if(!e[this.state].has(i))throw a(this.state,i);return this._state=i,this},n.prototype.when=function(i){if(this.state===i)return Promise.resolve(this);if(!e[this.state].has(i))return Promise.reject(a(this.state,i));var o=s();return this._whenDeferreds.get(i).add(o),o.promise},n}();function a(n,i){return new Error('Cannot transition from "'+n+'" to "'+i+'"')}return Ad=t,Ad}var Od,dg;function QD(){if(dg)return Od;dg=1;var s=function(){function e(t){Object.defineProperties(this,{track:{enumerable:!0,value:t,writable:!0}})}return e}();return Od=s,Od}var Ld,ug;function ZD(){if(ug)return Ld;ug=1;var s=T&&T.__extends||function(){var A=function(L,O){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,$){M.__proto__=$}||function(M,$){for(var D in $)Object.prototype.hasOwnProperty.call($,D)&&(M[D]=$[D])},A(L,O)};return function(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");A(L,O);function M(){this.constructor=L}L.prototype=O===null?Object.create(O):(M.prototype=O.prototype,new M)}}(),e=T&&T.__read||function(A,L){var O=typeof Symbol=="function"&&A[Symbol.iterator];if(!O)return A;var M=O.call(A),$,D=[],q;try{for(;(L===void 0||L-- >0)&&!($=M.next()).done;)D.push($.value)}catch(W){q={error:W}}finally{try{$&&!$.done&&(O=M.return)&&O.call(M)}finally{if(q)throw q.error}}return D},t=T&&T.__spreadArray||function(A,L){for(var O=0,M=L.length,$=A.length;O<M;O++,$++)A[$]=L[O];return A},a=Rw(),n=_m(),i=Ww(),o=Lw,l=QD(),c=Gt,d=c.getSdpFormat,u=c.updatePlanBTrackIdsToSSRCs,h=c.updateUnifiedPlanTrackIdsToSSRCs,p=Fe,f=p.delegateMethods,y=p.interceptEvent,x=p.isIOSChrome,g=p.legacyPromise,v=p.proxyProperties,b=d()==="unified",k=function(A){s(L,A);function L(O,M){O===void 0&&(O={});var $=A.call(this)||this,D=Object.assign(O.iceTransportPolicy?{iceTransports:O.iceTransportPolicy}:{},O);y($,"datachannel"),y($,"signalingstatechange");var q=d(D.sdpSemantics),W=new RTCPeerConnection(D,M);return Object.defineProperties($,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new o},_peerConnection:{value:W},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:q},_senders:{value:new Map},_signalingStateLatch:{value:new i},_tracksToSSRCs:{value:new Map,writable:!0}}),W.addEventListener("datachannel",function(B){I(B.channel),$.dispatchEvent(B)}),W.addEventListener("signalingstatechange",function(){for(var B=[],V=0;V<arguments.length;V++)B[V]=arguments[V];W.signalingState==="stable"&&($._appliedTracksToSSRCs=new Map($._tracksToSSRCs)),!$._pendingLocalOffer&&!$._pendingRemoteOffer&&$.dispatchEvent.apply($,t([],e(B)))}),W.ontrack=function(){},typeof W.addTrack!="function"&&W.addStream($._localStream),v(RTCPeerConnection.prototype,$,W),$}return Object.defineProperty(L.prototype,"localDescription",{get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"signalingState",{get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),L.prototype.addTrack=function(O){for(var M,$=[],D=1;D<arguments.length;D++)$[D-1]=arguments[D];if(typeof this._peerConnection.addTrack=="function")return(M=this._peerConnection).addTrack.apply(M,t([O],e($)));if(this._peerConnection.signalingState==="closed")throw new Error("Cannot add MediaStreamTrack ["+O.id+`, 
        `+O.kind+"]: RTCPeerConnection is closed");var q=this._senders.get(O);if(q&&q.track)throw new Error("Cannot add MediaStreamTrack ['"+O.id+`, 
        `+O.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(O),this._peerConnection.addStream(this._localStream),q=new l(O),this._senders.set(O,q),q},L.prototype.removeTrack=function(O){if(this._peerConnection.signalingState==="closed")throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");if(typeof this._peerConnection.addTrack=="function")try{return this._peerConnection.removeTrack(O)}catch{}else{var M=O.track;if(!M)return;O=this._senders.get(M),O&&O.track&&(O.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(M),this._peerConnection.addStream(this._localStream))}},L.prototype.getSenders=function(){return typeof this._peerConnection.addTrack=="function"?this._peerConnection.getSenders():Array.from(this._senders.values())},L.prototype.addIceCandidate=function(O){for(var M=this,$=[],D=1;D<arguments.length;D++)$[D-1]=arguments[D];var q;return this.signalingState==="have-remote-offer"?q=this._signalingStateLatch.when("low").then(function(){return M._peerConnection.addIceCandidate(O)}):q=this._peerConnection.addIceCandidate(O),$.length>0?g.apply(void 0,t([q],e($))):q},L.prototype.close=function(){this.signalingState!=="closed"&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},L.prototype.createAnswer=function(){for(var O=this,M=[],$=0;$<arguments.length;$++)M[$]=arguments[$];var D;return this._pendingRemoteOffer?D=this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return O._signalingStateLatch.lower(),O._peerConnection.createAnswer()}).then(function(q){return O._pendingRemoteOffer=null,O._rolledBackTracksToSSRCs.clear(),new a({type:"answer",sdp:P(O._sdpFormat,O._tracksToSSRCs,q.sdp)})},function(q){throw O._pendingRemoteOffer=null,q}):D=this._peerConnection.createAnswer().then(function(q){return O._rolledBackTracksToSSRCs.clear(),new a({type:"answer",sdp:P(O._sdpFormat,O._tracksToSSRCs,q.sdp)})}),M.length>1?g.apply(void 0,t([D],e(M))):D},L.prototype.createOffer=function(){for(var O=this,M=[],$=0;$<arguments.length;$++)M[$]=arguments[$];var D=e(M,3),q=D[0],W=D[1],B=D[2],V=B||q||{};if(x()){if(V.offerToReceiveVideo&&!this._audioTransceiver&&!(b&&j(this,"audio"))){delete V.offerToReceiveAudio;try{this._audioTransceiver=b?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(F){return Promise.reject(F)}}if(V.offerToReceiveVideo&&!this._videoTransceiver&&!(b&&j(this,"video"))){delete V.offerToReceiveVideo;try{this._videoTransceiver=b?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(F){return Promise.reject(F)}}}var ee=this._peerConnection.createOffer(V).then(function(F){return O._rolledBackTracksToSSRCs.clear(),new a({type:F.type,sdp:P(O._sdpFormat,O._tracksToSSRCs,F.sdp)})});return M.length>1?g(ee,q,W):ee},L.prototype.createDataChannel=function(O,M){M=C(M);var $=this._peerConnection.createDataChannel(O,M);return I($),$},L.prototype.setLocalDescription=function(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];var $=e(O,3),D=$[0],q=$[1],W=$[2];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var B=w(this,!0,D);return O.length>1?g(B,q,W):B},L.prototype.setRemoteDescription=function(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];var $=e(O,3),D=$[0],q=$[1],W=$[2];this._rolledBackTracksToSSRCs.clear();var B=w(this,!1,D);return O.length>1?g(B,q,W):B},L}(n);f(RTCPeerConnection.prototype,k.prototype,"_peerConnection");function w(A,L,O){function M(F){L?A._pendingLocalOffer=F:A._pendingRemoteOffer=F}function $(){L?A._pendingLocalOffer=null:A._pendingRemoteOffer=null}var D=L?A._pendingLocalOffer:A._pendingRemoteOffer,q=L?A._pendingRemoteOffer:A._pendingLocalOffer,W=L?"have-local-offer":"have-remote-offer",B=L?"setLocalDescription":"setRemoteDescription",V;if(!L&&q&&O.type==="answer")V=N(A,O);else if(O.type==="offer"){if(A.signalingState!==W&&A.signalingState!=="stable")return Promise.reject(new Error("Cannot set "+(L?"local":"remote")+" offer in state "+A.signalingState));!D&&A._signalingStateLatch.state==="low"&&A._signalingStateLatch.raise();var ee=A.signalingState;M(_(O)),V=Promise.resolve(),A.signalingState!==ee&&V.then(function(){return A.dispatchEvent(new Event("signalingstatechange"))})}else O.type==="rollback"&&(A.signalingState!==W?V=Promise.reject(new Error("Cannot rollback "+(L?"local":"remote")+" description in "+A.signalingState)):($(),A._rolledBackTracksToSSRCs=new Map(A._tracksToSSRCs),A._tracksToSSRCs=new Map(A._appliedTracksToSSRCs),V=Promise.resolve(),V.then(function(){return A.dispatchEvent(new Event("signalingstatechange"))})));return V||A._peerConnection[B](_(O))}function N(A,L){var O=A._pendingLocalOffer;return A._peerConnection.setLocalDescription(O).then(function(){return A._pendingLocalOffer=null,A.setRemoteDescription(L)}).then(function(){A._signalingStateLatch.lower()})}function j(A,L){return!!A.getTransceivers().find(function(O){var M=O.receiver,$=M===void 0?{}:M,D=$.track,q=D===void 0?{}:D;return q.kind===L})}function _(A){return A instanceof a&&A._description?A._description:new RTCSessionDescription(A)}function S(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function C(A){return A=Object.assign({},A),S()&&"maxPacketLifeTime"in A&&(A.maxRetransmitTime=A.maxPacketLifeTime),A}function I(A){return Object.defineProperty(A,"maxRetransmits",{value:A.maxRetransmits===65535?null:A.maxRetransmits}),S()&&Object.defineProperty(A,"maxPacketLifeTime",{value:A.maxRetransmitTime===65535?null:A.maxRetransmitTime}),A}function P(A,L,O){return A==="unified"?h(L,O):u(L,O)}return Ld=k,Ld}var Rd,hg;function zw(){return hg||(hg=1,Rd=RTCSessionDescription),Rd}var Id,mg;function JD(){if(mg)return Id;mg=1;var s=T&&T.__extends||function(){var x=function(g,v){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,k){b.__proto__=k}||function(b,k){for(var w in k)Object.prototype.hasOwnProperty.call(k,w)&&(b[w]=k[w])},x(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");x(g,v);function b(){this.constructor=g}g.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),e=T&&T.__read||function(x,g){var v=typeof Symbol=="function"&&x[Symbol.iterator];if(!v)return x;var b=v.call(x),k,w=[],N;try{for(;(g===void 0||g-- >0)&&!(k=b.next()).done;)w.push(k.value)}catch(j){N={error:j}}finally{try{k&&!k.done&&(v=b.return)&&v.call(b)}finally{if(N)throw N.error}}return w},t=T&&T.__spreadArray||function(x,g){for(var v=0,b=g.length,k=x.length;v<b;v++,k++)x[k]=g[v];return x},a=_m(),n=zw(),i=Gt.updateUnifiedPlanTrackIdsToSSRCs,o=Fe,l=o.delegateMethods,c=o.interceptEvent,d=o.legacyPromise,u=o.proxyProperties,h=function(x){s(g,x);function g(v){var b=x.call(this)||this;c(b,"signalingstatechange");var k=new RTCPeerConnection(v);Object.defineProperties(b,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:k},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},peerIdentity:{enumerable:!0,value:Promise.resolve({idp:"",name:""})}});var w;return k.addEventListener("signalingstatechange",function(){for(var N=[],j=0;j<arguments.length;j++)N[j]=arguments[j];!b._rollingBack&&b.signalingState!==w&&(w=b.signalingState,b._isClosed?setTimeout(function(){return b.dispatchEvent.apply(b,t([],e(N)))}):b.dispatchEvent.apply(b,t([],e(N))))}),u(RTCPeerConnection.prototype,b,k),b}return Object.defineProperty(g.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"localDescription",{get:function(){return y(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),g.prototype.createAnswer=function(){for(var v=this,b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var w;return w=this._peerConnection.createAnswer().then(function(N){return f(v,N),y(N,v._initiallyNegotiatedDtlsRole)}),typeof b[0]=="function"?d.apply(void 0,t([w],e(b))):w},g.prototype.createOffer=function(){for(var v=this,b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var w=e(b,3),N=w[0],j=w[1],_=w[2],S=_||N||{},C;if(this.signalingState==="have-local-offer"||this.signalingState==="have-remote-offer"){var I=this.signalingState==="have-local-offer";C=p(this,I,function(){return v.createOffer(S)})}else C=this._peerConnection.createOffer(S);return C=C.then(function(P){return new n({type:P.type,sdp:i(v._tracksToSSRCs,P.sdp)})}),b.length>1?d(C,N,j):C},g.prototype.setLocalDescription=function(){for(var v,b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var w=e(b),N=w[0],j=w.slice(1),_;return N&&N.type==="answer"&&this.signalingState==="have-local-offer"&&(_=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),_?b.length>1?d.apply(void 0,t([_],e(j))):_:(v=this._peerConnection).setLocalDescription.apply(v,t([],e(b)))},g.prototype.setRemoteDescription=function(){for(var v=this,b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var w=e(b),N=w[0],j=w.slice(1),_;return N&&this.signalingState==="have-remote-offer"&&(N.type==="answer"?_=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):N.type==="offer"&&(_=p(this,!1,function(){return v._peerConnection.setRemoteDescription(N)}))),_||(_=this._peerConnection.setRemoteDescription(N)),_=_.then(function(){return f(v,N,!0)}),b.length>1?d.apply(void 0,t([_],e(j))):_},g.prototype.close=function(){this.signalingState!=="closed"&&(this._isClosed=!0,this._peerConnection.close())},g}(a);l(RTCPeerConnection.prototype,h.prototype,"_peerConnection");function p(x,g,v){var b=g?"setLocalDescription":"setRemoteDescription";return x._rollingBack=!0,x._peerConnection[b](new n({type:"rollback"})).then(v).then(function(k){return x._rollingBack=!1,k},function(k){throw x._rollingBack=!1,k})}function f(x,g,v){if(!(x._initiallyNegotiatedDtlsRole||g.type==="offer")){var b=g.sdp.match(/a=setup:([a-z]+)/);if(b){var k=b[1];x._initiallyNegotiatedDtlsRole=v?{active:"passive",passive:"active"}[k]:k}}}function y(x,g){return x&&x.type==="answer"&&g?new n({type:x.type,sdp:x.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+g)}):x}return Id=h,Id}var Md,pg;function XD(){if(pg)return Md;pg=1;var s=T&&T.__extends||function(){var w=function(N,j){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(_[C]=S[C])},w(N,j)};return function(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");w(N,j);function _(){this.constructor=N}N.prototype=j===null?Object.create(j):(_.prototype=j.prototype,new _)}}(),e=T&&T.__read||function(w,N){var j=typeof Symbol=="function"&&w[Symbol.iterator];if(!j)return w;var _=j.call(w),S,C=[],I;try{for(;(N===void 0||N-- >0)&&!(S=_.next()).done;)C.push(S.value)}catch(P){I={error:P}}finally{try{S&&!S.done&&(j=_.return)&&j.call(_)}finally{if(I)throw I.error}}return C},t=T&&T.__spreadArray||function(w,N){for(var j=0,_=N.length,S=w.length;j<_;j++,S++)w[S]=N[j];return w},a=_m(),n=Ww(),i=Gt,o=i.getSdpFormat,l=i.updatePlanBTrackIdsToSSRCs,c=i.updateUnifiedPlanTrackIdsToSSRCs,d=Fe,u=d.delegateMethods,h=d.interceptEvent,p=d.proxyProperties,f=o()==="unified",y=f?c:l,x=function(w){s(N,w);function N(j){var _=w.call(this)||this;h(_,"datachannel"),h(_,"iceconnectionstatechange"),h(_,"signalingstatechange"),h(_,"track");var S=new RTCPeerConnection(j);return Object.defineProperties(_,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:S},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new n},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0}}),S.addEventListener("datachannel",function(C){k(C.channel),_.dispatchEvent(C)}),S.addEventListener("iceconnectionstatechange",function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];_._isClosed||_.dispatchEvent.apply(_,t([],e(C)))}),S.addEventListener("signalingstatechange",function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];_._isClosed||(S.signalingState==="stable"&&(_._appliedTracksToSSRCs=new Map(_._tracksToSSRCs)),!_._pendingLocalOffer&&!_._pendingRemoteOffer&&_.dispatchEvent.apply(_,t([],e(C))))}),S.addEventListener("track",function(C){_._pendingRemoteOffer=null,_.dispatchEvent(C)}),p(RTCPeerConnection.prototype,_,S),_}return Object.defineProperty(N.prototype,"localDescription",{get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"iceConnectionState",{get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),N.prototype.addIceCandidate=function(j){var _=this;return this.signalingState==="have-remote-offer"?this._signalingStateLatch.when("low").then(function(){return _._peerConnection.addIceCandidate(j)}):this._peerConnection.addIceCandidate(j)},N.prototype.createOffer=function(j){var _=this;if(j=Object.assign({},j),j.offerToReceiveVideo&&!this._audioTransceiver&&!(f&&b(this,"audio"))){delete j.offerToReceiveAudio;try{this._audioTransceiver=f?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(S){return Promise.reject(S)}}if(j.offerToReceiveVideo&&!this._videoTransceiver&&!(f&&b(this,"video"))){delete j.offerToReceiveVideo;try{this._videoTransceiver=f?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(S){return Promise.reject(S)}}return this._peerConnection.createOffer(j).then(function(S){return _._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:S.type,sdp:y(_._tracksToSSRCs,S.sdp)})})},N.prototype.createAnswer=function(j){var _=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return _._signalingStateLatch.lower(),_._peerConnection.createAnswer()}).then(function(S){return _._pendingRemoteOffer=null,_._rolledBackTracksToSSRCs.clear(),f?new RTCSessionDescription({type:S.type,sdp:y(_._tracksToSSRCs,S.sdp)}):S},function(S){throw _._pendingRemoteOffer=null,S}):this._peerConnection.createAnswer(j).then(function(S){return _._rolledBackTracksToSSRCs.clear(),f?new RTCSessionDescription({type:S.type,sdp:y(_._tracksToSSRCs,S.sdp)}):S})},N.prototype.createDataChannel=function(j,_){var S=this._peerConnection.createDataChannel(j,_);return k(S),S},N.prototype.removeTrack=function(j){j.replaceTrack(null),this._peerConnection.removeTrack(j)},N.prototype.setLocalDescription=function(j){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),g(this,!0,j)},N.prototype.setRemoteDescription=function(j){return this._rolledBackTracksToSSRCs.clear(),g(this,!1,j)},N.prototype.close=function(){var j=this;this._isClosed||(this._isClosed=!0,this._peerConnection.close(),setTimeout(function(){j.dispatchEvent(new Event("iceconnectionstatechange")),j.dispatchEvent(new Event("signalingstatechange"))}))},N}(a);u(RTCPeerConnection.prototype,x.prototype,"_peerConnection");function g(w,N,j){function _(O){N?w._pendingLocalOffer=O:w._pendingRemoteOffer=O}function S(){N?w._pendingLocalOffer=null:w._pendingRemoteOffer=null}var C=N?w._pendingLocalOffer:w._pendingRemoteOffer,I=N?w._pendingRemoteOffer:w._pendingLocalOffer,P=N?"have-local-offer":"have-remote-offer",A=N?"setLocalDescription":"setRemoteDescription";if(!N&&I&&j.type==="answer")return v(w,j);if(j.type==="offer"){if(w.signalingState!==P&&w.signalingState!=="stable")return Promise.reject(new Error("Cannot set "+(N?"local":"remote")+`
        offer in state `+w.signalingState));!C&&w._signalingStateLatch.state==="low"&&w._signalingStateLatch.raise();var L=w.signalingState;return _(j),w.signalingState!==L?Promise.resolve().then(function(){return w.dispatchEvent(new Event("signalingstatechange"))}):Promise.resolve()}else if(j.type==="rollback")return w.signalingState!==P?Promise.reject(new Error(`Cannot rollback 
        `+(N?"local":"remote")+" description in "+w.signalingState)):(S(),w._rolledBackTracksToSSRCs=new Map(w._tracksToSSRCs),w._tracksToSSRCs=new Map(w._appliedTracksToSSRCs),Promise.resolve().then(function(){return w.dispatchEvent(new Event("signalingstatechange"))}));return w._peerConnection[A](j)}function v(w,N){var j=w._pendingLocalOffer;return w._peerConnection.setLocalDescription(j).then(function(){return w._pendingLocalOffer=null,w.setRemoteDescription(N)}).then(function(){return w._signalingStateLatch.lower()})}function b(w,N){return!!w.getTransceivers().find(function(j){var _=j.receiver,S=_===void 0?{}:_,C=S.track,I=C===void 0?{}:C;return I.kind===N})}function k(w){return Object.defineProperties(w,{maxPacketLifeTime:{value:w.maxPacketLifeTime===65535?null:w.maxPacketLifeTime},maxRetransmits:{value:w.maxRetransmits===65535?null:w.maxRetransmits}})}return Md=x,Md}if(typeof RTCPeerConnection=="function"){var e9=Fe.guessBrowser;switch(e9()){case"chrome":Da.exports=ZD();break;case"firefox":Da.exports=JD();break;case"safari":Da.exports=XD();break;default:Da.exports=RTCPeerConnection;break}}else Da.exports=function(){throw new Error("RTCPeerConnection is not supported")};var t9=Da.exports,Yn={exports:{}};if(typeof RTCSessionDescription=="function"){var r9=Fe.guessBrowser;switch(r9()){case"chrome":Yn.exports=Rw();break;case"firefox":Yn.exports=zw();break;default:Yn.exports=RTCSessionDescription;break}}else Yn.exports=function(){throw new Error("RTCSessionDescription is not supported")};var s9=Yn.exports,Hw={};Object.defineProperties(Hw,{getStats:{enumerable:!0,value:FD},getUserMedia:{enumerable:!0,value:VD},MediaStream:{enumerable:!0,value:Lw},MediaStreamTrack:{enumerable:!0,value:UD},RTCIceCandidate:{enumerable:!0,value:WD},RTCPeerConnection:{enumerable:!0,value:t9},RTCSessionDescription:{enumerable:!0,value:s9}});var ba=Hw,Sm=function(e,t){if(e&&t)if(e.super_=t,typeof Object.create=="function")e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var a=function(){function n(){}return n}();a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},a9=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i};function n9(){return/Android/.test(navigator.userAgent)}function qw(){return!!(navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)}function Gw(){return qw()&&window.screen.width>=744&&(/Macintosh/i.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPad/.test(navigator.platform))}function Yw(){return qw()&&window.screen.width<=476&&(/Macintosh/i.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform))}function i9(){return Gw()||Yw()}function o9(){return/Mobi/.test(navigator.userAgent)}function l9(s){return s==="chrome"&&/Edge/.test(navigator.userAgent)&&(typeof chrome>"u"||typeof chrome.runtime>"u")}function c9(s){if(s!=="chrome")return null;if("brave"in navigator)return"brave";var e=u9(navigator.userAgent),t=e.reduce(function(o,l){return o.replace(l,"")},navigator.userAgent),a=t.match(/[^\s]+/g)||[],n=a9(a.map(function(o){return o.split("/")[0].toLowerCase()})),i=n.slice(2);return i.find(function(o){return!["chrome","mobile","safari"].includes(o)})||null}function d9(s){return s!=="safari"?null:"brave"in navigator?"brave":["edge","edg"].find(function(e){return navigator.userAgent.toLowerCase().includes(e)})||null}function u9(s){for(var e=[],t=[],a=0;a<s.length;a++)if(s[a]==="(")e.push(a);else if(s[a]===")"&&e.length>0){var n=e.pop();e.length===0&&t.push(s.substring(n,a+1))}return t}var va={isAndroid:n9,isIOS:i9,isIpad:Gw,isIphone:Yw,isMobile:o9,isNonChromiumEdge:l9,mobileWebKitBrowser:d9,rebrandedChromeBrowser:c9};function h9(s){return s=typeof s=="number"?s:0,new Promise(function(e){return setTimeout(e,s)})}function m9(s,e,t){t=typeof t=="number"?t:250;var a=s.createMediaStreamSource(e),n=s.createAnalyser();n.fftSize=2048,a.connect(n);var i=new Uint8Array(n.fftSize),o=!1;setTimeout(function(){o=!0},t);function l(){return o?Promise.resolve(!0):(n.getByteTimeDomainData(i),i.some(function(c){return c!==128&&c!==0})?Promise.resolve(!1):h9().then(l))}return l().then(function(c){return a.disconnect(),c},function(c){throw a.disconnect(),c})}var Kw=m9,$d,fg;function Pc(){if(fg)return $d;fg=1;var s=typeof AudioContext<"u"?AudioContext:typeof webkitAudioContext<"u"?webkitAudioContext:null,e=function(){function t(a){a=Object.assign({AudioContext:s},a),Object.defineProperties(this,{_AudioContext:{value:a.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:t}})}return t.prototype.getOrCreate=function(a){if(!this._holders.has(a)&&(this._holders.add(a),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch{}return this._audioContext},t.prototype.release=function(a){this._holders.has(a)&&(this._holders.delete(a),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))},t}();return $d=new e,$d}var p9=Kw,f9=3,g9=250;function x9(s){var e=Pc(),t={},a=e.getOrCreate(t),n=f9;function i(){return n--,p9(a,s.srcObject,g9).then(function(o){return o?n>0?i():!0:!1}).catch(function(){return!0})}return i().finally(function(){e.release(t)})}var Qw=x9,_o=oe.defer,y9=function(){function s(){Object.defineProperties(this,{_audio:{value:_o(),writable:!0},_video:{value:_o(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return s.prototype.resolveDeferred=function(e){e==="audio"?this._audio.resolve():this._video.resolve()},s.prototype.startDeferred=function(e){e==="audio"?this._audio=_o():this._video=_o()},s.prototype.whenResolved=function(e){return e==="audio"?this._audio.promise:this._video.promise},s}(),Zw=new y9,b9=Bt.EventEmitter,v9=oe.hidePrivateAndCertainPublicPropertiesInClass,Hi=v9(b9,["domain"]),w9=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),j9=Hi,Jw=oe,N9=Jw.buildLogLevels,k9=Jw.valueToJSON,_9=qe.DEFAULT_LOG_LEVEL,S9=rs,C9=0,E9=function(s){w9(e,s);function e(t,a,n){var i=this;n=Object.assign({name:t,log:null,logLevel:_9},n),i=s.call(this)||this;var o=String(n.name),l=N9(n.logLevel),c=n.log?n.log.createLog("media",i):new S9("media",i,l,n.loggerName);return Object.defineProperties(i,{_instanceId:{value:++C9},_log:{value:c},kind:{enumerable:!0,value:a},name:{enumerable:!0,value:o}}),i}return e.prototype.toJSON=function(){return k9(this)},e}(j9),Cm=E9,T9=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),P9=va.isIOS,A9=ba.MediaStream,Xw=oe,O9=Xw.waitForEvent,L9=Xw.waitForSometime,R9=Zw,I9=Cm,M9=function(s){T9(e,s);function e(t,a){var n=this;a=Object.assign({playPausedElementsIfNotBackgrounded:P9()&&typeof document=="object"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string"},a),n=s.call(this,t.id,t.kind,a)||this;var i=!1;if(a=Object.assign({MediaStream:A9},a),typeof a.MediaStream!="function")throw new Error("MediaTrack received an invalid MediaStream constructor: "+a.MediaStream);return Object.defineProperties(n,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return i},set:function(o){i=o}},_playPausedElementsIfNotBackgrounded:{value:a.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:a.workaroundWebKitBug212780||a.playPausedElementsIfNotBackgrounded},_unprocessedTrack:{value:null,writable:!0},_MediaStream:{value:a.MediaStream},_mapMediaElement:{value:a.mapMediaElement},_disposeMediaElement:{value:a.disposeMediaElement},isStarted:{enumerable:!0,get:function(){return i}},mediaStreamTrack:{enumerable:!0,get:function(){return this._unprocessedTrack||t.track}},processedTrack:{enumerable:!0,value:null,writable:!0}}),n._initialize(),n}return e.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)},e.prototype._initialize=function(){var t=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack&&this.mediaStreamTrack.addEventListener?this.mediaStreamTrack.addEventListener("ended",function a(){t._end(),t.mediaStreamTrack.removeEventListener("ended",a)}):this.mediaStreamTrack&&(this.mediaStreamTrack.onended=function(){t._end(),t.mediaStreamTrack.onended=null}),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl,this.mediaStreamTrack),this._attachments.delete(this._dummyEl))},e.prototype._end=function(){this._log.debug("Ended"),this._dummyEl&&(this._dummyEl.remove(),this._disposeMediaElement?this._disposeMediaElement(this._dummyEl):this._dummyEl.srcObject=null,this._dummyEl.oncanplay=null,this._dummyEl=null)},e.prototype.attach=function(t){var a=this;if(typeof t=="string"?t=this._selectElement(t):t||(t=this._createElement()),this._log.debug("Attempting to attach to element:",t),t=this._attach(t),this._shouldShimAttachedElements&&!this._elShims.has(t)){var n=this._playPausedElementsIfNotBackgrounded?function(){return $9(t,a._log)}:null;this._elShims.set(t,D9(t,n))}return t},e.prototype._attach=function(t,a){a===void 0&&(a=this.processedTrack||this.mediaStreamTrack);var n=t.srcObject;n instanceof this._MediaStream||(n=new this._MediaStream);var i=a.kind==="audio"?"getAudioTracks":"getVideoTracks";return n[i]().forEach(function(o){n.removeTrack(o)}),n.addTrack(a),this._mapMediaElement&&(this._log.debug("Mapping element using mapMediaElement before attaching media to element"),this._mapMediaElement(t)),t.srcObject=n,t.autoplay=!0,t.playsInline=!0,this._attachments.has(t)||this._attachments.add(t),t},e.prototype._selectElement=function(t){var a=document.querySelector(t);if(!a)throw new Error("Selector matched no element: "+t);return a},e.prototype._updateElementsMediaStreamTrack=function(){var t=this;this._log.debug("Reattaching all elements to update mediaStreamTrack"),this._getAllAttachedElements().forEach(function(a){return t._attach(a)})},e.prototype._createElement=function(){return typeof document<"u"?document.createElement(this.kind):null},e.prototype.detach=function(t){var a;return typeof t=="string"?a=[this._selectElement(t)]:t?a=[t]:a=this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",a),this._detachElements(a),t?a[0]:a},e.prototype._detachElements=function(t){return t.map(this._detachElement.bind(this))},e.prototype._detachElement=function(t){if(!this._attachments.has(t))return t;var a=t.srcObject;if(a instanceof this._MediaStream&&a.removeTrack(this.processedTrack||this.mediaStreamTrack),this._disposeMediaElement&&(this._log.debug("Disposing element using disposeMediaElement after removing media from element"),this._disposeMediaElement(t)),this._attachments.delete(t),this._shouldShimAttachedElements&&this._elShims.has(t)){var n=this._elShims.get(t);n.unShim(),this._elShims.delete(t)}return t},e.prototype._getAllAttachedElements=function(){var t=[];return this._attachments.forEach(function(a){t.push(a)}),t},e}(I9);function $9(s,e){var t=s.tagName.toLowerCase();e.warn("Unintentionally paused:",s),Promise.race([O9(document,"visibilitychange"),L9(1e3)]).then(function(){document.visibilityState==="visible"&&R9.whenResolved("audio").then(function(){return e.info("Playing unintentionally paused <"+t+"> element"),e.debug("Element:",s),s.play()}).then(function(){e.info("Successfully played unintentionally paused <"+t+"> element"),e.debug("Element:",s)}).catch(function(a){e.warn("Error while playing unintentionally paused <"+t+"> element:",{error:a,el:s})})})}function D9(s,e){e===void 0&&(e=null);var t=s.pause,a=s.play,n=!1;s.pause=function(){return n=!0,t.call(s)},s.play=function(){return n=!1,a.call(s)};var i=e?function(){n||e()}:null;return i&&s.addEventListener("pause",i),{pausedIntentionally:function(){return n},unShim:function(){s.pause=t,s.play=a,i&&s.removeEventListener("pause",i)}}}var ej=M9,F9=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),B9=ej,V9=function(s){F9(e,s);function e(t,a){return s.call(this,t,a)||this}return e.prototype.attach=function(){return s.prototype.attach.apply(this,arguments)},e.prototype.detach=function(){return s.prototype.detach.apply(this,arguments)},e}(B9),tj=V9,ah=null,U9=3,gg=50,xg=250,yg=50;function W9(s){try{var e=ah.getContext("2d");e.drawImage(s,0,0,yg,gg);var t=e.getImageData(0,0,yg,gg),a=t.data.filter(function(i,o){return(o+1)%4}),n=Math.max.apply(Math,a);return n===0}catch(i){return console.log("Error checking silence: ",i),!1}}function z9(s){return ah=ah||document.createElement("canvas"),new Promise(function(e){var t=U9;setTimeout(function a(){return t--,W9(s)?t>0?setTimeout(a,xg):e(!0):e(!1)},xg)})}var rj=z9,H9=function(){function s(e){var t=this;e===void 0&&(e=1),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){t._emitVisible(document.visibilityState==="visible")}}});for(var a=0;a<e;a++)this._listeners.push([])}return s.prototype.clear=function(){for(var e=this._listeners.length,t=0;t<e;t++)this._listeners[t]=[]},s.prototype._listenerCount=function(){return this._listeners.reduce(function(e,t){return e+t.length},0)},s.prototype._emitVisible=function(e){for(var t=this,a=Promise.resolve(),n=function(o){a=a.then(function(){return t._emitVisiblePhase(o,e)})},i=1;i<=this._listeners.length;i++)n(i);return a},s.prototype._emitVisiblePhase=function(e,t){var a=this._listeners[e-1];return Promise.all(a.map(function(n){var i=n(t);return i instanceof Promise?i:Promise.resolve(i)}))},s.prototype._start=function(){document.addEventListener("visibilitychange",this._onVisibilityChange)},s.prototype._stop=function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)},s.prototype.onVisibilityChange=function(e,t){if(typeof e!="number"||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var a=this._listeners[e-1];return a.push(t),this._listenerCount()===1&&this._start(),this},s.prototype.offVisibilityChange=function(e,t){if(typeof e!="number"||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var a=this._listeners[e-1],n=a.indexOf(t);return n!==-1&&(a.splice(n,1),this._listenerCount()===0&&this._stop()),this},s}(),Em=new H9(2),q9=Kw;function G9(s,e,t,a,n){a=typeof a=="number"?a:3;var i=0,o=Pc(),l={},c=o.getOrCreate(l);function d(){return e(t).then(function(u){var h=t.audio?q9(c,u,n).catch(function(p){return s.warn("Encountered an error while detecting silence",p),!0}):Promise.resolve(!1);return h.then(function(p){if(p){if(a<=0)return s.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),u}else return s.info("Got a non-silent audio MediaStreamTrack; returning it."),u;return s.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++i+"."),u.getTracks().forEach(function(f){return f.stop()}),a--,d()})})}return d().then(function(u){return o.release(l),u},function(u){throw o.release(l),u})}var sj=G9,Y9=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),bg=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},vg=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},K9=Bt.EventEmitter,Q9=function(s){Y9(e,s);function e(){var t=s.call(this)||this;return Object.defineProperties(t,{_queuedEvents:{value:new Map}}),t}return e.prototype.dequeue=function(t){var a=this,n=!0;if(!t)return this._queuedEvents.forEach(function(o,l){n=this.dequeue(l)&&n},this),n;var i=this._queuedEvents.get(t)||[];return this._queuedEvents.delete(t),i.reduce(function(o,l){return a.emit.apply(a,vg([],bg([t].concat(l))))&&o},n)},e.prototype.queue=function(){var t=[].slice.call(arguments);if(this.emit.apply(this,vg([],bg(t))))return!0;var a=t[0];return this._queuedEvents.has(a)||this._queuedEvents.set(a,[]),this._queuedEvents.get(a).push(t.slice(1)),!1},e}(K9),aj=Q9,Z9=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),J9=aj,X9=function(s){Z9(e,s);function e(t,a){var n=s.call(this)||this;return Object.defineProperties(n,{id:{enumerable:!0,value:t},kind:{enumerable:!0,value:a}}),n}return e.prototype.stop=function(){this.emit("stopped")},e}(J9),nj=X9,eF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),tF=nj,rF=function(s){eF(e,s);function e(t,a){var n=s.call(this,t,a.kind)||this;return Object.defineProperties(n,{_track:{value:a,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),n}return e.prototype.stop=function(){this.track.stop(),s.prototype.stop.call(this)},e}(tF),ij=rF,sF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),aF=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},nF=ij,iF=function(s){sF(e,s);function e(t){var a=s.call(this,t.id,t)||this;return Object.defineProperties(a,{_clones:{value:new Set},_eventsToReemitters:{value:new Map([["mute",function(){return a.queue("muted")}],["unmute",function(){return a.queue("unmuted")}]])},_senders:{value:new Set},_senderToPublisherHintCallbacks:{value:new Map},isPublishing:{enumerable:!0,get:function(){return!!this._clones.size}},muted:{enumerable:!0,get:function(){return this._track.muted}}}),a._reemitMediaStreamTrackEvents(),a}return e.prototype._reemitMediaStreamTrackEvents=function(t){t===void 0&&(t=this._track);var a=this,n=a._eventsToReemitters,i=a._track;if(t.addEventListener?n.forEach(function(l,c){return t.addEventListener(c,l)}):n.forEach(function(l,c){t["on"+c]=l}),i!==t&&(n.forEach(function(l,c){return i.removeEventListener(c,l)}),i.muted!==t.muted)){var o=n.get(t.muted?"mute":"unmute");o()}},e.prototype.clone=function(){var t=new e(this.track.clone());return this._clones.add(t),t},e.prototype.removeClone=function(t){this._clones.delete(t)},e.prototype.setMediaStreamTrack=function(t){var a=this,n=Array.from(this._clones),i=Array.from(this._senders);return Promise.all(n.map(function(o){return o.setMediaStreamTrack(t.clone())}).concat(i.map(function(o){return a._replaceTrack(o,t)}))).finally(function(){a._reemitMediaStreamTrackEvents(t),a._track=t})},e.prototype.addSender=function(t,a){return this._senders.add(t),a&&this._senderToPublisherHintCallbacks.set(t,a),this},e.prototype.removeSender=function(t){return this._senders.delete(t),this._senderToPublisherHintCallbacks.delete(t),this},e.prototype.setPublisherHint=function(t){var a=aF(Array.from(this._senderToPublisherHintCallbacks.values()),1),n=a[0];return n?n(t):Promise.resolve("COULD_NOT_APPLY_HINT")},e.prototype._replaceTrack=function(t,a){var n=this;return t.replaceTrack(a).then(function(i){return n.setPublisherHint(null).catch(function(){}),n.emit("replaced"),i})},e}(nF),oj=iF,oF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),lF=ba.getUserMedia,cF=va.isIOS,Ac=oe,wg=Ac.capitalize,dF=Ac.defer,uF=Ac.waitForSometime,hF=Ac.waitForEvent,mF=qe.typeErrors.ILLEGAL_INVOKE,pF=Qw,fF=rj,jg=Em,Ng=Zw,gF=sj,xF=oj;function yF(s){return function(e){oF(t,e);function t(a,n){var i=this,o=cF()&&typeof document=="object"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string";n=Object.assign({getUserMedia:lF,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:o,gUMSilentTrackWorkaround:gF},n);var l=new xF(a),c=l.kind;return i=e.call(this,l,n)||this,Object.defineProperties(i,{_constraints:{value:typeof n[c]=="object"?n[c]:{},writable:!0},_getUserMedia:{value:n.getUserMedia},_gUMSilentTrackWorkaround:{value:n.gUMSilentTrackWorkaround},_eventsToReemitters:{value:new Map([["muted",function(){return i.emit("muted",i)}],["unmuted",function(){return i.emit("unmuted",i)}]])},_workaroundWebKitBug1208516:{value:n.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:n.isCreatedByCreateLocalTracks},_noiseCancellation:{value:n.noiseCancellation||null},_trackSender:{value:l},id:{enumerable:!0,value:l.id},isEnabled:{enumerable:!0,get:function(){return l.enabled}},isMuted:{enumerable:!0,get:function(){return l.muted}},isStopped:{enumerable:!0,get:function(){return l.readyState==="ended"}}}),i._workaroundWebKitBug1208516&&(i._workaroundWebKitBug1208516Cleanup=kg(i)),i._reemitTrackSenderEvents(),i}return t.prototype._end=function(){var a=this;this._didCallEnd||(e.prototype._end.call(this),this._didCallEnd=!0,this._eventsToReemitters.forEach(function(n,i){return a._trackSender.removeListener(i,n)}),this.emit("stopped",this))},t.prototype._initialize=function(){this._didCallEnd&&(this._didCallEnd=!1),this._eventsToReemitters&&this._reemitTrackSenderEvents(),e.prototype._initialize.call(this)},t.prototype._reacquireTrack=function(a){var n,i=this,o=i._getUserMedia,l=i._gUMSilentTrackWorkaround,c=i._log,d=i.mediaStreamTrack.kind;c.info("Re-acquiring the MediaStreamTrack"),c.debug("Constraints:",a);var u=Object.assign({audio:!1,video:!1},(n={},n[d]=a,n)),h=this._workaroundWebKitBug1208516Cleanup?l(c,o,u):o(u);return h.then(function(p){return p.getTracks()[0]})},t.prototype._reemitTrackSenderEvents=function(){var a=this;this._eventsToReemitters.forEach(function(n,i){return a._trackSender.on(i,n)}),this._trackSender.dequeue("muted"),this._trackSender.dequeue("unmuted")},t.prototype._restart=function(a){var n=this,i=this._log;return a=a||this._constraints,this._stop(),this._reacquireTrack(a).catch(function(o){throw i.error("Failed to re-acquire the MediaStreamTrack:",{error:o,constraints:a}),o}).then(function(o){return i.info("Re-acquired the MediaStreamTrack"),i.debug("MediaStreamTrack:",o),n._constraints=Object.assign({},a),n._setMediaStreamTrack(o)})},t.prototype._setMediaStreamTrack=function(a){var n=this;return a.enabled=this.mediaStreamTrack.enabled,this._stop(),(this._unprocessedTrack?Promise.resolve().then(function(){n._unprocessedTrack=a}):this._trackSender.setMediaStreamTrack(a).catch(function(i){n._log.warn("setMediaStreamTrack failed:",{error:i,mediaStreamTrack:a})})).then(function(){n._initialize(),n._getAllAttachedElements().forEach(function(i){return n._attach(i)})})},t.prototype._stop=function(){return this.mediaStreamTrack.stop(),this._end(),this},t.prototype.enable=function(a){return a=typeof a=="boolean"?a:!0,a!==this.mediaStreamTrack.enabled&&(this._log.info((a?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=a,this.emit(a?"enabled":"disabled",this)),this},t.prototype.disable=function(){return this.enable(!1)},t.prototype.restart=function(a){var n=this,i=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(mF("restart","can only be called on a"+(" Local"+wg(i)+"Track that is created using createLocalTracks")+(" or createLocal"+wg(i)+"Track.")));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var o=this._restart(a);return this._workaroundWebKitBug1208516&&(o=o.finally(function(){n._workaroundWebKitBug1208516Cleanup=kg(n)})),o},t.prototype.stop=function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()},t}(s)}function kg(s){var e=s._log,t=s.kind,a=s._noiseCancellation,n={audio:pF,video:fF}[t],i=function(){return a?a.sourceTrack:s.mediaStreamTrack},o=s._dummyEl,l=i(),c=null;function d(){return o.play().then(function(){return n(o)}).then(function(g){return g?e.warn("Silence detected"):e.info("Non-silence detected"),g}).catch(function(g){e.warn("Failed to detect silence:",g)}).finally(function(){s.processedTrack||o.pause()})}function u(){var g=s._workaroundWebKitBug1208516Cleanup,v=s.isStopped,b=v&&!!g,k=i().muted;return Promise.resolve().then(function(){return document.visibilityState==="visible"&&!c&&(k||b||d())})}function h(){return Promise.race([hF(l,"unmute"),uF(50)]).then(function(){return u()}).then(function(g){g&&!c&&(c=dF(),s._restart().finally(function(){o=s._dummyEl,y(),l=i(),f(),c.resolve(),c=null}).catch(function(b){e.error("failed to restart track: ",b)}));var v=c&&c.promise||Promise.resolve();return v.finally(function(){return Ng.resolveDeferred(t)})}).catch(function(g){e.error("error in maybeRestart: "+g.message)})}function p(){var g=s._log,v=s.kind;g.info("Muted"),g.debug("LocalMediaTrack:",s),Ng.startDeferred(v)}function f(){l.addEventListener?(l.addEventListener("ended",h),l.addEventListener("mute",p),l.addEventListener("unmute",h)):(l.onended=h,l.onmute=p,l.onunmute=h)}function y(){l.removeEventListener?(l.removeEventListener("ended",h),l.removeEventListener("mute",p),l.removeEventListener("unmute",h)):(l.onended=null,l.onmute=null,l.onunmute=null)}var x=function(g){return g?h():!1};return jg.onVisibilityChange(1,x),f(),function(){jg.offVisibilityChange(1,x),y()}}var lj=yF,bF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),vF=va.isIOS,wF=Qw,jF=Fe.isIOSChrome,NF=tj,kF=lj,_F=kF(NF),SF=function(s){bF(e,s);function e(t,a){var n=this,i=(a==null?void 0:a.noiseCancellation)||null;n=s.call(this,t,a)||this;var o=n._log,l=t.label,c=l===void 0?"":l,d=t.getSettings(),u=d.deviceId,h=u===void 0?"":u,p=d.groupId,f=p===void 0?"":p;return Object.defineProperties(n,{_currentDefaultDeviceInfo:{value:{deviceId:h,groupId:f,label:c},writable:!0},_enumerateDevices:{value:typeof(a==null?void 0:a.enumerateDevices)=="function"?a.enumerateDevices:navigator.mediaDevices.enumerateDevices},_defaultDeviceCaptureMode:{value:(!vF()||i)&&n._isCreatedByCreateLocalTracks&&typeof navigator=="object"&&typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.addEventListener=="function"&&(typeof(a==null?void 0:a.enumerateDevices)=="function"||typeof navigator.mediaDevices.enumerateDevices=="function")?(a==null?void 0:a.defaultDeviceCaptureMode)||"auto":"manual"},_onDeviceChange:{value:function(){n._enumerateDevices().then(function(y){var x=y.find(function(g){var v=g.deviceId,b=g.kind;return b==="audioinput"&&v!=="default"});x&&["deviceId","groupId"].some(function(g){return x[g]!==n._currentDefaultDeviceInfo[g]})&&(o.info("Default device changed, restarting the LocalAudioTrack"),o.debug('Old default device: "'+n._currentDefaultDeviceInfo.deviceId+'" => "'+n._currentDefaultDeviceInfo.label+'"'),o.debug('New default device: "'+x.deviceId+'" => "'+x.label+'"'),n._currentDefaultDeviceInfo=x,n._restartDefaultDevice().catch(function(g){return o.warn("Failed to restart: "+g.message)}))},function(y){o.warn("Failed to run enumerateDevices(): "+y.message)})}},_restartOnDefaultDeviceChangeCleanup:{value:null,writable:!0},noiseCancellation:{enumerable:!0,value:i,writable:!1}}),o.debug("defaultDeviceCaptureMode:",n._defaultDeviceCaptureMode),n._maybeRestartOnDefaultDeviceChange(),n}return e.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},e.prototype.attach=function(t){return t=s.prototype.attach.call(this,t),t.muted=!0,t},e.prototype._end=function(){return s.prototype._end.apply(this,arguments)},e.prototype._maybeRestartOnDefaultDeviceChange=function(){var t=this,a=this,n=a._constraints,i=a._defaultDeviceCaptureMode,o=a._log,l=this.noiseCancellation?this.noiseCancellation.sourceTrack:this.mediaStreamTrack,c=l.getSettings().deviceId,d=function(h){return h!==c||h==="default"},u=function h(p){return p===void 0&&(p={}),typeof p=="string"?d(p):Array.isArray(p)?p.every(d):p.exact?h(p.exact):p.ideal?h(p.ideal):!0}(n.deviceId);i==="auto"&&u?this._restartOnDefaultDeviceChangeCleanup||(o.info("LocalAudioTrack will be restarted if the default device changes"),navigator.mediaDevices.addEventListener("devicechange",this._onDeviceChange),this._restartOnDefaultDeviceChangeCleanup=function(){o.info("Cleaning up the listener to restart the LocalAudioTrack if the default device changes"),navigator.mediaDevices.removeEventListener("devicechange",t._onDeviceChange),t._restartOnDefaultDeviceChangeCleanup=null}):(o.info("LocalAudioTrack will NOT be restarted if the default device changes"),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup())},e.prototype._reacquireTrack=function(t){var a=this;return this._log.debug("_reacquireTrack: ",t),this.noiseCancellation?this.noiseCancellation.reacquireTrack(function(){return s.prototype._reacquireTrack.call(a,t)}):s.prototype._reacquireTrack.call(this,t)},e.prototype._restartDefaultDevice=function(){var t=this,a=Object.assign({},this._constraints),n=Object.assign({},a,{deviceId:this._currentDefaultDeviceInfo.deviceId});return this.restart(n).then(function(){t._constraints=a,t._maybeRestartOnDefaultDeviceChange()})},e.prototype._setMediaStreamTrack=function(t){var a=this,n=this,i=n._log,o=n.noiseCancellation,l=s.prototype._setMediaStreamTrack.call(this,t);return jF()&&o&&(i.debug("iOS Chrome detected, checking if the restarted Krisp audio is silent"),l=l.then(function(){return wF(a._dummyEl)}).then(function(c){return i.debug("Krisp audio is "+(c?"silent, using source audio":"not silent")),c&&o.disablePermanently().then(function(){return s.prototype._setMediaStreamTrack.call(a,o.sourceTrack)})})),l},e.prototype.disable=function(){return s.prototype.disable.apply(this,arguments)},e.prototype.enable=function(){return s.prototype.enable.apply(this,arguments)},e.prototype.restart=function(){return s.prototype.restart.apply(this,arguments)},e.prototype.stop=function(){return this.noiseCancellation&&this.noiseCancellation.stop(),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup(),s.prototype.stop.apply(this,arguments)},e}(_F),CF=SF,EF=Sm,cj=CF;function Tm(s,e){var t=new cj(s,e);return Object.setPrototypeOf(t,Tm.prototype),t}EF(Tm,cj);var TF=Tm,dj=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},PF=qe.DEFAULT_FRAME_RATE;function AF(s,e){var t=dj(s.srcObject.getVideoTracks(),1),a=t[0],n=a.getSettings().frameRate,i=n===void 0?PF:n,o,l=new ReadableStream({start:function(d){o=setInterval(function(){return d.enqueue()},1e3/i)}}),c=new TransformStream({transform:function(){return e()}});return l.pipeThrough(c).pipeTo(new WritableStream).then(function(){}),function(){clearInterval(o)}}function OF(s,e,t){var a=dj(s.srcObject.getVideoTracks(),1),n=a[0],i=new MediaStreamTrackProcessor({track:n}).readable,o=new MediaStreamTrackGenerator({kind:"video"}),l=!1,c=new TransformStream({transform:function(d,u){var h=t==="videoframe"?e(d):Promise.resolve(d.close()).then(e);return h.finally(function(){l&&u.terminate()})}});return i.pipeThrough(c).pipeTo(o.writable).then(function(){}),function(){l=!0}}var LF=typeof MediaStreamTrackGenerator=="function"&&typeof MediaStreamTrackProcessor=="function"?OF:AF,RF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),IF=Bt.EventEmitter,MF=qe.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS,$F=function(s){RF(e,s);function e(t){var a=s.call(this)||this;return Object.defineProperties(a,{_lastStatsSaveTime:{value:null,writable:!0},_lastStatsPublishTime:{value:null,writable:!0},_log:{value:t},_processorInfo:{value:null,writable:!0},_stats:{value:null,writable:!0}}),a.on("add",function(n){a._lastStatsSaveTime=Date.now(),a._lastStatsPublishTime=Date.now(),a._processorInfo=n,a._stats=[],a._reemitEvent("add",a._getEventData())}),a.on("remove",function(){var n=a._getEventData();a._lastStatsSaveTime=null,a._lastStatsPublishTime=null,a._processorInfo=null,a._stats=null,a._reemitEvent("remove",n)}),a.on("start",function(){a._reemitEvent("start",a._getEventData())}),a.on("stop",function(n){a._reemitEvent("stop",Object.assign({message:n},a._getEventData()))}),a.on("stats",function(){return a._maybeEmitStats()}),a}return e.prototype._getEventData=function(){if(!this._processorInfo)return{};var t=this._processorInfo,a=t.processor,n=t.captureHeight,i=t.captureWidth,o=t.inputFrameRate,l=t.isRemoteVideoTrack,c=t.inputFrameBufferType,d=t.outputFrameBufferContextType,u={captureHeight:n,captureWidth:i,inputFrameRate:o,isRemoteVideoTrack:l,inputFrameBufferType:c,outputFrameBufferContextType:d};return u.name=a._name||"VideoProcessor",["assetsPath","blurFilterRadius","debounce","fitType","isSimdEnabled","maskBlurRadius","pipeline","version"].forEach(function(h){var p=a["_"+h];typeof p<"u"&&(u[h]=p)}),Object.keys(u).forEach(function(h){var p=u[h];typeof p=="boolean"&&(u[h]=p?"true":"false")}),u},e.prototype._maybeEmitStats=function(){if(!(!this._stats||!this._processorInfo)){var t=this._processorInfo.processor._benchmark;if(t){var a=Date.now();if(!(a-this._lastStatsSaveTime<1e3)){var n={outputFrameRate:t.getRate("totalProcessingDelay")};if(["captureFrameDelay","imageCompositionDelay","inputImageResizeDelay","processFrameDelay","segmentationDelay"].forEach(function(l){n[l]=t.getAverageDelay(l)}),this._lastStatsSaveTime=a,this._stats.push(n),!(a-this._lastStatsPublishTime<MF)){this._lastStatsPublishTime=a;var i=this._stats.splice(0),o=i.reduce(function(l,c,d){return Object.keys(n).forEach(function(u){l[u]||(l[u]=0),l[u]=(l[u]*d+c[u])/(d+1)}),l},{});Object.keys(o).forEach(function(l){o[l]=parseFloat(o[l].toFixed(2))}),this._reemitEvent("stats",Object.assign({},o,this._getEventData()))}}}}},e.prototype._reemitEvent=function(t,a){this._log.debug("VideoProcessor:"+t,a),this.emit("event",{name:t,data:a})},e}(IF),DF=$F,FF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),BF=ej,VF=LF,UF=DF;Fe.guessBrowser;var WF=qe.DEFAULT_FRAME_RATE,Pm=function(s){FF(e,s);function e(t,a){var n=s.call(this,t,a)||this;return Object.defineProperties(n,{_isCapturing:{value:!1,writable:!0},_inputFrame:{value:null,writable:!0},_outputFrame:{value:null,writable:!0},_processorEventObserver:{value:null,writable:!0},_processorOptions:{value:{},writable:!0},_stopCapture:{value:function(){},writable:!0},_unmuteHandler:{value:null,writable:!0},dimensions:{enumerable:!0,value:{width:null,height:null}},processor:{enumerable:!0,value:null,writable:!0},_documentPipWindow:{value:null,writable:!0},_documentPipEnterListener:{value:null,writable:!0},_documentPipExitListener:{value:null,writable:!0}}),n._processorEventObserver=new(a.VideoProcessorEventObserver||UF)(n._log),n}return e.prototype._checkIfCanCaptureFrames=function(t){t===void 0&&(t=!1);var a=!0,n="",i=this.mediaStreamTrack,o=i.enabled,l=i.readyState;return o||(a=!1,n="MediaStreamTrack is disabled"),l==="ended"&&(a=!1,n="MediaStreamTrack is ended"),this.processor||(a=!1,n="VideoProcessor not detected."),!this._attachments.size&&!t&&(a=!1,n="VideoTrack is not publishing and there is no attached element."),n&&this._log.debug(n),{canCaptureFrames:a,message:n}},e.prototype._captureFrames=function(){var t=this;if(this._isCapturing){this._log.debug("Ignoring captureFrames call. Capture is already in progress");return}if(!this._checkIfCanCaptureFrames().canCaptureFrames){this._isCapturing=!1,this._log.debug("Cannot capture frames. Ignoring captureFrames call.");return}this._isCapturing=!0,this._processorEventObserver.emit("start"),this._log.debug("Start capturing frames");var a=this._processorOptions.inputFrameBufferType;this._dummyEl.play().then(function(){var n=function(i){var o=t._checkIfCanCaptureFrames();if(!o.canCaptureFrames)return i&&i.close(),t._isCapturing=!1,t._stopCapture(),t._processorEventObserver.emit("stop",o.message),t._log.debug("Cannot capture frames. Stopping capturing frames."),Promise.resolve();var l=t.mediaStreamTrack.getSettings(),c=l.width,d=c===void 0?0:c,u=l.height,h=u===void 0?0:u;t._outputFrame&&t._outputFrame.width!==d&&(t._outputFrame.width=d,t._outputFrame.height=h),t._inputFrame&&(t._inputFrame.width!==d&&(t._inputFrame.width=d,t._inputFrame.height=h),t._inputFrame.getContext("2d").drawImage(t._dummyEl,0,0,d,h));var p=i||(["video","videoframe"].includes(a)?t._dummyEl:t._inputFrame),f=null;try{f=t.processor.processFrame(p,t._outputFrame)}catch(y){t._log.debug("Exception detected after calling processFrame.",y)}return(f instanceof Promise?f:Promise.resolve(f)).then(function(){t._outputFrame&&(typeof t.processedTrack.requestFrame=="function"&&t.processedTrack.requestFrame(),t._processorEventObserver.emit("stats"))})};t._stopCapture=VF(t._dummyEl,n,a)}).catch(function(n){return t._log.error("Video element cannot be played",{error:n,track:t})})},e.prototype._initialize=function(){var t=this;s.prototype._initialize.call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){_g(t,t._dummyEl)&&(t.dimensions.width=t._dummyEl.videoWidth,t.dimensions.height=t._dummyEl.videoHeight)},this._dummyEl.onresize=function(){_g(t,t._dummyEl)&&(t.dimensions.width=t._dummyEl.videoWidth,t.dimensions.height=t._dummyEl.videoHeight,t.isStarted&&(t._log.debug("Dimensions changed:",t.dimensions),t.emit(e.DIMENSIONS_CHANGED,t)))})},e.prototype._restartProcessor=function(){var t=this.processor;if(t){var a=Object.assign({},this._processorOptions);this.removeProcessor(t),this.addProcessor(t,a)}},e.prototype._start=function(t){return this.dimensions.width=t.videoWidth,this.dimensions.height=t.videoHeight,this._log.debug("Dimensions:",this.dimensions),this.emit(e.DIMENSIONS_CHANGED,this),s.prototype._start.call(this,t)},e.prototype.addProcessor=function(t,a){var n=this;if(!t||typeof t.processFrame!="function")throw new Error("Received an invalid VideoProcessor from addProcessor.");if(this.processor)throw new Error("A VideoProcessor has already been added.");if(!this._dummyEl)throw new Error("VideoTrack has not been initialized.");this._log.debug("Adding VideoProcessor to the VideoTrack",t),this._unmuteHandler||(this._unmuteHandler=function(){n._log.debug("mediaStreamTrack unmuted"),n.processedTrack.muted&&(n._log.debug("mediaStreamTrack is unmuted but processedTrack is muted. Restarting processor."),n._restartProcessor())},this.mediaStreamTrack.addEventListener?this.mediaStreamTrack.addEventListener("unmute",this._unmuteHandler):this.mediaStreamTrack.onunmute=this._unmuteHandler.bind(this)),this._processorOptions=a||{};var i=this._processorOptions,o=i.inputFrameBufferType,l=i.outputFrameBufferContextType;if(typeof OffscreenCanvas>"u"&&o==="offscreencanvas")throw new Error("OffscreenCanvas is not supported by this browser.");if(o&&o!=="videoframe"&&o!=="video"&&o!=="canvas"&&o!=="offscreencanvas")throw new Error("Invalid inputFrameBufferType of "+o);o||(o=typeof OffscreenCanvas>"u"?"canvas":"offscreencanvas");var c=this.mediaStreamTrack.getSettings(),d=c.width,u=d===void 0?0:d,h=c.height,p=h===void 0?0:h,f=c.frameRate,y=f===void 0?WF:f;o==="offscreencanvas"&&(this._inputFrame=new OffscreenCanvas(u,p)),o==="canvas"&&(this._inputFrame=document.createElement("canvas")),this._inputFrame&&(this._inputFrame.width=u,this._inputFrame.height=p),this._outputFrame=document.createElement("canvas"),this._outputFrame.width=u,this._outputFrame.height=p,l=l||"2d";var x=this._outputFrame.getContext(l);if(!x)throw new Error("Cannot get outputFrameBufferContextType: "+l+".");var g=typeof CanvasCaptureMediaStreamTrack<"u"&&CanvasCaptureMediaStreamTrack.prototype&&typeof CanvasCaptureMediaStreamTrack.prototype.requestFrame=="function"?0:void 0;return this.processedTrack=this._outputFrame.captureStream(g).getTracks()[0],this.processedTrack.enabled=this.mediaStreamTrack.enabled,this.processor=t,this._processorEventObserver.emit("add",{processor:t,captureHeight:p,captureWidth:u,inputFrameRate:y,isRemoteVideoTrack:this.toString().includes("RemoteVideoTrack"),inputFrameBufferType:o,outputFrameBufferContextType:l}),this._updateElementsMediaStreamTrack(),this._captureFrames(),this},e.prototype.attach=function(){var t=s.prototype.attach.apply(this,arguments);return this._attachments.size===1&&zF(this),this.processor&&this._captureFrames(),t},e.prototype.detach=function(){var t=s.prototype.detach.apply(this,arguments);return this._attachments.size===0&&HF(this),t},e.prototype.removeProcessor=function(t){if(!t)throw new Error("Received an invalid VideoProcessor from removeProcessor.");if(!this.processor)throw new Error("No existing VideoProcessor detected.");if(t!==this.processor)throw new Error("The provided VideoProcessor is different than the existing one.");return this._processorEventObserver.emit("remove"),this._log.debug("Removing VideoProcessor from the VideoTrack",t),this._stopCapture(),this._stopCapture=function(){},this.mediaStreamTrack.removeEventListener("unmute",this._unmuteHandler),this._processorOptions={},this._unmuteHandler=null,this._isCapturing=!1,this.processor=null,this.processedTrack=null,this._inputFrame=null,this._outputFrame=null,this._updateElementsMediaStreamTrack(),this},e}(BF);Pm.DIMENSIONS_CHANGED="dimensionsChanged";function _g(s,e){return s.dimensions.width!==e.videoWidth||s.dimensions.height!==e.videoHeight}function zF(s){!s._documentPipEnterListener&&"documentPictureInPicture"in globalThis&&globalThis.documentPictureInPicture&&typeof globalThis.documentPictureInPicture.addEventListener=="function"&&(s._documentPipEnterListener=function(e){s._log.debug("document pip entered"),s._documentPipWindow=e.window,s._documentPipExitListener=function(){s._log.debug("document pip exited"),s._documentPipWindow=null,typeof s._onDocumentPipExit=="function"&&s._onDocumentPipExit()},e.window&&typeof e.window.addEventListener=="function"&&e.window.addEventListener("pagehide",s._documentPipExitListener),uj(s),typeof s._onDocumentPipEnter=="function"&&s._onDocumentPipEnter(e)},globalThis.documentPictureInPicture.addEventListener("enter",s._documentPipEnterListener))}function HF(s){s._documentPipEnterListener&&(globalThis.documentPictureInPicture&&typeof globalThis.documentPictureInPicture.removeEventListener=="function"&&globalThis.documentPictureInPicture.removeEventListener("enter",s._documentPipEnterListener),s._documentPipWindow&&s._documentPipExitListener&&typeof s._documentPipWindow.removeEventListener=="function"&&s._documentPipWindow.removeEventListener("pagehide",s._documentPipExitListener),s._documentPipEnterListener=null,s._documentPipExitListener=null,s._documentPipWindow=null)}function uj(s){if(s._documentPipWindow)try{var e=new WeakSet(s._documentPipWindow.document.querySelectorAll("video"));s._attachments.forEach(function(t){e.has(t)&&t.paused&&t.play().then(function(){s._log.debug("Successfully played inadvertently paused video element in document PiP window")}).catch(function(a){s._log.debug("Failed to play inadvertently paused video element in document PiP window",a)})})}catch(t){s._log.debug("Error checking document PiP video playback:",t)}}Pm._ensureDocumentPipVideosPlaying=uj;var hj=Pm,qF=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),GF=va.isIOS,YF=rj,KF=lj,mj=hj,QF=KF(mj),ZF=function(s){qF(e,s);function e(t,a){var n=this;return a=Object.assign({workaroundSilentLocalVideo:GF()&&typeof document<"u"&&typeof document.createElement=="function"},a),n=s.call(this,t,a)||this,Object.defineProperties(n,{_workaroundSilentLocalVideo:{value:a.workaroundSilentLocalVideo?JF:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0},_pipIntersectionObserver:{value:null,writable:!0}}),n._workaroundSilentLocalVideo&&(n._workaroundSilentLocalVideoCleanup=n._workaroundSilentLocalVideo(n,document)),n}return e.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},e.prototype._onDocumentPipEnter=function(){this._log.debug("LocalVideoTrack: Setting up PiP intersection observer"),this._setupPipIntersectionObserver()},e.prototype._onDocumentPipExit=function(){this._log.debug("LocalVideoTrack: Cleaning up PiP intersection observer"),this._cleanupPipIntersectionObserver()},e.prototype._setupPipIntersectionObserver=function(){var t=this;!this._pipIntersectionObserver&&this._documentPipWindow&&(this._log.debug("LocalVideoTrack: Creating PiP intersection observer"),this._pipIntersectionObserver=new IntersectionObserver(function(a){var n=a.some(function(i){return i.isIntersecting});n&&(t._log.debug("LocalVideoTrack: Element visible in PiP, ensuring videos are playing"),mj._ensureDocumentPipVideosPlaying(t))},{threshold:.25}),this._attachments.forEach(function(a){t._log.debug("LocalVideoTrack: Observing element for PiP visibility"),t._pipIntersectionObserver.observe(a)}))},e.prototype._cleanupPipIntersectionObserver=function(){this._pipIntersectionObserver&&(this._log.debug("LocalVideoTrack: Disconnecting PiP intersection observer"),this._pipIntersectionObserver.disconnect(),this._pipIntersectionObserver=null)},e.prototype.attach=function(){var t=s.prototype.attach.apply(this,arguments);return this._pipIntersectionObserver&&(this._log.debug("LocalVideoTrack: Observing newly attached element for PiP visibility"),this._pipIntersectionObserver.observe(t)),t},e.prototype.detach=function(){var t=this,a=s.prototype.detach.apply(this,arguments),n=Array.isArray(a)?a:[a];return this._pipIntersectionObserver&&n.forEach(function(i){t._log.debug("LocalVideoTrack: Unobserving detached element from PiP visibility"),t._pipIntersectionObserver.unobserve(i)}),a},e.prototype._checkIfCanCaptureFrames=function(){return s.prototype._checkIfCanCaptureFrames.call(this,this._trackSender.isPublishing)},e.prototype._end=function(){return s.prototype._end.apply(this,arguments)},e.prototype._setSenderMediaStreamTrack=function(t){var a=this,n=this.mediaStreamTrack,i=t?this.processedTrack:n;return this._trackSender.setMediaStreamTrack(i).catch(function(o){return a._log.warn("setMediaStreamTrack failed on LocalVideoTrack RTCRtpSender",{error:o,mediaStreamTrack:i})}).then(function(){a._unprocessedTrack=t?n:null})},e.prototype.addProcessor=function(){this._log.debug("Adding VideoProcessor to the LocalVideoTrack");var t=s.prototype.addProcessor.apply(this,arguments);return this.processedTrack?(this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0),t):this._log.warn("Unable to add a VideoProcessor to the LocalVideoTrack")},e.prototype.removeProcessor=function(){var t=this;this._log.debug("Removing VideoProcessor from the LocalVideoTrack");var a=s.prototype.removeProcessor.apply(this,arguments);return this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the original MediaStreamTrack"),this._setSenderMediaStreamTrack().then(function(){return t._updateElementsMediaStreamTrack()}),a},e.prototype.disable=function(){var t=s.prototype.disable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=!1),t},e.prototype.enable=function(t){t===void 0&&(t=!0);var a=s.prototype.enable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=t,t&&(this._captureFrames(),this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0))),a},e.prototype.restart=function(){var t=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var a=s.prototype.restart.apply(this,arguments);return this.processor&&(a=a.then(function(){return t._restartProcessor()})),this._workaroundSilentLocalVideo&&a.finally(function(){t._workaroundSilentLocalVideoCleanup=t._workaroundSilentLocalVideo(t,document)}),a},e.prototype._restartProcessor=function(){var t=this.processor,a=Object.assign({},this._processorOptions);return s.prototype.removeProcessor.apply(this,[t]),s.prototype.addProcessor.apply(this,[t,a]),this._setSenderMediaStreamTrack(!0)},e.prototype.stop=function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),this._cleanupPipIntersectionObserver(),s.prototype.stop.apply(this,arguments)},e}(QF);function JF(s,e){var t=s._log,a=s._dummyEl,n=s.mediaStreamTrack;function i(){s.isEnabled&&(t.info("Unmuted, checking silence"),a.play().then(function(){return YF(a)}).then(function(o){if(!o){t.info("Non-silent frames detected, so no need to restart");return}return t.warn("Silence detected, restarting"),s._stop(),s._restart()}).catch(function(o){t.warn("Failed to detect silence and restart:",o)}).finally(function(){a=s._dummyEl,a&&!a.paused&&!s.processedTrack&&a.pause(),n.removeEventListener("unmute",i),n=s.mediaStreamTrack,n.addEventListener?n.addEventListener("unmute",i):n.onunmute=i}))}return n.addEventListener?n.addEventListener("unmute",i):n.onunmute=i,function(){n.removeEventListener?n.removeEventListener("unmute",i):n.onunmute=null}}var XF=ZF,eB=Sm,pj=XF;function Am(s,e){var t=new pj(s,e);return Object.setPrototypeOf(t,Am.prototype),t}eB(Am,pj);var tB=Am,rB=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),sB=nj,aB=function(s){rB(e,s);function e(t,a,n,i){var o=s.call(this,t,"data")||this;return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:a},maxRetransmits:{enumerable:!0,value:n},ordered:{enumerable:!0,value:i}}),o}return e}(sB),fj=aB,nB=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),iB=fj,oB=oe.makeUUID,lB=function(s){nB(e,s);function e(t,a,n){var i=s.call(this,oB(),t,a,n)||this;return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return e.prototype._addClone=function(t){this._clones.add(t)},e.prototype.removeClone=function(t){this._clones.delete(t)},e.prototype.addDataChannel=function(t){return this._dataChannels.add(t),this},e.prototype.clone=function(){var t=this,a=new e(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(a),a.once("stopped",function(){return t.removeClone(a)}),a},e.prototype.removeDataChannel=function(t){return this._dataChannels.delete(t),this},e.prototype.send=function(t){return this._dataChannels.forEach(function(a){try{a.send(t)}catch{}}),this._clones.forEach(function(a){try{a.send(t)}catch{}}),this},e.prototype.stop=function(){this._dataChannels.forEach(function(t){return t.close()}),this._clones.forEach(function(t){return t.stop()}),s.prototype.stop.call(this)},e}(iB),cB=lB,dB=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),uB=Cm,hB=cB,mB=function(s){dB(e,s);function e(t){var a=this;t=Object.assign({DataTrackSender:hB,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},t);var n=t.DataTrackSender,i=new n(t.maxPacketLifeTime,t.maxRetransmits,t.ordered);return a=s.call(this,i.id,"data",t)||this,Object.defineProperties(a,{_trackSender:{value:i},id:{enumerable:!0,value:i.id},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:t.maxPacketLifeTime===null&&t.maxRetransmits===null}}),a}return e.prototype.send=function(t){this._trackSender.send(t)},e}(uB),pB=mB,fB=Sm,gj=pB;function Om(s){var e=new gj(s);return Object.setPrototypeOf(e,Om.prototype),e}fB(Om,gj);var gB=Om,Ga={LocalAudioTrack:TF,LocalVideoTrack:tB,LocalDataTrack:gB},vr=T&&T.__assign||function(){return vr=Object.assign||function(s){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},vr.apply(this,arguments)},Sg=T&&T.__awaiter||function(s,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(s,e||[])).next())})},Cg=T&&T.__generator||function(s,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(s,t)}catch(u){d=[6,u],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Eg=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Tg=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s};Object.defineProperty(kc,"__esModule",{value:!0});kc.createLocalTracks=void 0;var xB=tn,yB=oe.buildLogLevels,xj=ba,bB=xj.getUserMedia,vB=xj.MediaStreamTrack,Lm=Ga,wB=Lm.LocalAudioTrack,jB=Lm.LocalDataTrack,NB=Lm.LocalVideoTrack,kB=rs,Rm=qe,_B=Rm.DEFAULT_LOG_LEVEL,SB=Rm.DEFAULT_LOGGER_NAME,CB=Rm.typeErrors.INVALID_VALUE,EB=sj,TB=0;function PB(s){return Sg(this,void 0,void 0,function(){var e,t,a,n,i,o,l,c,d,u,h,p,f,y=this;return Cg(this,function(x){switch(x.label){case 0:if(e=!(s&&("audio"in s||"video"in s)),t=vr({audio:e,getUserMedia:bB,loggerName:SB,logLevel:_B,LocalAudioTrack:wB,LocalDataTrack:jB,LocalVideoTrack:NB,MediaStreamTrack:vB,Log:kB,video:e},s),a="[createLocalTracks #"+ ++TB+"]",n=yB(t.logLevel),i=new t.Log("default",a,n,t.loggerName),o=Object.assign({log:i},t),delete o.name,t.audio===!1&&t.video===!1)return i.info("Neither audio nor video requested, so returning empty LocalTracks"),[2,[]];if(t.tracks)return i.info("Adding user-provided LocalTracks"),i.debug("LocalTracks:",t.tracks),[2,t.tracks];if(l={audio:typeof t.audio=="object"&&t.audio.name?{name:t.audio.name}:{defaultDeviceCaptureMode:"auto"},video:typeof t.video=="object"&&t.video.name?{name:t.video.name}:{}},l.audio.isCreatedByCreateLocalTracks=!0,l.video.isCreatedByCreateLocalTracks=!0,typeof t.audio=="object")if(typeof t.audio.workaroundWebKitBug1208516=="boolean"&&(l.audio.workaroundWebKitBug1208516=t.audio.workaroundWebKitBug1208516),"noiseCancellationOptions"in t.audio&&(c=t.audio.noiseCancellationOptions,delete t.audio.noiseCancellationOptions),!("defaultDeviceCaptureMode"in t.audio))l.audio.defaultDeviceCaptureMode="auto";else{if(["auto","manual"].every(function(g){return g!==t.audio.defaultDeviceCaptureMode}))throw CB("CreateLocalAudioTrackOptions.defaultDeviceCaptureMode",["auto","manual"]);l.audio.defaultDeviceCaptureMode=t.audio.defaultDeviceCaptureMode}typeof t.video=="object"&&typeof t.video.workaroundWebKitBug1208516=="boolean"&&(l.video.workaroundWebKitBug1208516=t.video.workaroundWebKitBug1208516),typeof t.audio=="object"&&delete t.audio.name,typeof t.video=="object"&&delete t.video.name,d={audio:t.audio,video:t.video},u=typeof t.audio=="object"&&t.audio.workaroundWebKitBug180748,x.label=1;case 1:return x.trys.push([1,4,,5]),[4,u?EB(i,t.getUserMedia,d):t.getUserMedia(d)];case 2:return h=x.sent(),p=Tg(Tg([],Eg(h.getAudioTracks())),Eg(h.getVideoTracks())),i.info("Call to getUserMedia successful; got tracks:",p),[4,Promise.all(p.map(function(g){return Sg(y,void 0,void 0,function(){var v,b,k;return Cg(this,function(w){switch(w.label){case 0:return g.kind==="audio"&&c?[4,xB.applyNoiseCancellation(g,c,i)]:[3,2];case 1:return v=w.sent(),b=v.cleanTrack,k=v.noiseCancellation,[2,new o.LocalAudioTrack(b,vr(vr(vr({},l.audio),o),{noiseCancellation:k}))];case 2:if(g.kind==="audio")return[2,new o.LocalAudioTrack(g,vr(vr({},l.audio),o))];w.label=3;case 3:return[2,new o.LocalVideoTrack(g,vr(vr({},l.video),o))]}})})}))];case 3:return[2,x.sent()];case 4:throw f=x.sent(),i.warn("Call to getUserMedia failed:",f),f;case 5:return[2]}})})}kc.createLocalTracks=PB;var sn={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Timer=void 0;var AB=function(){function s(){this._end=void 0,this.start()}return s.prototype.start=function(){return this._start=Date.now(),this},s.prototype.stop=function(){return this._end=Date.now(),this},s.prototype.getTimeMeasurement=function(){return{start:this._start,end:this._end,duration:this._end===void 0?void 0:this._end-this._start}},s}();Oc.Timer=AB;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.mosToScore=an.calculateMOS=void 0;var Pg=94.768;function OB(s,e,t){var a=s+e*2+10,n=0;switch(!0){case a<160:n=Pg-a/40;break;case a<1e3:n=Pg-(a-120)/10;break}switch(!0){case t<=n/2.5:n=Math.max(n-t*2.5,6.52);break;default:n=0;break}var i=1+.035*n+7e-6*n*(n-60)*(100-n);return i}an.calculateMOS=OB;function LB(s){var e=0;return s?s>4.2?e=5:s>4?e=4:s>3.6?e=3:s>3?e=2:e=1:e=0,e}an.mosToScore=LB;var Lc={},RB=T&&T.__awaiter||function(s,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(s,e||[])).next())})},IB=T&&T.__generator||function(s,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(s,t)}catch(u){d=[6,u],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},MB=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getCombinedConnectionStats=void 0;function os(s,e,t,a){var n=[];return s.forEach(function(i){(a.length===0||a.includes(i.type))&&(t.length===0||t.includes(i.kind))&&typeof i[e]=="number"&&n.push(i[e])}),n}function $B(s){var e=s.publisher,t=s.subscriber;return RB(this,void 0,void 0,function(){var a,n,i,o,l,c,d,u,h,p,f,y,x,g,v;return IB(this,function(b){switch(b.label){case 0:return[4,Promise.all([e,t].map(function(k){return k.getStats()}))];case 1:return a=MB.apply(void 0,[b.sent(),2]),n=a[0],i=a[1],o=os(i,"timestamp",["audio"],["inbound-rtp"]),l=o.length>0?o[0]:0,c=os(i,"jitter",["audio"],["inbound-rtp"]).reduce(function(k,w){return Math.max(k,w)},0),d=os(i,"packetsReceived",["audio","video"],["inbound-rtp"]).reduce(function(k,w){return k+w},0),u=os(i,"packetsLost",["audio","video"],["inbound-rtp"]).reduce(function(k,w){return k+w},0),h=os(n,"roundTripTime",["audio","video"],["remote-inbound-rtp"]).reduce(function(k,w){return Math.max(k,w)},0),p=os(i,"currentRoundTripTime",[],["candidate-pair"]).reduce(function(k,w){return Math.max(k,w)},0),f=(p||h)*1e3,y=os(n,"bytesSent",[],["candidate-pair"]).reduce(function(k,w){return k+w},0),x=os(i,"bytesReceived",[],["candidate-pair"]).reduce(function(k,w){return k+w},0),g=DB(i),v=[],i.forEach(function(k){(k.type==="local-candidate"||k.type==="remote-candidate")&&v.push(nh(k))}),[2,{timestamp:l,jitter:c,packets:d,packetsLost:u,roundTripTime:f,bytesSent:y,bytesReceived:x,selectedIceCandidatePairStats:g,iceCandidateStats:v}]}})})}Lc.getCombinedConnectionStats=$B;function nh(s){var e=[{key:"transportId",type:"string"},{key:"candidateType",type:"string"},{key:"port",altKeys:["portNumber"],type:"number"},{key:"address",altKeys:["ip","ipAddress"],type:"string"},{key:"priority",type:"number"},{key:"protocol",altKeys:["transport"],type:"string"},{key:"url",type:"string"},{key:"relayProtocol",type:"string"}];return e.reduce(function(t,a){var n=[a.key];a.altKeys&&(n=n.concat(a.altKeys));var i=n.find(function(o){return o in s});return i&&typeof s[i]===a.type&&(t[a.key]=s[i]),t},{})}function DB(s){var e=null,t=[];s.forEach(function(l){l.type==="transport"&&l.selectedCandidatePairId?e=l.selectedCandidatePairId:l.type==="candidate-pair"&&t.push(l)});var a=t.find(function(l){return l.selected||e&&l.id===e});if(!a)return null;var n=a,i=s.get(n.localCandidateId),o=s.get(n.remoteCandidateId);return!i||!o?null:{localCandidate:nh(i),remoteCandidate:nh(o)}}var Rc={},FB=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),BB=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},VB=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},UB=Bt.EventEmitter,yj=oe,WB=function(s){FB(e,s);function e(t,a){var n=s.call(this)||this,i=null,o=t;return a=qB(a),Object.defineProperties(n,{_lock:{get:function(){return i},set:function(l){i=l}},_reachableStates:{value:HB(a)},_state:{get:function(){return o},set:function(l){o=l}},_states:{value:a},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return i!==null}},state:{enumerable:!0,get:function(){return o}}}),n.on("stateChanged",function(l){n._whenDeferreds.forEach(function(c){c.when(l,c.resolve,c.reject)})}),n}return e.prototype._whenPromise=function(t){var a=this;if(typeof t!="function")return Promise.reject(new Error("when() executor must be a function"));var n=yj.defer();return n.when=t,this._whenDeferreds.add(n),n.promise.then(function(i){return a._whenDeferreds.delete(n),i},function(i){throw a._whenDeferreds.delete(n),i})},e.prototype.bracket=function(t,a){var n,i=this;function o(l){if(i.hasLock(n)&&i.releaseLockCompletely(n),l)throw l}return this.takeLock(t).then(function(c){return n=c,a(n)}).then(function(c){return o(),c},o)},e.prototype.hasLock=function(t){return this._lock===t},e.prototype.preempt=function(t,a,n){if(!So(this._states,this.state,t))throw new Error('Cannot transition from "'+this.state+'" to "'+t+'"');var i;this.isLocked&&(i=this._lock,this._lock=null);var o=null;a&&(o=this.takeLockSync(a));var l=o?null:this.takeLockSync("preemption");return this.transition(t,o||l,n),i&&i.resolve(),l&&this.releaseLock(l),o},e.prototype.releaseLock=function(t){if(this.isLocked){if(!this.hasLock(t))throw new Error("Could not release the lock for "+t.name+" because "+this._lock.name+" has the lock")}else throw new Error("Could not release the lock for "+t.name+" because the StateMachine is not locked");t.depth===0?(this._lock=null,t.resolve()):t.depth--},e.prototype.releaseLockCompletely=function(t){if(this.isLocked){if(!this.hasLock(t))throw new Error("Could not release the lock for "+t.name+" because "+this._lock.name+" has the lock")}else throw new Error("Could not release the lock for "+t.name+" because the StateMachine is not locked");t.depth=0,this._lock=null,t.resolve()},e.prototype.takeLock=function(t){var a=this;if(typeof t=="object"){var n=t;return new Promise(function(l){l(a.takeLockSync(n))})}var i=t;if(this.isLocked){var o=this.takeLock.bind(this,i);return this._lock.promise.then(o)}return Promise.resolve(this.takeLockSync(i))},e.prototype.takeLockSync=function(t){var a=typeof t=="string"?null:t,n=a?a.name:t;if(a&&!this.hasLock(a)||!a&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(a)return a.depth++,a;var i=zB(n);return this._lock=i,i},e.prototype.transition=function(t,a,n){if(n=n||[],this.isLocked)if(a){if(!this.hasLock(a))throw new Error("Could not transition using the key for "+a.name+" because "+this._lock.name+" has the lock")}else throw new Error("You must provide the key in order to transition");else if(a)throw new Error("Key provided for "+a.name+", but the StateMachine was not locked (possibly due to preemption)");if(!So(this._states,this.state,t))throw new Error('Cannot transition from "'+this.state+'" to "'+t+'"');this._state=t,this.emit.apply(this,VB([],BB(["stateChanged",t].concat(n))))},e.prototype.tryTransition=function(t,a,n){try{this.transition(t,a,n)}catch{return!1}return!0},e.prototype.when=function(t){var a=this;return this.state===t?Promise.resolve(this):So(this._reachableStates,this.state,t)?this._whenPromise(function(n,i,o){n===t?i(a):So(a._reachableStates,n,t)||o(Ag(n,t))}):Promise.reject(Ag(this.state,t))},e}(UB);function So(s,e,t){return s.get(e).has(t)}function zB(s){var e=yj.defer();return e.name=s,e.depth=0,e}function HB(s){return Array.from(s.keys()).reduce(function(e,t){return e.set(t,bj(s,t))},new Map)}function bj(s,e,t){return t=t||new Set,s.get(e).forEach(function(a){t.has(a)||(t.add(a),bj(s,a,t).forEach(t.add,t))}),t}function qB(s){var e=new Map;for(var t in s)e.set(t,new Set(s[t]));return e}function Ag(s,e){return new Error('"'+e+'" cannot be reached from "'+s+'"')}var mn=WB,GB=function(){function s(e,t){var a=this;t=Object.assign({navigator,window},t);var n=t.navigator,i=n.connection||{type:null},o=i.type,l=i.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var h=o!==a.type&&a.isOnline;o=a.type,h&&e()}},_target:{value:i}}:{_events:{value:["online"]},_listener:{value:e},_target:{value:t.window}},c=l._events,d=l._listener,u=l._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return typeof n.onLine=="boolean"?n.onLine:!0}},type:{enumerable:!0,get:function(){return i.type||null}},_listener:d,_events:c,_target:u})}return s.prototype.start=function(){var e=this;this._events.forEach(function(t){e._target.addEventListener(t,e._listener)})},s.prototype.stop=function(){var e=this;this._events.forEach(function(t){e._target.removeEventListener(t,e._listener)})},s}(),YB=GB,KB=function(){function s(e,t,a){a===void 0&&(a=!0),Object.defineProperties(this,{_delay:{value:t,writable:!0},_fn:{value:e},_timeout:{value:null,writable:!0}}),a&&this.start()}return Object.defineProperty(s.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isSet",{get:function(){return!!this._timeout},enumerable:!1,configurable:!0}),s.prototype.setDelay=function(e){this._delay=e},s.prototype.start=function(){var e=this;this.isSet||(this._timeout=setTimeout(function(){var t=e._fn;e.clear(),t()},this._delay))},s.prototype.clear=function(){clearTimeout(this._timeout),this._timeout=null},s.prototype.reset=function(){this.clear(),this.start()},s}(),wa=KB,Dd,Og;function vj(){return Og||(Og=1,Dd=WebSocket),Dd}var QB=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Lg=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},ZB=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},JB=mn,wj=oe,XB=wj.buildLogLevels,eV=wj.makeUUID,tV=rs,rV=YB,Aa=wa,sV=0,aV={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},Rg={closed:"close",open:"open",waiting:"waiting"},nV=2,iV=3,oV=3,lV=5e3,cV=15e3,dV=5e3,uV=200,Ig=1e3,ih=3e3,oh=3001,lh=3002,ch=3003,jj=3004,Co=3005,dh=3006,Nj=3007,Mg=globalThis,hV=Mg.WebSocket?Mg.WebSocket:vj(),mr={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},mV=new Map([[ih,mr.TIMEOUT],[oh,mr.TIMEOUT],[lh,mr.FAILED],[ch,mr.FAILED],[jj,mr.TIMEOUT],[dh,mr.BUSY],[Nj,mr.TIMEOUT]]),kj=function(s){QB(e,s);function e(t,a){var n=s.call(this,"early",aV)||this;a=Object.assign({helloBody:null,maxConsecutiveFailedHellos:oV,maxConsecutiveMissedHeartbeats:iV,requestedHeartbeatTimeout:lV,openTimeout:cV,welcomeTimeout:dV,Log:tV,WebSocket:hV},a);var i=XB(a.logLevel),o=new a.Log("default",n,i,a.loggerName),l=a.networkMonitor?new rV(function(){var d=l.type,u="Network changed"+(d?" to "+d:"");o.debug(u),n._close({code:jj,reason:u})}):null;Object.defineProperties(n,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:a.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:a.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++sV},_log:{value:o},_messageQueue:{value:[]},_networkMonitor:{value:l},_options:{value:a},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:t},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var c={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return n.on("stateChanged",function(d){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];d in Rg&&n.emit.apply(n,ZB([Rg[d]],Lg(u)));var p={name:d,group:"signaling",level:c[n.state]};if(d==="closed"){var f=Lg(u,1),y=f[0];p.payload={reason:y},p.level=y===mr.LOCAL?"info":"error"}n._eventObserver.emit("event",p)}),n._eventObserver.emit("event",{name:n.state,group:"signaling",level:c[n.state]}),n._connect(),n}return e.prototype.toString=function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"},e.prototype._close=function(t){var a=t.code,n=t.reason;if(this.state!=="closed"){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&a!==Co&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var i=this._log;a===Ig?(i.debug("Closed"),this.transition("closed",null,[mr.LOCAL])):(i.warn("Closed: "+a+" - "+n),a!==Co&&this.transition("closed",null,[mV.get(a)||mr.REMOTE]));var o=this._ws.readyState,l=this._options.WebSocket;o!==l.CLOSING&&o!==l.CLOSED&&this._ws.close(a,n)}},e.prototype._connect=function(){var t=this,a=this._log;if(this.state==="waiting")this.transition("early");else if(this.state!=="early"){a.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');return}this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;a.debug("Created a new WebSocket:",n),n.addEventListener("close",function(o){return t._close(o)});var i=this._options.openTimeout;this._openTimeout=new Aa(function(){var o="Failed to open in "+i+" ms";t._close({code:Nj,reason:o})},i),n.addEventListener("open",function(){a.debug("WebSocket opened:",n),t._openTimeout.clear(),t._startHandshake(),t._networkMonitor&&t._networkMonitor.start()}),n.addEventListener("message",function(o){a.debug("Incoming: "+o.data);try{o=JSON.parse(o.data)}catch(l){t.emit("error",l);return}switch(o.type){case"bad":t._handleBad(o);break;case"busy":t._handleBusy(o);break;case"bye":break;case"msg":t._handleMessage(o);case"heartbeat":t._handleHeartbeat();break;case"welcome":t._handleWelcome(o);break;default:t._log.debug("Unknown message type: "+o.type),t.emit("error",new Error("Unknown message type: "+o.type));break}})},e.prototype._handleBad=function(t){var a=t.reason,n=this._log;if(!["connecting","open"].includes(this.state)){n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.');return}if(this.state==="connecting"){n.warn("Closing: "+lh+" - "+a),this._close({code:lh,reason:a});return}n.debug("Error: "+a),this.emit("error",new Error(a))},e.prototype._handleBusy=function(t){var a=this,n=t.cookie,i=t.keepAlive,o=t.retryAfter,l=this._log;if(!["connecting","waiting"].includes(this.state)){l.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.');return}this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var c=o<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+o+" ms";if(o<0){l.warn("Closing: "+dh+" - "+c),this._close({code:dh,reason:c});return}var d=this._options.maxConsecutiveFailedHellos;this._hellosLeft=d,this._cookie=n||null,i?(l.warn(c),this._busyWaitTimeout=new Aa(function(){return a._startHandshake()},o)):(l.warn("Closing: "+Co+" - "+c),this._close({code:Co,reason:c}),this._busyWaitTimeout=new Aa(function(){return a._connect()},o)),this.transition("waiting",null,[i,o])},e.prototype._handleHeartbeat=function(){if(this.state!=="open"){this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.');return}this._heartbeatTimeout.reset()},e.prototype._handleHeartbeatTimeout=function(){if(this.state==="open"){var t=this._log,a=this._options.maxConsecutiveMissedHeartbeats;t.debug("Consecutive heartbeats missed: "+a);var n="Missed "+a+' "heartbeat" messages';t.warn("Closing: "+oh+" - "+n),this._close({code:oh,reason:n})}},e.prototype._handleMessage=function(t){var a=t.body;if(this.state!=="open"){this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.');return}this.emit("message",a)},e.prototype._handleWelcome=function(t){var a=this,n=t.negotiatedTimeout,i=this._log;if(!["connecting","waiting"].includes(this.state)){i.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.');return}this.state==="waiting"&&(i.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var o=this._options.maxConsecutiveMissedHeartbeats,l=n*o,c=n-uV;this._welcomeTimeout.clear(),this._heartbeatTimeout=new Aa(function(){return a._handleHeartbeatTimeout()},l),this._messageQueue.splice(0).forEach(function(d){return a._send(d)}),this._sendHeartbeatTimeout=new Aa(function(){return a._sendHeartbeat()},c),this.transition("open")},e.prototype._handleWelcomeTimeout=function(){if(this.state==="connecting"){var t=this._log;if(this._hellosLeft<=0){var a="All handshake attempts failed";t.warn("Closing: "+ih+" - "+a),this._close({code:ih,reason:a});return}var n=this._options.maxConsecutiveFailedHellos;t.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}},e.prototype._send=function(t){var a=this._ws.readyState,n=this._options.WebSocket;if(a===n.OPEN){var i=JSON.stringify(t);this._log.debug("Outgoing: "+i);try{this._ws.send(i),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch{var o="Failed to send message";this._log.warn("Closing: "+ch+" - "+o),this._close({code:ch,reason:o})}}},e.prototype._sendHeartbeat=function(){this.state!=="closed"&&this._send({type:"heartbeat"})},e.prototype._sendHello=function(){var t=this._options,a=t.helloBody,n=t.requestedHeartbeatTimeout,i={id:eV(),timeout:n,type:"hello",version:nV};this._cookie&&(i.cookie=this._cookie),a&&(i.body=a),this._send(i)},e.prototype._sendOrEnqueue=function(t){var a=this;if(this.state!=="closed"){var n=this.state==="open"?function(i){return a._send(i)}:function(i){return a._messageQueue.push(i)};n(t)}},e.prototype._startHandshake=function(){var t=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),this.state==="connecting"){this._hellosLeft--,this._sendHello();var a=this._options.welcomeTimeout;this._welcomeTimeout=new Aa(function(){return t._handleWelcomeTimeout()},a)}},e.prototype.close=function(){this.state!=="closed"&&(this._sendOrEnqueue({type:"bye"}),this._close({code:Ig,reason:"Normal"}))},e.prototype.sendMessage=function(t){this._sendOrEnqueue({body:t,type:"msg"})},e}(JB);kj.CloseReason=mr;var _j=kj,le={},pV=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),fV=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},gV=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},xV=function(s){pV(e,s);function e(t){var a=this,n=[].slice.call(arguments,1);a=s.apply(this,gV([],fV(n)))||this,Object.setPrototypeOf(a,e.prototype);var i=Error.apply(a,n);return i.name="TwilioError",Object.defineProperty(a,"code",{value:t,enumerable:!0}),Object.getOwnPropertyNames(i).forEach(function(o){Object.defineProperty(this,o,{value:i[o],enumerable:!0})},a),a}return e.prototype.toString=function(){var t=this.message?": "+this.message:"";return this.name+" "+this.code+t},e}(Error),yV=xV,pe=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),he=yV,de={};le.createTwilioError=function(e,t){return e=typeof e=="number"?e:0,t=typeof t=="string"&&t?t:"Unknown error",de[e]?new de[e]:new he(e,t)};var Sj=function(s){pe(e,s);function e(){var t=s.call(this,20101,"Invalid Access Token")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenInvalidError=Sj;Object.defineProperty(de,20101,{value:Sj});var Cj=function(s){pe(e,s);function e(){var t=s.call(this,20102,"Invalid Access Token header")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenHeaderInvalidError=Cj;Object.defineProperty(de,20102,{value:Cj});var Ej=function(s){pe(e,s);function e(){var t=s.call(this,20103,"Invalid Access Token issuer/subject")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenIssuerInvalidError=Ej;Object.defineProperty(de,20103,{value:Ej});var Tj=function(s){pe(e,s);function e(){var t=s.call(this,20104,"Access Token expired or expiration date invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenExpiredError=Tj;Object.defineProperty(de,20104,{value:Tj});var Pj=function(s){pe(e,s);function e(){var t=s.call(this,20105,"Access Token not yet valid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenNotYetValidError=Pj;Object.defineProperty(de,20105,{value:Pj});var Aj=function(s){pe(e,s);function e(){var t=s.call(this,20106,"Invalid Access Token grants")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenGrantsInvalidError=Aj;Object.defineProperty(de,20106,{value:Aj});var Oj=function(s){pe(e,s);function e(){var t=s.call(this,20107,"Invalid Access Token signature")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.AccessTokenSignatureInvalidError=Oj;Object.defineProperty(de,20107,{value:Oj});var Lj=function(s){pe(e,s);function e(){var t=s.call(this,53e3,"Signaling connection error")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.SignalingConnectionError=Lj;Object.defineProperty(de,53e3,{value:Lj});var Rj=function(s){pe(e,s);function e(){var t=s.call(this,53001,"Signaling connection disconnected")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.SignalingConnectionDisconnectedError=Rj;Object.defineProperty(de,53001,{value:Rj});var Ij=function(s){pe(e,s);function e(){var t=s.call(this,53002,"Signaling connection timed out")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.SignalingConnectionTimeoutError=Ij;Object.defineProperty(de,53002,{value:Ij});var Mj=function(s){pe(e,s);function e(){var t=s.call(this,53003,"Client received an invalid signaling message")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.SignalingIncomingMessageInvalidError=Mj;Object.defineProperty(de,53003,{value:Mj});var $j=function(s){pe(e,s);function e(){var t=s.call(this,53004,"Client sent an invalid signaling message")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.SignalingOutgoingMessageInvalidError=$j;Object.defineProperty(de,53004,{value:$j});var Dj=function(s){pe(e,s);function e(){var t=s.call(this,53006,"Video server is busy")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.SignalingServerBusyError=Dj;Object.defineProperty(de,53006,{value:Dj});var Fj=function(s){pe(e,s);function e(){var t=s.call(this,53100,"Room name is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomNameInvalidError=Fj;Object.defineProperty(de,53100,{value:Fj});var Bj=function(s){pe(e,s);function e(){var t=s.call(this,53101,"Room name is too long")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomNameTooLongError=Bj;Object.defineProperty(de,53101,{value:Bj});var Vj=function(s){pe(e,s);function e(){var t=s.call(this,53102,"Room name contains invalid characters")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomNameCharsInvalidError=Vj;Object.defineProperty(de,53102,{value:Vj});var Uj=function(s){pe(e,s);function e(){var t=s.call(this,53103,"Unable to create Room")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomCreateFailedError=Uj;Object.defineProperty(de,53103,{value:Uj});var Wj=function(s){pe(e,s);function e(){var t=s.call(this,53104,"Unable to connect to Room")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomConnectFailedError=Wj;Object.defineProperty(de,53104,{value:Wj});var zj=function(s){pe(e,s);function e(){var t=s.call(this,53105,"Room contains too many Participants")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomMaxParticipantsExceededError=zj;Object.defineProperty(de,53105,{value:zj});var Hj=function(s){pe(e,s);function e(){var t=s.call(this,53106,"Room not found")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomNotFoundError=Hj;Object.defineProperty(de,53106,{value:Hj});var qj=function(s){pe(e,s);function e(){var t=s.call(this,53107,"MaxParticipants is out of range")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomMaxParticipantsOutOfRangeError=qj;Object.defineProperty(de,53107,{value:qj});var Gj=function(s){pe(e,s);function e(){var t=s.call(this,53108,"RoomType is not valid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomTypeInvalidError=Gj;Object.defineProperty(de,53108,{value:Gj});var Yj=function(s){pe(e,s);function e(){var t=s.call(this,53109,"Timeout is out of range")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomTimeoutOutOfRangeError=Yj;Object.defineProperty(de,53109,{value:Yj});var Kj=function(s){pe(e,s);function e(){var t=s.call(this,53110,"StatusCallbackMethod is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomStatusCallbackMethodInvalidError=Kj;Object.defineProperty(de,53110,{value:Kj});var Qj=function(s){pe(e,s);function e(){var t=s.call(this,53111,"StatusCallback is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomStatusCallbackInvalidError=Qj;Object.defineProperty(de,53111,{value:Qj});var Zj=function(s){pe(e,s);function e(){var t=s.call(this,53112,"Status is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomStatusInvalidError=Zj;Object.defineProperty(de,53112,{value:Zj});var Jj=function(s){pe(e,s);function e(){var t=s.call(this,53113,"Room exists")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomRoomExistsError=Jj;Object.defineProperty(de,53113,{value:Jj});var Xj=function(s){pe(e,s);function e(){var t=s.call(this,53114,"Room creation parameter(s) incompatible with the Room type")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomInvalidParametersError=Xj;Object.defineProperty(de,53114,{value:Xj});var e1=function(s){pe(e,s);function e(){var t=s.call(this,53115,"MediaRegion is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomMediaRegionInvalidError=e1;Object.defineProperty(de,53115,{value:e1});var t1=function(s){pe(e,s);function e(){var t=s.call(this,53116,"There are no media servers available in the MediaRegion")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomMediaRegionUnavailableError=t1;Object.defineProperty(de,53116,{value:t1});var r1=function(s){pe(e,s);function e(){var t=s.call(this,53117,"The subscription operation requested is not supported for the Room type")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomSubscriptionOperationNotSupportedError=r1;Object.defineProperty(de,53117,{value:r1});var s1=function(s){pe(e,s);function e(){var t=s.call(this,53118,"Room completed")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomCompletedError=s1;Object.defineProperty(de,53118,{value:s1});var a1=function(s){pe(e,s);function e(){var t=s.call(this,53124,"The AudioOnly flag is not supported for the Room type")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomAudioOnlyFlagNotSupportedError=a1;Object.defineProperty(de,53124,{value:a1});var n1=function(s){pe(e,s);function e(){var t=s.call(this,53125,"The track kind is not supported by the Room")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.RoomTrackKindNotSupportedError=n1;Object.defineProperty(de,53125,{value:n1});var i1=function(s){pe(e,s);function e(){var t=s.call(this,53200,"Participant identity is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ParticipantIdentityInvalidError=i1;Object.defineProperty(de,53200,{value:i1});var o1=function(s){pe(e,s);function e(){var t=s.call(this,53201,"Participant identity is too long")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ParticipantIdentityTooLongError=o1;Object.defineProperty(de,53201,{value:o1});var l1=function(s){pe(e,s);function e(){var t=s.call(this,53202,"Participant identity contains invalid characters")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ParticipantIdentityCharsInvalidError=l1;Object.defineProperty(de,53202,{value:l1});var c1=function(s){pe(e,s);function e(){var t=s.call(this,53203,"The maximum number of published tracks allowed in the Room at the same time has been reached")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ParticipantMaxTracksExceededError=c1;Object.defineProperty(de,53203,{value:c1});var d1=function(s){pe(e,s);function e(){var t=s.call(this,53204,"Participant not found")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ParticipantNotFoundError=d1;Object.defineProperty(de,53204,{value:d1});var u1=function(s){pe(e,s);function e(){var t=s.call(this,53205,"Participant disconnected because of duplicate identity")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ParticipantDuplicateIdentityError=u1;Object.defineProperty(de,53205,{value:u1});var h1=function(s){pe(e,s);function e(){var t=s.call(this,53300,"Track is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.TrackInvalidError=h1;Object.defineProperty(de,53300,{value:h1});var m1=function(s){pe(e,s);function e(){var t=s.call(this,53301,"Track name is invalid")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.TrackNameInvalidError=m1;Object.defineProperty(de,53301,{value:m1});var p1=function(s){pe(e,s);function e(){var t=s.call(this,53302,"Track name is too long")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.TrackNameTooLongError=p1;Object.defineProperty(de,53302,{value:p1});var f1=function(s){pe(e,s);function e(){var t=s.call(this,53303,"Track name contains invalid characters")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.TrackNameCharsInvalidError=f1;Object.defineProperty(de,53303,{value:f1});var g1=function(s){pe(e,s);function e(){var t=s.call(this,53304,"Track name is duplicated")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.TrackNameIsDuplicatedError=g1;Object.defineProperty(de,53304,{value:g1});var x1=function(s){pe(e,s);function e(){var t=s.call(this,53305,"The server has reached capacity and cannot fulfill this request")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.TrackServerTrackCapacityReachedError=x1;Object.defineProperty(de,53305,{value:x1});var y1=function(s){pe(e,s);function e(){var t=s.call(this,53400,"Client is unable to create or apply a local media description")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaClientLocalDescFailedError=y1;Object.defineProperty(de,53400,{value:y1});var b1=function(s){pe(e,s);function e(){var t=s.call(this,53401,"Server is unable to create or apply a local media description")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaServerLocalDescFailedError=b1;Object.defineProperty(de,53401,{value:b1});var v1=function(s){pe(e,s);function e(){var t=s.call(this,53402,"Client is unable to apply a remote media description")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaClientRemoteDescFailedError=v1;Object.defineProperty(de,53402,{value:v1});var w1=function(s){pe(e,s);function e(){var t=s.call(this,53403,"Server is unable to apply a remote media description")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaServerRemoteDescFailedError=w1;Object.defineProperty(de,53403,{value:w1});var j1=function(s){pe(e,s);function e(){var t=s.call(this,53404,"No supported codec")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaNoSupportedCodecError=j1;Object.defineProperty(de,53404,{value:j1});var N1=function(s){pe(e,s);function e(){var t=s.call(this,53405,"Media connection failed or Media activity ceased")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaConnectionError=N1;Object.defineProperty(de,53405,{value:N1});var k1=function(s){pe(e,s);function e(){var t=s.call(this,53407,"Media connection failed due to DTLS handshake failure")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.MediaDTLSTransportFailedError=k1;Object.defineProperty(de,53407,{value:k1});var _1=function(s){pe(e,s);function e(){var t=s.call(this,53500,"Unable to acquire configuration")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ConfigurationAcquireFailedError=_1;Object.defineProperty(de,53500,{value:_1});var S1=function(s){pe(e,s);function e(){var t=s.call(this,53501,"Unable to acquire TURN credentials")||this;return Object.setPrototypeOf(t,e.prototype),t}return e}(he);le.ConfigurationAcquireTurnFailedError=S1;Object.defineProperty(de,53501,{value:S1});Object.defineProperty(Rc,"__esModule",{value:!0});Rc.getTurnCredentials=void 0;var bV=_j,vV=qe.ICE_VERSION,C1=le,wV=C1.createTwilioError,jV=C1.SignalingConnectionError,NV=Bt;function kV(s,e){return new Promise(function(t,a){var n=new NV.EventEmitter,i={networkMonitor:null,eventObserver:n,helloBody:{edge:"roaming",preflight:!0,token:s,type:"ice",version:vV}},o=new bV(e,i),l=!1;o.once("close",function(){l||(l=!0,a(new jV))}),o.on("message",function(c){var d=c.code,u=c.message,h=c.ice_servers,p=c.type;(p==="iced"||p==="error")&&!l&&(l=!0,p==="iced"?t(h):a(wV(d,u)),o.close())})})}Rc.getTurnCredentials=kV;var Ic={},$g=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Dg=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.makeStat=void 0;function _V(s){if(s&&s.length){var e=Math.min.apply(Math,Dg([],$g(s))),t=Math.max.apply(Math,Dg([],$g(s))),a=s.reduce(function(n,i){return n+i},0)/s.length;return{min:e,max:t,average:a}}return null}Ic.makeStat=_V;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.syntheticAudio=void 0;function SV(){var s=Pc(),e={},t=s.getOrCreate(e),a=t.createOscillator(),n=a.connect(t.createMediaStreamDestination());a.start();var i=n.stream.getAudioTracks()[0],o=i.stop;return i.stop=function(){o.call(i),s.release(e)},i}Mc.syntheticAudio=SV;var $c={};Object.defineProperty($c,"__esModule",{value:!0});$c.syntheticVideo=void 0;function CV(s){var e=s===void 0?{}:s,t=e.width,a=t===void 0?640:t,n=e.height,i=n===void 0?480:n,o=Object.assign(document.createElement("canvas"),{width:a,height:i}),l=o.getContext("2d");l.fillStyle="green",l.fillRect(0,0,o.width,o.height);var c=!1;requestAnimationFrame(function p(){if(!c){var f=Math.round(Math.random()*255),y=Math.round(Math.random()*255),x=Math.round(Math.random()*255),g=Math.round(Math.random()*255);l.fillStyle="rgba("+f+", "+y+", "+x+", "+g+")",l.fillRect(Math.random()*a,Math.random()*i,50,50),requestAnimationFrame(p)}});var d=o.captureStream(30),u=d.getTracks()[0],h=u.stop;return u.stop=function(){c=!0,h.call(u)},u}$c.syntheticVideo=CV;var EV=function(){function s(){Object.defineProperties(this,{_samples:{value:[{denominator:0,numerator:0},{denominator:0,numerator:0}]}})}return s.prototype.get=function(){var e=this._samples,t=e[1].denominator-e[0].denominator||1/0,a=e[1].numerator-e[0].numerator;return a/t},s.prototype.putSample=function(e,t){var a=this._samples;a.shift(),a.push({denominator:t,numerator:e})},s}(),E1=EV,TV=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),PV=Bt.EventEmitter,AV=["signaling","room","media","quality","video-processor","preflight"],OV=["debug","error","info","warning"],LV=function(s){TV(e,s);function e(t,a,n,i){i===void 0&&(i=null);var o=s.call(this)||this;return o.on("event",function(l){var c=l.name,d=l.group,u=l.level,h=l.payload;if(typeof c!="string")throw n.error("Unexpected name: ",c),new Error("Unexpected name: ",c);if(!AV.includes(d))throw n.error("Unexpected group: ",d),new Error("Unexpected group: ",d);if(!OV.includes(u))throw n.error("Unexpected level: ",u),new Error("Unexpected level: ",u);var p=Date.now(),f=p-a,y=Object.assign({elapsedTime:f,level:u},h||{});t.publish(d,c,y);var x=Object.assign({elapsedTime:f,group:d,level:u,name:c,timestamp:p},h?{payload:h}:{}),g={debug:"debug",error:"error",info:"info",warning:"warn"}[u];n[g]("event",x),i&&d==="signaling"&&i.emit("event",x)}),o}return e}(PV),T1=LV,RV=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Ua=T&&T.__assign||function(){return Ua=Object.assign||function(s){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Ua.apply(this,arguments)},IV=Bt.EventEmitter,MV=oe.getUserAgent,$V=5,DV=50,FV=1e3,Fg=globalThis,BV=Fg.WebSocket?Fg.WebSocket:vj(),P1=qe,VV=P1.hardwareDevicePublisheriPad,UV=P1.hardwareDevicePublisheriPhone,WV=oe,Bg=va,zV=function(s){RV(e,s);function e(t,a,n,i,o,l){var c=s.call(this)||this;return l=Object.assign({gateway:HV(i,o)+"/v1/VideoEvents",maxReconnectAttempts:$V,reconnectIntervalMs:DV,userAgent:MV(),WebSocket:BV},l),Object.defineProperties(c,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:WV.defer()},_reconnectAttemptsLeft:{value:l.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:l.WebSocket}}),c._readyToConnect.promise.then(function(d){var u=d.roomSid,h=d.participantSid,p=c;c.on("disconnected",function f(y){if(p._session=null,y&&p._reconnectAttemptsLeft>0){p.emit("reconnecting"),GV(p,t,a,n,u,h,l);return}p.removeListener("disconnected",f)}),uh(c,t,a,n,u,h,l)}).catch(function(){}),c}return e.prototype.connect=function(t,a){this._readyToConnect.resolve({roomSid:t,participantSid:a})},e.prototype._publish=function(t){t.session=this._session,this._ws.send(JSON.stringify(t))},e.prototype.disconnect=function(){if(this._ws===null||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch{}return this.emit("disconnected"),!0},e.prototype.publish=function(t,a,n){if(this._ws!==null&&(this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED))return!1;var i=typeof this._session=="string"?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue);return i({group:t,name:a,payload:n,timestamp:Date.now(),type:"event",version:1}),!0},e}(IV);function uh(s,e,t,a,n,i,o){s._connectTimestamp=Date.now(),s._reconnectAttemptsLeft--,s._ws=new o.WebSocket(o.gateway);var l=s._ws;l.addEventListener("close",function(c){if(c.code===FV){s.emit("disconnected");return}s.emit("disconnected",new Error("WebSocket Error "+c.code+": "+c.reason))}),l.addEventListener("message",function(c){qV(s,JSON.parse(c.data),o)}),l.addEventListener("open",function(){var c={type:"connect",token:e,version:1};c.publisher={name:t,sdkVersion:a,userAgent:o.userAgent,participantSid:i,roomSid:n},Bg.isIpad()?c.publisher=Ua(Ua({},c.publisher),VV):Bg.isIphone()&&(c.publisher=Ua(Ua({},c.publisher),UV)),l.send(JSON.stringify(c))})}function HV(s,e){return s==="prod"?"wss://sdkgw."+e+".twilio.com":"wss://sdkgw."+s+"-"+e+".twilio.com"}function qV(s,e,t){switch(e.type){case"connected":s._session=e.session,s._reconnectAttemptsLeft=t.maxReconnectAttempts,s._eventQueue.splice(0).forEach(s._publish,s),s.emit("connected");break;case"error":s._ws.close(),s.emit("disconnected",new Error(e.message));break}}function GV(s,e,t,a,n,i,o){var l=Date.now()-s._connectTimestamp,c=o.reconnectIntervalMs-l;if(c>0){setTimeout(function(){uh(s,e,t,a,n,i,o)},c);return}uh(s,e,t,a,n,i,o)}var A1=zV,YV=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Ml=T&&T.__assign||function(){return Ml=Object.assign||function(s){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Ml.apply(this,arguments)},Rn=T&&T.__awaiter||function(s,e,t,a){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(s,e||[])).next())})},In=T&&T.__generator||function(s,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(s,t)}catch(u){d=[6,u],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(sn,"__esModule",{value:!0});sn.runPreflight=sn.PreflightTest=void 0;var Oa=qe,La=Oc,KV=an,QV=Lc,ZV=Rc,Eo=Ic,JV=Mc,XV=$c,eU=oe,tU=qe.WS_SERVER,rU=rs,sU=Hi,Fd=E1,aU=T1,nU=A1,O1=Sc,iU=O1.createSID,oU=O1.sessionSID,L1=le,lU=L1.SignalingConnectionTimeoutError,Vg=L1.MediaConnectionError,R1=1e3,cU=10*R1,$s={mediaAcquired:"mediaAcquired",connected:"connected",mediaSubscribed:"mediaSubscribed",mediaStarted:"mediaStarted",dtlsConnected:"dtlsConnected",peerConnectionConnected:"peerConnectionConnected",iceConnected:"iceConnected"};function dU(s){return s!==null&&typeof s<"u"}var uU=0,I1=function(s){YV(e,s);function e(t,a){var n=s.call(this)||this;n._testTiming=new La.Timer,n._dtlsTiming=new La.Timer,n._iceTiming=new La.Timer,n._peerConnectionTiming=new La.Timer,n._mediaTiming=new La.Timer,n._connectTiming=new La.Timer,n._sentBytesMovingAverage=new Fd,n._packetLossMovingAverage=new Fd,n._progressEvents=[],n._receivedBytesMovingAverage=new Fd;var i=a,o=i.environment,l=o===void 0?"prod":o,c=i.region,d=c===void 0?"gll":c,u=i.duration,h=u===void 0?cU:u,p=i.wsServer||tU(l,d);return n._log=new rU("default",n,Oa.DEFAULT_LOG_LEVEL,Oa.DEFAULT_LOGGER_NAME),n._testDuration=h,n._instanceId=uU++,n._testTiming.start(),n._runPreflightTest(t,l,p),n}return e.prototype.toString=function(){return"[Preflight #"+this._instanceId+"]"},e.prototype.stop=function(){this._stopped=!0},e.prototype._generatePreflightReport=function(t){return this._testTiming.stop(),{testTiming:this._testTiming.getTimeMeasurement(),networkTiming:{dtls:this._dtlsTiming.getTimeMeasurement(),ice:this._iceTiming.getTimeMeasurement(),peerConnection:this._peerConnectionTiming.getTimeMeasurement(),connect:this._connectTiming.getTimeMeasurement(),media:this._mediaTiming.getTimeMeasurement()},stats:{jitter:Eo.makeStat(t==null?void 0:t.jitter),rtt:Eo.makeStat(t==null?void 0:t.rtt),packetLoss:Eo.makeStat(t==null?void 0:t.packetLoss)},selectedIceCandidatePairStats:t?t.selectedIceCandidatePairStats:null,iceCandidateStats:t?t.iceCandidateStats:[],progressEvents:this._progressEvents,mos:Eo.makeStat(t==null?void 0:t.mos)}},e.prototype._executePreflightStep=function(t,a,n){return Rn(this,void 0,void 0,function(){var i,o,l,c,d;return In(this,function(u){switch(u.label){case 0:if(this._log.debug("Executing step: ",t),i=this._testDuration+10*R1,this._stopped)throw new Error("stopped");o=Promise.resolve().then(a),l=null,c=new Promise(function(h,p){l=setTimeout(function(){p(n||new Error(t+" timeout."))},i)}),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.race([c,o])];case 2:return d=u.sent(),[2,d];case 3:return l!==null&&clearTimeout(l),[7];case 4:return[2]}})})},e.prototype._collectNetworkTimings=function(t){var a=this;return new Promise(function(n){var i;t.addEventListener("iceconnectionstatechange",function(){t.iceConnectionState==="checking"&&a._iceTiming.start(),t.iceConnectionState==="connected"&&(a._iceTiming.stop(),a._updateProgress($s.iceConnected),(!i||i&&i.state==="connected")&&n())}),t.addEventListener("connectionstatechange",function(){t.connectionState==="connecting"&&a._peerConnectionTiming.start(),t.connectionState==="connected"&&(a._peerConnectionTiming.stop(),a._updateProgress($s.peerConnectionConnected))});var o=t.getSenders(),l=o.map(function(c){return c.transport}).find(dU);typeof l<"u"&&(i=l,i.addEventListener("statechange",function(){i.state==="connecting"&&a._dtlsTiming.start(),i.state==="connected"&&(a._dtlsTiming.stop(),a._updateProgress($s.dtlsConnected),t.iceConnectionState==="connected"&&n())}))})},e.prototype._setupInsights=function(t){var a=t.token,n=t.environment,i=n===void 0?Oa.DEFAULT_ENVIRONMENT:n,o=t.realm,l=o===void 0?Oa.DEFAULT_REALM:o,c={},d=new nU(a,Oa.SDK_NAME,Oa.SDK_VERSION,i,l,c);d.connect("PREFLIGHT_ROOM_SID","PREFLIGHT_PARTICIPANT");var u=new aU(d,Date.now(),this._log),h=void 0;return{reportToInsights:function(p){var f,y,x=p.report,g=x.stats.jitter||h,v=x.stats.rtt||h,b=x.stats.packetLoss||h,k=x.mos||h,w=new Map;x.iceCandidateStats.forEach(function(_){if(_.candidateType&&_.protocol){var S=w.get(_.candidateType)||[];S.indexOf(_.protocol)<0&&S.push(_.protocol),w.set(_.candidateType,S)}});var N=JSON.stringify(Object.fromEntries(w)),j={name:"report",group:"preflight",level:x.error?"error":"info",payload:{sessionSID:oU,preflightSID:iU("PF"),progressEvents:JSON.stringify(x.progressEvents),testTiming:x.testTiming,dtlsTiming:x.networkTiming.dtls,iceTiming:x.networkTiming.ice,peerConnectionTiming:x.networkTiming.peerConnection,connectTiming:x.networkTiming.connect,mediaTiming:x.networkTiming.media,selectedLocalCandidate:(f=x.selectedIceCandidatePairStats)===null||f===void 0?void 0:f.localCandidate,selectedRemoteCandidate:(y=x.selectedIceCandidatePairStats)===null||y===void 0?void 0:y.remoteCandidate,iceCandidateStats:N,jitterStats:g,rttStats:v,packetLossStats:b,mosStats:k,error:x.error}};u.emit("event",j),setTimeout(function(){return d.disconnect()},2e3)}}},e.prototype._runPreflightTest=function(t,a,n){return Rn(this,void 0,void 0,function(){var i,o,l,c,d,u,h,p,f,y,x,g,v=this;return In(this,function(b){switch(b.label){case 0:i=[],o=[],l=this._setupInsights({token:t,environment:a}).reportToInsights,b.label=1;case 1:return b.trys.push([1,8,9,10]),c=[],[4,this._executePreflightStep("Acquire media",function(){return[JV.syntheticAudio(),XV.syntheticVideo({width:640,height:480})]})];case 2:return i=b.sent(),this._updateProgress($s.mediaAcquired),this.emit("debug",{localTracks:i}),this._connectTiming.start(),[4,this._executePreflightStep("Get turn credentials",function(){return ZV.getTurnCredentials(t,n)},new lU)];case 3:return d=b.sent(),this._connectTiming.stop(),this._updateProgress($s.connected),u=new RTCPeerConnection({iceServers:d,iceTransportPolicy:"relay",bundlePolicy:"max-bundle"}),h=new RTCPeerConnection({iceServers:d,bundlePolicy:"max-bundle"}),o.push(u),o.push(h),this._mediaTiming.start(),[4,this._executePreflightStep("Setup Peer Connections",function(){return Rn(v,void 0,void 0,function(){var k,w,N,j;return In(this,function(_){switch(_.label){case 0:return u.addEventListener("icecandidate",function(S){return S.candidate&&h.addIceCandidate(S.candidate)}),h.addEventListener("icecandidate",function(S){return S.candidate&&u.addIceCandidate(S.candidate)}),i.forEach(function(S){return u.addTrack(S)}),k=new Promise(function(S){var C=[];h.addEventListener("track",function(I){C.push(I.track),C.length===i.length&&S(C)})}),[4,u.createOffer()];case 1:return w=_.sent(),N=w,[4,u.setLocalDescription(N)];case 2:return _.sent(),[4,h.setRemoteDescription(N)];case 3:return _.sent(),[4,h.createAnswer()];case 4:return j=_.sent(),[4,h.setLocalDescription(j)];case 5:return _.sent(),[4,u.setRemoteDescription(j)];case 6:return _.sent(),[4,this._collectNetworkTimings(u)];case 7:return _.sent(),[2,k]}})})},new Vg)];case 4:return p=b.sent(),this.emit("debug",{remoteTracks:p}),p.forEach(function(k){k.addEventListener("ended",function(){return v._log.warn(k.kind+":ended")}),k.addEventListener("mute",function(){return v._log.warn(k.kind+":muted")}),k.addEventListener("unmute",function(){return v._log.warn(k.kind+":unmuted")})}),this._updateProgress($s.mediaSubscribed),[4,this._executePreflightStep("Wait for tracks to start",function(){return new Promise(function(k){var w=document.createElement("video");w.autoplay=!0,w.playsInline=!0,w.muted=!0,w.srcObject=new MediaStream(p),c.push(w),v.emit("debugElement",w),w.oncanplay=k})},new Vg)];case 5:return b.sent(),this._mediaTiming.stop(),this._updateProgress($s.mediaStarted),[4,this._executePreflightStep("Collect stats for duration",function(){return v._collectRTCStatsForDuration(v._testDuration,hU(),u,h)})];case 6:return f=b.sent(),[4,this._executePreflightStep("Generate report",function(){return v._generatePreflightReport(f)})];case 7:return y=b.sent(),l({report:y}),this.emit("completed",y),[3,10];case 8:return x=b.sent(),g=this._generatePreflightReport(),l({report:Ml(Ml({},g),{error:x==null?void 0:x.toString()})}),this.emit("failed",x,g),[3,10];case 9:return o.forEach(function(k){return k.close()}),i.forEach(function(k){return k.stop()}),[7];case 10:return[2]}})})},e.prototype._collectRTCStats=function(t,a,n){return Rn(this,void 0,void 0,function(){var i,o,l,c,d,u,h,p,f,y,x,g,v,b;return In(this,function(k){switch(k.label){case 0:return[4,QV.getCombinedConnectionStats({publisher:a,subscriber:n})];case 1:return i=k.sent(),o=i.timestamp,l=i.bytesSent,c=i.bytesReceived,d=i.packets,u=i.packetsLost,h=i.roundTripTime,p=i.jitter,f=i.selectedIceCandidatePairStats,y=i.iceCandidateStats,x=t.jitter.length>0,t.jitter.push(p),t.rtt.push(h),this._sentBytesMovingAverage.putSample(l,o),this._receivedBytesMovingAverage.putSample(c,o),this._packetLossMovingAverage.putSample(u,d),x&&(t.outgoingBitrate.push(this._sentBytesMovingAverage.get()*1e3*8),t.incomingBitrate.push(this._receivedBytesMovingAverage.get()*1e3*8),g=this._packetLossMovingAverage.get(),v=Math.min(100,g*100),t.packetLoss.push(v),b=KV.calculateMOS(h,p,g),t.mos.push(b)),t.selectedIceCandidatePairStats||(t.selectedIceCandidatePairStats=f),t.iceCandidateStats.length===0&&(t.iceCandidateStats=y),[2]}})})},e.prototype._collectRTCStatsForDuration=function(t,a,n,i){return Rn(this,void 0,void 0,function(){var o,l,c;return In(this,function(d){switch(d.label){case 0:return o=Date.now(),l=Math.min(1e3,t),[4,eU.waitForSometime(l)];case 1:return d.sent(),[4,this._collectRTCStats(a,n,i)];case 2:return d.sent(),c=t-(Date.now()-o),c>0?[4,this._collectRTCStatsForDuration(c,a,n,i)]:[3,4];case 3:a=d.sent(),d.label=4;case 4:return[2,a]}})})},e.prototype._updateProgress=function(t){var a=Date.now()-this._testTiming.getTimeMeasurement().start;this._progressEvents.push({duration:a,name:t}),this.emit("progress",t)},e}(sU);sn.PreflightTest=I1;function hU(){return{mos:[],jitter:[],rtt:[],outgoingBitrate:[],incomingBitrate:[],packetLoss:[],selectedIceCandidatePairStats:null,iceCandidateStats:[]}}function mU(s,e){e===void 0&&(e={});var t=new I1(s,e);return t}sn.runPreflight=mU;var Bd=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Vd=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},pU=function(){function s(e,t){var a=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise(function(n,i){e(function(o){a._isCancelable=!1,n(o)},function(o){a._isCancelable=!1,i(o)},function(){return a._isCanceled})})})}return s.reject=function(e){return new s(function(a,n){n(e)},function(){})},s.resolve=function(e){return new s(function(a){a(e)},function(){})},s.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},s.prototype.catch=function(){var e=[].slice.call(arguments),t=this._promise;return new s(function(n,i){t.catch.apply(t,Vd([],Bd(e))).then(n,i)},this._onCancel)},s.prototype.then=function(){var e=[].slice.call(arguments),t=this._promise;return new s(function(n,i){t.then.apply(t,Vd([],Bd(e))).then(n,i)},this._onCancel)},s.prototype.finally=function(){var e=[].slice.call(arguments),t=this._promise;return new s(function(n,i){t.finally.apply(t,Vd([],Bd(e))).then(n,i)},this._onCancel)},s}(),Im=pU,Ug=Im;function fU(s,e,t,a){var n,i=new Error("Canceled");return new Ug(function(l,c,d){var u;s(function(p){return d()?Ug.reject(i):(u=e(p),t(u).then(function(y){if(d())throw i;return n=y(),n}))}).then(function(p){if(d())throw p.disconnect(),i;l(a(u,p))}).catch(function(p){c(p)})},function(){n&&n.cancel()})}var gU=fU,xU=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),yU=Bt.EventEmitter,bU=function(s){xU(e,s);function e(t,a){var n=s.call(this)||this;return t=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},t),Object.defineProperties(n,{maxAudioBitrate:{value:t.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:t.maxVideoBitrate,writable:!0},adaptiveSimulcast:{value:a}}),n}return e.prototype.toJSON=function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}},e.prototype.update=function(t){var a=this;t=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},t);var n=["maxAudioBitrate","maxVideoBitrate"].reduce(function(i,o){return a[o]!==t[o]&&(a[o]=t[o],i=!0),i},!1);n&&this.emit("changed")},e}(yU),vU=bU,qi={},wU=oe.isNonArrayObject,pn=qe,Kn=pn.typeErrors,jU=pn.clientTrackSwitchOffControl,NU=pn.videoContentPreferencesMode,kU=pn.subscriptionMode,M1=pn.trackPriority,_U=pn.trackSwitchOffMode;function SU(s){var e=Ci(s,"options.bandwidthProfile");return!s||e||(e=Ci(s.video,"options.bandwidthProfile.video",[{prop:"contentPreferencesMode",values:Object.values(NU)},{prop:"dominantSpeakerPriority",values:Object.values(M1)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(kU)},{prop:"clientTrackSwitchOffControl",values:Object.values(jU)},{prop:"trackSwitchOffMode",values:Object.values(_U)}]),e)?e:s.video?"maxTracks"in s.video&&"clientTrackSwitchOffControl"in s.video?new TypeError("options.bandwidthProfile.video.maxTracks is deprecated. Use options.bandwidthProfile.video.clientTrackSwitchOffControl instead."):"renderDimensions"in s.video&&"contentPreferencesMode"in s.video?new TypeError("options.bandwidthProfile.video.renderDimensions is deprecated. Use options.bandwidthProfile.video.contentPreferencesMode instead."):EU(s.video.renderDimensions):null}function CU(s,e){if(!(s instanceof e.LocalAudioTrack||s instanceof e.LocalDataTrack||s instanceof e.LocalVideoTrack||s instanceof e.MediaStreamTrack))throw Kn.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}function Ci(s,e,t){return t===void 0&&(t=[]),typeof s>"u"?null:s===null||!wU(s)?Kn.INVALID_TYPE(e,"object"):t.reduce(function(a,n){var i=n.prop,o=n.type,l=n.values;if(a||!(i in s))return a;var c=s[i];return o&&typeof c!==o||o==="number"&&isNaN(c)?Kn.INVALID_TYPE(e+"."+i,o):Array.isArray(l)&&!l.includes(c)?Kn.INVALID_VALUE(e+"."+i,l):a},null)}function EU(s){var e="options.bandwidthProfile.video.renderDimensions",t=Ci(s,e);return s?t||Object.values(M1).reduce(function(a,n){return a||Ci(s[n],e+"."+n,[{prop:"height",type:"number"},{prop:"width",type:"number"}])},null):t}qi.validateBandwidthProfile=SU;qi.validateLocalTrack=CU;qi.validateObject=Ci;var TU=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),PU=Hi,$1=oe,AU=$1.buildLogLevels,OU=$1.valueToJSON,LU=qe.DEFAULT_LOG_LEVEL,RU=rs,IU=0,MU=function(s){TU(e,s);function e(t,a,n){var i=s.call(this)||this;n=Object.assign({logLevel:LU},n);var o=AU(n.logLevel);return Object.defineProperties(i,{_instanceId:{value:IU++},_log:{value:n.log?n.log.createLog("default",i):new RU("default",i,o,n.loggerName)},trackName:{enumerable:!0,value:t},trackSid:{enumerable:!0,value:a}}),i}return e.prototype.toJSON=function(){return OU(this)},e.prototype.toString=function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(PU),D1=MU,$U=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),DU=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},FU=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},BU=D1,F1=qe,VU=F1.typeErrors,UU=F1.trackPriority,WU=function(s){$U(e,s);function e(t,a,n,i){var o=s.call(this,a.name,t.sid,i)||this;return Object.defineProperties(o,{_reemitSignalingEvent:{value:function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return o.emit.apply(o,FU([l&&l.length?"warning":"warningsCleared"],DU(l)))}},_reemitTrackEvent:{value:function(){return o.emit(o.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:t},_unpublish:{value:n},isTrackEnabled:{enumerable:!0,get:function(){return this.track.kind==="data"?!0:this.track.isEnabled}},kind:{enumerable:!0,value:a.kind},priority:{enumerable:!0,get:function(){return t.updatedPriority}},track:{enumerable:!0,value:a}}),["disabled","enabled"].forEach(function(l){return a.on(l,o._reemitTrackEvent)}),["warning","warningsCleared"].forEach(function(l){return t.on(l,o._reemitSignalingEvent)}),o}return e.prototype.toString=function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e.prototype.setPriority=function(t){var a=Object.values(UU);if(!a.includes(t))throw VU.INVALID_VALUE("priority",a);return this._signaling.setPriority(t),this},e.prototype.unpublish=function(){var t=this;return["disabled","enabled"].forEach(function(a){return t.track.removeListener(a,t._reemitTrackEvent)}),["warning","warningsCleared"].forEach(function(a){return t._signaling.removeListener(a,t._reemitSignalingEvent)}),this._unpublish(this),this},e}(BU),Mm=WU,zU=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),HU=Mm,qU=function(s){zU(e,s);function e(t,a,n,i){return s.call(this,t,a,n,i)||this}return e.prototype.toString=function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(HU),GU=qU,YU=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),KU=Mm,QU=function(s){YU(e,s);function e(t,a,n,i){return s.call(this,t,a,n,i)||this}return e.prototype.toString=function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(KU),ZU=QU,JU=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),XU=Mm,eW=function(s){JU(e,s);function e(t,a,n,i){return s.call(this,t,a,n,i)||this}return e.prototype.toString=function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(XU),tW=eW,rW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),sW=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},aW=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},B1=qe,nW=B1.typeErrors,iW=B1.trackPriority,oW=va.isIOS,Wg=Em;function lW(s){return function(e){rW(t,e);function t(a,n,i,o,l,c,d){var u=this;return d=Object.assign({workaroundWebKitBug212780:oW()&&typeof document=="object"&&typeof document.addEventListener=="function"&&typeof document.visibilityState=="string"},d),u=e.call(this,n,d)||this,Object.defineProperties(u,{_isEnabled:{value:i,writable:!0},_isSwitchedOff:{value:o,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:l},_setRenderHint:{value:function(h){u._log.debug("updating render hint:",h),c(h)}},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:a},_workaroundWebKitBug212780:{value:d.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),u}return t.prototype.setPriority=function(a){var n=aW([null],sW(Object.values(iW)));if(!n.includes(a))throw nW.INVALID_VALUE("priority",n);return this._priority!==a&&(this._priority=a,this._setPriority(a)),this},t.prototype._setEnabled=function(a){this._isEnabled!==a&&(this._isEnabled=a,this.emit(this._isEnabled?"enabled":"disabled",this))},t.prototype._setSwitchedOff=function(a){this._isSwitchedOff!==a&&(this._isSwitchedOff=a,this.emit(a?"switchedOff":"switchedOn",this))},t.prototype.attach=function(a){var n=e.prototype.attach.call(this,a);return this.mediaStreamTrack.enabled!==!0&&(this.mediaStreamTrack.enabled=!0,this.processedTrack&&(this.processedTrack.enabled=!0),this.processor&&this._captureFrames()),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||cW(this)),n},t.prototype.detach=function(a){var n=e.prototype.detach.call(this,a);return this._attachments.size===0&&(this.mediaStreamTrack.enabled=!1,this.processedTrack&&(this.processedTrack.enabled=!1),this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n},t}(s)}function cW(s){var e=s._log,t=s.kind;function a(n){n&&s._attachments.forEach(function(i){var o=s._elShims.get(i),l=i.paused&&o&&!o.pausedIntentionally();l&&(e.info("Playing inadvertently paused <"+t+"> element"),e.debug("Element:",i),e.debug("RemoteMediaTrack:",s),i.play().then(function(){e.info("Successfully played inadvertently paused <"+t+"> element"),e.debug("Element:",i),e.debug("RemoteMediaTrack:",s)}).catch(function(c){e.warn("Error while playing inadvertently paused <"+t+"> element:",{err:c,el:i,remoteMediaTrack:s})}))})}return Wg.onVisibilityChange(2,a),function(){Wg.offVisibilityChange(2,a)}}var V1=lW,dW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),uW=tj,hW=V1,mW=hW(uW),pW=function(s){dW(e,s);function e(t,a,n,i,o,l,c){return s.call(this,t,a,n,i,o,l,c)||this}return e.prototype.toString=function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"},e.prototype._start=function(){s.prototype._start.call(this),this._dummyEl&&(this._disposeMediaElement?this._disposeMediaElement(this._dummyEl):this._dummyEl.srcObject=null,this._dummyEl=null)},e.prototype.setPriority=function(t){return s.prototype.setPriority.call(this,t)},e}(mW),fW=pW,gW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),xW=D1,yW=function(s){gW(e,s);function e(t,a){var n=s.call(this,t.name,t.sid,a)||this;Object.defineProperties(n,{_signaling:{value:t},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return t.isEnabled}},kind:{enumerable:!0,value:t.kind},publishPriority:{enumerable:!0,get:function(){return t.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=t.error,o=t.isEnabled,l=t.isSwitchedOff,c=t.priority;return t.on("updated",function(){if(i!==t.error){i=t.error,n.emit("subscriptionFailed",t.error);return}o!==t.isEnabled&&(o=t.isEnabled,n.track&&n.track._setEnabled(t.isEnabled),n.emit(t.isEnabled?"trackEnabled":"trackDisabled")),l!==t.isSwitchedOff&&(n._log.debug(n.trackSid+": "+(l?"OFF":"ON")+" => "+(t.isSwitchedOff?"OFF":"ON")),l=t.isSwitchedOff,n.track?(n.track._setSwitchedOff(t.isSwitchedOff),n.emit(l?"trackSwitchedOff":"trackSwitchedOn",n.track)):l&&n._log.warn("Track was not subscribed when switched Off.")),c!==t.priority&&(c=t.priority,n.emit("publishPriorityChanged",c))}),n}return e.prototype.toString=function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e.prototype._subscribed=function(t){!this._track&&t&&(this._track=t,this.emit("subscribed",t))},e.prototype._unsubscribe=function(){if(this._track){var t=this._track;this._track=null,this.emit("unsubscribed",t)}},e}(xW),$m=yW,bW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),vW=$m,wW=function(s){bW(e,s);function e(t,a){return s.call(this,t,a)||this}return e.prototype.toString=function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(vW),jW=wW,NW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),kW=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},_W=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},SW=Cm,U1=qe,CW=U1.typeErrors,EW=U1.trackPriority,TW=function(s){NW(e,s);function e(t,a,n){var i=s.call(this,a.id,"data",n)||this;return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:a.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:a.maxRetransmits},ordered:{enumerable:!0,value:a.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:a.maxPacketLifeTime===null&&a.maxRetransmits===null},sid:{enumerable:!0,value:t}}),a.on("message",function(o){i.emit("message",o,i)}),i}return e.prototype.setPriority=function(t){var a=_W([null],kW(Object.values(EW)));if(!a.includes(t))throw CW.INVALID_VALUE("priority",a);return this._priority=t,this},e.prototype._setEnabled=function(){},e.prototype._setSwitchedOff=function(t){this._isSwitchedOff!==t&&(this._isSwitchedOff=t,this.emit(t?"switchedOff":"switchedOn",this))},e}(SW),PW=TW,AW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),OW=$m,LW=function(s){AW(e,s);function e(t,a){return s.call(this,t,a)||this}return e.prototype.toString=function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(OW),RW=LW,W1=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Dm=function(){function s(e){Object.defineProperties(this,{_callback:{value:e}})}return s.prototype.observe=function(){},s.prototype.unobserve=function(){},s.prototype.makeVisible=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},s.prototype.makeInvisible=function(e){var t=this._makeFakeEntry(e,!1);this._callback([t])},s.prototype._makeFakeEntry=function(e,t){return{target:e,isIntersecting:t}},s}();(function(s){W1(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e})(Dm);(function(s){W1(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.resize=function(t){var a=this._makeFakeEntry(t,!0);this._callback([a])},e})(Dm);var IW={NullObserver:Dm},MW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),$W=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},DW=V1,z1=hj,zg=Em,Hg=IW.NullObserver,FW=wa,BW=DW(z1),VW=50,UW=function(s){MW(e,s);function e(t,a,n,i,o,l,c){var d=this;return c=Object.assign({clientTrackSwitchOffControl:"auto",contentPreferencesMode:"auto",enableDocumentVisibilityTurnOff:!0},c),c=Object.assign({IntersectionObserver:typeof IntersectionObserver>"u"||c.clientTrackSwitchOffControl!=="auto"?Hg:IntersectionObserver,ResizeObserver:typeof ResizeObserver>"u"||c.contentPreferencesMode!=="auto"?Hg:ResizeObserver},c),d=s.call(this,t,a,n,i,o,l,c)||this,Object.defineProperties(d,{_enableDocumentVisibilityTurnOff:{value:c.enableDocumentVisibilityTurnOff===!0&&c.clientTrackSwitchOffControl==="auto"},_documentVisibilityTurnOffCleanup:{value:null,writable:!0},_clientTrackSwitchOffControl:{value:c.clientTrackSwitchOffControl},_contentPreferencesMode:{value:c.contentPreferencesMode},_invisibleElements:{value:new WeakSet},_elToPipCallbacks:{value:new WeakMap},_elToPipWindows:{value:new WeakMap},_turnOffTimer:{value:new FW(function(){d._setRenderHint({enabled:!1})},VW,!1)},_resizeObserver:{value:new c.ResizeObserver(function(u){var h=u.find(function(p){return!d._invisibleElements.has(p.target)});h&&To(d)})},_intersectionObserver:{value:new c.IntersectionObserver(function(u){var h=!1;u.forEach(function(p){var f=!d._invisibleElements.has(p.target);f!==p.isIntersecting&&(p.isIntersecting?(d._log.debug("intersectionObserver detected: Off => On"),d._invisibleElements.delete(p.target)):(d._log.debug("intersectionObserver detected: On => Off"),d._invisibleElements.add(p.target)),h=!0)}),h&&(Fa(d),To(d))},{threshold:.25})}}),d}return e.prototype._start=function(t){var a=s.prototype._start.call(this,t);return Fa(this),a},e.prototype.switchOn=function(){if(this._clientTrackSwitchOffControl!=="manual")throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!0}),this},e.prototype.switchOff=function(){if(this._clientTrackSwitchOffControl!=="manual")throw new Error('Invalid state. You can call switchOff only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!1}),this},e.prototype.setContentPreferences=function(t){if(this._contentPreferencesMode!=="manual")throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.contentPreferencesMode is set to "manual"');return t.renderDimensions&&this._setRenderHint({renderDimensions:t.renderDimensions}),this},e.prototype._unObservePip=function(t){var a=this._elToPipCallbacks.get(t);a&&(t.removeEventListener("enterpictureinpicture",a.onEnterPip),t.removeEventListener("leavepictureinpicture",a.onLeavePip),this._elToPipCallbacks.delete(t))},e.prototype._observePip=function(t){var a=this,n=this._elToPipCallbacks.get(t);if(!n){var i=function(c){return a._onEnterPip(c,t)},o=function(c){return a._onLeavePip(c,t)},l=function(c){return a._onResizePip(c,t)};t.addEventListener("enterpictureinpicture",i),t.addEventListener("leavepictureinpicture",o),this._elToPipCallbacks.set(t,{onEnterPip:i,onLeavePip:o,onResizePip:l})}},e.prototype._onEnterPip=function(t,a){this._log.debug("onEnterPip");var n=t.pictureInPictureWindow;this._elToPipWindows.set(a,n);var i=this._elToPipCallbacks.get(a).onResizePip;n.addEventListener("resize",i),Fa(this)},e.prototype._onLeavePip=function(t,a){this._log.debug("onLeavePip"),this._elToPipWindows.delete(a);var n=this._elToPipCallbacks.get(a).onResizePip,i=t.pictureInPictureWindow;i.removeEventListener("resize",n),Fa(this)},e.prototype._onResizePip=function(){To(this)},e.prototype.attach=function(t){var a=s.prototype.attach.call(this,t);return this._clientTrackSwitchOffControl==="auto"&&this._invisibleElements.add(a),this._intersectionObserver.observe(a),this._resizeObserver.observe(a),this._enableDocumentVisibilityTurnOff&&(this._documentVisibilityTurnOffCleanup=this._documentVisibilityTurnOffCleanup||zW(this)),this._observePip(a),a},e.prototype.detach=function(t){var a=this,n=s.prototype.detach.call(this,t),i=Array.isArray(n)?n:[n];return i.forEach(function(o){a._intersectionObserver.unobserve(o),a._resizeObserver.unobserve(o),a._invisibleElements.delete(o),a._unObservePip(o)}),this._attachments.size===0&&this._documentVisibilityTurnOffCleanup&&(this._documentVisibilityTurnOffCleanup(),this._documentVisibilityTurnOffCleanup=null),Fa(this),To(this),n},e.prototype.addProcessor=function(){return s.prototype.addProcessor.apply(this,arguments)},e.prototype.removeProcessor=function(){return s.prototype.removeProcessor.apply(this,arguments)},e.prototype.toString=function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"},e.prototype.setPriority=function(t){return s.prototype.setPriority.call(this,t)},e}(BW);function WW(s){if(!("documentPictureInPicture"in globalThis))return!1;var e=globalThis.documentPictureInPicture.window;if(!e)return!1;var t=new WeakSet(e.document.querySelectorAll("video"));return s._getAllAttachedElements().some(function(a){return t.has(a)})}function Fa(s){if(s._clientTrackSwitchOffControl==="auto"){var e=s._getAllAttachedElements().filter(function(n){return!s._invisibleElements.has(n)}),t=s._getAllAttachedElements().filter(function(n){return s._elToPipWindows.has(n)}),a=t.length>0||WW(s)||document.visibilityState==="visible"&&e.length>0;a===!0?(s._turnOffTimer.clear(),s._setRenderHint({enabled:!0}),z1._ensureDocumentPipVideosPlaying(s)):s._turnOffTimer.isSet||s._turnOffTimer.start()}}function To(s){if(s._contentPreferencesMode==="auto"){var e=s._getAllAttachedElements().filter(function(d){return!s._invisibleElements.has(d)}),t=s._getAllAttachedElements().map(function(d){var u=s._elToPipWindows.get(d);return u?{clientHeight:u.height,clientWidth:u.width}:{clientHeight:0,clientWidth:0}}),a=e.concat(t);if(a.length>0){var n=$W(a.sort(function(d,u){return u.clientHeight+u.clientWidth-d.clientHeight-d.clientWidth-1}),1),i=n[0],o=i.clientHeight,l=i.clientWidth,c={height:o,width:l};s._setRenderHint({renderDimensions:c})}}}function zW(s){function e(){Fa(s)}return zg.onVisibilityChange(1,e),function(){zg.offVisibilityChange(1,e)}}var HW=UW,qW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),GW=$m,YW=function(s){qW(e,s);function e(t,a){return s.call(this,t,a)||this}return e.prototype.toString=function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},e}(GW),KW=YW,QW=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Ei=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},hh=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},ZW=Hi,JW=fW,XW=jW,ez=PW,tz=RW,rz=HW,sz=KW,Ur=oe,az=0,nz=function(s){QW(e,s);function e(t,a){var n=s.call(this)||this;a=Object.assign({RemoteAudioTrack:JW,RemoteAudioTrackPublication:XW,RemoteDataTrack:ez,RemoteDataTrackPublication:tz,RemoteVideoTrack:rz,RemoteVideoTrackPublication:sz,tracks:[]},a);var i=iz(a.tracks),o=a.log.createLog("default",n),l=new Map(i.audioTracks),c=new Map(i.dataTracks),d=new Map(i.tracks),u=new Map(i.videoTracks);return Object.defineProperties(n,{_RemoteAudioTrack:{value:a.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:a.RemoteAudioTrackPublication},_RemoteDataTrack:{value:a.RemoteDataTrack},_RemoteDataTrackPublication:{value:a.RemoteDataTrackPublication},_RemoteVideoTrack:{value:a.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:a.RemoteVideoTrackPublication},_audioTracks:{value:l},_dataTracks:{value:c},_instanceId:{value:++az},_clientTrackSwitchOffControl:{value:a.clientTrackSwitchOffControl},_contentPreferencesMode:{value:a.contentPreferencesMode},_log:{value:o},_signaling:{value:t},_tracks:{value:d},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:u},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return t.identity}},networkQualityLevel:{enumerable:!0,get:function(){return t.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return t.networkQualityStats}},sid:{enumerable:!0,get:function(){return t.sid}},state:{enumerable:!0,get:function(){return t.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map},_MediaStream:{value:a.MediaStream},_mapMediaElement:{value:a.mapMediaElement},_disposeMediaElement:{value:a.disposeMediaElement}}),n._tracks.forEach(qg.bind(null,n)),t.on("networkQualityLevelChanged",function(){return n.emit("networkQualityLevelChanged",n.networkQualityLevel,n.networkQualityStats&&(n.networkQualityStats.audio||n.networkQualityStats.video)?n.networkQualityStats:null)}),oz(n,t),o.info("Created a new Participant"+(n.identity?": "+n.identity:"")),n}return e.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]},e.prototype._getTrackPublicationEvents=function(){return[]},e.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},e.prototype._addTrack=function(t,a){var n=this._log;if(this._tracks.has(a))return null;this._tracks.set(a,t);var i={audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[t.kind];return i.set(a,t),qg(this,t,a),n.info("Added a new "+Ur.trackClass(t)+":",a),n.debug(Ur.trackClass(t)+":",t),t},e.prototype._addTrackPublication=function(t){var a=this._log;if(this.tracks.has(t.trackSid))return null;this.tracks.set(t.trackSid,t);var n={audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[t.kind];return n.set(t.trackSid,t),lz(this,t),a.info("Added a new "+Ur.trackPublicationClass(t)+":",t.trackSid),a.debug(Ur.trackPublicationClass(t)+":",t),t},e.prototype._handleTrackSignalingEvents=function(){var t=this,a=t._log,n=t._clientTrackSwitchOffControl,i=t._contentPreferencesMode,o=t._MediaStream,l=t._mapMediaElement,c=t._disposeMediaElement,d=this;if(this.state==="disconnected")return;var u=this._RemoteAudioTrack,h=this._RemoteAudioTrackPublication,p=this._RemoteVideoTrack,f=this._RemoteVideoTrackPublication,y=this._RemoteDataTrack,x=this._RemoteDataTrackPublication,g=this._signaling;function v(N){var j={audio:h,data:x,video:f}[N.kind],_=new j(N,{log:a});d._addTrackPublication(_);var S=N.isSubscribed;S&&k(N),d._trackSignalingUpdatedEventCallbacks.set(N.sid,function(){if(S!==N.isSubscribed){if(S=N.isSubscribed,S){k(N);return}w(N)}}),N.on("updated",d._trackSignalingUpdatedEventCallbacks.get(N.sid))}function b(N){N.isSubscribed&&N.setTrackTransceiver(null);var j=d._trackSignalingUpdatedEventCallbacks.get(N.sid);j&&(N.removeListener("updated",j),d._trackSignalingUpdatedEventCallbacks.delete(N.sid));var _=d.tracks.get(N.sid);_&&d._removeTrackPublication(_)}function k(N){var j=N.isEnabled,_=N.name,S=N.kind,C=N.sid,I=N.trackTransceiver,P=N.isSwitchedOff,A={audio:u,video:p,data:y}[S],L=d.tracks.get(C);if(!(!A||S!==I.kind)){var O={log:a,name:_,clientTrackSwitchOffControl:n,contentPreferencesMode:i,mapMediaElement:l,disposeMediaElement:c};o&&(O.MediaStream=o);var M=function(q){return g.updateSubscriberTrackPriority(C,q)},$=function(q){N.isSubscribed&&g.updateTrackRenderHint(C,q)},D=S==="data"?new A(C,I,O):new A(C,I,j,P,M,$,O);d._addTrack(D,L,I.id)}}function w(N){var j=Ei(Array.from(d._tracks.entries()).find(function(I){var P=Ei(I,2),A=P[1];return A.sid===N.sid}),2),_=j[0],S=j[1],C=d.tracks.get(N.sid);S&&d._removeTrack(S,C,_)}g.on("trackAdded",v),g.on("trackRemoved",b),g.tracks.forEach(v),g.on("stateChanged",function N(j){j==="disconnected"?(a.debug("Removing event listeners"),g.removeListener("stateChanged",N),g.removeListener("trackAdded",v),g.removeListener("trackRemoved",b)):j==="connected"&&(a.info("reconnected"),setTimeout(function(){return d.emit("reconnected")},0))})},e.prototype._removeTrack=function(t,a){if(!this._tracks.has(a))return null;this._tracks.delete(a);var n={audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[t.kind];n.delete(a);var i=this._trackEventReemitters.get(a)||new Map;i.forEach(function(l,c){t.removeListener(c,l)});var o=this._log;return o.info("Removed a "+Ur.trackClass(t)+":",a),o.debug(Ur.trackClass(t)+":",t),t},e.prototype._removeTrackPublication=function(t){if(t=this.tracks.get(t.trackSid),!t)return null;this.tracks.delete(t.trackSid);var a={audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[t.kind];a.delete(t.trackSid);var n=this._trackPublicationEventReemitters.get(t.trackSid)||new Map;n.forEach(function(o,l){t.removeListener(l,o)});var i=this._log;return i.info("Removed a "+Ur.trackPublicationClass(t)+":",t.trackSid),i.debug(Ur.trackPublicationClass(t)+":",t),t},e.prototype.toJSON=function(){return Ur.valueToJSON(this)},e}(ZW);function iz(s){var e=s.map(function(i){return[i.id,i]}),t=e.filter(function(i){return i[1].kind==="audio"}),a=e.filter(function(i){return i[1].kind==="video"}),n=e.filter(function(i){return i[1].kind==="data"});return{audioTracks:t,dataTracks:n,tracks:e,videoTracks:a}}function oz(s,e){var t=s._log;s.state!=="disconnected"&&e.on("stateChanged",function a(n){t.debug("Transitioned to state:",n),s.emit(n,s),n==="disconnected"&&(t.debug("Removing Track event reemitters"),e.removeListener("stateChanged",a),s._tracks.forEach(function(i){var o=s._trackEventReemitters.get(i.id);i&&o&&o.forEach(function(l,c){i.removeListener(c,l)})}),e.tracks.forEach(function(i){var o=s._tracks.get(i.id),l=s._trackEventReemitters.get(i.id);o&&l&&l.forEach(function(c,d){o.removeListener(d,c)})}),s._trackEventReemitters.clear(),s.tracks.forEach(function(i){s._trackPublicationEventReemitters.get(i.trackSid).forEach(function(o,l){i.removeListener(l,o)})}),s._trackPublicationEventReemitters.clear())})}function qg(s,e,t){var a=new Map;s.state!=="disconnected"&&(s._getTrackEvents().forEach(function(n){var i=n[0],o=n[1];a.set(i,function(){var l=[o].concat([].slice.call(arguments));return s.emit.apply(s,hh([],Ei(l)))}),e.on(i,a.get(i))}),s._trackEventReemitters.set(t,a))}function lz(s,e){var t=new Map;s.state!=="disconnected"&&(s._getTrackPublicationEvents().forEach(function(a){var n=Ei(a,2),i=n[0],o=n[1];t.set(i,function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];s.emit.apply(s,hh(hh([o],Ei(l)),[e]))}),e.on(i,t.get(i))}),s._trackPublicationEventReemitters.set(e.trackSid,t))}var H1=nz,cz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),dz=ba.MediaStreamTrack,Fm=oe,uz=Fm.asLocalTrack,hz=Fm.asLocalTrackPublication,Ds=Fm.trackClass,q1=qe,ls=q1.typeErrors,Ud=q1.trackPriority,mz=qi.validateLocalTrack,Bm=Ga,pz=Bm.LocalAudioTrack,fz=Bm.LocalDataTrack,gz=Bm.LocalVideoTrack,xz=GU,yz=ZU,bz=tW,vz=H1,wz=function(s){cz(e,s);function e(t,a,n){var i=this;n=Object.assign({LocalAudioTrack:pz,LocalVideoTrack:gz,LocalDataTrack:fz,MediaStreamTrack:dz,LocalAudioTrackPublication:xz,LocalVideoTrackPublication:bz,LocalDataTrackPublication:yz,shouldStopLocalTracks:!1,tracks:a},n);var o=n.shouldStopLocalTracks?new Set(a.filter(function(l){return l.kind!=="data"})):new Set;return i=s.call(this,t,n)||this,Object.defineProperties(i,{_eventObserver:{value:n.eventObserver},_LocalAudioTrack:{value:n.LocalAudioTrack},_LocalDataTrack:{value:n.LocalDataTrack},_LocalVideoTrack:{value:n.LocalVideoTrack},_MediaStreamTrack:{value:n.MediaStreamTrack},_LocalAudioTrackPublication:{value:n.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:n.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:n.LocalVideoTrackPublication},_tracksToStop:{value:o},signalingRegion:{enumerable:!0,get:function(){return t.signalingRegion}}}),i._handleTrackSignalingEvents(),i}return e.prototype._addTrack=function(t,a,n){var i=s.prototype._addTrack.call(this,t,a);return i&&this.state!=="disconnected"&&this._addLocalTrack(t,n),i},e.prototype._addLocalTrack=function(t,a){var n,i=(n=t.noiseCancellation)===null||n===void 0?void 0:n.vendor;this._signaling.addTrack(t._trackSender,t.name,a,i),this._log.info("Added a new "+Ds(t,!0)+":",t.id),this._log.debug(Ds(t,!0)+":",t)},e.prototype._removeTrack=function(t,a){var n=s.prototype._removeTrack.call(this,t,a);return n&&this.state!=="disconnected"&&(this._signaling.removeTrack(t._trackSender),this._log.info("Removed a "+Ds(t,!0)+":",t.id),this._log.debug(Ds(t,!0)+":",t)),n},e.prototype._getTrackEvents=function(){return s.prototype._getTrackEvents.call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])},e.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},e.prototype._handleTrackSignalingEvents=function(){var t=this,a=this._log;if(this.state!=="disconnected"){var n=function(c){var d=t._signaling.getPublication(c._trackSender);d&&(d.disable(),a.debug("Disabled the "+Ds(c,!0)+":",c.id))},i=function(c){var d=t._signaling.getPublication(c._trackSender);d&&(d.enable(),a.debug("Enabled the "+Ds(c,!0)+":",c.id))},o=function(c){var d=t._signaling.getPublication(c._trackSender);return d&&d.stop(),d},l=function(c){a.debug("Transitioned to state:",c),c==="disconnected"?(a.debug("Removing LocalTrack event listeners"),t._signaling.removeListener("stateChanged",l),t.removeListener("trackDisabled",n),t.removeListener("trackEnabled",i),t.removeListener("trackStopped",o),t._tracks.forEach(function(d){var u=o(d);u&&d._trackSender.removeClone(u._trackTransceiver)}),a.info("LocalParticipant disconnected. Stopping "+t._tracksToStop.size+" automatically-acquired LocalTracks"),t._tracksToStop.forEach(function(d){d.stop()})):c==="connected"&&(a.info("reconnected"),setTimeout(function(){return t.emit("reconnected")},0))};this.on("trackDisabled",n),this.on("trackEnabled",i),this.on("trackStopped",o),this._signaling.on("stateChanged",l),this._tracks.forEach(function(c){t._addLocalTrack(c,Ud.PRIORITY_STANDARD),t._getOrCreateLocalTrackPublication(c).catch(function(d){a.warn("Failed to get or create LocalTrackPublication for "+c+":",d)})})}},e.prototype._getOrCreateLocalTrackPublication=function(t){var a=Po(this.tracks,t);if(a)return Promise.resolve(a);var n=this._log,i=this,o=this._signaling.getPublication(t._trackSender);return o?new Promise(function(l,c){function d(){var u=o.error;if(u){o.removeListener("updated",d),n.warn("Failed to publish the "+Ds(t,!0)+": "+u.message),i._removeTrack(t,t.id),setTimeout(function(){i.emit("trackPublicationFailed",u,t)}),c(u);return}if(!i._tracks.has(t.id)){o.removeListener("updated",d),c(new Error("The "+t+" was unpublished"));return}var h=o.sid;if(h){o.removeListener("updated",d);var p={log:n,LocalAudioTrackPublication:i._LocalAudioTrackPublication,LocalDataTrackPublication:i._LocalDataTrackPublication,LocalVideoTrackPublication:i._LocalVideoTrackPublication};a=Po(i.tracks,t);var f=function(v){return i.emit("trackWarning",v,a)},y=function(){return i.emit("trackWarningsCleared",a)},x=function(v){a.removeListener("trackWarning",f),a.removeListener("trackWarningsCleared",y),i.unpublishTrack(v.track)};a||(a=hz(t,o,x,p),i._addTrackPublication(a)),a.on("warning",f),a.on("warningsCleared",y);var g=i._signaling.state;(g==="connected"||g==="connecting")&&(t._processorEventObserver&&t._processorEventObserver.on("event",function(v){i._eventObserver.emit("event",{name:v.name,payload:v.data,group:"video-processor",level:"info"})}),t.processedTrack&&(t._captureFrames(),t._setSenderMediaStreamTrack(!0))),g==="connected"&&setTimeout(function(){i.emit("trackPublished",a)}),l(a)}}o.on("updated",d)}):Promise.reject(new Error("Unexpected error: The "+t+" cannot be published"))},e.prototype.publishTrack=function(t,a){var n=Po(this.tracks,t);if(n)return Promise.resolve(n);a=Object.assign({log:this._log,priority:Ud.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},a);var i;try{i=uz(t,a)}catch(u){return Promise.reject(u)}var o=i.noiseCancellation,l=this._signaling.audioProcessors;o&&!l.includes(o.vendor)&&(this._log.warn(o.vendor+" is not supported in this room. disabling it permanently"),o.disablePermanently());var c=Object.values(Ud);if(!c.includes(a.priority))return Promise.reject(ls.INVALID_VALUE("LocalTrackPublishOptions.priority",c));var d=this._addTrack(i,i.id,a.priority)||this._tracks.get(i.id);return this._getOrCreateLocalTrackPublication(d)},e.prototype.publishTracks=function(t){if(!Array.isArray(t))throw ls.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(t.map(this.publishTrack,this))},e.prototype.setBandwidthProfile=function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")},e.prototype.setNetworkQualityConfiguration=function(t){if(typeof t!="object"||t===null)throw ls.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach(function(a){if(a in t&&(typeof t[a]!="number"||isNaN(t[a])))throw ls.INVALID_TYPE("networkQualityConfiguration."+a,"number")}),this._signaling.setNetworkQualityConfiguration(t),this},e.prototype.setParameters=function(t){if(typeof t<"u"&&typeof t!="object")throw ls.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");if(t){if(this._signaling.getParameters().adaptiveSimulcast&&t.maxVideoBitrate)throw ls.INVALID_TYPE("encodingParameters",'encodingParameters.maxVideoBitrate is not compatible with "preferredVideoCodecs=auto"');["maxAudioBitrate","maxVideoBitrate"].forEach(function(a){if(typeof t[a]<"u"&&typeof t[a]!="number"&&t[a]!==null)throw ls.INVALID_TYPE("encodingParameters."+a,"number, null or undefined")})}else t===null&&(t={maxAudioBitrate:null,maxVideoBitrate:null});return this._signaling.setParameters(t),this},e.prototype.unpublishTrack=function(t){mz(t,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var a=this._tracks.get(t.id);if(!a)return null;var n=this._signaling.getPublication(a._trackSender);if(n.publishFailed(new Error("The "+a+" was unpublished")),a=this._removeTrack(a,a.id),!a)return null;var i=Po(this.tracks,a);return i&&this._removeTrackPublication(i),i},e.prototype.unpublishTracks=function(t){var a=this;if(!Array.isArray(t))throw ls.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return t.reduce(function(n,i){var o=a.unpublishTrack(i);return o?n.concat(o):n},[])},e}(vz);function Po(s,e){return Array.from(s.values()).find(function(t){return t.track===e||t.track.mediaStreamTrack===e})||null}var jz=wz,Nz=function(){function s(){Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return s.prototype.connect=function(){},s.prototype.disconnect=function(){return this._connected?(this._connected=!1,!0):!1},s.prototype.publish=function(){return this._connected},s}(),kz=Nz,_z=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Sz=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Cz=Bt.EventEmitter,Vm=qe,Ao=Vm.DEFAULT_NQ_LEVEL_LOCAL,Oo=Vm.DEFAULT_NQ_LEVEL_REMOTE,Gg=Vm.MAX_NQ_LEVEL,Wd=oe.inRange,Ez=function(s){_z(e,s);function e(t){var a=s.call(this)||this;return t=Object.assign({local:Ao,remote:Oo},t),Object.defineProperties(a,{local:{value:Wd(t.local,Ao,Gg)?t.local:Ao,writable:!0},remote:{value:Wd(t.remote,Oo,Gg)?t.remote:Oo,writable:!0}}),a}return e.prototype.update=function(t){var a=this;t=Object.assign({local:this.local,remote:this.remote},t),[["local",Ao,3],["remote",Oo,3]].forEach(function(n){var i=Sz(n,3),o=i[0],l=i[1],c=i[2];a[o]=typeof t[o]=="number"&&Wd(t[o],l,c)?t[o]:l})},e}(Cz),Tz=Ez,Pz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Az=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Yg=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},Oz=H1,Lz=function(s){Pz(e,s);function e(t,a){var n=s.call(this,t,a)||this;return n._handleTrackSignalingEvents(),n.once("disconnected",n._unsubscribeTracks.bind(n)),n}return e.prototype.toString=function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},e.prototype._addTrack=function(t,a,n){return s.prototype._addTrack.call(this,t,n)?(a._subscribed(t),this.emit("trackSubscribed",t,a),t):null},e.prototype._addTrackPublication=function(t){var a=s.prototype._addTrackPublication.call(this,t);return a?(this.emit("trackPublished",a),a):null},e.prototype._getTrackPublicationEvents=function(){return Yg(Yg([],Az(s.prototype._getTrackPublicationEvents.call(this))),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])},e.prototype._unsubscribeTracks=function(){var t=this;this.tracks.forEach(function(a){if(a.isSubscribed){var n=a.track;a._unsubscribe(),t.emit("trackUnsubscribed",n,a)}})},e.prototype._removeTrack=function(t,a,n){var i=this._tracks.get(n);return i?(s.prototype._removeTrack.call(this,i,n),a._unsubscribe(),this.emit("trackUnsubscribed",i,a),i):null},e.prototype._removeTrackPublication=function(t){this._signaling.clearTrackHint(t.trackSid);var a=s.prototype._removeTrackPublication.call(this,t);return a?(this.emit("trackUnpublished",a),a):null},e}(Oz),Rz=Lz,Iz=function(){function s(e,t){if(typeof e!="string")throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},trackSid:{value:t.trackSid,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:typeof t.packetsLost=="number"?t.packetsLost:null,enumerable:!0},codec:{value:typeof t.codecName=="string"?t.codecName:null,enumerable:!0}})}return s}(),G1=Iz,Mz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),$z=G1,Dz=function(s){Mz(e,s);function e(t,a,n){var i=s.call(this,t,a)||this;return Object.defineProperties(i,{bytesSent:{value:typeof a.bytesSent=="number"?a.bytesSent:n?0:null,enumerable:!0},packetsSent:{value:typeof a.packetsSent=="number"?a.packetsSent:n?0:null,enumerable:!0},roundTripTime:{value:typeof a.roundTripTime=="number"?a.roundTripTime:n?0:null,enumerable:!0}}),i}return e}($z),Y1=Dz,Fz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Bz=Y1,Vz=function(s){Fz(e,s);function e(t,a,n){var i=s.call(this,t,a,n)||this;return Object.defineProperties(i,{audioLevel:{value:typeof a.audioInputLevel=="number"?a.audioInputLevel:null,enumerable:!0},jitter:{value:typeof a.jitter=="number"?a.jitter:null,enumerable:!0}}),i}return e}(Bz),Uz=Vz,Wz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),zz=Y1,Hz=function(s){Wz(e,s);function e(t,a,n){var i=s.call(this,t,a,n)||this,o=null;typeof a.frameWidthInput=="number"&&typeof a.frameHeightInput=="number"&&(o={},Object.defineProperties(o,{width:{value:a.frameWidthInput,enumerable:!0},height:{value:a.frameHeightInput,enumerable:!0}}));var l=null;return typeof a.frameWidthSent=="number"&&typeof a.frameHeightSent=="number"&&(l={},Object.defineProperties(l,{width:{value:a.frameWidthSent,enumerable:!0},height:{value:a.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:o,enumerable:!0},dimensions:{value:l,enumerable:!0},captureFrameRate:{value:typeof a.frameRateInput=="number"?a.frameRateInput:null,enumerable:!0},frameRate:{value:typeof a.frameRateSent=="number"?a.frameRateSent:null,enumerable:!0}}),i}return e}(zz),qz=Hz,Gz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Yz=G1,Kz=function(s){Gz(e,s);function e(t,a){var n=s.call(this,t,a)||this;return Object.defineProperties(n,{bytesReceived:{value:typeof a.bytesReceived=="number"?a.bytesReceived:null,enumerable:!0},packetsReceived:{value:typeof a.packetsReceived=="number"?a.packetsReceived:null,enumerable:!0}}),n}return e}(Yz),K1=Kz,Qz=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Zz=K1,Jz=function(s){Qz(e,s);function e(t,a){var n=s.call(this,t,a)||this;return Object.defineProperties(n,{audioLevel:{value:typeof a.audioOutputLevel=="number"?a.audioOutputLevel:null,enumerable:!0},jitter:{value:typeof a.jitter=="number"?a.jitter:null,enumerable:!0}}),n}return e}(Zz),Xz=Jz,eH=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),tH=K1,rH=function(s){eH(e,s);function e(t,a){var n=s.call(this,t,a)||this,i=null;return typeof a.frameWidthReceived=="number"&&typeof a.frameHeightReceived=="number"&&(i={},Object.defineProperties(i,{width:{value:a.frameWidthReceived,enumerable:!0},height:{value:a.frameHeightReceived,enumerable:!0}})),Object.defineProperties(n,{dimensions:{value:i,enumerable:!0},frameRate:{value:typeof a.frameRateReceived=="number"?a.frameRateReceived:null,enumerable:!0}}),n}return e}(tH),sH=rH,aH=Uz,nH=qz,iH=Xz,oH=sH,lH=function(){function s(e,t,a){if(typeof e!="string")throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map(function(n){return new aH(n.trackId,n,a)}),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map(function(n){return new nH(n.trackId,n,a)}),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map(function(n){return new iH(n.trackId,n)}),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map(function(n){return new oH(n.trackId,n)}),enumerable:!0}})}return s}(),Q1=lH,cH=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Ti=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},dl=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},dH=Hi,uH=Rz,hH=Q1,Z1=oe,mH=Z1.flatMap,pH=Z1.valueToJSON,fH=0,gH=function(s){cH(e,s);function e(t,a,n){var i=s.call(this)||this,o=n.log.createLog("default",i),l=new Map;return Object.defineProperties(i,{_log:{value:o},_clientTrackSwitchOffControl:{value:n.clientTrackSwitchOffControl||"disabled"},_contentPreferencesMode:{value:n.contentPreferencesMode||"disabled"},_instanceId:{value:++fH},_options:{value:n},_participants:{value:l},_signaling:{value:a},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(a.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return a.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:a.name},participants:{enumerable:!0,value:l},sid:{enumerable:!0,value:a.sid},state:{enumerable:!0,get:function(){return a.state}},mediaRegion:{enumerable:!0,value:a.mediaRegion}}),yH(i,t),bH(i,a.recording),vH(i,a),xH(i),o.info("Created a new Room:",i.name),o.debug("Initial RemoteParticipants:",Array.from(i._participants.values())),i}return e.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},e.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},e.prototype.getStats=function(){var t=this;return this._signaling.getStats().then(function(a){return Array.from(a).map(function(n){var i=Ti(n,2),o=i[0],l=i[1];return new hH(o,Object.assign({},l,{localAudioTrackStats:Kg(t,l.localAudioTrackStats),localVideoTrackStats:Kg(t,l.localVideoTrackStats)}))})})},e.prototype.refreshInactiveMedia=function(){var t=this.localParticipant.tracks,a=Array.from(t.values()).filter(function(c){var d=c.track.kind;return d!=="data"}).map(function(c){var d=c.track;return d}),n=mH(this.participants,function(c){return Array.from(c.tracks.values())}).filter(function(c){var d=c.track;return d&&d.kind!=="data"}).map(function(c){var d=c.track;return d}),i=a.concat(n),o=new Event("unmute");a.forEach(function(c){var d=c.isMuted,u=c.mediaStreamTrack;d&&u.dispatchEvent(o)});var l=new Event("pause");return i.forEach(function(c){var d=c._attachments,u=c._elShims;return d.forEach(function(h){var p=u.get(h),f=h.paused&&p&&!p.pausedIntentionally();f&&h.dispatchEvent(l)})}),this},e.prototype.toJSON=function(){return pH(this)},e}(dH);function xH(s){var e=s.localParticipant._signaling.audioProcessors;s.localParticipant.audioTracks.forEach(function(t){var a=t.track,n=a.noiseCancellation;n&&!e.includes(n.vendor)&&(s._log.warn(n.vendor+" is not supported in this room. disabling it permanently"),n.disablePermanently())})}function Kg(s,e){var t=s.localParticipant._signaling;return e.reduce(function(a,n){var i=t.tracks.get(n.trackId),o=t.getSender(i);return o?[Object.assign({},n,{trackId:o.id})].concat(a):a},[])}function Qg(s,e){var t=s._log,a=s._clientTrackSwitchOffControl,n=s._contentPreferencesMode,i=s._options,o=i.MediaStream,l=i.mapMediaElement,c=i.disposeMediaElement,d=new uH(e,{log:t,clientTrackSwitchOffControl:a,contentPreferencesMode:n,MediaStream:o,mapMediaElement:l,disposeMediaElement:c});t.info("A new RemoteParticipant connected:",d),s._participants.set(d.sid,d),s.emit("participantConnected",d);var u=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map(function(h){var p=Ti(Array.isArray(h)?h:[h,h],2),f=p[0],y=p[1];function x(){var g=[].slice.call(arguments);g.unshift(y),g.push(d),s.emit.apply(s,dl([],Ti(g)))}return d.on(f,x),[f,x]});d.once("disconnected",function(){var p=s.dominantSpeaker;t.info("RemoteParticipant disconnected:",d),s._participants.delete(d.sid),u.forEach(function(f){d.removeListener(f[0],f[1])}),s.emit("participantDisconnected",d),d===p&&s.emit("dominantSpeakerChanged",s.dominantSpeaker)})}function yH(s,e){var t=["trackWarning","trackWarningsCleared"].map(function(a){return{eventName:a,handler:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return s.emit.apply(s,dl([a],Ti(dl(dl([],Ti(n)),[e]))))}}});t.forEach(function(a){var n=a.eventName,i=a.handler;return e.on(n,i)}),s.once("disconnected",function(){return t.forEach(function(a){var n=a.eventName,i=a.handler;return e.removeListener(n,i)})})}function bH(s,e){e.on("updated",function(){var a=e.isEnabled;s._log.info("Recording "+(a?"started":"stopped")),s.emit("recording"+(a?"Started":"Stopped"))})}function vH(s,e){var t=s._log;t.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),e.participants.forEach(Qg.bind(null,s)),t.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),e.on("participantConnected",Qg.bind(null,s)),e.on("dominantSpeakerChanged",function(){return s.emit("dominantSpeakerChanged",s.dominantSpeaker)}),e.on("transcription",function(a){return s.emit("transcription",a)}),e.on("stateChanged",function a(n,i){switch(t.info("Transitioned to state:",n),n){case"disconnected":s.participants.forEach(function(o){o._unsubscribeTracks()}),s.emit(n,s,i),s.localParticipant.tracks.forEach(function(o){o.unpublish()}),e.removeListener("stateChanged",a);break;case"reconnecting":setTimeout(function(){return s.emit("reconnecting",i)},0);break;default:setTimeout(function(){return s.emit("reconnected")},0)}})}var wH=gH,jH=function(){function s(e){Object.defineProperties(this,{_min:{value:e.min||100},_max:{value:e.max||1e4},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_factor:{value:e.factor||2},_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var t=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var a=Math.random(),n=Math.floor(a*this._jitter*t);t=Math.floor(a*10)&1?t+n:t-n}return Math.min(t,this._max)|0}},_timeoutID:{value:null,writable:!0}})}return s.prototype.backoff=function(e){var t=this,a=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this._timeoutID=setTimeout(function(){t._attempts++,e()},a)},s.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},s}(),J1=jH,Vt={},NH=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},X1=oe,zd=X1.difference,Zr=X1.flatMap;function Hd(){var s=4294967295;return String(Math.floor(Math.random()*s))}var kH=function(){function s(e,t,a){Object.defineProperties(this,{cName:{enumerable:!0,value:a},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:t},trackId:{enumerable:!0,value:e}})}return s.prototype.addSimulcastSSRCs=function(){if(!this.isSimulcastEnabled){var e=[Hd(),Hd()];e.forEach(function(t){this.primarySSRCs.add(t)},this),this.rtxPairs.size&&e.forEach(function(t){this.rtxPairs.set(Hd(),t)},this)}},s.prototype.addSSRC=function(e,t,a){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||a},s.prototype.toSdpLines=function(e){var t=this,a=e?[]:Array.from(this.rtxPairs.entries()).map(function(d){return d.reverse()}),n=Array.from(this.primarySSRCs.values()),i=a.length?Zr(a):n,o=Zr(i,function(d){return["a=ssrc:"+d+" cname:"+t.cName,"a=ssrc:"+d+" msid:"+t.streamId+" "+t.trackId]}),l=a.map(function(d){return"a=ssrc-group:FID "+d.join(" ")}),c=["a=ssrc-group:SIM "+n.join(" ")];return l.concat(o).concat(c)},s}();function $l(s,e){var t=s.match(new RegExp(e,"gm"))||[];return t.map(function(a){var n=a.match(new RegExp(e))||[];return n.slice(1)})}function _H(s){var e="^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$";return new Set(Zr($l(s,e)))}function SH(s,e,t){var a="a=ssrc:"+e+" "+t+":(.+)";return s.match(new RegExp(a))[1]}function CH(s){var e="^a=ssrc-group:FID ([0-9]+) ([0-9]+)$";return new Map($l(s,e).map(function(t){return t.reverse()}))}function EH(s){var e=NH(Zr($l(s,"^a=msid:(.+) (.+)$")),2),t=e[0],a=e[1],n=Zr($l(s,"^a=ssrc:(.+) cname:.+$"));return n.map(function(i){return[i,t,a]})}function TH(s){var e=_H(s),t=CH(s),a=EH(s);return a.reduce(function(n,i){var o=i[0],l=i[1],c=i[2],d=n.get(c)||new kH(c,l,SH(s,o,"cname")),u=t.get(o)||null;return d.addSSRC(o,u,e.has(o)),n.set(c,d)},new Map)}function PH(s,e){var t=TH(s),a=Array.from(t.keys()),n=Array.from(e.keys()),i=zd(a,n),o=zd(n,a),l=Zr(i,function(y){return t.get(y)});l.forEach(function(y){y.addSimulcastSSRCs(),e.set(y.trackId,y)}),n=Array.from(e.keys());var c=zd(n,o),d=Zr(c,function(y){return e.get(y)}),u=!s.match(/a=rtpmap:[0-9]+ rtx/),h=Zr(d,function(y){return y.toSdpLines(u)}),p=Zr(new Set(s.split(`\r
`).concat(h))),f="a=x-google-flag:conference";return s.match(f)||p.push(f),p.join(`\r
`)}var AH=PH,ra=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Zg=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},e2=oe,OH=e2.difference,mh=e2.flatMap,LH=AH,Jg={0:"PCMU",8:"PCMA"};function fn(s){return Array.from(Dc(s)).reduce(function(e,t){var a=t[0],n=t[1],i=e.get(n)||[];return e.set(n,i.concat(a))},new Map)}function ph(s){return Mr(s).reduce(function(e,t){var a=nn(t);return a?e.set(a,t):e},new Map)}function Dc(s){return Gi(s).reduce(function(e,t){if(e.has(t))return e;var a=new RegExp("a=rtpmap:"+t+" ([^/]+)"),n=s.match(a),i=n?n[1].toLowerCase():Jg[t]?Jg[t].toLowerCase():"";return e.set(t,i)},new Map)}function Dl(s,e){var t=new RegExp("^a=fmtp:"+s+" (.+)$","m"),a=e.match(t);return a&&a[1].split(";").reduce(function(n,i){var o=ra(i.split("="),2),l=o[0],c=o[1];return n[l]=isNaN(c)?c:parseInt(c,10),n},{})}function nn(s){var e=s.match(/^a=mid:(.+)$/m);return e&&e[1]}function Mr(s,e,t){return s.replace(/\r\n\r\n$/,`\r
`).split(`\r
m=`).slice(1).map(function(a){return"m="+a}).filter(function(a){var n=new RegExp("m="+(e||".*"),"gm"),i=new RegExp("a="+(t||".*"),"gm");return n.test(a)&&i.test(a)})}function Gi(s){var e=s.split(`\r
`)[0],t=e.match(/([0-9]+)/g);return t?t.slice(1).map(function(a){return parseInt(a,10)}):[]}function RH(s,e){e=e.map(function(i){var o=i.codec;return o.toLowerCase()});var t=mh(e,function(i){return s.get(i)||[]}),a=OH(Array.from(s.keys()),e),n=mh(a,function(i){return s.get(i)});return t.concat(n)}function Um(s,e){var t=e.split(`\r
`),a=t[0],n=t.slice(1);return a=a.replace(/([0-9]+\s?)+$/,s.join(" ")),[a].concat(n).join(`\r
`)}function IH(s,e,t){var a=Mr(s),n=s.split(`\r
m=`)[0];return[n].concat(a.map(function(i){if(!/^m=(audio|video)/.test(i))return i;var o=i.match(/^m=(audio|video)/)[1],l=fn(i),c=o==="audio"?e:t,d=RH(l,c),u=Um(d,i),h=l.get("pcma")||[],p=l.get("pcmu")||[],f=o==="audio"?new Set(h.concat(p)):new Set;return f.has(d[0])?u.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):u})).join(`\r
`)}function MH(s,e){var t=Mr(s),a=s.split(`\r
m=`)[0];return[a].concat(t.map(function(n){if(n=n.replace(/\r\n$/,""),!/^m=video/.test(n))return n;var i=fn(n),o=Gi(n),l=new Set(i.get("vp8")||[]),c=o.some(function(d){return l.has(d)});return c?LH(n,e):n})).concat("").join(`\r
`)}function $H(s,e,t,a,n){var i=t.get(s)||[];if(i.length<=1)return i;var o=Dl(e,n);if(!o)return i;var l=i.find(function(c){var d=Dl(c,a);return d&&Object.keys(o).every(function(u){return o[u]===d[u]})});return typeof l=="number"?[l]:i}function DH(s,e,t){if(!/^m=(audio|video)/.test(s))return s;var a=nn(s),n=a&&e.get(a);if(!n)return s;var i=Dc(n),o=fn(s),l=mh(Array.from(i),function(f){var y=ra(f,2),x=y[0],g=y[1];return g!=="rtx"&&!t.includes(g)?$H(g,x,o,s,n):[]}),c=o.get("rtx")||[],d=c.filter(function(f){var y=Dl(f,s);return y&&l.includes(y.apt)});l=Array.from(new Set(Zg(Zg([],ra(l)),ra(d))));var u=s.split(`\r
`).filter(function(f){var y=f.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),x=y&&y[2];return!y||x&&l.includes(parseInt(x,10))}),h=Gi(s).filter(function(f){return l.includes(f)}),p=Array.from(new Set(h));return Um(p,u.join(`\r
`))}function FH(s,e){var t=Mr(s),a=s.split(`\r
m=`)[0],n=ph(e);return[a].concat(t.map(function(i){return DH(i,n,[])})).join(`\r
`)}function BH(s,e,t,a){a===void 0&&(a=!1);var n=ph(t),i=ph(e),o=Mr(s),l=s.split(`\r
m=`)[0];return[l].concat(o.map(function(c){if(c=c.replace(/\r\n$/,""),!/^m=video/.test(c))return c;var d=c.match(/^a=mid:(.+)$/m),u=d&&d[1];if(!u)return c;var h=n.get(u),p=Dc(h),f=Gi(h),y=f.length&&p.get(f[0])==="vp8",x=a||!y;return x?i.get(u).replace(/\r\n$/,""):c})).concat("").join(`\r
`)}function VH(s,e,t){var a=Array.from(t).reduce(function(n,i){var o=ra(i,2),l=o[0],c=o[1],d=Mr(s,l,"send(only|recv)"),u=d.map(nn).filter(function(h){return!e.has(h)});return u.forEach(function(h,p){return n.set(h,c[p])}),n},new Map);return t2(s,a)}function t2(s,e){var t=Mr(s),a=s.split(`\r
m=`)[0];return[a].concat(t.map(function(n){if(!/^m=(audio|video)/.test(n))return n;var i=nn(n);if(!i)return n;var o=e.get(i);if(!o)return n;var l=(n.match(/^a=msid:(.+)$/m)||[])[1];if(!l)return n;var c=ra(l.split(" "),2),d=c[0],u=c[1],h=new RegExp("msid:"+d+(u?" "+u:"")+"$","gm");return n.replace(h,"msid:"+d+" "+o)})).join(`\r
`)}function UH(s,e){return s.split(`\r
`).filter(function(t){return!e.find(function(a){return new RegExp("a=ssrc:.*"+a+":","g").test(t)})}).join(`\r
`)}function WH(s){var e=Mr(s),t=s.split(`\r
m=`)[0];return[t].concat(e.map(function(a){if(!/^m=video/.test(a))return a;var n=fn(a),i=n.get("rtx");if(!i)return a;var o=new Set(Gi(a));i.forEach(function(u){return o.delete(u)});var l=a.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),c=l&&l[1],d=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(c?[new RegExp("^a=ssrc:"+c+" .+$")]:[]);return a=a.split(`\r
`).filter(function(u){return d.every(function(h){return!h.test(u)})}).join(`\r
`),Um(Array.from(o),a)})).join(`\r
`)}function Xg(s,e){var t=Object.entries(e).map(function(a){var n=ra(a,2),i=n[0],o=n[1];return i+"="+o}).join(";");return"a=fmtp:"+s+" "+t}function zH(s,e){var t=Mr(s),a=s.split(`\r
m=`)[0];return e=e||t.filter(function(n){return/^m=audio/.test(n)}).map(nn),[a].concat(t.map(function(n){if(!/^m=audio/.test(n))return n;var i=fn(n),o=i.get("opus");if(!o)return n;var l=Dl(o,n);if(!l)return n;var c=Xg(o,l),d=new RegExp(c),u=nn(n);e.includes(u)?l.usedtx=1:delete l.usedtx;var h=Xg(o,l);return n.replace(d,h)})).join(`\r
`)}Vt.addOrRewriteNewTrackIds=VH;Vt.addOrRewriteTrackIds=t2;Vt.createCodecMapForMediaSection=fn;Vt.createPtToCodecName=Dc;Vt.disableRtx=WH;Vt.enableDtxForOpus=zH;Vt.filterLocalCodecs=FH;Vt.getMediaSections=Mr;Vt.removeSSRCAttributes=UH;Vt.revertSimulcast=BH;Vt.setCodecPreferences=IH;Vt.setSimulcast=MH;var HH=function(){function s(e){e=Object.assign({getKey:function(a){return a},getValue:function(a){return a},isLessThanOrEqualTo:function(a,n){return a<=n}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}return s.prototype.toMap=function(){return new Map(this._map)},s.prototype.updateAndFilter=function(e){return e.filter(this.update,this)},s.prototype.update=function(e){var t=this._getKey(e),a=this._getValue(e);return this._map.has(t)&&this._isLessThanOrEqualTo(a,this._map.get(t))?!1:(this._map.set(t,a),!0)},s}(),qH=HH,GH=qH,YH=function(){function s(){Object.defineProperties(this,{_filter:{value:new GH({getKey:function(t){return t.ufrag},isLessThanOrEqualTo:function(t,a){return t.revision<=a.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return s.prototype.setUfrag=function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},s.prototype.update=function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),a=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(a.length):[]},s}(),KH=YH,r2=qe,QH=r2.ICE_ACTIVITY_CHECK_PERIOD_MS,ZH=r2.ICE_INACTIVITY_THRESHOLD_MS,JH=function(){function s(e,t){t=Object.assign({activityCheckPeriodMs:QH,inactivityThresholdMs:ZH},t),Object.defineProperties(this,{_activityCheckPeriodMs:{value:t.activityCheckPeriodMs},_inactivityThresholdMs:{value:t.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:e},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return s.prototype._getActivePairStat=function(e){var t=Array.from(e.values()),a=t.find(function(n){return n.type==="candidate-pair"&&n.nominated});return a||{bytesReceived:0,timestamp:Math.round(new Date().getTime())}},s.prototype._getIceConnectionStats=function(){var e=this;return this._peerConnection.getStats().then(function(t){return e._getActivePairStat(t)}).catch(function(){return null})},s.prototype._scheduleInactivityCallback=function(e){var t=this;e&&this._onIceConnectionStateChanged===null?(this._onIceConnectionStateChanged=function(){t._peerConnection.iceConnectionState==="disconnected"&&e()},this._peerConnection.addEventListener?this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged):this._peerConnection.oniceconnectionstatechange=this._onIceConnectionStateChanged):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener?this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged):this._peerConnection.oniceconnectionstatechange=null,this._onIceConnectionStateChanged=null)},s.prototype.start=function(e){var t=this;this.stop(),this._timer=setInterval(function(){t._getIceConnectionStats().then(function(a){a&&((!t._lastActivity||t._lastActivity.bytesReceived!==a.bytesReceived)&&(t._lastActivity=a,t._scheduleInactivityCallback(null)),a.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&(t._peerConnection.iceConnectionState==="disconnected"?e():t._onIceConnectionStateChanged===null&&t._scheduleInactivityCallback(e)))})},this._activityCheckPeriodMs)},s.prototype.stop=function(){this._scheduleInactivityCallback(null),this._timer!==null&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)},s}(),XH=JH,eq=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),tq=Bt.EventEmitter,rq=function(s){eq(e,s);function e(t){var a=s.call(this)||this;return Object.defineProperties(a,{_dataChannel:{value:t},_messageQueue:{value:[]}}),t.addEventListener("open",function(){a._messageQueue.splice(0).forEach(function(n){return a._publish(n)})}),t.addEventListener("message",function(n){var i=n.data;try{var o=JSON.parse(i);a.emit("message",o)}catch{}}),a.publish({type:"ready"}),a}return e.prototype._publish=function(t){var a=JSON.stringify(t);try{this._dataChannel.send(a)}catch{}},e.prototype.publish=function(t){var a=this._dataChannel;return a.readyState==="closing"||a.readyState==="closed"?!1:a.readyState==="connecting"?(this._messageQueue.push(t),!0):(this._publish(t),!0)},e}(tq),sq=rq,aq=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),nq=fj,iq=sq,oq=function(s){aq(e,s);function e(t){var a=s.call(this,t.label,t.maxPacketLifeTime,t.maxRetransmits,t.ordered)||this;return Object.defineProperties(a,{_dataChannel:{value:t}}),t.binaryType="arraybuffer",t.addEventListener("message",function(n){a.emit("message",n.data)}),t.addEventListener("close",function(){a.emit("close")}),a}return e.prototype.stop=function(){this._dataChannel.close(),s.prototype.stop.call(this)},e.prototype.toDataTransport=function(){return new iq(this._dataChannel)},e}(nq),lq=oq,cq=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),dq=ij,uq=function(s){cq(e,s);function e(t,a){return s.call(this,t,a)||this}return e}(dq),hq=uq,mq=Vt.getMediaSections,pq=function(){function s(){Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return s.prototype.match=function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null},s.prototype.update=function(e){var t=mq(e,"(audio|video)");this._midsToTrackIds=t.reduce(function(a,n){var i=n.match(/^a=mid:(.+)$/m)||[],o=n.match(/^a=msid:.+ (.+)$/m)||[],l=i[1],c=o[1];return l&&c?a.set(l,c):a},this._midsToTrackIds)},s}(),fq=pq,gq=ba.RTCSessionDescription,s2=Vt,xq=s2.createPtToCodecName,yq=s2.getMediaSections;function bq(s){var e={type:s.type};return s.type!=="rollback"&&(e.sdp=vq(s.sdp)),new gq(e)}function vq(s){var e=yq(s),t=s.split(`\r
m=`)[0];return[t].concat(e.map(wq)).join(`\r
`)}function wq(s){var e=xq(s);s=Nq(s,e),s=jq(s);var t=kq(e),a=t.get("rtx")||new Set,n=new Set,i=_q(s,e,a,n),o=Sq(i,n),l=Array.from(n),c=["h264","vp8","vp9"],d=c.reduce(function(u,h){var p=t.get(h)||new Set;return Array.from(p).reduce(function(f,y){return o.has(y)?f:f.add(y)},u)},new Set);return d.forEach(function(u){if(l.length){var h=l.shift();s=ex(s,h),s=Eq(s,h,u)}}),l.forEach(function(u){s=ex(s,u),s=Cq(s,u)}),s}function jq(s){for(var e=s.split(`\r
`),t=new Map,a=96,n=0;n<e.length;n++){var i=e[n].match(/^a=rtpmap:(\d+) ([^/]+)/);if(i){var o=parseInt(i[1],10),l=i[2].toLowerCase();if(t.has(o)&&t.get(o)!==l){for(;t.has(a)||a===o;)a++;var c=a;t.set(c,l),e[n]=e[n].replace("a=rtpmap:"+o,"a=rtpmap:"+c);for(var d=n+1;d<e.length;d++)e[d].match(new RegExp("^a=(fmtp|rtcp-fb):"+o+"\\b"))&&(e[d]=e[d].replace(new RegExp("^a=(fmtp|rtcp-fb):"+o+"\\b"),"a=$1:"+c))}else t.set(o,l)}}return e.join(`\r
`)}function Nq(s,e){return Array.from(e.keys()).reduce(function(t,a){var n=new RegExp("^a=rtpmap:"+a+" rtx.+$","gm");return(t.match(n)||[]).slice(e.get(a)==="rtx"?1:0).reduce(function(i,o){var l=new RegExp(`\r
`+o),c=new RegExp(`\r
a=fmtp:`+a+" apt=[0-9]+");return i.replace(l,"").replace(c,"")},t)},s)}function kq(s){var e=new Map;return s.forEach(function(t,a){var n=e.get(t)||new Set;return e.set(t,n.add(a))}),e}function _q(s,e,t,a){return Array.from(t).reduce(function(n,i){var o=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),l=s.match(o);if(!l)return a.add(i),n;var c=Number.parseInt(l[1]);if(!e.has(c))return a.add(i),n;var d=e.get(c);return d==="rtx"?(a.add(i),n):n.set(i,c)},new Map)}function Sq(s,e){var t=Array.from(s).reduce(function(a,n){var i=n[0],o=n[1],l=a.get(o)||new Set;return a.set(o,l.add(i))},new Map);return Array.from(t).reduce(function(a,n){var i=n[0],o=Array.from(n[1]);return o.length>1?(o.forEach(function(l){e.add(l)}),a):a.set(i,o[0])},new Map)}function ex(s,e){var t=new RegExp("a=fmtp:"+e+`.*\r
`,"gm");return s.replace(t,"")}function Cq(s,e){var t=new RegExp("a=rtpmap:"+e+`.*\r
`,"gm");return s.replace(t,"")}function Eq(s,e,t){return s.endsWith(`\r
`)?s+"a=fmtp:"+e+" apt="+t+`\r
`:s+`\r
a=fmtp:`+e+" apt="+t}var Tq=bq,Pq=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),Aq=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Oq=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},Lq=J1,Fc=ba,Rq=Fc.RTCIceCandidate,Iq=Fc.RTCPeerConnection,Mq=Fc.RTCSessionDescription,$q=Fc.getStats,a2=Fe,Bc=qe,Dq=Bc.DEFAULT_ICE_GATHERING_TIMEOUT_MS,Fq=Bc.DEFAULT_LOG_LEVEL,Bq=Bc.DEFAULT_SESSION_TIMEOUT_SEC,Vq=Bc.iceRestartBackoffConfig,gr=Vt,Uq=gr.addOrRewriteNewTrackIds,Wq=gr.addOrRewriteTrackIds,n2=gr.createCodecMapForMediaSection,tx=gr.disableRtx,Lo=gr.enableDtxForOpus,zq=gr.filterLocalCodecs,oi=gr.getMediaSections,rx=gr.removeSSRCAttributes,Hq=gr.revertSimulcast,qq=gr.setCodecPreferences,Gq=gr.setSimulcast,Yq=wa,i2=le,qd=i2.MediaClientLocalDescFailedError,Gd=i2.MediaClientRemoteDescFailedError,Yi=oe,Kq=Yi.buildLogLevels,Qq=Yi.getPlatform,Zq=Yi.isChromeScreenShareTrack,Jq=Yi.oncePerTick,Xq=Yi.defer,eG=KH,tG=XH,rG=lq,sG=hq,aG=mn,nG=rs,iG=fq,sx=Tq,Wm=a2.guessBrowser(),oG=Qq(),lG=/android/.test(oG),cG=Wm==="chrome",Hs=Wm==="firefox",dG=Wm==="safari",uG=0,hG={open:["closed","updating"],updating:["closed","open"],closed:[]},mG=function(s){Pq(e,s);function e(t,a,n,i){var o=s.call(this,"open",hG)||this;i=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:Zq,iceServers:[],logLevel:Fq,offerOptions:{},revertSimulcast:Hq,sessionTimeout:Bq*1e3,setCodecPreferences:qq,setSimulcast:Gq,Backoff:Lq,IceConnectionMonitor:tG,RTCIceCandidate:Rq,RTCPeerConnection:Iq,RTCSessionDescription:Mq,Timeout:Yq},i);var l=ox(Object.assign({},i,i.rtcConfiguration)),c=Kq(i.logLevel),d=i.RTCPeerConnection;i.enableDscp===!0&&(i.chromeSpecificConstraints=i.chromeSpecificConstraints||{},i.chromeSpecificConstraints.optional=i.chromeSpecificConstraints.optional||[],i.chromeSpecificConstraints.optional.push({googDscp:!0}));var u=i.log?i.log.createLog("webrtc",o):new nG("webrtc",o,c,i.loggerName),h=new d(l,i.chromeSpecificConstraints);i.dummyAudioMediaStreamTrack&&h.addTrack(i.dummyAudioMediaStreamTrack),Object.defineProperties(o,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:i.enableDscp},_encodingParameters:{value:a},_isChromeScreenShareTrack:{value:i.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new i.Timeout(function(){return o._handleIceGatheringTimeout()},Dq,!1)},_iceRestartBackoff:{value:new i.Backoff(Vq)},_instanceId:{value:++uG},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_log:{value:u},_eventObserver:{value:i.eventObserver},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_rtpNewSenders:{value:new Set},_iceConnectionMonitor:{value:new i.IceConnectionMonitor(h)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:i.offerOptions},_onEncodingParametersChanged:{value:Jq(function(){o._needsAnswer||o2(o)})},_peerConnection:{value:h},_preferredAudioCodecs:{value:n.audio},_preferredVideoCodecs:{value:n.video},_shouldApplyDtx:{value:n.audio.every(function(f){var y=f.codec;return y!=="opus"})||n.audio.some(function(f){var y=f.codec,x=f.dtx;return y==="opus"&&x})},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new i.Timeout(function(){u.debug("ICE reconnect timed out"),o.close()},i.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new eG},_setCodecPreferences:{value:Hs&&lG&&n.video[0]&&n.video[0].codec.toLowerCase()!=="h264"?function(f){return f}:i.setCodecPreferences},_setSimulcast:{value:i.setSimulcast},_revertSimulcast:{value:i.revertSimulcast},_RTCIceCandidate:{value:i.RTCIceCandidate},_RTCPeerConnection:{value:i.RTCPeerConnection},_RTCSessionDescription:{value:i.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},_mediaTrackSenderToPublisherHints:{value:new Map},id:{enumerable:!0,value:t}}),a.on("changed",o._onEncodingParametersChanged),h.addEventListener("connectionstatechange",o._handleConnectionStateChange.bind(o)),h.addEventListener("datachannel",o._handleDataChannelEvent.bind(o)),h.addEventListener("icecandidate",o._handleIceCandidateEvent.bind(o)),h.addEventListener("iceconnectionstatechange",o._handleIceConnectionStateChange.bind(o)),h.addEventListener("icegatheringstatechange",o._handleIceGatheringStateChange.bind(o)),h.addEventListener("signalingstatechange",o._handleSignalingStateChange.bind(o)),h.addEventListener("track",o._handleTrackEvent.bind(o));var p=o;return o.on("stateChanged",function f(y){y==="closed"&&(p.removeListener("stateChanged",f),p._dataChannels.forEach(function(x,g){p.removeDataTrackSender(g)}))}),o}return e.prototype.toString=function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"},e.prototype.setEffectiveAdaptiveSimulcast=function(t){this._log.debug("Setting setEffectiveAdaptiveSimulcast: ",t),this._preferredVideoCodecs.forEach(function(a){"adaptiveSimulcast"in a&&(a.adaptiveSimulcast=t)})},Object.defineProperty(e.prototype,"_shouldApplySimulcast",{get:function(){if(!cG&&!dG)return!1;var t=this._preferredVideoCodecs.some(function(a){return a.codec.toLowerCase()==="vp8"&&a.simulcast&&a.adaptiveSimulcast!==!1});return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){return this.iceConnectionState==="failed"?"failed":this._peerConnection.connectionState||this.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iceConnectionState",{get:function(){return this._isIceConnectionInactive&&this._peerConnection.iceConnectionState==="disconnected"||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isApplicationSectionNegotiated",{get:function(){return this._peerConnection.signalingState!=="closed"?this._peerConnection.localDescription?oi(this._peerConnection.localDescription.sdp,"application").length>0:!1:!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isAdaptiveSimulcastEnabled",{get:function(){var t=this._preferredVideoCodecs.find(function(a){return"adaptiveSimulcast"in a});return t&&t.adaptiveSimulcast===!0},enumerable:!1,configurable:!0}),e.prototype._maybeUpdateEncodings=function(t,a,n){if(n===void 0&&(n=!1),t.kind!=="video"||t.readyState==="ended")return!1;var i=t.getSettings(),o=i.height,l=i.width;if(typeof o!="number"||typeof l!="number")return!1;var c=a2.guessBrowser();return c==="safari"||c==="chrome"&&this._isAdaptiveSimulcastEnabled?(this._updateEncodings(t,a,n),!0):!1},e.prototype._updateEncodings=function(t,a,n){if(this._isChromeScreenShareTrack(t)){var i=[{scaleResolutionDownBy:1},{scaleResolutionDownBy:1}];a.forEach(function(f,y){var x=i[y];x?(f.scaleResolutionDownBy=x.scaleResolutionDownBy,n&&delete f.active):(f.active=!1,delete f.scaleResolutionDownBy)})}else{var o=t.getSettings(),l=o.width,c=o.height,d=[{pixels:960*540,maxActiveLayers:3},{pixels:480*270,maxActiveLayers:2},{pixels:0,maxActiveLayers:1}],u=l*c,h=d.find(function(f){return u>=f.pixels}),p=Math.min(a.length,h.maxActiveLayers);a.forEach(function(f,y){var x=y<p;x?(f.scaleResolutionDownBy=1<<p-y-1,n&&(f.active=!0)):(f.active=!1,delete f.scaleResolutionDownBy)})}this._log.debug("_updateEncodings:",a.map(function(f,y){var x=f.active,g=f.scaleResolutionDownBy;return"["+y+": "+x+", "+(g||0)+"]"}).join(", "))},e.prototype._addIceCandidate=function(t){var a=this;return Promise.resolve().then(function(){return t=new a._RTCIceCandidate(t),a._peerConnection.addIceCandidate(t)}).catch(function(n){a._log.warn("Failed to add RTCIceCandidate "+(t?'"'+t.candidate+'"':"null")+": "+n.message)})},e.prototype._addIceCandidates=function(t){return Promise.all(t.map(this._addIceCandidate,this)).then(function(){})},e.prototype._addOrUpdateTransceiver=function(t){var a=this,n=yG(this,t.kind);if(n&&n.sender){var i=n.sender.track?n.sender.track.id:null;return i&&this._log.warn("Reusing transceiver: "+n.mid+"] "+i+" => "+t.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(t).then(function(){n.direction="sendrecv"},function(){}).finally(function(){a._replaceTrackPromises.delete(n)})),n}return this._peerConnection.addTransceiver(t,{})},e.prototype._checkIceBox=function(t){var a=ix(t);if(!a)return Promise.resolve();var n=this._remoteCandidates.setUfrag(a);return this._addIceCandidates(n)},e.prototype._answer=function(t){var a=this;return Promise.resolve().then(function(){return a._negotiationRole||(a._negotiationRole="answerer"),a._setRemoteDescription(t)}).catch(function(){throw new Gd}).then(function(){return a._peerConnection.createAnswer()}).then(function(n){Hs?n=new a._RTCSessionDescription({sdp:tx(n.sdp),type:n.type}):n=sx(n);var i=rx(n.sdp,["mslabel","label"]);if(a._shouldApplySimulcast){var o=i;i=a._setSimulcast(o,a._trackIdsToAttributes),i=a._revertSimulcast(i,o,t.sdp)}return i=i.replace(/42e015/g,"42e01f"),a._setLocalDescription({type:n.type,sdp:i})}).then(function(){return a._checkIceBox(t)}).then(function(){return a._queuedDescription&&a._updateDescription(a._queuedDescription)}).then(function(){return a._queuedDescription=null,a._maybeReoffer(a._peerConnection.localDescription)}).catch(function(n){var i=n instanceof Gd?n:new qd;throw a._publishMediaWarning({message:"Failed to _answer",code:i.code,error:n}),i})},e.prototype._close=function(){return this._iceConnectionMonitor.stop(),this._peerConnection.signalingState!=="closed"?(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0):!1},e.prototype._handleConnectionStateChange=function(){this.emit("connectionStateChanged")},e.prototype._handleDataChannelEvent=function(t){var a=this,n=t.channel,i=new rG(n);this._dataTrackReceivers.add(i),n.addEventListener("close",function(){a._dataTrackReceivers.delete(i)}),this.emit("trackAdded",i)},e.prototype._handleGlare=function(t){var a=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then(function(){return a._trackIdsToAttributes=new Map(a._appliedTrackIdsToAttributes),a._setLocalDescription({type:"rollback"})}).then(function(){return a._needsAnswer=!1,a._answer(t)}).then(function(n){return n?Promise.resolve():a._offer()})},e.prototype._publishMediaWarning=function(t){var a=t.message,n=t.code,i=t.error,o=t.sdp;this._eventObserver.emit("event",{level:"warning",name:"error",group:"media",payload:{message:a,code:n,context:JSON.stringify({error:i.message,sdp:o})}})},e.prototype._handleIceCandidateEvent=function(t){t.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(t.candidate));var a={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};t.candidate||(a.ice.complete=!0),this._isIceLite&&t.candidate||(a.ice.revision=this._localCandidatesRevision++,this.emit("candidates",a))},e.prototype._handleIceConnectionStateChange=function(){var t=this,a=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(a),i=this._log;i.debug('ICE connection state is "'+a+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),this._lastIceConnectionState!=="failed"&&a==="failed"&&!this._shouldRestartIce&&!this._isRestartingIce?(i.warn("ICE failed"),this._initiateIceRestartBackoff()):["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&i.debug("ICE reconnected"),a==="connected"?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start(function(){t._iceConnectionMonitor.stop(),!t._shouldRestartIce&&!t._isRestartingIce&&(i.warn("ICE Connection Monitor detected inactivity"),t._isIceConnectionInactive=!0,t._initiateIceRestartBackoff(),t.emit("iceConnectionStateChanged"),t.emit("connectionStateChanged"))})):["disconnected","completed"].includes(a)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=a,this.emit("iceConnectionStateChanged")},e.prototype._handleIceGatheringTimeout=function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")},e.prototype._handleIceGatheringStateChange=function(){var t=this._peerConnection.iceGatheringState,a=this._log;a.debug('ICE gathering state is "'+t+'"');var n=this._iceGatheringTimeout,i=n.delay,o=n.isSet;t==="gathering"&&!this._didGenerateLocalCandidates&&!o&&(a.debug("Starting ICE gathering timeout: "+i),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())},e.prototype._handleSignalingStateChange=function(){this._peerConnection.signalingState==="stable"&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))},e.prototype._handleTrackEvent=function(t){var a=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher=this._trackMatcher||new iG,this._trackMatcher.update(n);var i=t.track,o=this._trackMatcher.match(t)||i.id,l=new sG(o,i);this._mediaTrackReceivers.forEach(function(c){c.track.id===l.track.id&&a._mediaTrackReceivers.delete(c)}),this._mediaTrackReceivers.add(l),i.addEventListener?i.addEventListener("ended",function(){return a._mediaTrackReceivers.delete(l)}):i.onended=function(){return a._mediaTrackReceivers.delete(l)},this.emit("trackAdded",l)},e.prototype._initiateIceRestart=function(){if(this._peerConnection.signalingState!=="closed"){var t=this._log;t.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var a=this._iceReconnectTimeout,n=a.delay,i=a.isSet;i||(t.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer().catch(function(o){t.error("offer failed in _initiateIceRestart with: "+o.message)})}},e.prototype._initiateIceRestartBackoff=function(){var t=this;this._peerConnection.signalingState==="closed"||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff(function(){return t._initiateIceRestart()}))},e.prototype._maybeReoffer=function(t){var a=this._shouldOffer;if(t&&t.sdp){var n=this._peerConnection.getSenders().filter(function(d){return d.track});a=["audio","video"].reduce(function(d,u){var h=oi(t.sdp,u,"(sendrecv|sendonly)"),p=n.filter(fG.bind(null,u));return d||h.length<p.length},a);var i=this._dataChannels.size>0,o=oi(t.sdp,"application").length>0,l=i&&!o;a=a||l}var c=a?this._offer():Promise.resolve();return c.then(function(){return a})},e.prototype._offer=function(){var t=this,a=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,a.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then(function(){return t._peerConnection.createOffer(a)}).catch(function(n){var i=new qd;throw t._publishMediaWarning({message:"Failed to create offer",code:i.code,error:n}),i}).then(function(n){Hs?n=new t._RTCSessionDescription({sdp:tx(n.sdp),type:n.type}):n=sx(n);var i=rx(n.sdp,["mslabel","label"]);i=t._peerConnection.remoteDescription?zq(i,t._peerConnection.remoteDescription.sdp):i;var o=t._setCodecPreferences(i,t._preferredAudioCodecs,t._preferredVideoCodecs);return t._shouldOffer=!1,t._negotiationRole||(t._negotiationRole="offerer"),t._shouldApplySimulcast&&(t._localDescriptionWithoutSimulcast={type:"offer",sdp:o},o=t._setSimulcast(o,t._trackIdsToAttributes)),t._setLocalDescription({type:"offer",sdp:o})})},e.prototype._getMediaTrackSenderId=function(t){var a=Array.from(this._rtpSenders.keys()).find(function(n){var i=n.track.id;return i===t});return a?a.id:t},e.prototype._addOrRewriteLocalTrackIds=function(t){var a=this,n=this._peerConnection.getTransceivers(),i=n.filter(function(p){var f=p.sender,y=p.stopped;return!y&&f&&f.track}),o=i.filter(function(p){var f=p.mid;return f}),l=new Map(o.map(function(p){var f=p.mid,y=p.sender;return[f,a._getMediaTrackSenderId(y.track.id)]})),c=Wq(t.sdp,l),d=i.filter(function(p){var f=p.mid;return!f}),u=new Map(["audio","video"].map(function(p){return[p,d.filter(function(f){var y=f.sender;return y.track.kind===p}).map(function(f){var y=f.sender;return a._getMediaTrackSenderId(y.track.id)})]})),h=Uq(c,l,u);return new this._RTCSessionDescription({sdp:h,type:t.type})},e.prototype._rollbackAndApplyOffer=function(t){var a=this;return this._setLocalDescription({type:"rollback"}).then(function(){return a._setLocalDescription(t)})},e.prototype._setLocalDescription=function(t){var a=this;return t.type!=="rollback"&&this._shouldApplyDtx&&(t=new this._RTCSessionDescription({sdp:Lo(t.sdp),type:t.type})),this._peerConnection.setLocalDescription(t).catch(function(n){a._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+t.type+'" failed with the error "'+n.message+'".',n);var i=new qd,o={message:'Calling setLocalDescription with an RTCSessionDescription of type "'+t.type+'" failed',code:i.code,error:n};throw t.sdp&&(a._log.warn("The SDP was "+t.sdp),o.sdp=t.sdp),a._publishMediaWarning(o),i}).then(function(){t.type!=="rollback"&&(a._localDescription=a._addOrRewriteLocalTrackIds(t),a._shouldApplyDtx&&(a._localDescription=new a._RTCSessionDescription({sdp:Lo(a._localDescription.sdp,[]),type:a._localDescription.type})),a._localCandidates=[],t.type==="offer"?a._descriptionRevision++:t.type==="answer"&&(a._lastStableDescriptionRevision=a._descriptionRevision,lx(a)),a._localUfrag=ix(t),a.emit("description",a.getState()))})},e.prototype._setRemoteDescription=function(t){var a=this;return t.sdp&&(t.sdp=this._setCodecPreferences(t.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?t.sdp=Lo(t.sdp):t.sdp=Lo(t.sdp,[]),Hs&&(t.sdp=gG(t.sdp)),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(t.sdp))),t=new this._RTCSessionDescription(t),Promise.resolve().then(function(){if(t.type==="answer"&&a._localDescriptionWithoutSimulcast){var n=a._preferredVideoCodecs.find(function(l){return"adaptiveSimulcast"in l}),i=!!n&&n.adaptiveSimulcast===!1,o=a._revertSimulcast(a._localDescription.sdp,a._localDescriptionWithoutSimulcast.sdp,t.sdp,i);if(a._localDescriptionWithoutSimulcast=null,o!==a._localDescription.sdp)return a._rollbackAndApplyOffer({type:a._localDescription.type,sdp:o})}}).then(function(){return a._peerConnection.setRemoteDescription(t)}).then(function(){t.type==="answer"&&(a._isRestartingIce&&(a._log.debug("An ICE restart was in-progress and is now completed"),a._isRestartingIce=!1),lx(a))},function(n){throw a._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+t.type+'" failed with the error "'+n.message+'".',n),t.sdp&&a._log.warn("The SDP was "+t.sdp),n})},e.prototype._updateDescription=function(t){var a=this;switch(t.type){case"answer":case"pranswer":if(t.revision!==this._descriptionRevision||this._peerConnection.signalingState!=="have-local-offer")return Promise.resolve();this._descriptionRevision=t.revision;break;case"close":return this._close();case"create-offer":return t.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=t,Promise.resolve()):(this._descriptionRevision=t.revision,this._offer());case"offer":return t.revision<=this._lastStableDescriptionRevision||this._peerConnection.signalingState==="closed"?Promise.resolve():this._peerConnection.signalingState==="have-local-offer"?this._needsAnswer&&this._lastStableDescriptionRevision===0?(this._queuedDescription=t,Promise.resolve()):(this._descriptionRevision=t.revision,this._handleGlare(t)):(this._descriptionRevision=t.revision,this._answer(t).then(function(){}))}var n=t.revision;return Promise.resolve().then(function(){return a._setRemoteDescription(t)}).catch(function(i){var o=new Gd;throw a._publishMediaWarning({message:'Calling setRemoteDescription with an RTCSessionDescription of type "'+t.type+'" failed',code:o.code,error:i,sdp:t.sdp}),o}).then(function(){return a._lastStableDescriptionRevision=n,a._needsAnswer=!1,a._checkIceBox(t)}).then(function(){return a._queuedDescription&&a._updateDescription(a._queuedDescription)}).then(function(){return a._queuedDescription=null,a._maybeReoffer(a._peerConnection.localDescription).then(function(){})})},e.prototype._updateIce=function(t){var a=this._remoteCandidates.update(t);return this._addIceCandidates(a)},e.prototype.addDataTrackSender=function(t){if(!this._dataChannels.has(t))try{var a={ordered:t.ordered};t.maxPacketLifeTime!==null&&(a.maxPacketLifeTime=t.maxPacketLifeTime),t.maxRetransmits!==null&&(a.maxRetransmits=t.maxRetransmits);var n=this._peerConnection.createDataChannel(t.id,a);t.addDataChannel(n),this._dataChannels.set(t,n)}catch(i){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+t.id+'": '+i.message)}},e.prototype._handleQueuedPublisherHints=function(){var t=this;this._peerConnection.signalingState==="stable"&&this._mediaTrackSenderToPublisherHints.forEach(function(a,n){var i=a.deferred,o=a.encodings;t._mediaTrackSenderToPublisherHints.delete(n),t._setPublisherHint(n,o).then(function(l){return i.resolve(l)}).catch(function(l){return i.reject(l)})})},e.prototype._setPublisherHint=function(t,a){var n=this;if(Hs)return Promise.resolve("COULD_NOT_APPLY_HINT");if(this._mediaTrackSenderToPublisherHints.has(t)){var i=this._mediaTrackSenderToPublisherHints.get(t);i.deferred.resolve("REQUEST_SKIPPED"),this._mediaTrackSenderToPublisherHints.delete(t)}var o=this._rtpSenders.get(t);if(!o)return this._log.warn("Could not apply publisher hint because RTCRtpSender was not found"),Promise.resolve("UNKNOWN_TRACK");if(this._peerConnection.signalingState==="closed")return this._log.warn('Could not apply publisher hint because signalingState was "closed"'),Promise.resolve("COULD_NOT_APPLY_HINT");if(this._peerConnection.signalingState!=="stable"){this._log.debug("Queuing up publisher hint because signalingState:",this._peerConnection.signalingState);var l=Xq();return this._mediaTrackSenderToPublisherHints.set(t,{deferred:l,encodings:a}),l.promise}var c=o.getParameters();return a!==null&&a.forEach(function(d){var u=d.enabled,h=d.layer_index;c.encodings.length>h?(n._log.debug("layer:"+h+", active:"+c.encodings[h].active+" => "+u),c.encodings[h].active=u):n._log.warn("invalid layer:"+h+", active:"+u)}),this._maybeUpdateEncodings(o.track,c.encodings,a===null),o.setParameters(c).then(function(){return"OK"}).catch(function(d){return n._log.error("Failed to apply publisher hints:",d),"COULD_NOT_APPLY_HINT"})},e.prototype.addMediaTrackSender=function(t){var a=this;if(!(this._peerConnection.signalingState==="closed"||this._rtpSenders.has(t))){var n=this._addOrUpdateTransceiver(t.track),i=n.sender;t.addSender(i,function(o){return a._setPublisherHint(t,o)}),this._rtpNewSenders.add(i),this._rtpSenders.set(t,i)}},e.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},e.prototype.getTrackReceivers=function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))},e.prototype.getState=function(){if(!this._localDescription)return null;var t=this._localDescription.type==="answer"?this._lastStableDescriptionRevision:this._descriptionRevision,a={type:this._localDescription.type,revision:t};return this._localDescription.sdp&&(a.sdp=this._localDescription.sdp),{description:a,id:this.id}},e.prototype.offer=function(){var t=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",function(a){t.transition("updating",a);var n=t._needsAnswer||t._isRestartingIce?Promise.resolve():t._offer();return n.then(function(){t.tryTransition("open",a)},function(i){throw t.tryTransition("open",a),i})})},e.prototype.removeDataTrackSender=function(t){var a=this._dataChannels.get(t);a&&(t.removeDataChannel(a),this._dataChannels.delete(t),a.close())},e.prototype.removeMediaTrackSender=function(t){var a=this._rtpSenders.get(t);if(a){if(this._peerConnection.signalingState!=="closed"&&this._peerConnection.removeTrack(a),t.removeSender(a),this._mediaTrackSenderToPublisherHints.has(t)){var n=this._mediaTrackSenderToPublisherHints.get(t);n.deferred.resolve("UNKNOWN_TRACK"),this._mediaTrackSenderToPublisherHints.delete(t)}this._rtpNewSenders.delete(a),this._rtpSenders.delete(t)}},e.prototype.setConfiguration=function(t){typeof this._peerConnection.setConfiguration=="function"&&this._peerConnection.setConfiguration(ox(t))},e.prototype.setIceReconnectTimeout=function(t){return this._iceReconnectTimeout.setDelay(t),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this},e.prototype.update=function(t){var a=this;return this.bracket("updating",function(n){if(a.state==="closed")return Promise.resolve();a.transition("updating",n);var i=[];return t.ice&&i.push(a._updateIce(t.ice)),t.description&&i.push(a._updateDescription(t.description)),Promise.all(i).then(function(){a.tryTransition("open",n)},function(o){throw a.tryTransition("open",n),o})})},e.prototype.getStats=function(){var t=this;return $q(this._peerConnection,{log:this._log}).then(function(a){return pG(t,a)})},e}(aG);function ax(s,e){var t=s._getMediaTrackSenderId(e.trackId);return Object.assign(e,{trackId:t})}function nx(s,e){var t=Oq([],Aq(s._mediaTrackReceivers)).find(function(n){return n.track.id===e.trackId}),a=t?t.id:null;return Object.assign(e,{trackId:a})}function pG(s,e){return Object.assign(e,{remoteAudioTrackStats:e.remoteAudioTrackStats.map(function(t){return nx(s,t)}),remoteVideoTrackStats:e.remoteVideoTrackStats.map(function(t){return nx(s,t)}),localAudioTrackStats:e.localAudioTrackStats.map(function(t){return ax(s,t)}),localVideoTrackStats:e.localVideoTrackStats.map(function(t){return ax(s,t)})})}function ix(s){if(s.sdp){var e=s.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(e)return e[1]}return null}function ox(s){return s===void 0&&(s={}),Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},s)}function fG(s,e){var t=e.track;return t&&t.kind===s&&t.readyState!=="ended"}function gG(s){return s.replace(/a=msid:[^ ]+ /g,"a=msid:- ")}function xG(s,e){return!s.stopped&&!e._replaceTrackPromises.has(s)&&["inactive","recvonly"].includes(s.direction)}function yG(s,e){var t={audio:s._preferredAudioCodecs.map(function(o){var l=o.codec;return l.toLowerCase()}),video:s._preferredVideoCodecs.map(function(o){var l=o.codec;return l.toLowerCase()})}[e],a=s._recycledTransceivers[e],n=t.find(function(o){return s._localCodecs.has(o)});if(!n)return a.shift();var i=a.find(function(o){var l=s._remoteCodecMaps.get(o.mid);return l&&l.has(n)});return i&&a.splice(a.indexOf(i),1),i}function bG(s){var e=s._peerConnection.localDescription;!e||!e.sdp||oi(e.sdp).forEach(function(t){var a=n2(t);a.forEach(function(n,i){return s._localCodecs.add(i)})})}function vG(s){var e=s._peerConnection.remoteDescription;!e||!e.sdp||oi(e.sdp).forEach(function(t){var a=t.match(/^a=mid:(.+)$/m);if(!(!a||!a[1])){var n=a[1],i=n2(t);s._remoteCodecMaps.set(n,i)}})}function wG(s){s._recycledTransceivers.audio=[],s._recycledTransceivers.video=[],s._peerConnection.getTransceivers().forEach(function(e){if(xG(e,s)){var t=e.receiver.track;s._recycledTransceivers[t.kind].push(e)}})}function lx(s){wG(s),bG(s),vG(s),o2(s).then(function(){s._handleQueuedPublisherHints()})}function o2(s){var e=s._encodingParameters,t=e.maxAudioBitrate,a=e.maxVideoBitrate,n=new Map([["audio",t],["video",a]]),i=[];return s._peerConnection.getSenders().filter(function(o){return o.track}).forEach(function(o){var l=n.get(o.track.kind),c=o.getParameters();l===null||l===0?jG(c):s._isChromeScreenShareTrack(o.track)?s._log.warn("Not setting maxBitrate for "+o.track.kind+" Track "+o.track.id+" because it appears to be screen share track: "+o.track.label):NG(c,l),!Hs&&c.encodings.length>0&&(o.track.kind==="audio"?c.encodings[0].priority="high":s._isChromeScreenShareTrack(o.track)&&(c.encodings[0].priority="medium"),s._enableDscp&&(c.encodings[0].networkPriority="high"));var d=s._rtpNewSenders.has(o);s._maybeUpdateEncodings(o.track,c.encodings,d),s._rtpNewSenders.delete(o);var u=o.setParameters(c).catch(function(h){s._log.warn("Error while setting encodings parameters for "+o.track.kind+" Track "+o.track.id+": "+(h.message||h.name))});i.push(u)}),Promise.all(i)}function jG(s){Array.isArray(s.encodings)&&s.encodings.forEach(function(e){return delete e.maxBitrate})}function NG(s,e){Hs?s.encodings=[{maxBitrate:e}]:s.encodings.forEach(function(t){t.maxBitrate=e})}var kG=mG,_G=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),l2=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},c2=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},SG=Fe.guessBrowser,CG=kG,EG=oj,TG=aj,ys=oe,PG=le.MediaConnectionError,AG=SG()==="firefox",OG=function(s){_G(e,s);function e(t,a,n){var i=s.call(this)||this;n=Object.assign({audioContextFactory:AG?Pc():null,PeerConnectionV2:CG},n);var o=n.audioContextFactory?n.audioContextFactory.getOrCreate(i):null,l=o?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(i,{_audioContextFactory:{value:n.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:ys.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:o?new EG(LG(o)):null},_encodingParameters:{value:t},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:l},_peerConnections:{value:new Map},_preferredCodecs:{value:a},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:n.PeerConnectionV2}}),i}return e.prototype.setEffectiveAdaptiveSimulcast=function(t){this._peerConnections.forEach(function(a){return a.setEffectiveAdaptiveSimulcast(t)}),this._preferredCodecs.video.forEach(function(a){"adaptiveSimulcast"in a&&(a.adaptiveSimulcast=t)})},Object.defineProperty(e.prototype,"connectionState",{get:function(){return this._connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iceConnectionState",{get:function(){return this._iceConnectionState},enumerable:!1,configurable:!0}),e.prototype._closeAbsentPeerConnections=function(t){var a=new Set(t.map(function(n){return n.id}));return this._peerConnections.forEach(function(n){a.has(n.id)||n._close()}),this},e.prototype._getConfiguration=function(){return this._configurationDeferred.promise},e.prototype._getOrCreate=function(t,a){var n=this,i=this,o=this._peerConnections.get(t);if(!o){var l=this._PeerConnectionV2,c=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},a);try{o=new l(t,this._encodingParameters,this._preferredCodecs,c)}catch{throw new PG}this._peerConnections.set(o.id,o),o.on("candidates",this.queue.bind(this,"candidates")),o.on("description",this.queue.bind(this,"description")),o.on("trackAdded",this.queue.bind(this,"trackAdded")),o.on("stateChanged",function d(u){u==="closed"&&(o.removeListener("stateChanged",d),i._dataTrackSenders.forEach(function(h){return o.removeDataTrackSender(h)}),i._mediaTrackSenders.forEach(function(h){return o.removeMediaTrackSender(h)}),i._peerConnections.delete(o.id),i._closedPeerConnectionIds.add(o.id),cx(i),Ro(i))}),o.on("connectionStateChanged",function(){return cx(n)}),o.on("iceConnectionStateChanged",function(){return Ro(n)}),this._dataTrackSenders.forEach(o.addDataTrackSender,o),this._mediaTrackSenders.forEach(o.addMediaTrackSender,o),Ro(this)}return o},e.prototype.close=function(){return this._peerConnections.forEach(function(t){t.close()}),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),Ro(this),this},e.prototype.createAndOffer=function(){var t=this;return this._getConfiguration().then(function(a){var n;do n=ys.makeUUID();while(t._peerConnections.has(n));return t._getOrCreate(n,a)}).then(function(a){return a.offer()}).then(function(){return t})},e.prototype.getTrackReceivers=function(){return ys.flatMap(this._peerConnections,function(t){return t.getTrackReceivers()})},e.prototype.getStates=function(){var t=[];return this._peerConnections.forEach(function(a){var n=a.getState();n&&t.push(n)}),t},e.prototype.setConfiguration=function(t){return this._configuration&&(this._configurationDeferred=ys.defer(),this._peerConnections.forEach(function(a){a.setConfiguration(t)})),this._configuration=t,this._configurationDeferred.resolve(t),this},e.prototype.setIceReconnectTimeout=function(t){return this._sessionTimeout===null&&(this._peerConnections.forEach(function(a){a.setIceReconnectTimeout(t)}),this._sessionTimeout=t),this},e.prototype.setTrackSenders=function(t){var a=new Set(t.filter(function(o){return o.kind==="data"})),n=new Set(t.filter(function(o){return o&&(o.kind==="audio"||o.kind==="video")})),i=MG(this,a,n);return this._dataTrackSenders=a,this._mediaTrackSenders=n,RG(this,i),this},e.prototype.update=function(t,a){var n=this;return a===void 0&&(a=!1),a&&this._closeAbsentPeerConnections(t),this._getConfiguration().then(function(i){return Promise.all(t.map(function(o){if(n._closedPeerConnectionIds.has(o.id))return null;var l=n._getOrCreate(o.id,i);return l.update(o)}))}).then(function(){return n})},e.prototype.getStats=function(){var t=Array.from(this._peerConnections.values());return Promise.all(t.map(function(a){return a.getStats().then(function(n){return[a.id,n]})})).then(function(a){return new Map(a)})},e}(TG);function LG(s){var e=s.createMediaStreamDestination();return e.stream.getAudioTracks()[0]}function RG(s,e){(e.data.add.size||e.data.remove.size||e.media.add.size||e.media.remove.size)&&s._peerConnections.forEach(function(t){e.data.remove.forEach(t.removeDataTrackSender,t),e.media.remove.forEach(t.removeMediaTrackSender,t),e.data.add.forEach(t.addDataTrackSender,t),e.media.add.forEach(t.addMediaTrackSender,t),(e.media.add.size||e.media.remove.size||e.data.add.size&&!t.isApplicationSectionNegotiated)&&t.offer()})}function IG(s,e){var t=ys.difference(e,s._dataTrackSenders),a=ys.difference(s._dataTrackSenders,e);return{add:t,remove:a}}function MG(s,e,t){return{data:IG(s,e),media:$G(s,t)}}function $G(s,e){var t=ys.difference(e,s._mediaTrackSenders),a=ys.difference(s._mediaTrackSenders,e);return{add:t,remove:a}}var Fl={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3},Yd;function DG(){return Object.keys(Fl).reduce(function(s,e){var t;return Object.assign(s,(t={},t[Fl[e]]=e,t))},{})}function d2(s){return s.length?(Yd=Yd||DG(),s.reduce(function(e,t){return Yd[Math.max(Fl[e],Fl[t])]})):"new"}function Ro(s){s._lastIceConnectionState=s.iceConnectionState,s._iceConnectionState=d2(c2([],l2(s._peerConnections.values())).map(function(e){return e.iceConnectionState})),s.iceConnectionState!==s._lastIceConnectionState&&s.emit("iceConnectionStateChanged")}function cx(s){s._lastConnectionState=s.connectionState,s._connectionState=d2(c2([],l2(s._peerConnections.values())).map(function(e){return e.connectionState})),s.connectionState!==s._lastConnectionState&&s.emit("connectionStateChanged")}var FG=OG,BG=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),VG=Bt,UG=0,WG=function(s){BG(e,s);function e(t,a,n){var i=s.call(this)||this;return Object.defineProperties(i,{_instanceId:{value:UG++},channel:{value:a},_log:{value:n.log.createLog("default",i)},_getReceiver:{value:t},_receiverPromise:{value:null,writable:!0},_transport:{value:null,writable:!0}}),i}return Object.defineProperty(e.prototype,"isSetup",{get:function(){return!!this._receiverPromise},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[MediaSignaling #"+this._instanceId+":"+this.channel+"]"},e.prototype.setup=function(t){var a=this;this._teardown(),this._log.info("setting up msp transport for id:",t);var n=this._getReceiver(t).then(function(i){if(i.kind!=="data"&&a._log.error("Expected a DataTrackReceiver"),a._receiverPromise===n){try{a._transport=i.toDataTransport(),a.emit("ready",a._transport)}catch(o){a._log.error("Failed to toDataTransport: "+o.message)}i.once("close",function(){return a._teardown()})}});this._receiverPromise=n},e.prototype._teardown=function(){this._transport&&(this._log.info("Tearing down"),this._transport=null,this._receiverPromise=null,this.emit("teardown"))},e}(VG),ja=WG,zG=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),HG=ja,qG=function(s){zG(e,s);function e(t,a){var n=s.call(this,t,"active_speaker",a)||this;return Object.defineProperties(n,{_loudestParticipantSid:{value:null,writable:!0}}),n.on("ready",function(i){i.on("message",function(o){switch(o.type){case"active_speaker":n._setLoudestParticipantSid(o.participant);break}})}),n}return Object.defineProperty(e.prototype,"loudestParticipantSid",{get:function(){return this._loudestParticipantSid},enumerable:!1,configurable:!0}),e.prototype._setLoudestParticipantSid=function(t){this.loudestParticipantSid!==t&&(this._loudestParticipantSid=t,this.emit("updated"))},e}(HG),GG=qG,YG=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),KG=ja,QG=function(s){YG(e,s);function e(t,a){var n=s.call(this,t,"extension_transcriptions",a)||this;return n.on("ready",function(i){i.on("message",function(o){switch(o.type){case"extension_transcriptions":n.emit("transcription",o);break}})}),n}return e}(KG),ZG=QG,JG=function(){function s(e,t,a,n){Object.defineProperties(this,{availableSend:{enumerable:!0,value:a},recv:{enumerable:!0,value:t},rtt:{enumerable:!0,value:n},send:{enumerable:!0,value:e}})}return s.of=function(e,t){var a=(t.timestamp-e.timestamp)/1e3,n=t.bytesSent-e.bytesSent,i=t.bytesReceived-e.bytesReceived,o=a>0?n/a*8:0,l=a>0?i/a*8:0,c=t.availableOutgoingBitrate,d=t.currentRoundTripTime;return new s(o,l,c,d)},s}(),XG=JG,Kd=XG,eY=function(){function s(){Object.defineProperties(this,{lastReport:{enumerable:!0,value:new Kd(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return s.prototype.next=function(e){var t=this.lastStats;if(this.lastStats=e,t){var a=t.id===e.id?Kd.of(t,e):new Kd(0,0);this.lastReport=a}return this.lastReport},s}(),tY=eY;function rY(s){return s=s.filter(function(e){return typeof e=="number"}),s.length<1?void 0:s.reduce(function(e,t){return t+e})/s.length}var u2=rY,sY=function(){function s(e,t,a){Object.defineProperties(this,{id:{enumerable:!0,value:e},trackId:{enumerable:!0,value:t},bitrate:{enumerable:!0,value:a}})}return s}(),h2=sY;function aY(s){return s.reduce(function(e,t){return typeof t=="number"?t+e:e},0)}var m2=aY,nY=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),dx=u2,iY=h2,oY=m2,lY=function(s){nY(e,s);function e(t,a,n,i,o,l,c){var d=s.call(this,t,a,n)||this,u=o>0?i/o:0;return Object.defineProperties(d,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:l},jitter:{enumerable:!0,value:c},phonyFractionLost:{enumerable:!0,value:u}}),d}return e.of=function(t,a,n){if(a.id!==n.id)throw new Error("RTCStats IDs must match");var i=(n.timestamp-a.timestamp)/1e3,o=n.bytesReceived-a.bytesReceived,l=i>0?o/i*8:0,c=Math.max(n.packetsLost-a.packetsLost,0),d=n.packetsReceived-a.packetsReceived,u=n.fractionLost,h=n.jitter;return new e(a.id,t,l,c,d,u,h)},e.summarize=function(t){var a=t.map(function(l){return l.summarize()}),n=oY(a.map(function(l){return l.bitrate})),i=dx(a.map(function(l){return l.fractionLost})),o=dx(a.map(function(l){return l.jitter}));return{bitrate:n,fractionLost:i,jitter:o}},e.prototype.summarize=function(){return{bitrate:this.bitrate,fractionLost:typeof this.fractionLost=="number"?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}},e}(iY),p2=lY,cY=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),dY=u2,uY=h2,hY=m2,mY=function(s){cY(e,s);function e(t,a,n,i){var o=s.call(this,t,a,n)||this;return Object.defineProperties(o,{rtt:{enumerable:!0,value:i}}),o}return e.of=function(t,a,n,i){if(a.id!==n.id)throw new Error("RTCStats IDs must match");var o=(n.timestamp-a.timestamp)/1e3,l=n.bytesSent-a.bytesSent,c=o>0?l/o*8:0,d=i&&typeof i.roundTripTime=="number"?i.roundTripTime/1e3:void 0;return new e(a.id,t,c,d)},e.summarize=function(t){var a=hY(t.map(function(i){return i.bitrate})),n=dY(t.map(function(i){return i.rtt}));return{bitrate:a,rtt:n}},e}(uY),f2=mY,Qd=p2,Zd=f2,pY=function(){function s(e,t,a){Object.defineProperties(this,{ice:{enumerable:!0,value:e},audio:{enumerable:!0,value:t},video:{enumerable:!0,value:a}})}return s.prototype.summarize=function(){var e=this.audio.send.concat(this.video.send),t=Zd.summarize(e),a=this.audio.recv.concat(this.video.recv),n=Qd.summarize(a);return{ice:this.ice,send:t,recv:n,audio:{send:Zd.summarize(this.audio.send),recv:Qd.summarize(this.audio.recv)},video:{send:Zd.summarize(this.video.send),recv:Qd.summarize(this.video.recv)}}},s}(),fY=pY,gY=function(){function s(e,t,a){Object.defineProperties(this,{id:{enumerable:!0,value:e,writable:!0},trackId:{enumerable:!0,value:t,writable:!0},lastStats:{enumerable:!0,value:a,writable:!0}})}return s}(),g2=gY,xY=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),yY=p2,bY=g2,vY=function(s){xY(e,s);function e(t,a){var n=s.call(this,a.id,t,a)||this;return Object.defineProperties(n,{lastReport:{enumerable:!0,value:null,writable:!0}}),n}return e.prototype.next=function(t,a){var n=this.lastStats;this.lastStats=a,this.trackId=t;var i=yY.of(t,n,a);return this.lastReport=i,i},e}(bY),wY=vY,jY=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),NY=g2,kY=f2,_Y=function(s){jY(e,s);function e(t,a){var n=s.call(this,a.id,t,a)||this;return Object.defineProperties(n,{lastReport:{enumerable:!0,value:null,writable:!0}}),n}return e.prototype.next=function(t,a,n){var i=this.lastStats;this.lastStats=a,this.trackId=t;var o=kY.of(t,i,a,n);return this.lastReport=o,o},e}(NY),SY=_Y,Qn=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},Io=T&&T.__spreadArray||function(s,e){for(var t=0,a=e.length,n=s.length;t<a;t++,n++)s[n]=e[t];return s},Pi=T&&T.__values||function(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],a=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x2=Fe.guessBrowser,CY=tY,EY=fY,TY=wY,PY=SY,AY=function(){function s(e){Object.defineProperties(this,{pc:{enumerable:!0,value:e},ice:{enumerable:!0,value:new CY},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return s.prototype.next=function(){var e=this,t=x2()==="firefox"?RY(this):IY(this);return t.then(function(){var a=Io([],Qn(e.audio.send.values())),n=Io([],Qn(e.video.send.values())),i=Io([],Qn(e.audio.recv.values())),o=Io([],Qn(e.video.recv.values())),l=new EY(e.ice.lastReport,{send:a.map(function(c){return c.lastReport}).filter(function(c){return c}),recv:i.map(function(c){return c.lastReport}).filter(function(c){return c})},{send:n.map(function(c){return c.lastReport}).filter(function(c){return c}),recv:o.map(function(c){return c.lastReport}).filter(function(c){return c})});return e.lastReport=l,l})},s}();function ux(s){return Promise.all(s.map(function(e){var t=e.track.id;return e.getStats().then(function(a){var n,i;try{for(var o=Pi(a.values()),l=o.next();!l.done;l=o.next()){var c=l.value;c.type==="inbound-rtp"&&(c.id=t+"-"+c.id)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return[t,a]})})).then(function(e){return new Map(e)})}function y2(s,e,t,a,n){var i=e[a.mediaType];if(!n){var o=t.get(a.trackId);o&&(n=o.trackIdentifier)}if(i&&n){if(i.has(a.id))return i.get(a.id);var l=new s(n,a);i.set(a.id,l)}return null}function zm(s){return{audio:s.audio.send,video:s.video.send}}function Hm(s){return{audio:s.audio.recv,video:s.video.recv}}function OY(s,e,t,a){return y2(PY,zm(s),e,t,a)}function LY(s,e,t,a){return y2(TY,Hm(s),e,t,a)}function b2(s){return{audio:new Set(s.audio.send.keys()),video:new Set(s.video.send.keys())}}function v2(s){return{audio:new Set(s.audio.recv.keys()),video:new Set(s.video.recv.keys())}}function w2(s,e,t,a){var n,i;try{for(var o=Pi(e.values()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.type==="outbound-rtp"&&!c.isRemote){if(x2()!=="firefox"&&!c.trackId)continue;var d=t[c.mediaType];d&&d.delete(c.id);var u=OY(s,e,c,a);if(u){var h=e.get(c.remoteId);u.next(a||u.trackId,c,h)}}}}catch(p){n={error:p}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function j2(s,e,t,a){var n,i;try{for(var o=Pi(e.values()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.type==="inbound-rtp"&&!c.isRemote){var d=t[c.mediaType];d&&d.delete(c.id);var u=LY(s,e,c,a);u&&u.next(a||u.trackId,c)}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function Bl(s,e){var t=function(n){var i=s[n],o=e[n];o.forEach(function(l){return i.delete(l)})};for(var a in e)t(a)}function N2(s,e){var t,a,n,i,o;try{for(var l=Pi(e.values()),c=l.next();!c.done;c=l.next()){var d=c.value;d.type==="transport"&&(o=e.get(d.selectedCandidatePairId))}}catch(p){t={error:p}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(t)throw t.error}}if(o){s.next(o);return}try{for(var u=Pi(e.values()),h=u.next();!h.done;h=u.next()){var d=h.value;d.type==="candidate-pair"&&d.nominated&&(!("selected"in d)||d.selected)&&s.next(d)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}function RY(s){var e=s.pc.getTransceivers().filter(function(a){return a.currentDirection&&a.currentDirection.match(/send/)&&a.sender.track}).map(function(a){return a.sender}),t=s.pc.getTransceivers().filter(function(a){return a.currentDirection&&a.currentDirection.match(/recv/)}).map(function(a){return a.receiver});return Promise.all([ux(e),ux(t),s.pc.getStats()]).then(function(a){var n=Qn(a,3),i=n[0],o=n[1],l=n[2],c=zm(s),d=b2(s);i.forEach(function(p,f){return w2(s,p,d,f)}),Bl(c,d);var u=Hm(s),h=v2(s);o.forEach(function(p,f){return j2(s,p,h,f)}),Bl(u,h),N2(s.ice,l)})}function IY(s){return s.pc.getStats().then(function(e){var t=zm(s),a=b2(s);w2(s,e,a),Bl(t,a);var n=Hm(s),i=v2(s);j2(s,e,i),Bl(n,i),N2(s.ice,e)})}var MY=AY,$Y=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),DY=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},FY=Bt,BY=MY,VY=function(s){$Y(e,s);function e(t,a){var n=s.call(this)||this;return Object.defineProperties(n,{_factories:{value:new WeakMap},_manager:{value:t},_signaling:{value:a}}),a.on("updated",function(){return n.emit("updated")}),n}return Object.defineProperty(e.prototype,"level",{get:function(){return this._signaling.level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return this._signaling.levels},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteLevels",{get:function(){return this._signaling.remoteLevels},enumerable:!1,configurable:!0}),e.prototype.start=function(){var t=this;this.stop();var a=setTimeout(function(){t._timeout===a&&UY(t).then(function(n){if(t._timeout===a){if(n.length){var i=DY(n,1),o=i[0];t._signaling.put(o)}t.start()}})},200);this._timeout=a},e.prototype.stop=function(){clearTimeout(this._timeout),this._timeout=null},e}(FY);function UY(s){var e=s._manager._peerConnections?Array.from(s._manager._peerConnections.values()):[],t=e.map(function(i){return i._peerConnection}).filter(function(i){return i.signalingState!=="closed"}),a=t.map(function(i){if(s._factories.has(i))return s._factories.get(i);var o=new BY(i);return s._factories.set(i,o),o}),n=a.map(function(i){return i.next().catch(function(){return null})});return Promise.all(n).then(function(i){return i.filter(function(o){return o}).map(function(o){return o.summarize()})})}var WY=VY,zY=oe.defer,HY=function(){function s(){Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return s.prototype.put=function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this},s.prototype.take=function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=zY();return this._deferreds.push(t),t.promise.then(function(a){return e._hasValue=!1,a})},s}(),qY=HY,GY=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),YY=ja,KY=qY,QY=wa,hx=5e3,ZY=function(s){GY(e,s);function e(t,a,n){var i=s.call(this,t,"network_quality",n)||this;return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_networkQualityInputs:{value:new KY},_resendTimer:{value:new QY(function(){i._resendTimer.setDelay(i._resendTimer.delay*1.5),i._sendNetworkQualityInputs()},hx,!1)},_networkQualityReportLevels:{get:function(){return{reportLevel:a.local,remoteReportLevel:a.remote}}}}),i.on("ready",function(o){o.on("message",function(l){switch(i._log.debug("Incoming: ",l),l.type){case"network_quality":i._handleNetworkQualityMessage(l);break}})}),i._sendNetworkQualityInputs(),i}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteLevels",{get:function(){return this._remoteLevels},enumerable:!1,configurable:!0}),e.prototype._handleNetworkQualityMessage=function(t){var a=this,n=!1,i=null,o=t?t.local:null;typeof o=="number"?(i=o,this._levels=null):typeof o=="object"&&o&&(this._levels=o,i=typeof o.level=="number"?o.level:Math.min(o.audio.send,o.audio.recv,o.video.send,o.video.recv)),i!==null&&this.level!==i&&(this._level=i,n=!0),this._remoteLevels=t&&t.remotes?t.remotes.reduce(function(l,c){var d=a._remoteLevels.get(c.sid)||{};return d.level!==c.level&&(n=!0),l.set(c.sid,c)},new Map):this._remoteLevels,n&&this.emit("updated"),this._resendTimer.setDelay(hx),this._resendTimer.isSet&&setTimeout(function(){return a._sendNetworkQualityInputs()},1e3)},e.prototype._sendNetworkQualityInputs=function(){var t=this;return this._resendTimer.clear(),this._networkQualityInputs.take().then(function(a){t._transport&&t._transport.publish(JY(a,t._networkQualityReportLevels))}).finally(function(){t._resendTimer.start()})},e.prototype.put=function(t){this._networkQualityInputs.put(t)},e}(YY);function JY(s,e){return Object.assign({type:"network_quality"},s,e)}var XY=ZY,eK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),tK=Bt.EventEmitter,rK=function(s){eK(e,s);function e(){var t=s.call(this)||this;return Object.defineProperties(t,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),t}return e.prototype.disable=function(){return this.enable(!1)},e.prototype.enable=function(t){return t=typeof t=="boolean"?t:!0,this.isEnabled!==t&&(this._isEnabled=t,this.emit("updated")),this},e}(tK),k2=rK,sK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),aK=k2,nK=function(s){sK(e,s);function e(){var t=s.call(this)||this;return Object.defineProperties(t,{_revision:{value:1,writable:!0}}),t}return e.prototype.update=function(t){return t.revision<this._revision?this:(this._revision=t.revision,this.enable(t.is_recording))},e}(aK),iK=nK,oK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),lK=k2,cK=mn,dK=wa,uK=oe.buildLogLevels,hK=qe.DEFAULT_LOG_LEVEL,mK=rs,qm=le,pK=qm.MediaConnectionError,fK=qm.MediaDTLSTransportFailedError,gK=qm.SignalingConnectionDisconnectedError,xK=0,yK={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},bK=function(s){oK(e,s);function e(t,a,n,i){var o=this;i=Object.assign({logLevel:hK,RecordingSignaling:lK,Timeout:dK},i);var l=uK(i.logLevel);o=s.call(this,"connected",yK)||this;var c=i.RecordingSignaling,d=new i.Timeout(function(){o._disconnect(o._reconnectingError)},i.sessionTimeout,!1);return Object.defineProperties(o,{_instanceId:{value:xK++},_log:{value:i.log?i.log.createLog("default",o):new mK("default",o,l,i.loggerName)},_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:i},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:d},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:n},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new c},sid:{enumerable:!0,value:a}}),o.on("connectionStateChanged",function(){o.connectionState==="failed"&&!["disconnected","failed"].includes(o.iceConnectionState)&&o._disconnect(new fK)}),o.on("iceConnectionStateChanged",function(){return Jd(o)}),o.on("signalingConnectionStateChanged",function(){return Jd(o)}),setTimeout(function(){return Jd(o)}),o}return e.prototype._disconnect=function(t){return this.state!=="disconnected"?(this.preempt("disconnected",null,[t]),!0):!1},e.prototype.toString=function(){return"[RoomSignaling #"+this._instanceId+": "+(this.localParticipant?this.localParticipant.sid:"null")+"]"},e.prototype.connectParticipant=function(t){var a=this;return t.state==="disconnected"||this.participants.has(t.sid)?!1:(this.participants.set(t.sid,t),t.on("stateChanged",function n(i){i==="disconnected"&&(t.removeListener("stateChanged",n),a.participants.delete(t.sid),a.emit("participantDisconnected",t))}),this.emit("participantConnected",t),!0)},e.prototype.disconnect=function(){return this._disconnect()},e.prototype.setDominantSpeaker=function(t){this.dominantSpeakerSid=t,this.emit("dominantSpeakerChanged")},e}(cK);function Jd(s){if(s.state==="disconnected"||s.signalingConnectionState==="disconnected"){s._sessionTimeout.clear();return}var e;s.signalingConnectionState==="reconnecting"?e=s.signalingConnectionState:s.iceConnectionState==="failed"?(s._mediaConnectionIsReconnecting=!0,e="reconnecting"):s.iceConnectionState==="new"||s.iceConnectionState==="checking"?e=s._mediaConnectionIsReconnecting?"reconnecting":"connected":(s._mediaConnectionIsReconnecting=!1,s._reconnectingError=null,s._sessionTimeout.clear(),e="connected"),e!==s.state&&(e==="reconnecting"?(s._reconnectingError=s.signalingConnectionState==="reconnecting"?new gK:new pK,s._sessionTimeout.start(),s.preempt(e,null,[s._reconnectingError])):s.preempt(e))}var _2=bK,vK=function(){function s(e){var t=e.actual,a=t===void 0?null:t,n=e.available,i=n===void 0?null:n,o=e.level,l=o===void 0?null:o;Object.defineProperties(this,{actual:{value:a,enumerable:!0},available:{value:i,enumerable:!0},level:{value:l,enumerable:!0}})}return s}(),wK=vK,jK=function(){function s(e){var t=e.fractionLost,a=t===void 0?null:t,n=e.level,i=n===void 0?null:n;Object.defineProperties(this,{fractionLost:{value:a,enumerable:!0},level:{value:i,enumerable:!0}})}return s}(),NK=jK,kK=function(){function s(e){var t=e.jitter,a=t===void 0?null:t,n=e.rtt,i=n===void 0?null:n,o=e.level,l=o===void 0?null:o;Object.defineProperties(this,{jitter:{value:a,enumerable:!0},rtt:{value:i,enumerable:!0},level:{value:l,enumerable:!0}})}return s}(),_K=kK,SK=wK,CK=NK,EK=_K,TK=function(){function s(e){var t=e.bandwidth,a=t===void 0?null:t,n=e.fractionLost,i=n===void 0?null:n,o=e.latency,l=o===void 0?null:o;Object.defineProperties(this,{bandwidth:{value:a?new SK(a):null,enumerable:!0},fractionLost:{value:i?new CK(i):null,enumerable:!0},latency:{value:l?new EK(l):null,enumerable:!0}})}return s}(),S2=TK,PK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),AK=S2,OK=function(s){PK(e,s);function e(t){return s.call(this,t)||this}return e}(AK),LK=OK,RK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),IK=S2,MK=function(s){RK(e,s);function e(t){return s.call(this,t)||this}return e}(IK),$K=MK,DK=LK,FK=$K,BK=function(){function s(e){var t=e.send,a=e.recv,n=e.sendStats,i=n===void 0?null:n,o=e.recvStats,l=o===void 0?null:o;Object.defineProperties(this,{send:{value:t,enumerable:!0},recv:{value:a,enumerable:!0},sendStats:{value:i?new DK(i):null,enumerable:!0},recvStats:{value:l?new FK(l):null,enumerable:!0}})}return s}(),C2=BK,VK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),UK=C2,WK=function(s){VK(e,s);function e(t){return s.call(this,t)||this}return e}(UK),zK=WK,HK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),qK=C2,GK=function(s){HK(e,s);function e(t){return s.call(this,t)||this}return e}(qK),YK=GK,KK=zK,QK=YK,ZK=function(){function s(e){var t=e.level,a=e.audio,n=e.video;Object.defineProperties(this,{level:{value:t,enumerable:!0},audio:{value:a?new KK(a):null,enumerable:!0},video:{value:n?new QK(n):null,enumerable:!0}})}return s}(),JK=ZK,XK=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),eQ=mn,tQ=JK,rQ={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},sQ=function(s){XK(e,s);function e(){var t=s.call(this,"connecting",rQ)||this;return Object.defineProperties(t,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),t}return Object.defineProperty(e.prototype,"networkQualityLevel",{get:function(){return this._networkQualityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"networkQualityStats",{get:function(){return this._networkQualityStats},enumerable:!1,configurable:!0}),e.prototype.addTrack=function(t){return this.tracks.set(t.id||t.sid,t),this.emit("trackAdded",t),this},e.prototype.disconnect=function(){return this.state!=="disconnected"?(this.preempt("disconnected"),!0):!1},e.prototype.removeTrack=function(t){var a=this.tracks.get(t.id||t.sid);return this.tracks.delete(t.id||t.sid),a&&this.emit("trackRemoved",t),a||null},e.prototype.setNetworkQualityLevel=function(t,a){this._networkQualityLevel!==t&&(this._networkQualityLevel=t,this._networkQualityStats=a&&(a.audio||a.video)?new tQ(a):null,this.emit("networkQualityLevelChanged"))},e.prototype.connect=function(t,a){return this.state==="connecting"||this.state==="reconnecting"?(this._sid||(this._sid=t),this._identity||(this._identity=a),this.preempt("connected"),!0):!1},e.prototype.reconnecting=function(){return this.state==="connecting"||this.state==="connected"?(this.preempt("reconnecting"),!0):!1},e}(eQ),Gm=sQ,aQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),nQ=Gm,iQ=function(s){aQ(e,s);function e(t,a){var n=s.call(this)||this;return n.connect(t,a),n}return e}(nQ),oQ=iQ,lQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),cQ=Bt.EventEmitter,dQ=function(s){lQ(e,s);function e(t,a,n,i){var o=s.call(this)||this,l=null;return Object.defineProperties(o,{_error:{value:null,writable:!0},_isEnabled:{value:n,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return l},set:function(c){l===null&&(l=c)}},kind:{enumerable:!0,value:a},name:{enumerable:!0,value:t}}),o}return Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this._sid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackTransceiver",{get:function(){return this._trackTransceiver},enumerable:!1,configurable:!0}),e.prototype.disable=function(){return this.enable(!1)},e.prototype.enable=function(t){return t=typeof t=="boolean"?t:!0,this.isEnabled!==t&&(this._isEnabled=t,this.emit("updated")),this},e.prototype.setTrackTransceiver=function(t){return t=t||null,this.trackTransceiver!==t&&(this._trackTransceiver=t,this.emit("updated")),this},e.prototype.setSid=function(t){return this.sid===null&&(this._sid=t,this.emit("updated")),this},e}(cQ),E2=dQ,uQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),hQ=E2,mQ=function(s){uQ(e,s);function e(t,a,n,i,o,l){var c=s.call(this,a,n,i,o)||this;return Object.defineProperties(c,{_isSwitchedOff:{value:l,writable:!0}}),c.setSid(t),c}return Object.defineProperty(e.prototype,"isSubscribed",{get:function(){return!!this.trackTransceiver},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSwitchedOff",{get:function(){return this._isSwitchedOff},enumerable:!1,configurable:!0}),e.prototype.subscribeFailed=function(t){return this.error||(this._error=t,this.emit("updated")),this},e.prototype.setPriority=function(t){return this._priority!==t&&(this._priority=t,this.emit("updated")),this},e.prototype.setSwitchedOff=function(t){return this._isSwitchedOff!==t&&(this._isSwitchedOff=t,this.emit("updated")),this},e}(hQ),pQ=mQ,fQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),gQ=pQ,xQ=function(s){fQ(e,s);function e(t,a){return s.call(this,t.sid,t.name,t.kind,t.enabled,t.priority,a)||this}return e.prototype.update=function(t){return this.enable(t.enabled),this.setPriority(t.priority),this},e}(gQ),yQ=xQ,bQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),vQ=oQ,wQ=yQ,jQ=function(s){bQ(e,s);function e(t,a,n,i,o,l){var c=s.call(this,t.sid,t.identity)||this;return l=Object.assign({RemoteTrackPublicationV2:wQ},l),Object.defineProperties(c,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:l.RemoteTrackPublicationV2},_getInitialTrackSwitchOffState:{value:a},updateSubscriberTrackPriority:{value:function(d,u){return n(d,u)}},updateTrackRenderHint:{value:function(d,u){return i(d,u)}},clearTrackHint:{value:function(d){return o(d)}},revision:{enumerable:!0,get:function(){return this._revision}}}),c.update(t)}return e.prototype._getOrCreateTrack=function(t){var a=this._RemoteTrackPublicationV2,n=this.tracks.get(t.sid);if(!n){var i=this._getInitialTrackSwitchOffState(t.sid);n=new a(t,i),this.addTrack(n)}return n},e.prototype.update=function(t){var a=this;if(this.revision!==null&&t.revision<=this.revision)return this;this._revision=t.revision;var n=new Set;switch(t.tracks.forEach(function(i){var o=a._getOrCreateTrack(i);o.update(i),n.add(o)}),this.tracks.forEach(function(i){n.has(i)||a.removeTrack(i)}),t.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity);break}return this},e}(vQ),NQ=jQ,kQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),_Q=ja,SQ=function(s){kQ(e,s);function e(t,a){var n=s.call(this,t,"track_priority",a)||this;return Object.defineProperties(n,{_enqueuedPriorityUpdates:{value:new Map}}),n.on("ready",function(i){Array.from(n._enqueuedPriorityUpdates.keys()).forEach(function(o){i.publish({type:"track_priority",track:o,subscribe:n._enqueuedPriorityUpdates.get(o)})})}),n}return e.prototype.sendTrackPriorityUpdate=function(t,a,n){if(a!=="subscribe")throw new Error("only subscribe priorities are supported, found: "+a);this._enqueuedPriorityUpdates.set(t,n),this._transport&&this._transport.publish({type:"track_priority",track:t,subscribe:n})},e}(_Q),CQ=SQ,EQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),TQ=ja,PQ=function(s){EQ(e,s);function e(t,a){var n=s.call(this,t,"track_switch_off",a)||this;return n.on("ready",function(i){i.on("message",function(o){switch(o.type){case"track_switch_off":n._setTrackSwitchOffUpdates(o.off||[],o.on||[]);break}})}),n}return e.prototype._setTrackSwitchOffUpdates=function(t,a){this.emit("updated",t,a)},e}(TQ),AQ=PQ,OQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),LQ=ja,RQ=wa,IQ=oe.isDeepEqual,mx=2e3,MQ=1,$Q=function(s){OQ(e,s);function e(t,a){var n=s.call(this,t,"render_hints",a)||this;return Object.defineProperties(n,{_trackSidsToRenderHints:{value:new Map},_responseTimer:{value:new RQ(function(){n._sendAllHints(),n._responseTimer.setDelay(n._responseTimer.delay*2)},mx,!1)}}),n.on("ready",function(i){i.on("message",function(o){switch(n._log.debug("Incoming: ",o),o.type){case"render_hints":n._processHintResults(o&&o.subscriber&&o.subscriber.hints||[]);break;default:n._log.warn("Unknown message type: ",o.type);break}}),n._sendAllHints()}),n}return e.prototype._sendAllHints=function(){var t=this;Array.from(this._trackSidsToRenderHints.keys()).forEach(function(a){var n=t._trackSidsToRenderHints.get(a);n.renderDimensions&&(n.isDimensionDirty=!0),"enabled"in n&&(n.isEnabledDirty=!0)}),this._sendHints()},e.prototype._processHintResults=function(t){var a=this;this._responseTimer.clear(),this._responseTimer.setDelay(mx),t.forEach(function(n){n.result!=="OK"&&a._log.debug("Server error processing hint:",n)}),this._sendHints()},e.prototype._sendHints=function(){var t=this;if(!(!this._transport||this._responseTimer.isSet)){var a=[];if(Array.from(this._trackSidsToRenderHints.keys()).forEach(function(i){var o=t._trackSidsToRenderHints.get(i);if(o.isEnabledDirty||o.isDimensionDirty){var l={track:i};o.isEnabledDirty&&(l.enabled=o.enabled,o.isEnabledDirty=!1),o.isDimensionDirty&&(l.render_dimensions=o.renderDimensions,o.isDimensionDirty=!1),a.push(l)}}),a.length>0){var n={type:"render_hints",subscriber:{id:MQ++,hints:a}};this._log.debug("Outgoing: ",n),this._transport.publish(n),this._responseTimer.start()}}},e.prototype.setTrackHint=function(t,a){var n=this._trackSidsToRenderHints.get(t)||{isEnabledDirty:!1,isDimensionDirty:!1};"enabled"in a&&n.enabled!==a.enabled&&(n.enabled=!!a.enabled,n.isEnabledDirty=!0),a.renderDimensions&&!IQ(a.renderDimensions,n.renderDimensions)&&(n.renderDimensions=a.renderDimensions,n.isDimensionDirty=!0),this._trackSidsToRenderHints.set(t,n),this._sendHints()},e.prototype.clearTrackHint=function(t){this._trackSidsToRenderHints.delete(t)},e}(LQ),DQ=$Q,FQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),BQ=ja,VQ=1,UQ=function(s){FQ(e,s);function e(t,a){var n=s.call(this,t,"publisher_hints",a)||this;return n.on("ready",function(i){n._log.debug("publisher_hints transport ready:",i),i.on("message",function(o){switch(n._log.debug("Incoming: ",o),o.type){case"publisher_hints":o.publisher&&o.publisher.hints&&o.publisher.id&&n._processPublisherHints(o.publisher.hints,o.publisher.id);break;default:n._log.warn("Unknown message type: ",o.type);break}})}),n}return e.prototype.sendTrackReplaced=function(t){var a=t.trackSid;if(this._transport){var n={type:"client_reset",track:a,id:VQ++};this._log.debug("Outgoing: ",n),this._transport.publish(n)}},e.prototype.sendHintResponse=function(t){var a=t.id,n=t.hints;if(this._transport){var i={type:"publisher_hints",id:a,hints:n};this._log.debug("Outgoing: ",i),this._transport.publish(i)}},e.prototype._processPublisherHints=function(t,a){try{this.emit("updated",t,a)}catch(n){this._log.error("error processing hints:",n)}},e}(BQ),WQ=UQ,zQ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),T2=T&&T.__read||function(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var a=t.call(s),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},HQ=GG,qQ=ZG,GQ=WY,YQ=XY,KQ=iK,QQ=_2,ZQ=NQ,JQ=Q1,XQ=CQ,eZ=AQ,tZ=DQ,rZ=WQ,Na=oe,sZ=Na.constants.DEFAULT_SESSION_TIMEOUT_SEC,aZ=Na.createBandwidthProfilePayload,nZ=Na.defer,iZ=Na.difference,Xd=Na.filterObject,Ym=Na.flatMap,px=Na.oncePerTick,Vl=E1,oZ=le.createTwilioError,lZ=1e4,cZ=function(s){zQ(e,s);function e(t,a,n,i,o){var l=this;a.options=Object.assign({session_timeout:sZ},a.options),o=Object.assign({DominantSpeakerSignaling:HQ,TranscriptionSignaling:qQ,NetworkQualityMonitor:GQ,NetworkQualitySignaling:YQ,RecordingSignaling:KQ,RemoteParticipantV2:ZQ,TrackPrioritySignaling:XQ,TrackSwitchOffSignaling:eZ,bandwidthProfile:null,sessionTimeout:a.options.session_timeout*1e3,statsPublishIntervalMs:lZ},o),t.setBandwidthProfile(o.bandwidthProfile);var c=a.options,d=c.signaling_region,u=c.audio_processors,h=u===void 0?[]:u;t.setSignalingRegion(d),h.includes("krisp")&&h.push("rnnoise"),t.setAudioProcessors(h),i.setIceReconnectTimeout(o.sessionTimeout),l=s.call(this,t,a.sid,a.name,o)||this;var p=function(y){return l._getTrackReceiver(y)},f=l._log;return Object.defineProperties(l,{_disconnectedParticipantRevisions:{value:new Map},_NetworkQualityMonitor:{value:o.NetworkQualityMonitor},_lastBandwidthProfileRevision:{value:t.bandwidthProfileRevision,writable:!0},_mediaStatesWarningsRevision:{value:0,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityConfiguration:{value:t.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:o.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_dominantSpeakerSignaling:{value:new o.DominantSpeakerSignaling(p,{log:f})},_transcriptionSignaling:{value:new o.TranscriptionSignaling(p,{log:f})},_networkQualitySignaling:{value:new o.NetworkQualitySignaling(p,t.networkQualityConfiguration,{log:f})},_renderHintsSignaling:{value:new tZ(p,{log:f})},_publisherHintsSignaling:{value:new rZ(p,{log:f})},_trackPrioritySignaling:{value:new o.TrackPrioritySignaling(p,{log:f})},_trackSwitchOffSignaling:{value:new o.TrackSwitchOffSignaling(p,{log:f})},_pendingSwitchOffStates:{value:new Map},_transport:{value:n},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:a.options.media_region||null}}),l._initTrackSwitchOffSignaling(),l._initDominantSpeakerSignaling(),l._initTranscriptionSignaling(),l._initNetworkQualityMonitorSignaling(),l._initPublisherHintSignaling(),dZ(l,t),uZ(l,i),hZ(l,n),mZ(l,n,o.statsPublishIntervalMs),l._update(a),l._peerConnectionManager.setEffectiveAdaptiveSimulcast(l._publisherHintsSignaling.isSetup),l}return Object.defineProperty(e.prototype,"connectionState",{get:function(){return this._peerConnectionManager.connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signalingConnectionState",{get:function(){return this._transport.state==="syncing"?"reconnecting":this._transport.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iceConnectionState",{get:function(){return this._peerConnectionManager.iceConnectionState},enumerable:!1,configurable:!0}),e.prototype._deleteTrackReceiverDeferred=function(t){return this._trackReceiverDeferreds.delete(t)},e.prototype._getOrCreateTrackReceiverDeferred=function(t){var a=this._trackReceiverDeferreds.get(t)||nZ(),n=this._peerConnectionManager.getTrackReceivers(),i=n.find(function(o){return o.id===t&&o.readyState!=="ended"});return i?a.resolve(i):this._trackReceiverDeferreds.set(t,a),a},e.prototype._addTrackReceiver=function(t){var a=this._getOrCreateTrackReceiverDeferred(t.id);return a.resolve(t),this},e.prototype._disconnect=function(t){var a=s.prototype._disconnect.call(this,t);return a&&(this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach(function(n){n.publishFailed(t||new Error("LocalParticipant disconnected"))}),a},e.prototype._getTrackReceiver=function(t){var a=this;return this._getOrCreateTrackReceiverDeferred(t).promise.then(function(n){return a._deleteTrackReceiverDeferred(t),n})},e.prototype._getInitialTrackSwitchOffState=function(t){var a=this._pendingSwitchOffStates.get(t)||!1;return this._pendingSwitchOffStates.delete(t),a&&this._log.warn("["+t+"] was initially switched off! "),a},e.prototype._getTrackSidsToTrackSignalings=function(){var t=Ym(this.participants,function(a){return Array.from(a.tracks)});return new Map(t)},e.prototype._getOrCreateRemoteParticipant=function(t){var a=this,n=this._RemoteParticipantV2,i=this.participants.get(t.sid),o=this;return i||(i=new n(t,function(l){return a._getInitialTrackSwitchOffState(l)},function(l,c){return a._trackPrioritySignaling.sendTrackPriorityUpdate(l,"subscribe",c)},function(l,c){return a._renderHintsSignaling.setTrackHint(l,c)},function(l){return a._renderHintsSignaling.clearTrackHint(l)}),i.on("stateChanged",function l(c){c==="disconnected"&&(i.removeListener("stateChanged",l),o.participants.delete(i.sid),o._disconnectedParticipantRevisions.set(i.sid,i.revision))}),this.connectParticipant(i)),i},e.prototype._getState=function(){return{participant:this.localParticipant.getState()}},e.prototype._maybeAddBandwidthProfile=function(t){var a=this.localParticipant,n=a.bandwidthProfile,i=a.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<i?(this._lastBandwidthProfileRevision=i,Object.assign({bandwidth_profile:aZ(n)},t)):t},e.prototype._publishNewLocalParticipantState=function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))},e.prototype._publishPeerConnectionState=function(t){this._transport.publish(Object.assign({peer_connections:[t]},this._getState()))},e.prototype._update=function(t){var a=this;if(t.subscribed&&t.subscribed.revision>this._subscribedRevision){this._subscribedRevision=t.subscribed.revision,t.subscribed.tracks.forEach(function(o){o.id?(a._subscriptionFailures.delete(o.sid),a._subscribed.set(o.sid,o.id)):o.error&&!a._subscriptionFailures.has(o.sid)&&a._subscriptionFailures.set(o.sid,o.error)});var n=new Set(t.subscribed.tracks.filter(function(o){return!!o.id}).map(function(o){return o.sid}));this._subscribed.forEach(function(o,l){n.has(l)||a._subscribed.delete(l)})}var i=new Set;return(t.participants||[]).forEach(function(o){if(o.sid!==a.localParticipant.sid){var l=a._disconnectedParticipantRevisions.get(o.sid);if(!(l&&o.revision<=l)){l&&a._disconnectedParticipantRevisions.delete(o.sid);var c=a._getOrCreateRemoteParticipant(o);c.update(o),i.add(c)}}}),t.type==="synced"&&this.participants.forEach(function(o){i.has(o)||o.disconnect()}),pZ(this),t.peer_connections&&this._peerConnectionManager.update(t.peer_connections,t.type==="synced"),t.recording&&this.recording.update(t.recording),t.published&&t.published.revision>this._publishedRevision&&(this._publishedRevision=t.published.revision,t.published.tracks.forEach(function(o){o.sid&&a._published.set(o.id,o.sid)}),this.localParticipant.update(t.published)),t.participant&&this.localParticipant.connect(t.participant.sid,t.participant.identity),[this._dominantSpeakerSignaling,this._transcriptionSignaling,this._networkQualitySignaling,this._trackPrioritySignaling,this._trackSwitchOffSignaling,this._renderHintsSignaling,this._publisherHintsSignaling].forEach(function(o){var l=o.channel;!o.isSetup&&t.media_signaling&&t.media_signaling[l]&&t.media_signaling[l].transport&&t.media_signaling[l].transport.type==="data-channel"&&o.setup(t.media_signaling[l].transport.label)}),t.type==="warning"&&t.states&&t.states.revision>this._mediaStatesWarningsRevision&&(this._mediaStatesWarningsRevision=t.states.revision,this.localParticipant.updateMediaStates(t.states)),this},e.prototype._initPublisherHintSignaling=function(){var t=this;this._publisherHintsSignaling.on("updated",function(n,i){Promise.all(n.map(function(o){return t.localParticipant.setPublisherHint(o.track,o.encodings).then(function(l){return{track:o.track,result:l}})})).then(function(o){t._publisherHintsSignaling.sendHintResponse({id:i,hints:o})})});var a=function(n){n.kind==="video"&&n.trackTransceiver.on("replaced",function(){t._publisherHintsSignaling.sendTrackReplaced({trackSid:n.sid})})};Array.from(this.localParticipant.tracks.values()).forEach(function(n){return a(n)}),this.localParticipant.on("trackAdded",function(n){return a(n)})},e.prototype._initTrackSwitchOffSignaling=function(){var t=this;this._trackSwitchOffSignaling.on("updated",function(a,n){try{t._log.debug("received trackSwitch: ",{tracksOn:n,tracksOff:a});var i=new Map;n.forEach(function(o){return i.set(o,!0)}),a.forEach(function(o){i.get(o)&&t._log.warn(o+" is DUPLICATED in both tracksOff and tracksOn list"),i.set(o,!1)}),t.participants.forEach(function(o){o.tracks.forEach(function(l){var c=i.get(l.sid);typeof c<"u"&&(l.setSwitchedOff(!c),i.delete(l.sid))})}),i.forEach(function(o,l){return t._pendingSwitchOffStates.set(l,!o)})}catch(o){t._log.error("error processing track switch off:",o)}})},e.prototype._initDominantSpeakerSignaling=function(){var t=this;this._dominantSpeakerSignaling.on("updated",function(){return t.setDominantSpeaker(t._dominantSpeakerSignaling.loudestParticipantSid)})},e.prototype._initTranscriptionSignaling=function(){var t=this;this._transcriptionSignaling.on("transcription",function(a){t.emit("transcription",a)})},e.prototype._initNetworkQualityMonitorSignaling=function(){var t=this;this._networkQualitySignaling.on("ready",function(){var a=new t._NetworkQualityMonitor(t._peerConnectionManager,t._networkQualitySignaling);t._networkQualityMonitor=a,a.on("updated",function(){t.iceConnectionState!=="failed"&&(t.localParticipant.setNetworkQualityLevel(a.level,a.levels),t.participants.forEach(function(n){var i=a.remoteLevels.get(n.sid);i&&n.setNetworkQualityLevel(i.level,i)}))}),a.start()}),this._networkQualitySignaling.on("teardown",function(){return t._teardownNetworkQualityMonitor()})},e.prototype._teardownNetworkQualityMonitor=function(){this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)},e.prototype.getStats=function(){var t=this;return this._peerConnectionManager.getStats().then(function(a){return new Map(Array.from(a).map(function(n){var i=T2(n,2),o=i[0],l=i[1];return[o,Object.assign({},l,{localAudioTrackStats:fx(t,l.localAudioTrackStats),localVideoTrackStats:fx(t,l.localVideoTrackStats),remoteAudioTrackStats:gx(t,l.remoteAudioTrackStats),remoteVideoTrackStats:gx(t,l.remoteVideoTrackStats)})]}))})},e}(QQ);function P2(s,e){return e.reduce(function(t,a){var n=s.get(a.trackId);return n?[Object.assign({},a,{trackSid:n})].concat(t):t},[])}function fx(s,e){return P2(s._published,e)}function gx(s,e){var t=new Map(Array.from(s._subscribed.entries()).map(function(a){var n=T2(a,2),i=n[0],o=n[1];return[o,i]}));return P2(t,e)}function dZ(s,e){var t=px(function(){s._publishNewLocalParticipantState()}),a=px(function(){var n=Ym(e.tracks,function(i){return i.trackTransceiver});s._peerConnectionManager.setTrackSenders(n)});e.on("trackAdded",a),e.on("trackRemoved",a),e.on("updated",t),s.on("stateChanged",function n(i){i==="disconnected"&&(e.removeListener("trackAdded",a),e.removeListener("trackRemoved",a),e.removeListener("updated",t),s.removeListener("stateChanged",n),e.disconnect())}),s.on("signalingConnectionStateChanged",function(){var n=s.localParticipant,i=s.signalingConnectionState,o=n.identity,l=n.sid;switch(i){case"connected":n.connect(l,o);break;case"reconnecting":n.reconnecting();break}})}function uZ(s,e){e.on("description",function(a){s._publishPeerConnectionState(a)}),e.dequeue("description"),e.on("candidates",function(a){s._publishPeerConnectionState(a)}),e.dequeue("candidates"),e.on("trackAdded",s._addTrackReceiver.bind(s)),e.dequeue("trackAdded"),e.getTrackReceivers().forEach(s._addTrackReceiver,s),e.on("connectionStateChanged",function(){s.emit("connectionStateChanged")}),e.on("iceConnectionStateChanged",function(){s.emit("iceConnectionStateChanged"),s.iceConnectionState==="failed"&&(s.localParticipant.networkQualityLevel!==null&&s.localParticipant.setNetworkQualityLevel(0),s.participants.forEach(function(t){t.networkQualityLevel!==null&&t.setNetworkQualityLevel(0)}))})}function hZ(s,e){e.on("message",s._update.bind(s)),e.on("stateChanged",function t(a,n){a==="disconnected"&&(s.state!=="disconnected"&&s._disconnect(n),e.removeListener("stateChanged",t)),s.emit("signalingConnectionStateChanged")})}function mZ(s,e,t){var a=new Map,n=!1,i=setInterval(function(){s.getStats().then(function(o){n=!n,o.forEach(function(l,c){var d=new JQ(c,l,!0);e.publishEvent("quality","stats-report","info",{audioTrackStats:d.remoteAudioTrackStats.map(function(f,y){return yx(f,l.remoteAudioTrackStats[y],a)}),localAudioTrackStats:d.localAudioTrackStats.map(function(f,y){return xx(f,l.localAudioTrackStats[y],a)}),localVideoTrackStats:d.localVideoTrackStats.map(function(f,y){return xx(f,l.localVideoTrackStats[y],a)}),peerConnectionId:d.peerConnectionId,videoTrackStats:d.remoteVideoTrackStats.map(function(f,y){return yx(f,l.remoteVideoTrackStats[y],a)})});var u=Ym(["localAudioTrackStats","localVideoTrackStats","remoteAudioTrackStats","remoteVideoTrackStats"],function(f){return d[f].map(function(y){var x=y.ssrc,g=y.trackSid;return g+"+"+x})}),h=iZ(Array.from(a.keys()),u);if(h.forEach(function(f){return a.delete(f)}),n){var p=fZ(l.activeIceCandidatePair,d.peerConnectionId);e.publishEvent("quality","active-ice-candidate-pair","info",p)}})},function(){})},t);s.on("stateChanged",function o(l){l==="disconnected"&&(clearInterval(i),s.removeListener("stateChanged",o))})}function pZ(s){var e=s._getTrackSidsToTrackSignalings();s._subscriptionFailures.forEach(function(t,a){var n=e.get(a);n&&(s._subscriptionFailures.delete(a),n.subscribeFailed(oZ(t.code,t.message)))}),e.forEach(function(t){var a=s._subscribed.get(t.sid);(!a||t.isSubscribed&&t.trackTransceiver.id!==a)&&t.setTrackTransceiver(null),a&&s._getTrackReceiver(a).then(function(n){return t.setTrackTransceiver(n)})})}function xx(s,e,t){var a=e.framesEncoded,n=e.packetsSent,i=e.totalEncodeTime,o=e.totalPacketSendDelay,l=Object.assign({},s),c=s.trackSid+"+"+s.ssrc,d=t.get(c)||new Map;if(typeof i=="number"&&typeof a=="number"){var u=d.get("avgEncodeDelay")||new Vl;u.putSample(i*1e3,a),l.avgEncodeDelay=Math.round(u.get()),d.set("avgEncodeDelay",u)}if(typeof o=="number"&&typeof n=="number"){var h=d.get("avgPacketSendDelay")||new Vl;h.putSample(o*1e3,n),l.avgPacketSendDelay=Math.round(h.get()),d.set("avgPacketSendDelay",h)}return t.set(c,d),l}function yx(s,e,t){var a=e.estimatedPlayoutTimestamp,n=e.framesDecoded,i=e.jitterBufferDelay,o=e.jitterBufferEmittedCount,l=e.totalDecodeTime,c=Object.assign({},s),d=s.trackSid+"+"+s.ssrc,u=t.get(d)||new Map;if(typeof a=="number"&&(c.estimatedPlayoutTimestamp=a),typeof n=="number"&&typeof l=="number"){var h=u.get("avgDecodeDelay")||new Vl;h.putSample(l*1e3,n),c.avgDecodeDelay=Math.round(h.get()),u.set("avgDecodeDelay",h)}if(typeof i=="number"&&typeof o=="number"){var p=u.get("avgJitterBufferDelay")||new Vl;p.putSample(i*1e3,o),c.avgJitterBufferDelay=Math.round(p.get()),u.set("avgJitterBufferDelay",p)}return t.set(d,u),c}function fZ(s,e){return s=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:e,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},Xd(s||{},null)),s.localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",url:""},Xd(s.localCandidate||{},null)),s.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},Xd(s.remoteCandidate||{},null)),s}var gZ=cZ,xZ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),yZ=mn,A2=_j,bZ=J1,vZ=qe.reconnectBackoffConfig,wZ=wa,Km=qe,jZ=Km.SDK_NAME,NZ=Km.SDK_VERSION,kZ=Km.SDP_FORMAT,gn=oe,_Z=gn.createBandwidthProfilePayload,SZ=gn.createMediaSignalingPayload,CZ=gn.createMediaWarningsPayload,EZ=gn.createSubscribePayload,TZ=gn.getUserAgent,PZ=gn.isNonArrayObject,Vc=le,AZ=Vc.createTwilioError,eu=Vc.RoomCompletedError,OZ=Vc.SignalingConnectionError,LZ=Vc.SignalingServerBusyError,RZ=1,tu=2,IZ={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},MZ=function(s){xZ(e,s);function e(t,a,n,i,o,l){var c=this;return l=Object.assign({Backoff:bZ,TwilioConnection:A2,iceServers:null,trackPriority:!0,trackSwitchOff:!0,renderHints:!0,userAgent:TZ()},l),c=s.call(this,"connecting",IZ)||this,Object.defineProperties(c,{_accessToken:{value:a},_adaptiveSimulcast:{value:l.adaptiveSimulcast},_automaticSubscription:{value:l.automaticSubscription},_bandwidthProfile:{value:l.bandwidthProfile},_dominantSpeaker:{value:l.dominantSpeaker},_receiveTranscriptions:{value:l.receiveTranscriptions},_eventObserver:{value:l.eventObserver,writable:!1},_renderHints:{value:l.renderHints},_iceServersStatus:{value:Array.isArray(l.iceServers)?"overrode":"acquire"},_localParticipant:{value:n},_name:{value:t},_networkQuality:{value:PZ(l.networkQuality)||l.networkQuality},_notifyWarnings:{value:l.notifyWarnings},_options:{value:l},_peerConnectionManager:{value:i},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:new l.Backoff(vZ)},_session:{value:null,writable:!0},_trackPriority:{value:l.trackPriority},_trackSwitchOff:{value:l.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:l.userAgent},_wsServer:{value:o}}),DZ(c),c}return e.prototype._createConnectOrSyncOrDisconnectMessage=function(){if(this.state==="connected")return null;if(this.state==="disconnected")return{session:this._session,type:"disconnect",version:tu};var t={connecting:"connect",syncing:"sync"}[this.state],a={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:t,version:tu};return a.type==="connect"?(a.ice_servers=this._iceServersStatus,a.publisher={name:jZ,sdk_version:NZ,user_agent:this._userAgent},this._bandwidthProfile&&(a.bandwidth_profile=_Z(this._bandwidthProfile)),this._notifyWarnings&&(a.participant.media_warnings=CZ(this._notifyWarnings)),a.media_signaling=SZ(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff,this._adaptiveSimulcast,this._renderHints,this._receiveTranscriptions),a.subscribe=EZ(this._automaticSubscription),a.format=kZ,a.token=this._accessToken):a.type==="sync"?(a.session=this._session,a.token=this._accessToken):a.type==="update"&&(a.session=this._session),a},e.prototype._createIceMessage=function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:RZ}},e.prototype._sendConnectOrSyncOrDisconnectMessage=function(){var t=this._createConnectOrSyncOrDisconnectMessage();t&&this._twilioConnection.sendMessage(t)},e.prototype.disconnect=function(t){return this.state!=="disconnected"?(this.preempt("disconnected",null,[t]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),!0):!1},e.prototype.publish=function(t){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:tu},t)),!0;case"connecting":case"syncing":return this._updatesToSend.push(t),!0;case"disconnected":default:return!1}},e.prototype.publishEvent=function(t,a,n,i){this._eventObserver.emit("event",{group:t,name:a,level:n,payload:i})},e.prototype.sync=function(){return this.state==="connected"?(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0):!1},e.prototype._setSession=function(t,a){this._session=t,this._sessionTimeoutMS=a*1e3},e.prototype._getReconnectTimer=function(){var t=this;return this._sessionTimeoutMS===0?null:(this._sessionTimer||(this._sessionTimer=new wZ(function(){t._sessionTimer&&(t._sessionTimeoutMS=0)},this._sessionTimeoutMS)),new Promise(function(a){t._reconnectBackoff.backoff(a)}))},e.prototype._clearReconnectTimer=function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)},e}(yZ);function bx(s){return Array.from(s.reduce(function(e,t){var a=e.get(t.id)||t;return(!a.description&&t.description||a.description&&t.description&&t.description.revision>a.description.revision)&&(a.description=t.description),(!a.ice&&t.ice||a.ice&&t.ice&&t.ice.revision>a.ice.revision)&&(a.ice=t.ice),e.set(a.id,a),e},new Map).values())}function $Z(s){return s.reduce(function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=bx(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=bx(e.peer_connections.concat(t.peer_connections))),e},{})}function DZ(s){function e(){if(s.state!=="disconnected"){s._twilioConnection&&s._twilioConnection.removeListener("message",a);var c=s._iceServersStatus,d=s._options,u=s._wsServer,h=s.state,p=d.TwilioConnection,f=new p(u,Object.assign({helloBody:h==="connecting"&&c==="acquire"?s._createIceMessage():s._createConnectOrSyncOrDisconnectMessage()},d));f.once("close",function(y){y===p.CloseReason.LOCAL?t():t(new Error(y))}),f.on("message",a),s._twilioConnection=f}}function t(c){if(s.state!=="disconnected"){if(!c){s.disconnect();return}var d=s._getReconnectTimer();if(!d){var u=c.message===A2.CloseReason.BUSY?new LZ:new OZ;s.disconnect(u);return}s.state==="connected"&&s.preempt("syncing"),d.then(e)}}function a(c){if(s.state!=="disconnected"){if(c.type==="error"){s.disconnect(AZ(c.code,c.message));return}switch(s.state){case"connected":switch(c.type){case"connected":case"synced":case"update":case"warning":s.emit("message",c);return;case"disconnected":s.disconnect(c.status==="completed"?new eu:null);return;default:return}case"connecting":switch(c.type){case"iced":s._options.onIced(c.ice_servers).then(function(){s._sendConnectOrSyncOrDisconnectMessage()});return;case"connected":s._setSession(c.session,c.options.session_timeout),s.emit("connected",c),s.preempt("connected");return;case"synced":case"update":s._updatesReceived.push(c);return;case"disconnected":s.disconnect(c.status==="completed"?new eu:null);return;default:return}case"syncing":switch(c.type){case"connected":case"update":s._updatesReceived.push(c);return;case"synced":s._clearReconnectTimer(),s.emit("message",c),s.preempt("connected");return;case"disconnected":s.disconnect(c.status==="completed"?new eu:null);return;default:return}default:return}}}s.on("stateChanged",function c(d){switch(d){case"connected":{var u=s._updatesToSend.splice(0);u.length&&s.publish($Z(u)),s._updatesReceived.splice(0).forEach(function(h){return s.emit("message",h)});return}case"disconnected":s._twilioConnection.removeListener("message",a),s.removeListener("stateChanged",c);return;case"syncing":return;default:return}});var n=s._options,i=s._iceServersStatus,o=n.iceServers,l=n.onIced;i==="overrode"?l(o).then(e):e()}var FZ=MZ,BZ=Im,VZ=FG,UZ=gZ,WZ=FZ,O2=le,zZ=O2.SignalingConnectionDisconnectedError,HZ=O2.SignalingIncomingMessageInvalidError,L2=oe,qZ=L2.flatMap,GZ=L2.createRoomConnectEventPayload;function YZ(s,e,t,a,n,i){i=Object.assign({PeerConnectionManager:VZ,RoomV2:UZ,Transport:WZ},i);var o=n.video[0]&&n.video[0].adaptiveSimulcast===!0,l=i.PeerConnectionManager,c=i.RoomV2,d=i.Transport,u=i.iceServers,h=i.log,p=new l(a,n,i),f=qZ(t.tracks,function(v){return[v.trackTransceiver]});p.setTrackSenders(f);var y=new Error("Canceled"),x,g=new BZ(function(v,b,k){var w=function(z){return k()?(b(y),Promise.reject(y)):(h.debug("Got ICE servers:",z),i.iceServers=z,p.setConfiguration(i),p.createAndOffer().then(function(){if(k())throw b(y),y;h.debug("createAndOffer() succeeded."),p.dequeue("description")}).catch(function(X){throw h.error("createAndOffer() failed:",X),b(X),X}))},N=i.automaticSubscription,j=i.bandwidthProfile,_=i.dominantSpeaker,S=i.receiveTranscriptions,C=i.environment,I=i.eventObserver,P=i.loggerName,A=i.logLevel,L=i.name,O=i.networkMonitor,M=i.networkQuality,$=i.notifyWarnings,D=i.realm,q=i.sdpSemantics,W=!!j,B=!!j,V=!!j&&(i.clientTrackSwitchOffControl!=="disabled"||i.contentPreferencesMode!=="disabled"),ee=Object.assign({adaptiveSimulcast:o,automaticSubscription:N,dominantSpeaker:_,receiveTranscriptions:S,environment:C,eventObserver:I,loggerName:P,logLevel:A,networkMonitor:O,networkQuality:M,notifyWarnings:$,iceServers:u,onIced:w,realm:D,renderHints:V,sdpSemantics:q,trackPriority:W,trackSwitchOff:B},j?{bandwidthProfile:j}:{});x=new d(L,s,t,p,e,ee);var F=GZ(i);I.emit("event",F),x.once("connected",function(z){if(h.debug("Transport connected:",z),k()){b(y);return}var X=z.participant;if(!X){b(new HZ);return}v(new c(t,z,x,p,i))}),x.once("stateChanged",function(z,X){z==="disconnected"?(x=null,b(X||new zZ)):h.debug("Transport state changed:",z)})},function(){x&&(x.disconnect(),x=null)});return g.catch(function(){x&&(x.disconnect(),x=null),p.close()}),g}var KZ=YZ,QZ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),ZZ=Gm,JZ=function(s){QZ(e,s);function e(){var t=s.call(this)||this;return Object.defineProperties(t,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),t}return e.prototype.addTrack=function(t,a,n,i){i===void 0&&(i=null);var o=this._createLocalTrackPublicationSignaling(t,a,n,i);return this._trackSendersToPublications.set(t,o),this._publicationsToTrackSenders.set(o,t),s.prototype.addTrack.call(this,o),this},e.prototype.getPublication=function(t){return this._trackSendersToPublications.get(t)||null},e.prototype.getSender=function(t){return this._publicationsToTrackSenders.get(t)||null},e.prototype.removeTrack=function(t){var a=this._trackSendersToPublications.get(t);if(!a)return null;this._trackSendersToPublications.delete(t),this._publicationsToTrackSenders.delete(a);var n=s.prototype.removeTrack.call(this,a);return n&&a.stop(),a},e}(ZZ),XZ=JZ,eJ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),tJ=E2,rJ=function(s){eJ(e,s);function e(t,a,n){var i=this,o=t.clone();t.kind!=="data"&&(o.track.enabled=t.track.enabled),t=o;var l=t.kind==="data"?!0:t.track.enabled;return i=s.call(this,a,t.kind,l,n)||this,i.setTrackTransceiver(t),Object.defineProperties(i,{_updatedPriority:{value:n,writable:!0},id:{enumerable:!0,value:t.id}}),i}return Object.defineProperty(e.prototype,"updatedPriority",{get:function(){return this._updatedPriority},enumerable:!1,configurable:!0}),e.prototype.enable=function(t){return t=typeof t=="boolean"?t:!0,this.trackTransceiver.track.enabled=t,s.prototype.enable.call(this,t)},e.prototype.publishFailed=function(t){return sJ(this,t)&&this.emit("updated"),this},e.prototype.setPriority=function(t){return this._updatedPriority!==t&&(this._updatedPriority=t,this.emit("updated")),this},e.prototype.setSid=function(t){return this._error?this:s.prototype.setSid.call(this,t)},e.prototype.stop=function(){this.trackTransceiver.stop()},e}(tJ);function sJ(s,e){return s._sid!==null||s._error?!1:(s._error=e,!0)}var aJ=rJ,nJ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),iJ=aJ,oJ=fw,lJ=le.createTwilioError,cJ=function(s){nJ(e,s);function e(t,a,n,i,o){var l=s.call(this,t,a,n)||this;return Object.defineProperties(l,{_log:{value:o.log.createLog("default",l)},_mediaStates:{value:{recordings:null},writable:!0},_noiseCancellationVendor:{value:i}}),l}return e.prototype.getState=function(){var t={enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority};return this._noiseCancellationVendor&&(t.audio_processor=this._noiseCancellationVendor),t},e.prototype.toString=function(){return"[LocalTrackPublicationV2: "+this.sid+"]"},e.prototype.update=function(t){switch(t.state){case"ready":this.setSid(t.sid);break;case"failed":{var a=t.error;this.publishFailed(lJ(a.code,a.message));break}}return this},e.prototype.updateMediaStates=function(t){if(!t||!t.recordings||this._mediaStates.recordings===t.recordings)return this;switch(this._mediaStates.recordings=t.recordings,this._mediaStates.recordings){case"OK":this._log.info("Warnings have cleared."),this.emit("warningsCleared");break;case"NO_MEDIA":this._log.warn("Recording media lost."),this.emit("warning",oJ.recordingMediaLost);break;default:this._log.warn("Unknown media state detected: "+this._mediaStates.recordings);break}return this},e}(iJ),dJ=cJ,uJ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),hJ=XZ,mJ=dJ,pJ=qe.DEFAULT_LOG_LEVEL,fJ=rs,R2=oe,gJ=R2.buildLogLevels,xJ=R2.isDeepEqual,yJ=function(s){uJ(e,s);function e(t,a,n){var i=this;n=Object.assign({logLevel:pJ,LocalTrackPublicationV2:mJ},n),i=s.call(this)||this;var o=gJ(n.logLevel);return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:t},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:n.LocalTrackPublicationV2},_log:{value:n.log?n.log.createLog("default",i):new fJ("default",i,o,n.loggerName)},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},audioProcessors:{value:[],writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:a},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return e.prototype.toString=function(){return"[LocalParticipantSignaling: "+this.sid+"]"},e.prototype.setSignalingRegion=function(t){this._signalingRegion||(this._signalingRegion=t)},e.prototype.setBandwidthProfile=function(t){xJ(this._bandwidthProfile,t)||(this._bandwidthProfile=JSON.parse(JSON.stringify(t)),this._bandwidthProfileRevision++,this.didUpdate())},e.prototype.setAudioProcessors=function(t){this.audioProcessors=t},e.prototype.getParameters=function(){return this._encodingParameters},e.prototype.setParameters=function(t){return this._encodingParameters.update(t),this},e.prototype.update=function(t){return this._publishedRevision>=t.revision?this:(this._publishedRevision=t.revision,t.tracks.forEach(function(a){var n=this.tracks.get(a.id);n&&n.update(a)},this),this)},e.prototype.updateMediaStates=function(t){return!t||!t.tracks?this:(Array.from(this.tracks.values()).forEach(function(a){var n=t.tracks[a.sid];n&&a.updateMediaStates(n)}),this)},e.prototype._createLocalTrackPublicationSignaling=function(t,a,n,i){return new this._LocalTrackPublicationV2(t,a,n,i,{log:this._log})},e.prototype.addTrack=function(t,a,n,i){var o=this;s.prototype.addTrack.call(this,t,a,n,i);var l=this.getPublication(t),c=l.isEnabled,d=l.updatedPriority,u=function(){(c!==l.isEnabled||d!==l.updatedPriority)&&(o.didUpdate(),c=l.isEnabled,d=l.updatedPriority)};return l.on("updated",u),this._removeListener(l),this._removeListeners.set(l,function(){return l.removeListener("updated",u)}),this.didUpdate(),this},e.prototype._removeListener=function(t){var a=this._removeListeners.get(t);a&&a()},e.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(function(t){return t.getState()})}},e.prototype.didUpdate=function(){this._revision++,this.emit("updated")},e.prototype.removeTrack=function(t){var a=s.prototype.removeTrack.call(this,t);return a&&(t.removeClone(a.trackTransceiver),this._removeListener(a),this.didUpdate()),a},e.prototype.setNetworkQualityConfiguration=function(t){this.networkQualityConfiguration.update(t)},e.prototype.setPublisherHint=function(t,a){var n=Array.from(this.tracks.values()).find(function(i){return i.sid===t});return n?n.trackTransceiver.setPublisherHint(a):(this._log.warn("track:"+t+" not found"),Promise.resolve("UNKNOWN_TRACK"))},e}(hJ),bJ=yJ,vJ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),wJ=Gm,jJ=_2,NJ=mn,kJ={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},_J=function(s){vJ(e,s);function e(){return s.call(this,"closed",kJ)||this}return e.prototype._close=function(t){return this.transition("closing",t),this.transition("closed",t),Promise.resolve(this)},e.prototype._connect=function(t,a,n,i,o){t.connect("PA00000000000000000000000000000000","test");var l="RM00000000000000000000000000000000",c=Promise.resolve(new jJ(t,l,o));return c.cancel=function(){},c},e.prototype._open=function(t){return this.transition("opening",t),this.transition("open",t),Promise.resolve(this)},e.prototype.close=function(){var t=this;return this.bracket("close",function(a){switch(t.state){case"closed":return t;case"open":return t._close(a);default:throw new Error('Unexpected Signaling state "'+t.state+'"')}})},e.prototype.connect=function(t,a,n,i,o){var l=this;return this.bracket("connect",function c(d){switch(l.state){case"closed":return l._open(d).then(c.bind(null,d));case"open":return l.releaseLockCompletely(d),l._connect(t,a,n,i,o);default:throw new Error('Unexpected Signaling state "'+l.state+'"')}})},e.prototype.createLocalParticipantSignaling=function(){return new wJ},e.prototype.open=function(){var t=this;return this.bracket("open",function(a){switch(t.state){case"closed":return t._open(a);case"open":return t;default:throw new Error('Unexpected Signaling state "'+t.state+'"')}})},e}(NJ),SJ=_J,CJ=T&&T.__extends||function(){var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])},s(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),EJ=KZ,TJ=bJ,PJ=SJ,AJ=function(s){CJ(e,s);function e(t,a){var n=this;return a=Object.assign({createCancelableRoomSignalingPromise:EJ},a),n=s.call(this)||this,Object.defineProperties(n,{_createCancelableRoomSignalingPromise:{value:a.createCancelableRoomSignalingPromise},_options:{value:a},_wsServer:{value:t}}),n}return e.prototype._connect=function(t,a,n,i,o){return o=Object.assign({},this._options,o),this._createCancelableRoomSignalingPromise.bind(null,a,this._wsServer,t,n,i,o)},e.prototype.createLocalParticipantSignaling=function(t,a){return new TJ(t,a)},e}(PJ),OJ=AJ,LJ=ba.MediaStreamTrack,Qm=Fe,RJ=Qm.guessBrowser,IJ=Qm.guessBrowserVersion,MJ=Qm.isCodecSupported,$J=gU,DJ=vU,FJ=jz,BJ=A1,VJ=kz,Zm=Ga,UJ=Zm.LocalAudioTrack,WJ=Zm.LocalDataTrack,zJ=Zm.LocalVideoTrack,HJ=Tz,qJ=wH,GJ=OJ,Uc=oe,YJ=Uc.asLocalTrack,KJ=Uc.buildLogLevels,QJ=Uc.filterObject,vx=Uc.isNonArrayObject,ss=qe,ZJ=ss.DEFAULT_ENVIRONMENT,JJ=ss.DEFAULT_LOG_LEVEL,XJ=ss.DEFAULT_LOGGER_NAME,eX=ss.DEFAULT_REALM,tX=ss.DEFAULT_REGION,rX=ss.WS_SERVER,sX=ss.SDK_NAME,aX=ss.SDK_VERSION,Mo=ss.typeErrors,Fs=Im,nX=T1,iX=rs,oX=qi.validateBandwidthProfile,ru=RJ()==="safari"&&IJ(),lX=0,wx=!1,I2=!1;if(ru){var jx=ru.major,cX=ru.minor;I2=jx<12||jx===12&&cX<1}var dX=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]),uX=new Set([{didWarn:!1,shouldDelete:!1,name:"maxTracks",newName:"bandwidthProfile.video.clientTrackSwitchOffControl"},{didWarn:!1,shouldDelete:!1,name:"renderDimensions",newName:"bandwidthProfile.video.contentPreferencesMode"}]);function hX(s,e){if(typeof e>"u"&&(e={}),!vx(e))return Fs.reject(Mo.INVALID_TYPE("options","object"));var t=e.Log||iX,a=e.loggerName||XJ,n=e.logLevel||JJ,i=KJ(n),o="[connect #"+ ++lX+"]",l;try{l=new t("default",o,i,a)}catch(j){return Fs.reject(j)}Nx(e,l,dX);var c=e.preferredVideoCodecs==="auto";if(c&&(e.preferredVideoCodecs=[{codec:"VP8",simulcast:!0,adaptiveSimulcast:!0}]),e.maxVideoBitrate&&c)return l.error('ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'),Fs.reject(Mo.ILLEGAL_INVOKE("connect",'ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'));e=Object.assign({automaticSubscription:!0,dominantSpeaker:!1,enableDscp:!1,receiveTranscriptions:!1,environment:ZJ,eventListener:null,insights:!0,LocalAudioTrack:UJ,LocalDataTrack:WJ,LocalParticipant:FJ,LocalVideoTrack:zJ,Log:t,MediaStreamTrack:LJ,loggerName:a,logLevel:n,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:eX,region:tX,signaling:GJ},QJ(e));var d={};typeof e.wsServerInsights=="string"&&(d.gateway=e.wsServerInsights);var u=e.insights?BJ:VJ,h=new u(s,sX,aX,e.environment,e.realm,d),p=rX(e.environment,e.region),f=new nX(h,Date.now(),l,e.eventListener);if(e=Object.assign({eventObserver:f,wsServer:p},e),e.log=l,I2&&!wx&&l.logLevel!=="error"&&l.logLevel!=="off"&&(wx=!0,l.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),typeof s!="string")return Fs.reject(Mo.INVALID_TYPE("token","string"));var y=Object.assign({},e);if(delete y.name,"tracks"in e){if(!Array.isArray(e.tracks))return Fs.reject(Mo.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{e.tracks=e.tracks.map(function(j){return YJ(j,y)})}catch(j){return Fs.reject(j)}}var x=oX(e.bandwidthProfile);if(x)return Fs.reject(x);e.clientTrackSwitchOffControl="disabled",e.contentPreferencesMode="disabled",e.bandwidthProfile&&(e.clientTrackSwitchOffControl="auto",e.contentPreferencesMode="auto",e.bandwidthProfile.video&&(Nx(e.bandwidthProfile.video,l,uX),"maxTracks"in e.bandwidthProfile.video?e.clientTrackSwitchOffControl="disabled":e.bandwidthProfile.video.clientTrackSwitchOffControl==="manual"?e.clientTrackSwitchOffControl="manual":e.clientTrackSwitchOffControl="auto","renderDimensions"in e.bandwidthProfile.video?e.contentPreferencesMode="disabled":e.bandwidthProfile.video.contentPreferencesMode==="manual"?e.contentPreferencesMode="manual":e.contentPreferencesMode="auto"));var g=e.signaling,v=new g(e.wsServer,e);l.info("Connecting to a Room"),l.debug("Options:",e);var b=new DJ({maxAudioBitrate:e.maxAudioBitrate,maxVideoBitrate:e.maxVideoBitrate},c),k={audio:e.preferredAudioCodecs.map(kx),video:e.preferredVideoCodecs.map(kx)},w=new HJ(vx(e.networkQuality)?e.networkQuality:{});["audio","video"].forEach(function(j){return k[j].forEach(function(_){var S=_.codec;return MJ(S,j).then(function(C){return!C&&l.warn("The preferred "+j+' codec "'+S+'" will be ignored as it is not supported by the browser.')})})});var N=$J(gX.bind(null,e),mX.bind(null,v,l,b,w,e),fX.bind(null,s,e,v,b,k),pX.bind(null,e));return N.then(function(j){return h.connect(j.sid,j.localParticipant.sid),l.info("Connected to Room:",j.toString()),l.info("Room name:",j.name),l.debug("Room:",j),j.once("disconnected",function(){return h.disconnect()}),j},function(j){h.disconnect(),N._isCanceled?l.info("Attempt to connect to a Room was canceled"):l.info("Error while connecting to a Room:",j)}),N}function Nx(s,e,t){t.forEach(function(a){var n=a.didWarn,i=a.name,o=a.newName,l=a.shouldDelete;i in s&&typeof s[i]<"u"&&(o&&l&&(s[o]=s[i]),l&&delete s[i],!n&&!["error","off"].includes(e.level)&&(e.warn('The ConnectOptions "'+i+'" is '+(o?'deprecated and scheduled for removal. Please use "'+o+'" instead.':"no longer applicable and will be ignored.")),a.didWarn=!0))})}function mX(s,e,t,a,n,i){var o=s.createLocalParticipantSignaling(t,a);return e.debug("Creating a new LocalParticipant:",o),new n.LocalParticipant(o,i,n)}function pX(s,e,t){var a=new qJ(e,t,s),n=s.log;return n.debug("Creating a new Room:",a),t.on("stateChanged",function i(o){o==="disconnected"&&(n.info("Disconnected from Room:",a.toString()),t.removeListener("stateChanged",i))}),a}function fX(s,e,t,a,n,i){return e.log.debug("Creating a new RoomSignaling"),t.connect(i._signaling,s,a,n,e)}function gX(s,e){var t=s.log;return s.shouldStopLocalTracks=!s.tracks,s.shouldStopLocalTracks?t.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(t.info("Getting LocalTracks"),t.debug("Options:",s)),s.createLocalTracks(s).then(function(n){var i=e(n);return i.catch(function(){s.shouldStopLocalTracks&&(t.info("The automatically acquired LocalTracks will now be stopped"),n.forEach(function(l){l.stop()}))}),i})}function kx(s){var e=typeof s=="string"?{codec:s}:s;switch(e.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},e);case"vp8":return Object.assign({simulcast:!1},e);default:return e}}var xX=hX,M2=qe,yX=M2.DEFAULT_LOG_LEVEL,bX=M2.DEFAULT_LOGGER_NAME;function $2(s,e){e=Object.assign({loggerName:bX,logLevel:yX},e);var t={};t.loggerName=e.loggerName,t.logLevel=e.logLevel,delete e.loggerName,delete e.logLevel;var a=["getUserMedia","enumerateDevices","MediaStream","mapMediaElement","disposeMediaElement"];a.forEach(function(i){i in e&&(t[i]=e[i],delete e[i])});var n=e.createLocalTracks;return delete e.createLocalTracks,t[s]=Object.keys(e).length>0?e:!0,n(t).then(function(i){return i[0]})}function vX(s){return $2("audio",s)}function wX(s){return $2("video",s)}var _x={audio:vX,video:wX},D2=Fe,jX=D2.guessBrowser,NX=D2.support,kX=Gt.getSdpFormat,Ki=va,_X=Ki.isAndroid,SX=Ki.isMobile,CX=Ki.isNonChromiumEdge,EX=Ki.rebrandedChromeBrowser,TX=Ki.mobileWebKitBrowser,PX=["crios","edg","edge","electron","headlesschrome"],AX=["chrome","firefox"],OX=["chrome","safari"],LX=[];function RX(){var s=jX();if(!s)return!1;var e=EX(s),t=TX(s),a=_X()?AX:OX;return!!s&&NX()&&kX()==="unified"&&(!e||PX.includes(e))&&!CX(s)&&(!t||LX.includes(t))&&(!SX()||a.includes(s))}var IX=RX,MX=pm.exports,Ai=T&&T.__assign||function(){return Ai=Object.assign||function(s){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Ai.apply(this,arguments)};Object.defineProperty(MX,"__esModule",{value:!0});var Wc=kc,$X=sn,as={connect:xX,createLocalAudioTrack:_x.audio,createLocalVideoTrack:_x.video,isSupported:IX(),version:nw.version,Logger:aw,LocalAudioTrack:Ga.LocalAudioTrack,LocalDataTrack:Ga.LocalDataTrack,LocalVideoTrack:Ga.LocalVideoTrack};function DX(s,e){var t=Ai({createLocalTracks:Wc.createLocalTracks},e);return as.connect(s,t)}function FX(s){var e=Ai({createLocalTracks:Wc.createLocalTracks},s);return as.createLocalAudioTrack(e)}function BX(s){var e=Ai({createLocalTracks:Wc.createLocalTracks},s);return as.createLocalVideoTrack(e)}var VX=as.isSupported,UX=as.version,WX=as.Logger,zX=as.LocalAudioTrack,HX=as.LocalVideoTrack,qX=as.LocalDataTrack;pm.exports={connect:DX,createLocalAudioTrack:FX,createLocalVideoTrack:BX,createLocalTracks:Wc.createLocalTracks,runPreflight:$X.runPreflight,isSupported:VX,version:UX,Logger:WX,LocalAudioTrack:zX,LocalVideoTrack:HX,LocalDataTrack:qX};var GX=pm.exports;const YX=ua(GX),su="https://beautycita.com";function KX(){const{id:s}=ln(),e=wt(),[t,a]=m.useState(null),[n,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(!0),[p,f]=m.useState(!0),y=m.useRef(null),x=m.useRef(null),g=m.useRef(null),v=m.useRef(null);m.useEffect(()=>{s&&b()},[s]);const b=async()=>{try{const P=localStorage.getItem("authToken"),A=await G.get(`${su}/video/consultations/${s}`,{headers:{Authorization:`Bearer ${P}`}});a(A.data.consultation)}catch(P){console.error("Fetch consultation error:",P),R.error("Failed to load consultation details")}finally{i(!1)}},k=async()=>{l(!0);try{const P=localStorage.getItem("authToken"),A=await G.post(`${su}/video/consultations/${s}/token`,{},{headers:{Authorization:`Bearer ${P}`}}),{token:L,roomName:O}=A.data,M=await YX.connect(L,{name:O,audio:u,video:p});g.current=M,d(!0);const $=M.localParticipant;v.current=$,$.tracks.forEach(D=>{D.track&&y.current&&y.current.appendChild(D.track.attach())}),M.participants.forEach(D=>{w(D)}),M.on("participantConnected",D=>{console.log("Participant connected:",D.identity),w(D)}),M.on("participantDisconnected",D=>{console.log("Participant disconnected:",D.identity),j(D)}),M.on("disconnected",()=>{console.log("Disconnected from room"),d(!1),_()}),R.success("Connected to video consultation")}catch(P){console.error("Join video call error:",P),R.error("Failed to join video call"),l(!1)}finally{l(!1)}},w=P=>{P.tracks.forEach(A=>{A.isSubscribed&&N(A.track)}),P.on("trackSubscribed",A=>{N(A)})},N=P=>{if(P&&x.current){const A=P.attach();x.current.appendChild(A)}},j=P=>{P.tracks.forEach(A=>{A.track&&x.current&&A.track.detach().forEach(L=>{L.remove()})})},_=()=>{y.current&&(y.current.innerHTML=""),x.current&&(x.current.innerHTML="")},S=()=>{v.current&&(v.current.audioTracks.forEach(P=>{u?P.track.disable():P.track.enable()}),h(!u))},C=()=>{v.current&&(v.current.videoTracks.forEach(P=>{p?P.track.disable():P.track.enable()}),f(!p))},I=async()=>{g.current&&g.current.disconnect();try{const P=localStorage.getItem("authToken");await G.post(`${su}/video/consultations/${s}/end`,{},{headers:{Authorization:`Bearer ${P}`}}),R.success("Call ended"),e("/consultations")}catch(P){console.error("End call error:",P),R.error("Failed to end call")}};return m.useEffect(()=>()=>{g.current&&g.current.disconnect(),_()},[]),n?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):t?r.jsx("div",{className:"min-h-screen bg-gray-900",children:r.jsxs("div",{className:"relative h-screen",children:[r.jsx("div",{ref:x,className:"absolute inset-0 bg-gray-800 flex items-center justify-center",children:!c&&r.jsxs("div",{className:"text-center text-white",children:[r.jsx(Zi,{className:"h-24 w-24 mx-auto mb-4 text-gray-600"}),r.jsx("p",{className:"text-xl",children:"Waiting for other participant..."})]})}),r.jsx("div",{className:"absolute top-4 right-4 w-64 h-48 bg-gray-800 rounded-3xl overflow-hidden shadow-2xl",children:r.jsx("div",{ref:y,className:"w-full h-full",children:!c&&r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Zi,{className:"h-12 w-12 text-gray-600"})})})}),r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:r.jsx("div",{className:"bg-gray-800 bg-opacity-90 backdrop-blur-sm rounded-3xl px-6 py-4 flex items-center gap-4",children:c?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:S,className:`p-4 rounded-full ${u?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"} text-white transition-colors`,title:u?"Mute":"Unmute",children:u?r.jsx(qS,{className:"h-6 w-6"}):r.jsx(ZS,{className:"h-6 w-6"})}),r.jsx("button",{onClick:C,className:`p-4 rounded-full ${p?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"} text-white transition-colors`,title:p?"Stop Video":"Start Video",children:p?r.jsx(Zi,{className:"h-6 w-6"}):r.jsx(e3,{className:"h-6 w-6"})}),r.jsx("button",{onClick:I,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 text-white transition-colors",title:"End Call",children:r.jsx(YS,{className:"h-6 w-6"})})]}):r.jsx("button",{onClick:k,disabled:o,className:"px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-3xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Connecting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zi,{className:"h-6 w-6"}),"Join Call"]})})})}),r.jsxs("div",{className:"absolute top-4 left-4 bg-gray-800 bg-opacity-90 backdrop-blur-sm rounded-3xl px-4 py-3 text-white",children:[r.jsxs("p",{className:"font-semibold",children:[t.host_name," & ",t.client_name]}),r.jsx("p",{className:"text-sm text-gray-300",children:new Date(t.scheduled_at).toLocaleString()})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Consultation not found"}),r.jsx("button",{onClick:()=>e("/consultations"),className:"text-purple-400 hover:text-purple-300",children:"Back to consultations"})]})})}function QX(){const{t:s}=je(),[e,t]=m.useState(!1),[a,n]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(!1),[d,u]=m.useState(null);m.useEffect(()=>{const g=localStorage.getItem("darkMode")==="true";t(g),h()},[]);const h=async()=>{o(!0);try{const g=localStorage.getItem("token"),v=await G.get("/api/payment-methods",{headers:{Authorization:`Bearer ${g}`}});n(v.data)}catch(g){console.error("Error fetching payment methods:",g),R.error(s("pages.paymentMethods.errorLoading"))}finally{o(!1)}},p=async g=>{if(confirm(s("pages.paymentMethods.confirmDelete")))try{const v=localStorage.getItem("token");await G.delete(`/api/payment-methods/${g}`,{headers:{Authorization:`Bearer ${v}`}}),R.success(s("pages.paymentMethods.deleteSuccess")),h()}catch(v){console.error("Error deleting payment method:",v),R.error(s("pages.paymentMethods.deleteError"))}},f=async g=>{try{const v=localStorage.getItem("token");await G.patch(`/api/payment-methods/${g}/default`,{},{headers:{Authorization:`Bearer ${v}`}}),R.success(s("pages.paymentMethods.defaultSuccess")),h()}catch(v){console.error("Error setting default:",v),R.error(s("pages.paymentMethods.defaultError"))}},y=g=>{switch(g){case"credit_card":case"debit_card":return r.jsx(Ge,{className:"h-6 w-6"});case"mercadopago":return r.jsx(Le,{className:"h-6 w-6"});case"oxxo":return r.jsx(ml,{className:"h-6 w-6"});case"bitcoin":return r.jsx("span",{className:"text-2xl",children:"₿"});default:return r.jsx(ui,{className:"h-6 w-6"})}},x=[{type:"credit_card",name:s("pages.paymentMethods.types.creditCard"),icon:r.jsx(Ge,{className:"h-8 w-8"}),gradient:"from-blue-500 to-purple-600",description:s("pages.paymentMethods.descriptions.creditCard")},{type:"debit_card",name:s("pages.paymentMethods.types.debitCard"),icon:r.jsx(Ge,{className:"h-8 w-8"}),gradient:"from-green-500 to-teal-600",description:s("pages.paymentMethods.descriptions.debitCard")},{type:"mercadopago",name:s("pages.paymentMethods.types.mercadopago"),icon:r.jsx(Le,{className:"h-8 w-8"}),gradient:"from-sky-500 to-blue-600",description:s("pages.paymentMethods.descriptions.mercadopago")},{type:"oxxo",name:s("pages.paymentMethods.types.oxxo"),icon:r.jsx(ml,{className:"h-8 w-8"}),gradient:"from-red-500 to-orange-600",description:s("pages.paymentMethods.descriptions.oxxo")},{type:"bitcoin",name:s("pages.paymentMethods.types.bitcoin"),icon:r.jsx("span",{className:"text-4xl",children:"₿"}),gradient:"from-orange-500 to-amber-600",description:s("pages.paymentMethods.descriptions.bitcoin")}];return r.jsx("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"} py-8`,children:r.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsx("h1",{className:`text-4xl font-serif font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:s("pages.paymentMethods.title")}),r.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.paymentMethods.subtitle")})]}),r.jsxs(E.button,{onClick:()=>c(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"mb-8 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-semibold flex items-center gap-2 shadow-lg hover:shadow-xl transition-shadow",children:[r.jsx(or,{className:"h-5 w-5"}),s("pages.paymentMethods.addMethod")]}),i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),r.jsx("p",{className:`mt-4 ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.paymentMethods.loading")})]}):a.length===0?r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`text-center py-12 rounded-3xl ${e?"bg-gray-800":"bg-white"} shadow-lg`,children:[r.jsx(Ge,{className:`h-16 w-16 mx-auto mb-4 ${e?"text-gray-600":"text-gray-400"}`}),r.jsx("h3",{className:`text-xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:s("pages.paymentMethods.noMethods")}),r.jsx("p",{className:`${e?"text-gray-400":"text-gray-600"}`,children:s("pages.paymentMethods.addFirst")})]}):r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map((g,v)=>{var b;return r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:`p-6 rounded-3xl ${e?"bg-gray-800":"bg-white"} shadow-lg hover:shadow-xl transition-shadow relative overflow-hidden group`,children:[g.isDefault&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-green-500 to-teal-600 text-white text-xs font-bold rounded-3xl flex items-center gap-1",children:[r.jsx($S,{className:"h-4 w-4"}),s("pages.paymentMethods.default")]})}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-purple-600 rounded-3xl text-white",children:y(g.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-bold mb-1 ${e?"text-white":"text-gray-900"}`,children:s(`pages.paymentMethods.types.${g.type}`)}),(g.type==="credit_card"||g.type==="debit_card")&&r.jsxs("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:[r.jsxs("p",{className:"font-mono",children:["•••• •••• •••• ",g.lastFour]}),r.jsxs("p",{className:"capitalize",children:[g.brand," • ",g.expiryMonth,"/",g.expiryYear]})]}),g.type==="mercadopago"&&r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:g.mercadopagoEmail}),g.type==="bitcoin"&&r.jsxs("p",{className:`text-sm font-mono ${e?"text-gray-400":"text-gray-600"}`,children:[(b=g.bitcoinAddress)==null?void 0:b.substring(0,20),"..."]}),g.type==="oxxo"&&r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.paymentMethods.oxxoCash")})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[!g.isDefault&&r.jsxs("button",{onClick:()=>f(g.id),className:`flex-1 px-4 py-2 rounded-full font-medium transition-colors ${e?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[r.jsx(ie,{className:"h-4 w-4 inline mr-2"}),s("pages.paymentMethods.setDefault")]}),r.jsxs("button",{onClick:()=>p(g.id),className:"px-4 py-2 bg-red-500 text-white rounded-3xl hover:bg-red-600 transition-colors font-medium",children:[r.jsx(Ts,{className:"h-4 w-4 inline mr-2"}),s("pages.paymentMethods.delete")]})]})]},g.id)})}),r.jsx(_e,{children:l&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>c(!1),children:r.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:g=>g.stopPropagation(),className:`max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-3xl ${e?"bg-gray-800":"bg-white"} p-8 shadow-2xl`,children:[r.jsx("h2",{className:`text-3xl font-serif font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:s("pages.paymentMethods.selectType")}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:x.map(g=>r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{u(g.type),R.success(`${s("pages.paymentMethods.selected")} ${g.name}`),c(!1)},className:`p-6 rounded-3xl border-2 ${e?"border-gray-700 hover:border-pink-500 bg-gray-900":"border-gray-200 hover:border-pink-500 bg-white"} transition-all text-left group`,children:[r.jsx("div",{className:`inline-flex p-3 rounded-3xl bg-gradient-to-br ${g.gradient} text-white mb-4`,children:g.icon}),r.jsx("h3",{className:`text-lg font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:g.name}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:g.description})]},g.type))}),r.jsx("button",{onClick:()=>c(!1),className:`mt-6 w-full px-6 py-3 rounded-3xl font-semibold ${e?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-900 hover:bg-gray-200"} transition-colors`,children:s("pages.paymentMethods.cancel")})]})})})]})})}function ZX(){return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center px-4",children:r.jsx("div",{className:"max-w-lg w-full text-center",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[r.jsxs("div",{className:"relative",children:[r.jsx("h1",{className:"text-8xl md:text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-secondary-600",children:"404"}),r.jsx("div",{className:"absolute inset-0 text-8xl md:text-9xl font-bold text-primary-100 opacity-50 blur-sm",children:"404"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-gray-900",children:"Página no encontrada"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-md mx-auto",children:"Lo sentimos, la página que buscas no existe o ha sido movida a otra ubicación."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsxs(Z,{to:"/",className:"btn btn-primary btn-lg flex items-center space-x-2 rounded-full",children:[r.jsx(Mi,{className:"h-5 w-5"}),r.jsx("span",{children:"Ir al Inicio"})]}),r.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline btn-lg flex items-center space-x-2 rounded-full",children:[r.jsx(st,{className:"h-5 w-5"}),r.jsx("span",{children:"Volver Atrás"})]})]}),r.jsxs("div",{className:"pt-8 border-t border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"¿Qué te gustaría hacer?"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[r.jsx(Z,{to:"/services",className:"text-primary-600 hover:text-primary-700 text-sm underline",children:"Ver Servicios"}),r.jsx("span",{className:"text-gray-300",children:"•"}),r.jsx(Z,{to:"/stylists",className:"text-primary-600 hover:text-primary-700 text-sm underline",children:"Buscar Estilistas"}),r.jsx("span",{className:"text-gray-300",children:"•"}),r.jsx(Z,{to:"/contact",className:"text-primary-600 hover:text-primary-700 text-sm underline",children:"Contacto"})]})]})]})})})}const JX=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center px-4",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full text-center",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},className:"mx-auto w-24 h-24 bg-red-100 rounded-3xl flex items-center justify-center mb-8",children:r.jsx(W_,{className:"w-12 h-12 text-red-600"})}),r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-4",children:[r.jsx("h1",{className:"text-6xl font-bold text-red-600 mb-2",children:"403"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"})]}),r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[r.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"You don't have permission to access this area."}),r.jsx("p",{className:"text-gray-500 text-sm",children:"This section is restricted to authorized administrators only. If you believe this is an error, please contact support."})]}),r.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-yellow-50 border border-yellow-200 rounded-3xl p-4 mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(dt,{className:"h-5 w-5 text-yellow-600 mr-2 flex-shrink-0"}),r.jsxs("p",{className:"text-yellow-800 text-sm",children:[r.jsx("strong",{children:"Admin Access Required:"})," You need administrator privileges to view this content."]})]})}),r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Z,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 text-white rounded-3xl hover:bg-primary-700 transition-colors font-medium",children:[r.jsx(Mi,{className:"w-5 h-5 mr-2"}),"Go Home"]}),r.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-3xl hover:bg-gray-200 transition-colors font-medium",children:[r.jsx(st,{className:"w-5 h-5 mr-2"}),"Go Back"]})]}),r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Need help?"}),r.jsx(Z,{to:"/contact",className:"text-primary-600 hover:text-primary-700 text-sm font-medium underline",children:"Contact Support"})]})]})});function cs({className:s="h-6 w-6",variant:e="lotus",showAllVariants:t=!1}){const a=()=>r.jsx("svg",{viewBox:"0 0 100 100",fill:"currentColor",className:s,children:r.jsx("path",{d:"M50 20 C35 20, 25 35, 25 50 C25 65, 35 80, 50 80 C65 80, 75 65, 75 50 C75 35, 65 20, 50 20 Z M50 20 C45 10, 35 5, 25 10 C20 15, 20 25, 25 35 M50 20 C55 10, 65 5, 75 10 C80 15, 80 25, 75 35 M50 80 C45 90, 35 95, 25 90 C20 85, 20 75, 25 65 M50 80 C55 90, 65 95, 75 90 C80 85, 80 75, 75 65",strokeWidth:"0",fillRule:"evenodd",opacity:"1"})}),n=()=>r.jsx("svg",{viewBox:"0 0 100 100",fill:"currentColor",className:s,children:r.jsx("path",{d:"M25 50 C25 35, 35 25, 45 35 L50 40 L55 35 C65 25, 75 35, 75 50 C75 65, 65 75, 55 65 L50 60 L45 65 C35 75, 25 65, 25 50 Z M35 50 C35 55, 40 60, 45 55 L50 50 L55 55 C60 60, 65 55, 65 50 C65 45, 60 40, 55 45 L50 50 L45 45 C40 40, 35 45, 35 50 Z",strokeWidth:"0",fillRule:"evenodd"})}),i=()=>r.jsx("svg",{viewBox:"0 0 100 100",fill:"currentColor",className:s,children:r.jsx("path",{d:`M50 10
           C68.225 10 83 24.775 83 43
           L83 65
           C83 78.255 72.255 89 59 89
           L41 89
           C27.745 89 17 78.255 17 65
           L17 43
           C17 24.775 31.775 10 50 10
           Z

           M50 22
           C38.402 22 29 31.402 29 43
           L29 62
           C29 68.627 34.373 74 41 74
           L59 74
           C65.627 74 71 68.627 71 62
           L71 43
           C71 31.402 61.598 22 50 22
           Z

           M44 38
           L56 38
           C58.209 38 60 39.791 60 42
           L60 42
           C60 44.209 58.209 46 56 46
           L44 46
           C41.791 46 40 44.209 40 42
           L40 42
           C40 39.791 41.791 38 44 38
           Z`,fillRule:"evenodd"})}),o=()=>r.jsx("svg",{viewBox:"0 0 100 100",fill:"currentColor",className:s,children:r.jsx("path",{d:"M50 30 L50 70 M35 35 C25 25, 15 30, 15 40 C15 50, 25 55, 35 50 L50 40 L65 50 C75 55, 85 50, 85 40 C85 30, 75 25, 65 35 L50 45 L35 35 Z M35 65 C30 70, 25 75, 30 80 C35 85, 40 80, 45 70 L50 60 L55 70 C60 80, 65 85, 70 80 C75 75, 70 70, 65 65 L50 55 L35 65 Z",strokeWidth:"0",fillRule:"evenodd"})}),l=()=>r.jsx("svg",{viewBox:"0 0 100 100",fill:"currentColor",className:s,children:r.jsx("path",{d:"M20 60 L25 35 L35 50 L50 25 L65 50 L75 35 L80 60 L80 75 C80 80, 75 85, 70 85 L30 85 C25 85, 20 80, 20 75 L20 60 Z M30 65 L30 70 C30 72, 32 75, 35 75 L65 75 C68 75, 70 72, 70 70 L70 65 L65 45 L50 35 L35 45 L30 65 Z",strokeWidth:"0",fillRule:"evenodd"})});if(t)return r.jsxs("div",{className:"grid grid-cols-3 gap-8 p-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 flex justify-center",children:r.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-100 to-purple-100 rounded-3xl",children:r.jsx(a,{})})}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Lotus Bloom"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Beauty flourishing through AI"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 flex justify-center",children:r.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-100 to-purple-100 rounded-3xl",children:r.jsx(n,{})})}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Infinity Beauty"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Continuous beauty journey"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 flex justify-center",children:r.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-100 to-purple-100 rounded-3xl",children:r.jsx(i,{})})}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Smart Mirror ⭐"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Reflection meets technology"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 flex justify-center",children:r.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-100 to-purple-100 rounded-3xl",children:r.jsx(o,{})})}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Butterfly Transform"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Beauty transformation"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 flex justify-center",children:r.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-100 to-purple-100 rounded-3xl",children:r.jsx(l,{})})}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Beauty Crown"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Elegance & empowerment"})]})]});switch(e){case"lotus":return r.jsx(a,{});case"infinity":return r.jsx(n,{});case"mirror":return r.jsx(i,{});case"butterfly":return r.jsx(o,{});case"crown":return r.jsx(l,{});default:return r.jsx(i,{})}}function XX(){var i;const[s,e]=m.useState("mirror"),t=[{id:"mirror",name:"Smart Mirror",description:"Clean, modern, tech-forward. Combines a beauty mirror with subtle tech elements.",rationale:"Best represents the fusion of beauty and AI technology. Simple enough to be iconic.",recommended:!0},{id:"lotus",name:"Lotus Bloom",description:"Organic beauty meets geometric precision. Represents growth and transformation.",rationale:"Appeals to wellness-minded users but may be too organic for tech positioning."},{id:"infinity",name:"Infinity Beauty",description:"Continuous beauty journey. Inspired by Meta and Airbnb logos.",rationale:"Strong tech association but infinity symbol is overused in beauty industry."},{id:"butterfly",name:"Butterfly Transform",description:"Transformation and metamorphosis. Abstract geometric interpretation.",rationale:"Strong beauty symbolism but may feel less tech-focused."},{id:"crown",name:"Beauty Crown",description:"Empowerment and elegance. Bold geometric crown shape.",rationale:"Empowering but may feel too traditional for AI-powered platform."}],a=[{size:"h-4 w-4",label:"16px"},{size:"h-6 w-6",label:"24px"},{size:"h-8 w-8",label:"32px"},{size:"h-12 w-12",label:"48px"},{size:"h-16 w-16",label:"64px"},{size:"h-24 w-24",label:"96px"},{size:"h-32 w-32",label:"128px"}],n=[{bg:"bg-white",text:"text-black",label:"Black on White"},{bg:"bg-gray-900",text:"text-white",label:"White on Dark"},{bg:"bg-gradient-to-br from-pink-50 to-purple-50",text:"text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text",label:"Gradient"},{bg:"bg-gradient-to-br from-pink-500 to-purple-600",text:"text-white",label:"On Gradient BG"},{bg:"bg-black",text:"text-transparent bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text",label:"Holographic"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 px-8 py-6",children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"BeautyCita Logo Design System"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Exploring logo concepts that blend beauty and AI technology"})]}),r.jsxs("div",{className:"px-8 py-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Logo Concepts"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:t.map(o=>r.jsxs("div",{onClick:()=>e(o.id),className:`relative bg-white rounded-3xl p-6 cursor-pointer transition-all ${s===o.id?"ring-2 ring-purple-500 shadow-lg scale-105":"hover:shadow-md"}`,children:[o.recommended&&r.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-xs px-2 py-1 rounded-3xl",children:"Recommended"}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-50 to-purple-50 rounded-3xl",children:r.jsx(cs,{variant:o.id,className:"h-12 w-12 text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text"})})}),r.jsx("h3",{className:"font-semibold text-gray-900 text-center mb-2",children:o.name}),r.jsx("p",{className:"text-xs text-gray-600 text-center mb-2",children:o.description}),r.jsx("p",{className:"text-xs text-gray-500 text-center italic",children:o.rationale})]},o.id))})]}),r.jsxs("div",{className:"px-8 py-12 bg-white",children:[r.jsxs("h2",{className:"text-2xl font-semibold mb-8",children:["Selected: ",(i=t.find(o=>o.id===s))==null?void 0:i.name]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Size Variations"}),r.jsx("div",{className:"flex items-end space-x-8 p-8 bg-gray-50 rounded-3xl",children:a.map(o=>r.jsxs("div",{className:"text-center",children:[r.jsx(cs,{variant:s,className:`${o.size} text-gray-900 mb-2`}),r.jsx("span",{className:"text-xs text-gray-500",children:o.label})]},o.label))})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Color Variations"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:n.map(o=>r.jsxs("div",{className:`p-8 rounded-3xl ${o.bg}`,children:[r.jsx(cs,{variant:s,className:`h-16 w-16 ${o.text} mx-auto mb-3`}),r.jsx("p",{className:"text-xs text-center opacity-75",children:o.label})]},o.label))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Usage Examples"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-6 bg-gradient-to-r from-pink-500 to-purple-600 rounded-3xl",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(cs,{variant:s,className:"h-8 w-8 text-white"}),r.jsx("span",{className:"text-2xl font-serif font-bold text-white",children:"BeautyCita"})]})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-500 to-purple-600 rounded-3xl shadow-xl",children:r.jsx(cs,{variant:s,className:"h-16 w-16 text-white"})}),r.jsx("div",{className:"p-4 bg-white rounded-3xl shadow-xl border border-gray-200",children:r.jsx(cs,{variant:s,className:"h-16 w-16 text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text"})}),r.jsx("div",{className:"p-4 bg-black rounded-3xl shadow-xl",children:r.jsx(cs,{variant:s,className:"h-16 w-16 text-transparent bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text"})})]}),r.jsx("div",{className:"max-w-md",children:r.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(cs,{variant:s,className:"h-10 w-10 text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-serif text-xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"BeautyCita"}),r.jsx("p",{className:"text-xs text-gray-500",children:"AI-Powered Beauty Booking"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"Jane Doe"}),r.jsx("p",{className:"text-xs",children:"Beauty Consultant"}),r.jsx("p",{className:"text-xs mt-2",children:"contact@beautycita.com"})]})]})})]})]})]}),r.jsxs("div",{className:"px-8 py-12 bg-gray-900 text-white",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Technical Implementation"}),r.jsxs("div",{className:"bg-gray-800 rounded-3xl p-6 font-mono text-sm",children:[r.jsx("p",{className:"text-green-400 mb-2",children:"// Import the logo component"}),r.jsx("p",{className:"text-gray-300",children:"import BeautyCitaLogo from '@/components/ui/BeautyCitaLogo'"}),r.jsx("br",{}),r.jsx("p",{className:"text-green-400 mb-2",children:"// Basic usage"}),r.jsx("p",{className:"text-gray-300",children:'<BeautyCitaLogo className="h-8 w-8" />'}),r.jsx("br",{}),r.jsx("p",{className:"text-green-400 mb-2",children:"// With gradient"}),r.jsx("p",{className:"text-gray-300",children:"<BeautyCitaLogo "}),r.jsx("p",{className:"text-gray-300 ml-4",children:'className="h-8 w-8 text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text"'}),r.jsx("p",{className:"text-gray-300",children:"/>"}),r.jsx("br",{}),r.jsx("p",{className:"text-green-400 mb-2",children:"// Specific variant"}),r.jsx("p",{className:"text-gray-300",children:'<BeautyCitaLogo variant="mirror" className="h-8 w-8" />'})]})]})]})}function eee(){const[s,e]=m.useState(!1);m.useEffect(()=>{const i=localStorage.getItem("darkMode");e(i==="true")},[]);const t="Featured Services",a=[{name:"Timber (Current)",class:"letter-timber",description:"Falls and tilts like a tree"},{name:"Bounce",class:"letter-bounce",description:"Bounces up and down"},{name:"Fade",class:"letter-fade",description:"Simple fade in/out"},{name:"Pop",class:"letter-pop",description:"Scales up and pops"},{name:"Spin",class:"letter-spin",description:"360° rotation"},{name:"Wave",class:"letter-wave",description:"Floats up like a wave"},{name:"Flip",class:"letter-flip",description:"3D flip effect"},{name:"Glow",class:"letter-glow",description:"Glowing pulse effect"},{name:"Shake",class:"letter-shake",description:"Shakes side to side"},{name:"Slide",class:"letter-slide",description:"Slides from right"},{name:"Elastic",class:"letter-elastic",description:"Bouncy elastic effect"},{name:"Heartbeat",class:"letter-heartbeat",description:"Double pulse like a heartbeat"}],n=i=>{let o=0;return t.split("").map((l,c)=>{if(l===" ")return r.jsx("span",{children:" "},c);const d=o;o++;const h=t.replace(/\s/g,"").length*2,p=d*2;return r.jsx("span",{className:i,style:{animationDuration:`${h}s`,animationDelay:`${p}s`},children:l},c)})};return r.jsx("div",{className:`min-h-screen py-20 ${s?"bg-gray-900":"bg-gray-50"}`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx(Z,{to:"/",className:`inline-block mb-6 px-6 py-2 rounded-full ${s?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} transition-colors`,children:"← Back to Home"}),r.jsx("h1",{className:`text-5xl font-serif font-bold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Letter Animation Showcase"}),r.jsx("p",{className:`text-xl ${s?"text-gray-400":"text-gray-600"}`,children:"Choose your favorite animation effect"})]}),r.jsx("div",{className:"grid gap-8 max-w-6xl mx-auto",children:a.map(i=>r.jsxs("div",{className:`p-8 rounded-2xl border-2 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:i.name}),r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:i.description})]}),r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:`text-4xl md:text-5xl font-serif font-bold ${s?"text-white":"text-gray-900"}`,children:n(i.class)})})]},i.name))}),r.jsx("div",{className:`mt-16 text-center ${s?"text-gray-400":"text-gray-600"}`,children:r.jsxs("p",{className:"text-lg",children:["Watch each animation for a few cycles to see the full effect.",r.jsx("br",{}),"Each letter turns pink for 2 seconds in sequence."]})})]})})}const Sx="https://beautycita.com";function tee(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState("ALL"),[o,l]=m.useState("");m.useEffect(()=>{c()},[n]);const c=async()=>{try{const h=localStorage.getItem("authToken"),p=n!=="ALL"?{status:n}:{},f=await G.get(`${Sx}/disputes`,{headers:{Authorization:`Bearer ${h}`},params:p});e(f.data.disputes||[])}catch(h){console.error("Fetch disputes error:",h),R.error("Failed to load disputes")}finally{a(!1)}},d=async(h,p)=>{try{const f=localStorage.getItem("authToken");await G.put(`${Sx}/disputes/${h}/status`,{status:p},{headers:{Authorization:`Bearer ${f}`}}),R.success(`Dispute ${p.toLowerCase()}`),c()}catch(f){console.error("Update dispute error:",f),R.error("Failed to update dispute")}},u=s.filter(h=>h.title.toLowerCase().includes(o.toLowerCase())||h.initiator_name.toLowerCase().includes(o.toLowerCase())||h.respondent_name.toLowerCase().includes(o.toLowerCase()));return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Xr,{className:"h-8 w-8 text-purple-600"}),"Disputes Management"]}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor and resolve all platform disputes"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Disputes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Open"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.filter(h=>h.status==="OPEN").length})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Under Review"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(h=>h.status==="UNDER_REVIEW").length})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Resolved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(h=>h.status==="RESOLVED").length})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search disputes...",value:o,onChange:h=>l(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["ALL","OPEN","UNDER_REVIEW","RESOLVED","REFUNDED","CLOSED"].map(h=>r.jsx("button",{onClick:()=>i(h),className:`px-4 py-2 rounded-full font-medium transition-colors ${n===h?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:h.replace("_"," ")},h))})]}),r.jsx("div",{className:"bg-white rounded-3xl shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dispute ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No disputes found"})}):u.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs(Z,{to:`/disputes/${h.id}`,className:"text-purple-600 hover:text-purple-900 font-medium",children:["#",h.id]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-gray-900",children:h.initiator_name}),r.jsxs("p",{className:"text-gray-500",children:["vs ",h.respondent_name]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:h.title})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:h.dispute_type.replace("_"," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.status==="OPEN"?"bg-yellow-100 text-yellow-800":h.status==="UNDER_REVIEW"?"bg-blue-100 text-blue-800":h.status==="RESOLVED"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.status.replace("_"," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-2",children:[h.status==="OPEN"&&r.jsx("button",{onClick:()=>d(h.id,"UNDER_REVIEW"),className:"text-blue-600 hover:text-blue-900",title:"Mark as Under Review",children:r.jsx(vy,{className:"h-5 w-5"})}),(h.status==="OPEN"||h.status==="UNDER_REVIEW")&&r.jsx("button",{onClick:()=>d(h.id,"RESOLVED"),className:"text-green-600 hover:text-green-900",title:"Mark as Resolved",children:r.jsx(ie,{className:"h-5 w-5"})}),(h.status==="OPEN"||h.status==="UNDER_REVIEW")&&r.jsx("button",{onClick:()=>d(h.id,"CLOSED"),className:"text-red-600 hover:text-red-900",title:"Close Dispute",children:r.jsx(rt,{className:"h-5 w-5"})})]})})]},h.id))})]})})]})})}const ree="https://beautycita.com";function see(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(""),[o,l]=m.useState({total:0,today:0});m.useEffect(()=>{c()},[]);const c=async()=>{try{const u=localStorage.getItem("authToken"),p=(await G.get(`${ree}/messages/conversations`,{headers:{Authorization:`Bearer ${u}`}})).data.conversations||[];e(p);const f=new Date().toDateString(),y=p.filter(x=>new Date(x.created_at).toDateString()===f);l({total:p.length,today:y.length})}catch(u){console.error("Fetch conversations error:",u),R.error("Failed to load conversations")}finally{a(!1)}},d=s.filter(u=>{var h,p,f;return((h=u.title)==null?void 0:h.toLowerCase().includes(n.toLowerCase()))||((p=u.other_participant)==null?void 0:p.name.toLowerCase().includes(n.toLowerCase()))||((f=u.other_participant)==null?void 0:f.email.toLowerCase().includes(n.toLowerCase()))});return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Ft,{className:"h-8 w-8 text-purple-600"}),"Messages & Conversations"]}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor all platform conversations and messages"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Conversations"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Today's Conversations"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.today})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Now"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(u=>{var f;const h=(f=u.last_message)==null?void 0:f.created_at;return h?Date.now()-new Date(h).getTime()<5*60*1e3:!1}).length})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search conversations...",value:n,onChange:u=>i(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversation"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Message"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No conversations found"})}):d.map(u=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex items-center gap-3",children:u.other_participant?r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"h-10 w-10 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:u.other_participant.name}),r.jsx("p",{className:"text-sm text-gray-500",children:u.other_participant.email})]})]}):r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:u.title||`Conversation #${u.id}`}),r.jsx("p",{className:"text-sm text-gray-500",children:"Group conversation"})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:u.conversation_type})}),r.jsx("td",{className:"px-6 py-4",children:u.last_message?r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-gray-900 truncate max-w-xs",children:u.last_message.content}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:new Date(u.last_message.created_at).toLocaleString()})]}):r.jsx("span",{className:"text-gray-400 text-sm",children:"No messages"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(u.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs(Z,{to:`/messages?conversation=${u.id}`,className:"text-purple-600 hover:text-purple-900 flex items-center gap-1",children:[r.jsx(At,{className:"h-5 w-5"}),"View"]})})]},u.id))})]})}),r.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ft,{className:"h-5 w-5 text-blue-400"})}),r.jsx("div",{className:"ml-3",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Note:"})," This displays conversations accessible to your account. A full admin endpoint would show all platform conversations regardless of participation."]})})]})})]})})}const aee="https://beautycita.com";function nee(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState("ALL"),[o,l]=m.useState(""),[c,d]=m.useState({total:0,scheduled:0,inProgress:0,completed:0});m.useEffect(()=>{u()},[n]);const u=async()=>{try{const p=localStorage.getItem("authToken"),f=n!=="ALL"?{status:n}:{},x=(await G.get(`${aee}/video/consultations`,{headers:{Authorization:`Bearer ${p}`},params:f})).data.consultations||[];e(x),d({total:x.length,scheduled:x.filter(g=>g.status==="SCHEDULED").length,inProgress:x.filter(g=>g.status==="IN_PROGRESS").length,completed:x.filter(g=>g.status==="COMPLETED").length})}catch(p){console.error("Fetch consultations error:",p),R.error("Failed to load consultations")}finally{a(!1)}},h=s.filter(p=>p.host_name.toLowerCase().includes(o.toLowerCase())||p.client_name.toLowerCase().includes(o.toLowerCase()));return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(yl,{className:"h-8 w-8 text-purple-600"}),"Video Consultations"]}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor all video consultation sessions"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.total})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.scheduled})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.inProgress})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.completed})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search consultations...",value:o,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["ALL","SCHEDULED","IN_PROGRESS","COMPLETED","CANCELLED"].map(p=>r.jsx("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-full font-medium transition-colors ${n===p?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:p.replace("_"," ")},p))})]}),r.jsx("div",{className:"bg-white rounded-3xl shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No consultations found"})}):h.map(p=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("span",{className:"text-purple-600 font-medium",children:["#",p.id]}),p.booking_id&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Booking #",p.booking_id]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-gray-900",children:p.host_name}),r.jsxs("p",{className:"text-gray-500",children:["with ",p.client_name]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.scheduled_at).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.duration_minutes?r.jsxs("span",{children:[p.duration_minutes," min"]}):r.jsx("span",{className:"text-gray-400",children:"—"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.status==="SCHEDULED"?"bg-blue-100 text-blue-800":p.status==="IN_PROGRESS"?"bg-green-100 text-green-800":p.status==="COMPLETED"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:[p.status==="IN_PROGRESS"&&r.jsx(ve,{className:"inline h-3 w-3 mr-1 animate-pulse"}),p.status==="COMPLETED"&&r.jsx(ie,{className:"inline h-3 w-3 mr-1"}),p.status.replace("_"," ")]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs(Z,{to:`/video/${p.id}`,className:"text-purple-600 hover:text-purple-900 flex items-center gap-1",children:[r.jsx(jh,{className:"h-4 w-4"}),"View Details"]})})]},p.id))})]})}),r.jsx("div",{className:"mt-6 bg-purple-50 border-l-4 border-purple-400 p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(yl,{className:"h-5 w-5 text-purple-400"})}),r.jsx("div",{className:"ml-3",children:r.jsxs("p",{className:"text-sm text-purple-700",children:[r.jsx("strong",{children:"Twilio Video Integration:"})," All consultations are powered by Twilio Video API. Each session has a unique room SID for tracking and billing purposes."]})})]})})]})})}function on({children:s}){var h,p;const[e,t]=m.useState(!1),a=Cs(),n=wt(),{user:i,logout:o}=we(),l=(i==null?void 0:i.role)==="SUPERADMIN",c=[{title:"Dashboard",items:[{name:"Overview",href:"/dashboard",icon:Mi,gradient:"from-purple-500 to-pink-600"}]},{title:"User Management",items:[{name:"All Users",href:"/admin/users",icon:et,gradient:"from-blue-500 to-purple-600"},{name:"Stylists",href:"/admin/stylists",icon:Ke,gradient:"from-pink-500 to-rose-600"},{name:"Verification",href:"/admin/verification",icon:Ke,gradient:"from-teal-500 to-blue-600"}]},{title:"Operations",items:[{name:"Bookings",href:"/admin/bookings",icon:Oe,gradient:"from-indigo-500 to-purple-600"},{name:"Services",href:"/admin/services",icon:gu,gradient:"from-violet-500 to-purple-600"},{name:"Video Calls",href:"/admin/video",icon:yl,gradient:"from-fuchsia-500 to-pink-600"}]},{title:"Support",items:[{name:"Disputes",href:"/admin/disputes",icon:Xr,gradient:"from-amber-500 to-orange-600"},{name:"Messages",href:"/admin/messages",icon:Ft,gradient:"from-cyan-500 to-blue-600"},{name:"Reviews",href:"/admin/reviews",icon:nt,gradient:"from-yellow-500 to-orange-600"}]},{title:"Finance",items:[{name:"Payouts",href:"/admin/payouts",icon:Le,gradient:"from-emerald-500 to-teal-600"},{name:"Analytics",href:"/admin/analytics",icon:vt,gradient:"from-rose-500 to-pink-600"},{name:"Commissions",href:"/admin/commissions",icon:Le,gradient:"from-green-500 to-emerald-600"}]}];l&&c.push({title:"System",items:[{name:"Settings",href:"/admin/settings",icon:bs,gradient:"from-slate-500 to-gray-600"},{name:"System Health",href:"/admin/system",icon:Ke,gradient:"from-red-500 to-rose-600"},{name:"Marketing",href:"/admin/marketing",icon:Xn,gradient:"from-purple-500 to-pink-600"}]});const d=()=>{o(),n("/login")},u=f=>a.pathname===f||a.pathname.startsWith(f+"/");return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-pink-50",children:[r.jsx(_e,{children:e&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-900/50 z-40 lg:hidden",onClick:()=>t(!1)})}),r.jsx(E.aside,{initial:!1,animate:{x:e?0:"-100%"},className:"fixed inset-y-0 left-0 z-50 w-72 bg-white shadow-2xl lg:translate-x-0 lg:static lg:z-0",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex h-20 items-center justify-between px-6 border-b border-gray-200",children:[r.jsxs(Z,{to:"/dashboard",className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl blur-lg opacity-50"}),r.jsx(Xn,{className:"relative h-8 w-8 text-purple-600"})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"BeautyCita"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),r.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-100",children:r.jsx(De,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:((h=i==null?void 0:i.name)==null?void 0:h[0])||"A"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i==null?void 0:i.name}),r.jsx("p",{className:"text-xs text-gray-500",children:i==null?void 0:i.role})]})]})}),r.jsx("nav",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:c.map(f=>r.jsxs("div",{children:[r.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f.title}),r.jsx("div",{className:"space-y-1",children:f.items.map(y=>{const x=u(y.href);return r.jsxs(Z,{to:y.href,className:`
                          group flex items-center px-3 py-2.5 text-sm font-medium rounded-full transition-all duration-200
                          ${x?"bg-gradient-to-r "+(y.gradient||"from-purple-500 to-pink-600")+" text-white shadow-lg scale-105":"text-gray-700 hover:bg-gray-100"}
                        `,children:[r.jsx(y.icon,{className:`mr-3 h-5 w-5 flex-shrink-0 ${x?"text-white":"text-gray-400 group-hover:text-gray-600"}`}),r.jsx("span",{className:"flex-1",children:y.name}),y.badge&&r.jsx("span",{className:`ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x?"bg-white/20":"bg-purple-100 text-purple-800"}`,children:y.badge})]},y.name)})})]},f.title))}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("button",{onClick:d,className:"w-full flex items-center px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 rounded-3xl transition-colors",children:[r.jsx(RN,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})}),r.jsxs("div",{className:"lg:pl-72",children:[r.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-lg border-b border-gray-200",children:r.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[r.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 rounded-full hover:bg-gray-100",children:r.jsx(bh,{className:"h-6 w-6"})}),r.jsx("div",{className:"flex-1 lg:ml-0",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((p=c.flatMap(f=>f.items).find(f=>u(f.href)))==null?void 0:p.name)||"Admin Dashboard"})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-purple-500 to-pink-600 rounded-3xl",children:[r.jsx(Xn,{className:"h-4 w-4 text-white"}),r.jsx("span",{className:"text-xs font-medium text-white",children:i==null?void 0:i.role})]})})]})}),r.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:s})]})]})}const iee="https://beautycita.com";function oee(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState("ALL"),[o,l]=m.useState("");m.useEffect(()=>{c()},[n]);const c=async()=>{try{const h=localStorage.getItem("authToken"),p=n!=="ALL"?{status:n}:{},f=await G.get(`${iee}/api/admin/bookings`,{headers:{Authorization:`Bearer ${h}`},params:p});e(f.data.bookings||[])}catch(h){console.error("Fetch bookings error:",h)}finally{a(!1)}},d=s.filter(h=>{var p,f,y;return((p=h.client_name)==null?void 0:p.toLowerCase().includes(o.toLowerCase()))||((f=h.stylist_name)==null?void 0:f.toLowerCase().includes(o.toLowerCase()))||((y=h.service_name)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))}),u={total:s.length,pending:s.filter(h=>h.status==="PENDING").length,confirmed:s.filter(h=>h.status==="CONFIRMED").length,completed:s.filter(h=>h.status==="COMPLETED").length,cancelled:s.filter(h=>h.status==="CANCELLED").length};return r.jsx(on,{children:t?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Oe,{className:"h-8 w-8 text-purple-600"}),"All Bookings"]}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and monitor all platform bookings"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.total})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.pending})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.confirmed})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.completed})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cancelled"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:u.cancelled})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search bookings...",value:o,onChange:h=>l(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["ALL","PENDING","CONFIRMED","COMPLETED","CANCELLED"].map(h=>r.jsx("button",{onClick:()=>i(h),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===h?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:h},h))})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stylist"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No bookings found"})}):d.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-purple-600 font-medium",children:["#",h.id]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:h.client_name||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:h.stylist_name||"N/A"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:h.service_name})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[r.jsx("div",{children:new Date(h.booking_date).toLocaleDateString()}),r.jsx("div",{className:"text-xs text-gray-400",children:h.booking_time})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:["$",h.total_price]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.status==="PENDING"?"bg-yellow-100 text-yellow-800":h.status==="CONFIRMED"?"bg-blue-100 text-blue-800":h.status==="COMPLETED"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.status})})]},h.id))})]})})]})})}const $o="https://beautycita.com";function lee(){const{user:s}=we(),[e,t]=m.useState([]),[a,n]=m.useState(!0),[i,o]=m.useState(""),[l,c]=m.useState("ALL"),[d,u]=m.useState(!1),[h,p]=m.useState({email:"",name:"",role:"CLIENT",password:""}),[f,y]=m.useState(!1);m.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const j=await G.get(`${$o}/api/admin/users`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});t(j.data.users||[])}catch(j){console.error("Failed to fetch users:",j)}finally{n(!1)}},g=async()=>{var j,_;if(!h.email||!h.name||!h.password){alert("Please fill all fields");return}try{y(!0),await G.post(`${$o}/api/admin/users/create`,h,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),u(!1),p({email:"",name:"",role:"CLIENT",password:""}),x()}catch(S){alert(((_=(j=S.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to create user")}finally{y(!1)}},v=async(j,_)=>{var S,C;try{await G.put(`${$o}/api/admin/users/${j}/status`,{user_status:_},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),x()}catch(I){alert(((C=(S=I.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to update user status")}},b=async(j,_)=>{var S,C;try{await G.put(`${$o}/api/admin/users/${j}/role`,{role:_},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),x()}catch(I){alert(((C=(S=I.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to update user role")}},k=e.filter(j=>{const _=j.name.toLowerCase().includes(i.toLowerCase())||j.email.toLowerCase().includes(i.toLowerCase()),S=l==="ALL"||j.role===l;return _&&S}),w=j=>{switch(j){case"SUPERADMIN":return"bg-purple-100 text-purple-800";case"ADMIN":return"bg-blue-100 text-blue-800";case"STYLIST":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},N=j=>{switch(j){case"APPROVED":return"bg-green-100 text-green-800";case"SUSPENDED":return"bg-yellow-100 text-yellow-800";case"BLOCKED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs(on,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all platform users"})]}),r.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-3xl hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl",children:[r.jsx(xu,{className:"h-5 w-5 mr-2"}),"Create User"]})]}),r.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search users...",value:i,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("select",{value:l,onChange:j=>c(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Roles"}),r.jsx("option",{value:"SUPERADMIN",children:"Superadmin"}),r.jsx("option",{value:"ADMIN",children:"Admin"}),r.jsx("option",{value:"STYLIST",children:"Stylist"}),r.jsx("option",{value:"CLIENT",children:"Client"})]})]})}),r.jsx("div",{className:"bg-white rounded-3xl shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Loading..."})}):k.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No users found"})}):k.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:j.name[0]})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),r.jsx("div",{className:"text-sm text-gray-500",children:j.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(s==null?void 0:s.role)==="SUPERADMIN"?r.jsxs("select",{value:j.role,onChange:_=>b(j.id,_.target.value),className:`text-xs font-medium px-2.5 py-1 rounded-full border-0 ${w(j.role)}`,disabled:j.id===(s==null?void 0:s.id),children:[r.jsx("option",{value:"CLIENT",children:"CLIENT"}),r.jsx("option",{value:"STYLIST",children:"STYLIST"}),r.jsx("option",{value:"ADMIN",children:"ADMIN"}),r.jsx("option",{value:"SUPERADMIN",children:"SUPERADMIN"})]}):r.jsx("span",{className:`inline-flex text-xs font-medium px-2.5 py-1 rounded-full ${w(j.role)}`,children:j.role})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex text-xs font-medium px-2.5 py-1 rounded-full ${N(j.user_status)}`,children:j.user_status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[j.user_status==="SUSPENDED"?r.jsxs("button",{onClick:()=>v(j.id,"APPROVED"),className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-3xl hover:bg-green-200",disabled:j.id===(s==null?void 0:s.id),children:[r.jsx(ie,{className:"h-4 w-4 mr-1"}),"Restore"]}):r.jsxs("button",{onClick:()=>v(j.id,"SUSPENDED"),className:"inline-flex items-center px-3 py-1 bg-yellow-100 text-yellow-700 rounded-3xl hover:bg-yellow-200",disabled:j.id===(s==null?void 0:s.id),children:[r.jsx(w_,{className:"h-4 w-4 mr-1"}),"Suspend"]}),r.jsxs("button",{onClick:()=>v(j.id,"BLOCKED"),className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-3xl hover:bg-red-200",disabled:j.id===(s==null?void 0:s.id)||j.user_status==="BLOCKED",children:[r.jsx(De,{className:"h-4 w-4 mr-1"}),"Block"]})]})})]},j.id))})]})})})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Create New User"}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(De,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:h.name,onChange:j=>p({...h,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:h.email,onChange:j=>p({...h,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"john@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",value:h.password,onChange:j=>p({...h,password:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"••••••••"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),r.jsxs("select",{value:h.role,onChange:j=>p({...h,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"CLIENT",children:"Client"}),r.jsx("option",{value:"STYLIST",children:"Stylist"}),r.jsx("option",{value:"ADMIN",children:"Admin"}),(s==null?void 0:s.role)==="SUPERADMIN"&&r.jsx("option",{value:"SUPERADMIN",children:"Superadmin"})]})]}),r.jsx("button",{onClick:g,disabled:f,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-3xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50",children:f?"Creating...":"Create User"})]})]})})]})}const Do="https://beautycita.com";function cee(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState({name:"",description:"",duration:60,base_price:0,category:"Hair"}),[u,h]=m.useState(!1);m.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const b=await G.get(`${Do}/api/services`);e(b.data.services||[])}catch(b){console.error("Failed to fetch services:",b)}finally{a(!1)}},f=b=>{b?(l(b),d({name:b.name,description:b.description,duration:b.duration,base_price:b.base_price,category:b.category})):(l(null),d({name:"",description:"",duration:60,base_price:0,category:"Hair"})),i(!0)},y=async()=>{var b,k;if(!c.name||!c.description){alert("Please fill all required fields");return}try{h(!0),o?await G.put(`${Do}/api/admin/services/${o.id}`,c,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}):await G.post(`${Do}/api/admin/services`,c,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),i(!1),p()}catch(w){alert(((k=(b=w.response)==null?void 0:b.data)==null?void 0:k.message)||"Failed to save service")}finally{h(!1)}},x=async b=>{var k,w;if(confirm("Are you sure you want to delete this service?"))try{await G.delete(`${Do}/api/admin/services/${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),p()}catch(N){alert(((w=(k=N.response)==null?void 0:k.data)==null?void 0:w.message)||"Failed to delete service")}},g=["Hair","Nails","Makeup","Skincare","Massage","Other"],v=b=>{const k={Hair:"bg-pink-100 text-pink-800",Nails:"bg-purple-100 text-purple-800",Makeup:"bg-blue-100 text-blue-800",Skincare:"bg-teal-100 text-teal-800",Massage:"bg-green-100 text-green-800",Other:"bg-gray-100 text-gray-800"};return k[b]||k.Other};return r.jsxs(on,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all beauty services"})]}),r.jsxs("button",{onClick:()=>f(),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl",children:[r.jsx(gu,{className:"h-5 w-5 mr-2"}),"Add Service"]})]}),t?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading services..."}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No services found"}),r.jsxs("button",{onClick:()=>f(),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700",children:[r.jsx(gu,{className:"h-5 w-5 mr-2"}),"Create First Service"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(b=>r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("span",{className:`inline-flex text-xs font-medium px-2.5 py-1 rounded-full ${v(b.category)}`,children:b.category}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>f(b),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(aa,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>x(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Ts,{className:"h-4 w-4"})})]})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:b.description}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.duration," min"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Base Price"}),r.jsxs("p",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["$",b.base_price]})]})]})]},b.id))})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:o?"Edit Service":"Add New Service"}),r.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(De,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name *"}),r.jsx("input",{type:"text",value:c.name,onChange:b=>d({...c,name:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Women's Haircut"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{value:c.description,onChange:b=>d({...c,description:b.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Describe the service..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),r.jsx("input",{type:"number",value:c.duration,onChange:b=>d({...c,duration:parseInt(b.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price ($)"}),r.jsx("input",{type:"number",value:c.base_price,onChange:b=>d({...c,base_price:parseFloat(b.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("select",{value:c.category,onChange:b=>d({...c,category:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:g.map(b=>r.jsx("option",{value:b,children:b},b))})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:y,disabled:u,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50",children:u?"Saving...":o?"Update Service":"Create Service"})]})]})]})})]})}const dee="https://beautycita.com";function uee(){var y;const[s,e]=m.useState("social"),[t,a]=m.useState(""),[n,i]=m.useState(!1),[o,l]=m.useState(""),[c,d]=m.useState(!1),u=[{value:"social",label:"Social Media Post",icon:"📱",description:"Instagram, Facebook, Twitter posts"},{value:"email",label:"Email Campaign",icon:"✉️",description:"Marketing emails and newsletters"},{value:"blog",label:"Blog Article",icon:"📝",description:"SEO-optimized blog content"},{value:"ad",label:"Advertisement",icon:"🎯",description:"Google Ads, Facebook Ads copy"},{value:"sms",label:"SMS Campaign",icon:"💬",description:"Short promotional messages"},{value:"promo",label:"Promotion Text",icon:"🎉",description:"Special offers and deals"}],h=async()=>{var x,g;if(!t.trim()){alert("Please enter a prompt");return}try{i(!0),l("");const v=await G.post(`${dee}/api/admin/marketing/generate`,{type:s,prompt:t},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});l(v.data.content)}catch(v){alert(((g=(x=v.response)==null?void 0:x.data)==null?void 0:g.message)||"Failed to generate content")}finally{i(!1)}},p=()=>{navigator.clipboard.writeText(o),d(!0),setTimeout(()=>d(!1),2e3)},f={social:["Promote our new summer hair color collection","Highlight our expert nail artists and latest nail art trends","Announce a special Mother's Day beauty package"],email:["Welcome email for new stylists joining our platform","Monthly newsletter with beauty tips and platform updates","Re-engagement campaign for inactive clients"],blog:["Top 10 hair care tips for summer","How to choose the perfect wedding makeup artist","The benefits of regular skincare treatments"],ad:["Google Ads campaign for booking beauty services","Facebook ad targeting young professionals for lunch-break beauty services","Instagram ad showcasing our top-rated stylists"],sms:["Flash sale: 20% off all hair services this weekend","Reminder: Your appointment with Sofia is tomorrow at 2pm","New stylist alert: Check out Emma's amazing portfolio"],promo:["Refer a friend and both get $20 off your next booking","First-time client special: Book 3 services, get 1 free","VIP loyalty program announcement"]};return r.jsx(on,{children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl mb-4",children:r.jsx(Ee,{className:"h-8 w-8 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Marketing Content Generator"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Create engaging marketing content with AI assistance"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Content Type"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(x=>r.jsx("button",{onClick:()=>e(x.value),className:`p-4 rounded-3xl border-2 text-left transition-all ${s===x.value?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("span",{className:"text-2xl",children:x.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:x.label}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.description})]})]})},x.value))})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Describe Your Content"}),r.jsx("textarea",{value:t,onChange:x=>a(x.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"E.g., Create an Instagram post promoting our new stylist Sofia who specializes in bridal makeup..."}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Example prompts:"}),r.jsx("div",{className:"space-y-2",children:(y=f[s])==null?void 0:y.map((x,g)=>r.jsx("button",{onClick:()=>a(x),className:"block w-full text-left text-sm text-gray-600 hover:text-purple-600 hover:bg-purple-50 px-3 py-2 rounded-3xl transition-colors",children:x},g))})]}),r.jsx("button",{onClick:h,disabled:n||!t.trim(),className:"mt-6 w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-3xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 flex items-center justify-center",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ee,{className:"h-5 w-5 mr-2"}),"Generate Content"]})})]}),o&&r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Generated Content"}),r.jsx("button",{onClick:p,className:"inline-flex items-center px-3 py-1.5 bg-white text-gray-700 rounded-3xl hover:bg-gray-100 transition-colors",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Ri,{className:"h-4 w-4 mr-1 text-green-600"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(wh,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),r.jsx("div",{className:"bg-white rounded-3xl p-6",children:r.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:o})}),r.jsxs("div",{className:"mt-4 flex space-x-3",children:[r.jsx("button",{onClick:()=>a(t+" Make it more professional"),className:"flex-1 px-4 py-2 bg-white text-gray-700 rounded-3xl hover:bg-gray-100 transition-colors",children:"Make it more professional"}),r.jsx("button",{onClick:()=>a(t+" Make it more casual and fun"),className:"flex-1 px-4 py-2 bg-white text-gray-700 rounded-3xl hover:bg-gray-100 transition-colors",children:"Make it more casual"}),r.jsx("button",{onClick:()=>a(t+" Make it shorter"),className:"flex-1 px-4 py-2 bg-white text-gray-700 rounded-3xl hover:bg-gray-100 transition-colors",children:"Make it shorter"})]})]})]})})}const au="https://beautycita.com";function hee(){var w;const{user:s}=we(),[e,t]=m.useState([]),[a,n]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState(""),[f,y]=m.useState(!1);m.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const N=await G.get(`${au}/api/admin/stylist-applications`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});t(N.data.applications||[])}catch(N){console.error("Failed to fetch applications:",N),R.error("Failed to load applications")}finally{n(!1)}},g=async N=>{var j,_;if(confirm(`Are you sure you want to approve ${N.business_name}?`))try{y(!0),await G.post(`${au}/api/admin/stylist-applications/${N.user_id}/approve`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),R.success("Application approved successfully!"),c(!1),o(null),x()}catch(S){console.error("Approval failed:",S),R.error(((_=(j=S.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to approve application")}finally{y(!1)}},v=async()=>{var N,j;if(!i||!h.trim()){R.error("Please provide a rejection reason");return}try{y(!0),await G.post(`${au}/api/admin/stylist-applications/${i.user_id}/reject`,{reason:h},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),R.success("Application rejected"),u(!1),c(!1),o(null),p(""),x()}catch(_){console.error("Rejection failed:",_),R.error(((j=(N=_.response)==null?void 0:N.data)==null?void 0:j.message)||"Failed to reject application")}finally{y(!1)}},b=N=>{o(N),c(!0)},k=()=>{u(!0)};return a?r.jsx(on,{children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-16 w-16 border-4 border-t-purple-500 border-r-pink-500 border-b-blue-500 border-l-transparent"})})}):r.jsxs(on,{children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl flex items-center justify-center",children:r.jsx(Qa,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stylist Applications"}),r.jsx("p",{className:"text-gray-600",children:"Review and approve pending stylist applications"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-4 flex items-start gap-3",children:[r.jsx(ve,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-900",children:[r.jsxs("span",{className:"font-semibold",children:[e.length," pending application",e.length!==1?"s":""]}),e.length>0&&" waiting for review"]})]})]}),e.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-3xl shadow-lg",children:[r.jsx(ie,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All caught up!"}),r.jsx("p",{className:"text-gray-600",children:"No pending stylist applications at this time."})]}):r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(N=>{var j,_,S;return r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>b(N),children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl flex items-center justify-center",children:r.jsx(Qa,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900",children:N.business_name}),r.jsx("p",{className:"text-sm text-gray-600",children:N.name})]})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(ot,{className:"w-4 h-4"}),r.jsxs("span",{children:[N.location_city,", ",N.location_state]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(ir,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:N.email})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:N.phone})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[(j=N.specialties)==null?void 0:j.slice(0,2).map((C,I)=>r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-3xl",children:C},I)),((_=N.specialties)==null?void 0:_.length)>2&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-3xl",children:["+",N.specialties.length-2," more"]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[N.stripe_onboarding_complete?r.jsx(ie,{className:"w-4 h-4 text-green-500"}):r.jsx(rt,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:N.stripe_onboarding_complete?"text-green-600":"text-red-600",children:"Stripe"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xt,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-gray-600",children:[((S=N.portfolio_images)==null?void 0:S.length)||0," photos"]})]})]})]},N.user_id)})})]}),r.jsx(_e,{children:l&&i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>c(!1),children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-500 to-pink-500 p-6 text-white",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:i.business_name}),r.jsx("p",{className:"text-white/90",children:i.name})]}),r.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/20 rounded-3xl transition-colors",children:r.jsx(XMarkIcon,{className:"w-6 h-6"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-3xl",children:[r.jsx(ir,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm",children:i.email})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-3xl",children:[r.jsx(na,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-sm",children:i.phone})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Business Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-gray-50 rounded-3xl",children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Business Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:i.business_name})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-3xl",children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Bio"}),r.jsx("p",{className:"text-sm text-gray-900",children:i.bio})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-3xl",children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Experience"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[i.experience_years," years"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Location"}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-3xl flex items-start gap-3",children:[r.jsx(ot,{className:"w-5 h-5 text-gray-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:i.location_address}),r.jsxs("p",{className:"text-sm text-gray-600",children:[i.location_city,", ",i.location_state]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specialties"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(w=i.specialties)==null?void 0:w.map((N,j)=>r.jsx("span",{className:"px-3 py-2 bg-purple-100 text-purple-700 text-sm rounded-3xl font-medium",children:N},j))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portfolio"}),i.portfolio_images&&i.portfolio_images.length>0?r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.portfolio_images.map((N,j)=>r.jsx("img",{src:N,alt:`Portfolio ${j+1}`,className:"w-full h-48 object-cover rounded-3xl"},j))}):r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-3xl",children:[r.jsx(dt,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"No portfolio images uploaded"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Payment Setup"}),r.jsx("div",{className:`p-4 rounded-3xl flex items-center gap-3 ${i.stripe_onboarding_complete?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:i.stripe_onboarding_complete?r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-6 h-6 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-green-900",children:"Stripe Connected"}),r.jsxs("p",{className:"text-sm text-green-700",children:["Account ID: ",i.stripe_account_id]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(rt,{className:"w-6 h-6 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-red-900",children:"Stripe Not Completed"}),r.jsx("p",{className:"text-sm text-red-700",children:"Cannot approve without payment setup"})]})]})})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs("button",{onClick:()=>k(),disabled:f,className:"flex-1 px-6 py-3 border-2 border-red-500 text-red-600 font-semibold rounded-3xl hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(rt,{className:"w-5 h-5"}),"Reject"]}),r.jsx("button",{onClick:()=>g(i),disabled:f||!i.stripe_onboarding_complete,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold rounded-3xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-5 h-5"}),"Approve"]})})]})]})]})})}),r.jsx(_e,{children:d&&i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",onClick:()=>u(!1),children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-6",onClick:N=>N.stopPropagation(),children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Reject Application"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Please provide a reason for rejecting ",i.business_name,"'s application:"]}),r.jsx("textarea",{value:h,onChange:N=>p(N.target.value),placeholder:"Enter rejection reason...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-3xl focus:ring-2 focus:ring-red-500 focus:outline-none"}),r.jsxs("div",{className:"flex gap-3 mt-4",children:[r.jsx("button",{onClick:()=>u(!1),disabled:f,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-3xl hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{onClick:v,disabled:f||!h.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white font-semibold rounded-3xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Rejecting...":"Confirm Rejection"})]})]})})})]})}function Cx(){const[s,e]=m.useState(!1),[t,a]=m.useState({beautyprofessionals:2847,satisfaction:4.9,revenue:247892,appointments:18247});m.useEffect(()=>{const o=localStorage.getItem("darkMode");e(o==="true")},[]);const n=[{icon:xu,title:"New Stylist Joined",time:"5 minutes ago",gradient:"from-purple-500 to-indigo-600"},{icon:Ge,title:"Beauty Service Booked",time:"12 minutes ago",gradient:"from-green-500 to-emerald-600"},{icon:nt,title:"5-Star Review Received",time:"1 hour ago",gradient:"from-pink-500 to-yellow-500"}],i=[{title:"Beauty Professionals",icon:et,gradient:"from-purple-500 to-indigo-600",link:"/admin/users"},{title:"Booking System",icon:Oe,gradient:"from-green-500 to-emerald-600",link:"/admin/bookings"},{title:"Issue Tracker",icon:Ke,gradient:"from-pink-500 to-yellow-500",link:"/admin/issues"},{title:"Services",icon:di,gradient:"from-red-500 to-orange-600",link:"/admin/services"},{title:"Messages",icon:Ft,gradient:"from-blue-500 to-cyan-500",link:"/admin/messages"},{title:"Marketing",icon:Jn,gradient:"from-orange-500 to-red-500",link:"/admin/marketing"},{title:"Disputes",icon:We,gradient:"from-rose-500 to-pink-500",link:"/admin/disputes"},{title:"Applications",icon:xu,gradient:"from-teal-500 to-green-500",link:"/admin/stylist-applications"}];return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 shadow-lg",children:r.jsx(Ke,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:`text-4xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Platform Overview"}),r.jsx("p",{className:`text-lg ${s?"text-gray-400":"text-gray-600"}`,children:"Complete BeautyCita ecosystem management"})]})]}),r.jsx("p",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Welcome back. Monitor and manage the entire beauty platform."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600",children:r.jsx(et,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Beauty Professionals"}),r.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:t.beautyprofessionals.toLocaleString()})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-orange-600",children:r.jsx(We,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Client Satisfaction"}),r.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:[t.satisfaction,"/5"]})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600",children:r.jsx(Le,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Monthly Revenue"}),r.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:["$",t.revenue.toLocaleString()]})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-yellow-500",children:r.jsx(Oe,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-600"}`,children:"Beauty Appointments"}),r.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:t.appointments.toLocaleString()})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2",children:r.jsxs("div",{className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600",children:r.jsx(vt,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Beauty Business Analytics"})]}),r.jsxs("div",{className:`flex flex-col items-center justify-center py-16 rounded-xl ${s?"bg-gray-700/50":"bg-gray-50"}`,children:[r.jsx(di,{className:`w-16 h-16 mb-4 ${s?"text-purple-400":"text-purple-600"}`}),r.jsx("p",{className:`text-lg font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Platform performance metrics will be displayed here"}),r.jsx("p",{className:`text-sm mt-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Track revenue, bookings, and growth trends"})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:r.jsxs("div",{className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600",children:r.jsx(Jn,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Platform Activity"})]}),r.jsx("div",{className:"space-y-4",children:n.map((o,l)=>r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${o.gradient}`,children:r.jsx(o.icon,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:o.title}),r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:o.time})]})]},l))})]})})]}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-8",children:r.jsxs("div",{className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-600",children:r.jsx(Le,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:"BTCPay Server Statistics"})]}),r.jsxs("div",{className:`flex flex-col items-center justify-center py-12 rounded-xl ${s?"bg-gray-700/50":"bg-gray-50"}`,children:[r.jsx(Le,{className:`w-16 h-16 mb-4 ${s?"text-yellow-400":"text-yellow-600"}`}),r.jsx("p",{className:`text-lg font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Bitcoin payment statistics will be displayed here"})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:r.jsxs("div",{className:`rounded-2xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600",children:r.jsx(Jn,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Platform Management"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((o,l)=>r.jsxs(Z,{to:o.link,className:`flex flex-col items-center justify-center p-6 rounded-xl bg-gradient-to-br ${o.gradient}
                    shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200`,children:[r.jsx(o.icon,{className:"w-8 h-8 text-white mb-3"}),r.jsx("span",{className:"text-white font-semibold text-center",children:o.title})]},l))})]})})]})})}function mee(){const[s,e]=m.useState(!1),[t,a]=m.useState([]),[n,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState("all"),[u,h]=m.useState("all"),[p,f]=m.useState(!0),y=()=>localStorage.getItem("beautycita-auth-token")||localStorage.getItem("authToken")||localStorage.getItem("token")||"",x=()=>({"Content-Type":"application/json",Authorization:`Bearer ${y()}`});m.useEffect(()=>{const I=localStorage.getItem("darkMode");e(I==="true"),g()},[]);const g=async()=>{try{f(!0);const I=await fetch("/api/issues",{headers:{Authorization:`Bearer ${y()}`},credentials:"include"});if(I.ok){const P=await I.json();a(P)}else R.error("Failed to load issues")}catch(I){console.error("Error fetching issues:",I),R.error("Failed to load issues")}finally{f(!1)}},v=async I=>{try{const P=await fetch("/api/issues",{method:"POST",headers:x(),credentials:"include",body:JSON.stringify(I)});if(P.ok){const A=await P.json();a([A,...t]),i(!1),R.success("Issue created successfully")}else R.error("Failed to create issue")}catch(P){console.error("Error creating issue:",P),R.error("Failed to create issue")}},b=async(I,P)=>{try{const A=await fetch(`/api/issues/${I}`,{method:"PUT",headers:x(),credentials:"include",body:JSON.stringify(P)});if(A.ok){const L=await A.json();a(t.map(O=>O.id===I?L:O)),l(null),R.success("Issue updated successfully")}else R.error("Failed to update issue")}catch(A){console.error("Error updating issue:",A),R.error("Failed to update issue")}},k=async I=>{if(confirm("Are you sure you want to delete this issue?"))try{(await fetch(`/api/issues/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${y()}`},credentials:"include"})).ok?(a(t.filter(A=>A.id!==I)),R.success("Issue deleted successfully")):R.error("Failed to delete issue")}catch(P){console.error("Error deleting issue:",P),R.error("Failed to delete issue")}},w={bug:sk,feature:Ee,task:Nh,improvement:dt},N={bug:"from-red-500 to-pink-600",feature:"from-purple-500 to-indigo-600",task:"from-blue-500 to-cyan-600",improvement:"from-yellow-500 to-orange-600"},j={low:"bg-green-500",medium:"bg-yellow-500",high:"bg-orange-500",critical:"bg-red-500"},_={todo:"bg-gray-500",in_progress:"bg-blue-500",pending_review:"bg-yellow-500",done:"bg-green-500"},S=t.filter(I=>!(c!=="all"&&I.type!==c||u!=="all"&&I.status!==u)),C={total:t.length,todo:t.filter(I=>I.status==="todo").length,inProgress:t.filter(I=>I.status==="in_progress").length,pendingReview:t.filter(I=>I.status==="pending_review").length,done:t.filter(I=>I.status==="done").length};return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:`text-4xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Issue Tracker"}),r.jsx("p",{className:`text-lg mt-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Track bugs, features, and tasks"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",children:[r.jsx(or,{className:"w-5 h-5"}),"New Issue"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[r.jsxs("div",{className:`rounded-xl p-4 shadow ${s?"bg-gray-800":"bg-white"}`,children:[r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Total Issues"}),r.jsx("p",{className:`text-3xl font-bold ${s?"text-white":"text-gray-900"}`,children:C.total})]}),r.jsxs("div",{className:`rounded-xl p-4 shadow ${s?"bg-gray-800":"bg-white"}`,children:[r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"To Do"}),r.jsx("p",{className:`text-3xl font-bold ${s?"text-white":"text-gray-900"}`,children:C.todo})]}),r.jsxs("div",{className:`rounded-xl p-4 shadow ${s?"bg-gray-800":"bg-white"}`,children:[r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"In Progress"}),r.jsx("p",{className:`text-3xl font-bold ${s?"text-white":"text-gray-900"}`,children:C.inProgress})]}),r.jsxs("div",{className:`rounded-xl p-4 shadow ${s?"bg-gray-800":"bg-white"}`,children:[r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Pending Review"}),r.jsx("p",{className:`text-3xl font-bold ${s?"text-white":"text-gray-900"}`,children:C.pendingReview})]}),r.jsxs("div",{className:`rounded-xl p-4 shadow ${s?"bg-gray-800":"bg-white"}`,children:[r.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Done"}),r.jsx("p",{className:`text-3xl font-bold ${s?"text-white":"text-gray-900"}`,children:C.done})]})]}),r.jsx("div",{className:`rounded-xl p-4 mb-6 shadow ${s?"bg-gray-800":"bg-white"}`,children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`text-sm font-medium mb-2 block ${s?"text-gray-300":"text-gray-700"}`,children:"Type"}),r.jsxs("select",{value:c,onChange:I=>d(I.target.value),className:`px-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"bug",children:"Bug"}),r.jsx("option",{value:"feature",children:"Feature"}),r.jsx("option",{value:"task",children:"Task"}),r.jsx("option",{value:"improvement",children:"Improvement"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`text-sm font-medium mb-2 block ${s?"text-gray-300":"text-gray-700"}`,children:"Status"}),r.jsxs("select",{value:u,onChange:I=>h(I.target.value),className:`px-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"todo",children:"To Do"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"pending_review",children:"Pending Review"}),r.jsx("option",{value:"done",children:"Done"})]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{children:S.map(I=>{const P=w[I.type];return r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:`rounded-xl p-6 shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${N[I.type]}`,children:r.jsx(P,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:`text-xl font-semibold ${s?"text-white":"text-gray-900"}`,children:I.title}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium text-white ${j[I.priority]}`,children:I.priority}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium text-white ${_[I.status]}`,children:I.status.replace("_"," ")})]}),r.jsx("p",{className:`${s?"text-gray-400":"text-gray-600"} mb-2`,children:I.description}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(I.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>l(I),className:"p-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition",children:r.jsx(aa,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>k(I.id),className:"p-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition",children:r.jsx(Ts,{className:"w-5 h-5"})})]})]})},I.id)})}),S.length===0&&r.jsxs("div",{className:`text-center py-12 rounded-xl ${s?"bg-gray-800":"bg-white"}`,children:[r.jsx(ie,{className:`w-16 h-16 mx-auto mb-4 ${s?"text-gray-600":"text-gray-400"}`}),r.jsx("p",{className:`text-lg ${s?"text-gray-400":"text-gray-600"}`,children:"No issues found. Create one to get started!"})]})]}),(n||o)&&r.jsx(pee,{issue:o,isDarkMode:s,onClose:()=>{i(!1),l(null)},onSave:I=>{o?b(o.id,I):v(I)}})]})})}function pee({issue:s,isDarkMode:e,onClose:t,onSave:a}){const[n,i]=m.useState({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",type:(s==null?void 0:s.type)||"bug",priority:(s==null?void 0:s.priority)||"medium",status:(s==null?void 0:s.status)||"todo"}),o=l=>{l.preventDefault(),a(n)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto ${e?"bg-gray-800":"bg-white"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:`text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:s?"Edit Issue":"Create New Issue"}),r.jsx("button",{onClick:t,className:`p-2 rounded-lg ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:r.jsx(De,{className:`w-6 h-6 ${e?"text-gray-400":"text-gray-600"}`})})]}),r.jsxs("form",{onSubmit:o,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Title"}),r.jsx("input",{type:"text",value:n.title,onChange:l=>i({...n,title:l.target.value}),required:!0,className:`w-full px-4 py-2 rounded-lg border ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Description"}),r.jsx("textarea",{value:n.description,onChange:l=>i({...n,description:l.target.value}),rows:4,required:!0,className:`w-full px-4 py-2 rounded-lg border ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Type"}),r.jsxs("select",{value:n.type,onChange:l=>i({...n,type:l.target.value}),className:`w-full px-4 py-2 rounded-lg border ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[r.jsx("option",{value:"bug",children:"Bug"}),r.jsx("option",{value:"feature",children:"Feature"}),r.jsx("option",{value:"task",children:"Task"}),r.jsx("option",{value:"improvement",children:"Improvement"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Priority"}),r.jsxs("select",{value:n.priority,onChange:l=>i({...n,priority:l.target.value}),className:`w-full px-4 py-2 rounded-lg border ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Status"}),r.jsxs("select",{value:n.status,onChange:l=>i({...n,status:l.target.value}),className:`w-full px-4 py-2 rounded-lg border ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[r.jsx("option",{value:"todo",children:"To Do"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"pending_review",children:"Pending Review"}),r.jsx("option",{value:"done",children:"Done"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",children:s?"Update Issue":"Create Issue"}),r.jsx("button",{type:"button",onClick:t,className:`px-6 py-3 rounded-xl font-semibold ${e?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-900 hover:bg-gray-300"} transition`,children:"Cancel"})]})]})]})})}function fee(){const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const l=localStorage.getItem("darkMode")==="true";t(l)},[]);const a=[{icon:r.jsx(et,{className:"h-8 w-8"}),number:"50K+",label:s("about.stats.happyClients"),gradient:"from-pink-500 to-purple-600"},{icon:r.jsx(Ee,{className:"h-8 w-8"}),number:"2.8K+",label:s("about.stats.verifiedStylists"),gradient:"from-purple-500 to-blue-600"},{icon:r.jsx(t_,{className:"h-8 w-8"}),number:"100+",label:s("about.stats.cities"),gradient:"from-blue-500 to-pink-600"},{icon:r.jsx(We,{className:"h-8 w-8"}),number:"98%",label:s("about.stats.satisfactionRate"),gradient:"from-pink-600 to-purple-500"}],n=[{icon:r.jsx(Ee,{className:"h-8 w-8"}),title:s("pages.about.innovation"),description:s("pages.about.innovationText"),gradient:"from-purple-500 to-pink-500"},{icon:r.jsx(Ke,{className:"h-8 w-8"}),title:s("pages.about.quality"),description:s("pages.about.qualityText"),gradient:"from-pink-500 to-red-500"},{icon:r.jsx(et,{className:"h-8 w-8"}),title:s("pages.about.accessibility"),description:s("pages.about.accessibilityText"),gradient:"from-blue-500 to-purple-500"},{icon:r.jsx(vt,{className:"h-8 w-8"}),title:"Empowerment",description:"Helping beauty professionals build thriving businesses",gradient:"from-purple-600 to-pink-600"}],i=[{name:"Sofia Martinez",role:"CEO & Founder",avatar:"/media/img/avatar/A0.png",bio:"Former beauty industry executive with 15+ years experience building platforms"},{name:"Marcus Chen",role:"CTO",avatar:"/media/img/avatar/A1.png",bio:"Tech leader specializing in marketplace platforms and AI integration"},{name:"Isabella Rodriguez",role:"Head of Beauty Operations",avatar:"/media/img/avatar/A2.png",bio:"Licensed cosmetologist ensuring our platform meets real industry needs"},{name:"David Kim",role:"Head of Trust & Safety",avatar:"/media/img/avatar/A3.png",bio:"Building safe, verified marketplaces for personal services"}],o=[{year:"2023",event:"BeautyCita founded with a vision to revolutionize beauty booking"},{year:"2024 Q1",event:"Launched MVP and onboarded first 100 verified beauty professionals"},{year:"2024 Q3",event:"Processed 10,000+ successful bookings across 50+ cities"},{year:"2024 Q4",event:"Launched Aphrodite AI for personalized beauty recommendations"},{year:"2025",event:"Expanded to luxury beauty experiences and medical spa services"}];return r.jsxs("div",{className:e?"bg-gray-900":"bg-gray-50",children:[r.jsx(jt,{title:s("pages.about.title"),subtitle:s("pages.about.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96",videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/dancing-optimized.mp4"}),r.jsx($t,{background:"white",isDarkMode:e,children:r.jsx(H3,{stats:a,columns:4,isDarkMode:e})}),r.jsx($t,{background:"gradient",isDarkMode:e,children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[r.jsxs(E.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-6 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:s("pages.about.mission")}),r.jsx("p",{className:`text-lg leading-relaxed mb-6 ${e?"text-gray-300":"text-gray-700"}`,children:s("pages.about.missionText")}),r.jsx("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:"BeautyCita was born from a simple frustration: booking quality beauty services was too complicated, time-consuming, and often unreliable. As consumers, we wanted convenience and confidence. As industry insiders, we knew talented professionals were struggling to reach new clients."})]}),r.jsx(xe,{gradient:"from-pink-500 to-purple-600",isDarkMode:e,children:r.jsxs("div",{className:"text-center",children:[r.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},className:"text-6xl mb-4",children:"💡"}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-purple-600",children:"Our Vision"}),r.jsx("p",{className:`text-lg ${e?"text-gray-300":"text-gray-600"}`,children:"To become the world's most trusted platform for beauty and wellness services, empowering professionals and delighting clients everywhere."})]})})]})}),r.jsxs($t,{background:"white",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"What Drives Us"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((l,c)=>r.jsx(vu,{icon:l.icon,title:l.title,description:l.description,gradient:l.gradient,isDarkMode:e,index:c},l.title))})]}),r.jsxs($t,{background:"gradient",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Meet Our Team"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((l,c)=>r.jsx(xe,{gradient:"from-purple-500 to-pink-500",isDarkMode:e,delay:c*.1,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full overflow-hidden bg-gradient-to-br from-pink-400 to-purple-600 p-1",children:r.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full object-cover rounded-full"})}),r.jsx("h3",{className:`text-xl font-bold mb-1 ${e?"text-white":"text-gray-900"}`,children:l.name}),r.jsx("p",{className:"text-purple-600 font-medium mb-3",children:l.role}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:l.bio})]})},l.name))})]}),r.jsxs($t,{background:"white",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Our Journey"}),r.jsx(xe,{gradient:"from-pink-500 to-purple-600",isDarkMode:e,children:r.jsx("div",{className:"space-y-8",children:o.map((l,c)=>r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:c*.1},viewport:{once:!0},className:"flex items-start gap-6 group",children:[r.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-purple-600 text-white px-4 py-2 rounded-full font-bold min-w-max shadow-lg group-hover:shadow-xl transition-shadow",children:l.year}),r.jsx("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:l.event})]},c))})})]}),r.jsx(Ba,{videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/event-optimized.mp4",height:"h-[60vh]",parallaxIntensity:.3,overlayGradient:"bg-gradient-to-b from-purple-900/60 via-pink-900/60 to-black/80",isDarkMode:e,children:r.jsx("div",{className:"text-center px-4 text-white",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold mb-4",children:"Building Community Together"}),r.jsx("p",{className:"text-xl md:text-2xl max-w-2xl mx-auto",children:"From local events to global connections, we're creating a movement that celebrates beauty professionals"})]})})}),r.jsx($t,{background:"gradient",isDarkMode:e,children:r.jsx(kh,{title:"Ready to Experience BeautyCita?",description:"Whether you're looking for your next beauty appointment or want to grow your professional practice, we're here to help you succeed.",primaryAction:{label:"Find Your Stylist",to:"/stylists"},secondaryAction:{label:"Join as Stylist",to:"/register/stylist"},gradient:"from-pink-600 via-purple-600 to-blue-600",icon:r.jsx(Ee,{className:"h-16 w-16"})})})]})}const gee=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const o=localStorage.getItem("darkMode")==="true";t(o);const l=()=>{const c=localStorage.getItem("darkMode")==="true";t(c)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const a=[{icon:r.jsx(jy,{className:"h-8 w-8"}),title:"Grassroots Growth",description:"We started small in Mexico City and grew organically. Every team member contributes to our community-first expansion from local to global.",gradient:"from-pink-500 to-purple-600"},{icon:r.jsx(We,{className:"h-8 w-8"}),title:"Authenticity",description:"Real connections, honest feedback, and genuine care for our beauty professional community. No corporate BS, just real people building real relationships.",gradient:"from-purple-500 to-blue-600"},{icon:r.jsx(et,{className:"h-8 w-8"}),title:"Community First",description:"We grow neighborhood by neighborhood, city by city, building trust locally before expanding globally. Bottom-up, not top-down.",gradient:"from-blue-500 to-indigo-600"},{icon:r.jsx(vt,{className:"h-8 w-8"}),title:"Earn Together",description:"Our commission-based model means we all succeed together. When stylists thrive, BeautyCita thrives. Everyone shares in our growth.",gradient:"from-purple-500 to-pink-600"}],n=[{icon:yy,title:"Full Stack Engineer",type:"Full-time / Remote",compensation:"Base salary + equity + commission on platform growth",description:"Build features that connect beauty professionals with clients. Work with React, TypeScript, Node.js, PostgreSQL, and modern tooling.",requirements:["3+ years experience with React & TypeScript","API design and database optimization","Startup mindset and ownership mentality","Passion for beautiful, scalable code"],gradient:"from-pink-500 to-purple-600"},{icon:Zl,title:"Product Designer",type:"Full-time / Contract / Remote",compensation:"Competitive salary + equity options",description:"Design beautiful, intuitive experiences for our beauty platform. Own the entire design process from research to high-fidelity mockups.",requirements:["Strong portfolio showing mobile-first design","Expert in Figma and design systems","User research and testing experience","Interest or experience in beauty industry"],gradient:"from-purple-500 to-blue-600"},{icon:g_,title:"Growth Marketer (Regional)",type:"Commission-based / Part-time → Full-time",compensation:"High commission on bookings in your region + base after hitting milestones",description:"Launch BeautyCita in new cities. Recruit stylists, drive client bookings, build local community. This is entrepreneurial - you own your market.",requirements:["Marketing or sales experience","Strong local connections","Social media and community building skills","Fluent in Spanish and English"],gradient:"from-blue-500 to-indigo-600"},{icon:We,title:"Customer Success Lead",type:"Full-time / Remote",compensation:"Base salary + performance bonuses",description:"Help stylists succeed on our platform. Provide training, support, and retention strategies. Be the voice of our beauty professionals.",requirements:["Customer service experience (2+ years)","Beauty industry knowledge preferred","Empathy, patience, and problem-solving skills","Data-driven approach to success metrics"],gradient:"from-purple-500 to-pink-600"},{icon:nk,title:"Operations Coordinator",type:"Full-time / Part-time / Mexico City",compensation:"Salary or hourly + growth incentives",description:"Keep everything running smoothly. Verify stylists, manage payments, handle escalations. Be the operational backbone of BeautyCita.",requirements:["Detail-oriented and organized","Multi-tasking and prioritization skills","Tech-savvy and quick learner","Problem solver with calm demeanor"],gradient:"from-pink-500 to-red-500"},{icon:Nh,title:"Beauty Specialist (Advisor)",type:"Part-time / Contract / Remote",compensation:"Hourly + commission on training programs",description:"Licensed beauty professional to advise on industry standards, train stylists, and ensure quality. Help us understand the real needs of beauty pros.",requirements:["Active beauty license","5+ years industry experience","Teaching or training experience","Passion for elevating the profession"],gradient:"from-purple-600 to-pink-600"}],i=[{icon:r.jsx(Ii,{className:"h-8 w-8"}),title:"Remote-First",description:"Work from anywhere. Most roles are fully remote with flexible hours and async communication.",gradient:"from-pink-500 to-purple-600"},{icon:r.jsx(Le,{className:"h-8 w-8"}),title:"Commission Opportunities",description:"Many roles include commission based on platform success. Grow your income as BeautyCita grows.",gradient:"from-purple-500 to-blue-600"},{icon:r.jsx(Ee,{className:"h-8 w-8"}),title:"Equity for Early Team",description:"Early employees receive meaningful equity. Be an owner, not just an employee.",gradient:"from-blue-500 to-indigo-600"},{icon:r.jsx(vt,{className:"h-8 w-8"}),title:"Growth Pathways",description:"Start part-time or contract, grow into full-time leadership as we expand to new markets.",gradient:"from-purple-500 to-pink-600"}];return r.jsxs("div",{className:e?"bg-gray-900":"bg-gray-50",children:[r.jsx(jt,{title:"Join the BeautyCita Team",subtitle:"Help us build the world's most trusted platform for beauty services - from grassroots to global",gradient:"from-pink-500 via-purple-500 to-blue-500",videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/stylist-optimized.mp4",isDarkMode:e,height:"h-[500px]",children:r.jsx("div",{className:`inline-block px-6 py-3 rounded-full mt-6 ${e?"bg-gray-800 text-gray-300":"bg-white/20 text-white backdrop-blur-sm"}`,children:r.jsx("p",{className:"text-sm font-medium",children:"Founded 2023 • Growing Organically • Mexico City Based, Globally Minded"})})}),r.jsx($t,{background:"white",isDarkMode:e,children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,hoverable:!1,children:[r.jsx("h2",{className:"text-3xl font-serif font-bold mb-6 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Our Grassroots Growth Story"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:"BeautyCita started in Mexico City in 2023 with a simple mission: solve the booking frustration between beauty professionals and clients. We didn't raise millions or launch in 50 cities overnight. We chose a different path."}),r.jsx("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:"Instead, we grew organically, neighborhood by neighborhood, building trust locally before expanding. Our team started small - founders who hustled, early stylists who believed in us, and clients who gave us a chance. Today we're in 100+ cities with 2,800+ stylists and 50,000+ happy clients."}),r.jsxs("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:[r.jsx("strong",{children:"Our business model is transparent:"})," We take a small commission from each booking (3% on average), which allows us to provide the platform, payment processing, customer support, and marketing that helps stylists grow their business. When they succeed, we succeed. It's that simple."]}),r.jsx("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:"We're looking for people who get it: sustainable growth takes time, community matters more than metrics, and everyone should earn together. If you want to join a scrappy team building something real, keep reading."})]})]})})})}),r.jsxs($t,{background:"gradient",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Our Values"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((o,l)=>r.jsx(vu,{icon:o.icon,title:o.title,description:o.description,gradient:o.gradient,isDarkMode:e,index:l},o.title))})]}),r.jsxs($t,{background:"white",isDarkMode:e,children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-4 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Open Positions"}),r.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Multiple ways to earn: full-time, part-time, commission-only, contractor. We believe in flexible work arrangements."})]}),r.jsx("div",{className:"space-y-6",children:n.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},children:r.jsx(xe,{gradient:o.gradient,isDarkMode:e,hoverable:!0,children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:`p-4 rounded-full bg-gradient-to-br ${o.gradient} flex-shrink-0`,children:r.jsx(o.icon,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:o.title}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${e?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:o.type})})]})]}),r.jsxs("div",{className:`mb-4 p-4 rounded-3xl ${e?"bg-gray-800/50":"bg-white/50"}`,children:[r.jsx("p",{className:`text-sm font-semibold mb-1 ${e?"text-gray-400":"text-gray-500"}`,children:"Compensation:"}),r.jsx("p",{className:`${e?"text-gray-200":"text-gray-800"}`,children:o.compensation})]}),r.jsx("p",{className:`leading-relaxed mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:o.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:`text-sm font-semibold ${e?"text-gray-400":"text-gray-500"}`,children:"What We're Looking For:"}),r.jsx("ul",{className:"space-y-2",children:o.requirements.map((c,d)=>r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 bg-gradient-to-br ${o.gradient}`}),r.jsx("span",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c})]},d))})]})]}),r.jsx("div",{className:"lg:ml-6 flex-shrink-0",children:r.jsx("a",{href:"mailto:careers@beautycita.com",className:`block px-8 py-4 rounded-full font-semibold bg-gradient-to-r ${o.gradient} text-white hover:shadow-lg transform hover:scale-105 transition-all duration-300 text-center`,children:"Apply Now"})})]})})},o.title))})]}),r.jsxs($t,{background:"gradient",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Benefits & Perks"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((o,l)=>r.jsx(vu,{icon:o.icon,title:o.title,description:o.description,gradient:o.gradient,isDarkMode:e,index:l},o.title))})]}),r.jsxs($t,{background:"white",isDarkMode:e,children:[r.jsx(kh,{title:"Don't See Your Perfect Role?",description:"We're always looking for talented people who share our values and want to build something meaningful. Send us your resume and tell us how you'd contribute to BeautyCita's grassroots-to-global journey.",primaryAction:{label:"Email Us",to:"mailto:careers@beautycita.com"},gradient:"from-pink-600 via-purple-600 to-blue-600",icon:r.jsx(vh,{className:"h-16 w-16"})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"mt-12",children:r.jsx(xe,{gradient:"from-purple-500/10 to-pink-500/10",isDarkMode:e,hoverable:!1,children:r.jsxs("div",{className:"text-center",children:[r.jsx(ir,{className:`h-12 w-12 mx-auto mb-4 ${e?"text-purple-400":"text-purple-600"}`}),r.jsx("h3",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"How to Apply"}),r.jsxs("div",{className:`space-y-2 ${e?"text-gray-300":"text-gray-600"}`,children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," careers@beautycita.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Subject Line:"}),' "Application - [Position Title] - [Your Name]"']}),r.jsx("p",{className:"text-sm mt-4",children:"Please include your resume, portfolio (if applicable), and a brief note about what excites you about BeautyCita. Tell us about your experience with grassroots growth, community building, or commission-based work if relevant."})]})]})})})]}),r.jsx("section",{className:`py-8 ${e?"bg-gray-800":"bg-gray-100"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:r.jsxs(E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:`text-center text-sm space-y-3 ${e?"text-gray-400":"text-gray-600"}`,children:[r.jsxs("p",{children:[r.jsx("strong",{children:"About Our Commission Model:"})," BeautyCita takes a small commission (typically 3%) from each booking to cover platform costs, payment processing, customer support, and marketing. This allows us to provide value to stylists while staying sustainable. Many of our team roles also include commission-based compensation tied to platform growth - we believe in earning together."]}),r.jsx("p",{children:"BeautyCita is an equal opportunity employer. We celebrate diversity and are committed to creating an inclusive environment for all employees regardless of background, identity, or experience level."})]})})})]})},xee=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const o=localStorage.getItem("darkMode")==="true";t(o);const l=()=>{const c=localStorage.getItem("darkMode")==="true";t(c)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const a=[{date:"March 15, 2025",title:"BeautyCita Reaches 50,000 Client Milestone",excerpt:"The grassroots beauty booking platform celebrates organic growth across 100+ cities in Latin America, powered by AI-driven Aphrodite recommendations.",source:"TechCrunch",gradient:"from-pink-500 to-purple-600"},{date:"February 22, 2025",title:"How BeautyCita Grew Without VC Funding",excerpt:"Mexican startup BeautyCita proves commission-based marketplace model can scale sustainably through community-first approach.",source:"Entrepreneur Mexico",gradient:"from-purple-500 to-blue-600"},{date:"January 18, 2025",title:"BeautyCita Partners with Beauty Schools",excerpt:"Platform forms strategic partnerships with leading beauty schools to enhance stylist education and professional development.",source:"Beauty Industry Report",gradient:"from-blue-500 to-indigo-600"}],n=[{name:"Brand Logo Package",description:"High-resolution BeautyCita logos in PNG, SVG, and vector formats",size:"2.3 MB",icon:Bn,gradient:"from-pink-500 to-purple-600"},{name:"Company Photos",description:"Team photos, office images, and company culture shots",size:"15.7 MB",icon:Bn,gradient:"from-purple-500 to-blue-600"},{name:"Product Screenshots",description:"High-quality app screenshots, interface demos, and feature highlights",size:"8.4 MB",icon:gl,gradient:"from-blue-500 to-indigo-600"},{name:"Founder & Team Photos",description:"Professional headshots and team photos",size:"4.2 MB",icon:Bn,gradient:"from-purple-500 to-pink-600"}],i=[{year:"2023",event:"BeautyCita founded in Mexico City with grassroots approach",icon:r.jsx(Ee,{className:"h-6 w-6"})},{year:"2024 Q1",event:"Launched MVP and onboarded first 100 verified beauty professionals",icon:r.jsx(Wa,{className:"h-6 w-6"})},{year:"2024 Q3",event:"Processed 10,000+ successful bookings across 50+ cities",icon:r.jsx(Wa,{className:"h-6 w-6"})},{year:"2024 Q4",event:"Launched Aphrodite AI for personalized beauty recommendations",icon:r.jsx(Ee,{className:"h-6 w-6"})},{year:"2025",event:"Reached 50,000+ clients and 2,800+ verified stylists across 100+ cities",icon:r.jsx(Wa,{className:"h-6 w-6"})}];return r.jsxs("div",{className:e?"bg-gray-900":"bg-gray-50",children:[r.jsx(jt,{title:"Press & Media",subtitle:"Latest news, media resources, and press releases from BeautyCita",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96"}),r.jsxs($t,{background:"white",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Latest News & Coverage"}),r.jsx("div",{className:"space-y-6",children:a.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},children:r.jsx(xe,{gradient:o.gradient,isDarkMode:e,hoverable:!0,children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full bg-gradient-to-r ${o.gradient} text-white`,children:o.source}),r.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:o.date})]}),r.jsx("h3",{className:`text-2xl font-serif font-bold mb-3 ${e?"text-white":"text-gray-900"}`,children:o.title}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:o.excerpt})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("button",{className:`px-6 py-3 rounded-full font-semibold bg-gradient-to-r ${o.gradient} text-white hover:shadow-lg transform hover:scale-105 transition-all duration-300`,children:"Read More"})})]})})},o.title))})]}),r.jsxs($t,{background:"gradient",isDarkMode:e,children:[r.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl md:text-4xl font-serif font-bold text-center mb-12 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Company Milestones"}),r.jsx(xe,{gradient:"from-pink-500 to-purple-600",isDarkMode:e,children:r.jsx("div",{className:"space-y-6",children:i.map((o,l)=>r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:l*.1},viewport:{once:!0},className:"flex items-start gap-6 group",children:[r.jsxs("div",{className:"bg-gradient-to-br from-pink-500 to-purple-600 text-white px-4 py-2 rounded-full font-bold min-w-max shadow-lg group-hover:shadow-xl transition-shadow flex items-center gap-2",children:[r.jsx("div",{className:"text-white",children:o.icon}),o.year]}),r.jsx("p",{className:`text-lg leading-relaxed ${e?"text-gray-300":"text-gray-700"}`,children:o.event})]},l))})})]}),r.jsxs($t,{background:"white",isDarkMode:e,children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx(Bn,{className:`h-16 w-16 mx-auto mb-4 ${e?"text-purple-400":"text-purple-600"}`}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-4 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Media Kit & Resources"}),r.jsx("p",{className:`text-lg max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Download high-quality assets, logos, and photos for your coverage of BeautyCita"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},children:r.jsx(xe,{gradient:o.gradient,isDarkMode:e,hoverable:!0,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-full bg-gradient-to-r ${o.gradient}`,children:r.jsx(o.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`text-lg font-bold ${e?"text-white":"text-gray-900"}`,children:o.name}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:o.description}),r.jsx("p",{className:`text-xs ${e?"text-gray-500":"text-gray-400"}`,children:o.size})]})]}),r.jsx("button",{className:`px-4 py-2 rounded-full font-semibold bg-gradient-to-r ${o.gradient} text-white hover:shadow-lg transition-all`,children:"Download"})]})})},o.name))})]}),r.jsxs($t,{background:"gradient",isDarkMode:e,children:[r.jsx(kh,{title:"Press Inquiries",description:"For press inquiries, interviews, or additional information, please contact our communications team. We're happy to provide quotes, data, or arrange interviews with our founders.",primaryAction:{label:"Contact Press Team",to:"mailto:press@beautycita.com"},gradient:"from-pink-600 via-purple-600 to-blue-600",icon:r.jsx(ir,{className:"h-16 w-16"})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"mt-12 max-w-2xl mx-auto",children:r.jsx(xe,{gradient:"from-purple-500/10 to-pink-500/10",isDarkMode:e,hoverable:!1,children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Press Contact Information"}),r.jsxs("div",{className:`space-y-2 ${e?"text-gray-300":"text-gray-600"}`,children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," press@beautycita.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," +52 55 1234 5679"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Address:"})," Av. Insurgentes Sur 1234, Ciudad de México"]}),r.jsx("p",{className:"text-sm mt-4",children:"Response time: Within 24 hours for all media inquiries"})]})]})})})]})]})},yee=()=>{const{t:s}=je(),{user:e,isAuthenticated:t}=we(),[a,n]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(!0),[d,u]=m.useState(1),[h,p]=m.useState(!1),[f,y]=m.useState(null),[x,g]=m.useState({}),[v,b]=m.useState({}),[k,w]=m.useState(""),[N,j]=m.useState("all"),[_,S]=m.useState(!1),C=m.useRef(null),I=m.useRef(null),P=m.useRef(null),A=m.useRef(0),L=m.useRef(!1);m.useEffect(()=>{const U=localStorage.getItem("darkMode")==="true";S(U);const ae=()=>{const Q=localStorage.getItem("darkMode")==="true";S(Q)};return window.addEventListener("storage",ae),()=>window.removeEventListener("storage",ae)},[]);const O=[{id:"all",label:"All Posts"},{id:"trends",label:"Trends"},{id:"tutorials",label:"Tutorials"},{id:"tips",label:"Beauty Tips"},{id:"products",label:"Products"},{id:"celebrity",label:"Celebrity"}],M=async(U,ae=!1)=>{if(!i)try{o(!0);const re=await(await fetch(`/api/blog/timeline?page=${U}&limit=10&user_id=${(e==null?void 0:e.id)||""}`)).json();if(re.success){const ue=re.posts;n(ae?ue:Me=>[...Me,...ue]),c(re.pagination.page<re.pagination.pages)}else console.error("Error fetching posts:",re.message)}catch(Q){console.error("Error fetching posts:",Q)}finally{o(!1),p(!1)}};m.useEffect(()=>{M(1)},[]),m.useEffect(()=>(C.current&&C.current.disconnect(),C.current=new IntersectionObserver(U=>{U[0].isIntersecting&&l&&!i&&u(ae=>ae+1)},{threshold:.5}),I.current&&C.current.observe(I.current),()=>{var U;return(U=C.current)==null?void 0:U.disconnect()}),[l,i]),m.useEffect(()=>{d>1&&M(d)},[d]);const $=U=>{var ae;((ae=P.current)==null?void 0:ae.scrollTop)===0&&(A.current=U.touches[0].clientY,L.current=!0)},D=U=>{if(!L.current)return;U.touches[0].clientY-A.current>80&&p(!0)},q=()=>{h&&(u(1),M(1,!0)),L.current=!1},W=async U=>{if(t){n(ae=>ae.map(Q=>Q.id===U?{...Q,is_liked:!Q.is_liked,likes_count:Q.is_liked?Q.likes_count-1:Q.likes_count+1}:Q));try{await me.post(`/blog/${U}/like`)}catch(ae){console.error("Error liking post:",ae),n(Q=>Q.map(re=>re.id===U?{...re,is_liked:!re.is_liked,likes_count:re.is_liked?re.likes_count+1:re.likes_count-1}:re))}}},B=async U=>{if(t){n(ae=>ae.map(Q=>Q.id===U?{...Q,is_bookmarked:!Q.is_bookmarked}:Q));try{await me.post(`/blog/${U}/bookmark`)}catch(ae){console.error("Error bookmarking post:",ae),n(Q=>Q.map(re=>re.id===U?{...re,is_bookmarked:!re.is_bookmarked}:re))}}},V=async U=>{try{t&&await me.post(`/blog/${U.id}/share`),n(ae=>ae.map(Q=>Q.id===U.id?{...Q,shares_count:Q.shares_count+1}:Q)),navigator.share?await navigator.share({title:U.title,text:U.excerpt,url:`${window.location.origin}/blog/${U.slug}`}):await navigator.clipboard.writeText(`${window.location.origin}/blog/${U.slug}`)}catch(ae){console.error("Error sharing post:",ae)}},ee=async U=>{var Q;if(!((Q=v[U])!=null&&Q.trim())||!t)return;const ae=v[U].trim();b(re=>({...re,[U]:""}));try{const re=await me.post(`/blog/${U}/comments`,{content:ae});re.success&&(g(ue=>({...ue,[U]:[...ue[U]||[],re.comment]})),n(ue=>ue.map(Me=>Me.id===U?{...Me,comments_count:Me.comments_count+1}:Me)))}catch(re){console.error("Error adding comment:",re),b(ue=>({...ue,[U]:ae}))}},F=async U=>{if(!x[U])try{const Q=await(await fetch(`/api/blog/${U}/comments`)).json();Q.success&&g(re=>({...re,[U]:Q.comments}))}catch(ae){console.error("Error loading comments:",ae)}},z=U=>{f===U?y(null):(y(U),F(U))},X=U=>{const ae=new Date(U),re=Math.floor((new Date().getTime()-ae.getTime())/1e3);return re<60?`${re}s`:re<3600?`${Math.floor(re/60)}m`:re<86400?`${Math.floor(re/3600)}h`:`${Math.floor(re/86400)}d`},Y=a.filter(U=>{const ae=k===""||U.title.toLowerCase().includes(k.toLowerCase())||U.excerpt.toLowerCase().includes(k.toLowerCase()),Q=N==="all"||U.title.toLowerCase().includes(N);return ae&&Q}),K=U=>{const Q=U.split(" ").length;return`${Math.ceil(Q/200)} min read`};return r.jsxs("div",{className:`min-h-screen ${_?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"Beauty Blog",subtitle:"Discover the latest trends, tips, and tutorials from beauty experts",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:_,height:"h-96",children:r.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search articles...",value:k,onChange:U=>w(U.target.value),className:`w-full pl-14 pr-6 py-4 rounded-3xl focus:outline-none focus:ring-4 shadow-xl text-lg ${_?"bg-gray-800 text-white placeholder-gray-400 focus:ring-purple-500/50":"bg-white text-gray-900 placeholder-gray-400 focus:ring-white/30"}`})]})})}),r.jsx("section",{className:`border-b py-6 ${_?"bg-gray-800/50 border-gray-700":"bg-white border-gray-100"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:r.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:O.map(U=>r.jsx(E.button,{onClick:()=>j(U.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${N===U.id?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":_?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:U.label},U.id))})})}),r.jsx(_e,{children:h&&r.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex justify-center py-4",children:r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-8 w-8 border-4 border-t-pink-500 border-r-purple-500 border-b-blue-500 border-l-transparent"})})}),r.jsx("div",{className:"container mx-auto px-4 max-w-7xl py-12",children:r.jsxs("div",{ref:P,onTouchStart:$,onTouchMove:D,onTouchEnd:q,children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map((U,ae)=>{var Q,re;return r.jsx(E.article,{ref:ae===Y.length-1?I:null,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.05},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:_,hoverable:!0,className:"h-full flex flex-col",children:[U.media_url?r.jsx("div",{className:"relative mb-4 rounded-3xl overflow-hidden aspect-video",children:U.media_type==="video"?r.jsxs("div",{className:"relative bg-black w-full h-full",children:[r.jsx("video",{src:U.media_url,controls:!0,className:"w-full h-full object-cover",poster:`https://picsum.photos/seed/${U.id}/800/600`,children:r.jsx("source",{src:U.media_url,type:"video/mp4"})}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-3xl p-4",children:r.jsx(jh,{className:"w-12 h-12 text-white"})})})]}):r.jsx("img",{src:U.media_url,alt:U.title,className:"w-full h-full object-cover",loading:"lazy"})}):r.jsx("div",{className:"mb-4 rounded-3xl overflow-hidden aspect-video bg-gradient-to-br from-pink-400 via-purple-500 to-blue-500 flex items-center justify-center",children:r.jsx("div",{className:"text-6xl",children:"✨"})}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[U.author_avatar?r.jsx("img",{src:U.author_avatar,alt:U.author,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-3xl flex items-center justify-center",children:r.jsx(Ct,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`font-semibold truncate ${_?"text-white":"text-gray-900"}`,children:U.author}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[r.jsx("span",{className:_?"text-gray-400":"text-gray-500",children:X(U.published_at)}),r.jsx("span",{className:_?"text-gray-400":"text-gray-600",children:"•"}),r.jsx("span",{className:_?"text-gray-400":"text-gray-500",children:K(U.content||U.excerpt)})]})]})]}),r.jsx("h2",{className:`text-2xl md:text-3xl font-serif font-bold mb-3 ${_?"text-white":"text-gray-900"}`,children:U.title}),r.jsx("p",{className:`mb-4 line-clamp-3 leading-relaxed ${_?"text-gray-300":"text-gray-600"}`,children:U.excerpt}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("button",{onClick:()=>W(U.id),className:`flex items-center space-x-1 transition-all ${U.is_liked?"text-pink-600":_?"text-gray-400 hover:text-pink-500":"text-gray-500 hover:text-pink-600"}`,children:[U.is_liked?r.jsx(Ps,{className:"w-5 h-5"}):r.jsx(We,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:U.likes_count})]}),r.jsxs("button",{onClick:()=>z(U.id),className:`flex items-center space-x-1 ${_?"text-gray-400 hover:text-purple-500":"text-gray-500 hover:text-purple-600"} transition-colors`,children:[r.jsx(fy,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:U.comments_count})]}),r.jsxs("button",{onClick:()=>V(U),className:`flex items-center space-x-1 ${_?"text-gray-400 hover:text-blue-500":"text-gray-500 hover:text-blue-600"} transition-colors`,children:[r.jsx($i,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:U.shares_count})]}),r.jsx("button",{onClick:()=>B(U.id),className:`transition-colors ${U.is_bookmarked?"text-yellow-600":_?"text-gray-400 hover:text-yellow-500":"text-gray-500 hover:text-yellow-600"}`,children:U.is_bookmarked?r.jsx(LS,{className:"w-5 h-5"}):r.jsx(ek,{className:"w-5 h-5"})})]}),r.jsx("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-medium rounded-3xl hover:from-pink-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:"Read More"}),r.jsx(_e,{children:f===U.id&&r.jsxs(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:`mt-4 pt-4 border-t ${_?"border-gray-700":"border-gray-200"}`,children:[r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-3",children:(Q=x[U.id])==null?void 0:Q.map(ue=>r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("img",{src:ue.author_avatar||"https://i.pravatar.cc/150?img=1",alt:ue.author,className:"w-8 h-8 rounded-full object-cover"}),r.jsxs("div",{className:`flex-1 rounded-3xl px-4 py-2 ${_?"bg-gray-800":"bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:`font-semibold text-sm ${_?"text-white":"text-gray-900"}`,children:ue.author}),r.jsx("span",{className:"text-xs text-gray-500",children:X(ue.created_at)})]}),r.jsx("p",{className:`text-sm ${_?"text-gray-300":"text-gray-700"}`,children:ue.content})]})]},ue.id))}),t?r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("img",{src:(e==null?void 0:e.profile_picture_url)||"https://i.pravatar.cc/150?img=1",alt:(e==null?void 0:e.name)||"You",className:"w-8 h-8 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1 flex space-x-2",children:[r.jsx("input",{type:"text",value:v[U.id]||"",onChange:ue=>b(Me=>({...Me,[U.id]:ue.target.value})),onKeyPress:ue=>ue.key==="Enter"&&ee(U.id),placeholder:"Add a comment...",className:`flex-1 border rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${_?"bg-gray-800 border-gray-700 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900"}`}),r.jsx("button",{onClick:()=>ee(U.id),disabled:!((re=v[U.id])!=null&&re.trim()),className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-shadow",children:"Post"})]})]}):r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:`text-sm ${_?"text-gray-400":"text-gray-600"}`,children:[r.jsx(Z,{to:"/login",className:"text-purple-600 hover:underline",children:"Sign in"})," to comment"]})})]})})]})},U.id)})}),i&&r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-12 w-12 border-4 border-t-pink-500 border-r-purple-500 border-b-blue-500 border-l-transparent"})}),!i&&Y.length===0&&r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20",children:[r.jsx("div",{className:"text-8xl mb-6",children:"📝"}),r.jsx("h3",{className:`text-2xl font-serif font-bold mb-2 ${_?"text-white":"text-gray-900"}`,children:"No posts found"}),r.jsx("p",{className:`mb-6 ${_?"text-gray-300":"text-gray-600"}`,children:"Try adjusting your search or filters"}),r.jsx(E.button,{onClick:()=>{j("all"),w("")},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Clear filters"})]}),!l&&a.length>0&&Y.length>0&&r.jsx("div",{className:`text-center py-8 ${_?"text-gray-400":"text-gray-500"}`,children:r.jsx("p",{className:"text-sm",children:"You're all caught up! ✨"})})]})})]})};let Fo;const bee=new Uint8Array(16);function vee(){if(!Fo&&(Fo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fo(bee)}const kt=[];for(let s=0;s<256;++s)kt.push((s+256).toString(16).slice(1));function wee(s,e=0){return kt[s[e+0]]+kt[s[e+1]]+kt[s[e+2]]+kt[s[e+3]]+"-"+kt[s[e+4]]+kt[s[e+5]]+"-"+kt[s[e+6]]+kt[s[e+7]]+"-"+kt[s[e+8]]+kt[s[e+9]]+"-"+kt[s[e+10]]+kt[s[e+11]]+kt[s[e+12]]+kt[s[e+13]]+kt[s[e+14]]+kt[s[e+15]]}const jee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ex={randomUUID:jee};function Nee(s,e,t){if(Ex.randomUUID&&!s)return Ex.randomUUID();s=s||{};const a=s.random||(s.rng||vee)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,wee(a)}typeof window<"u"&&typeof location<"u"&&location.search.indexOf("giphy-debug");var Bs="",F2=16,kee=()=>{let s="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e.length;for(let a=0;a<F2;a++)s+=e.charAt(Math.floor(Math.random()*t));return s},_ee=()=>{if(!Bs){try{Bs=sessionStorage.getItem("giphyPingbackId")}catch{}if(!Bs){const s=new Date().getTime().toString(16);try{Bs=`${s}${Nee().replace(/-/g,"")}`.substring(0,F2)}catch{Bs=kee()}try{sessionStorage.setItem("giphyPingbackId",Bs)}catch{}}}return Bs},See=_ee,Bo=null;new Promise(s=>{typeof Image>"u"&&s(!1);const e=new Image;e.onload=()=>{Bo=!0,s(Bo)},e.onerror=()=>{Bo=!1,s(Bo)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"});var Zn=(typeof window<"u"?window:global)||{};Zn._GIPHY_SDK_HEADERS_=Zn._GIPHY_SDK_HEADERS_||(Zn.Headers?new Zn.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0);var B2=()=>Zn._GIPHY_SDK_HEADERS_,Tx=(s,e)=>{var t;return(t=B2())==null?void 0:t.set(s,e)},Cee=Object.defineProperty,Eee=Object.defineProperties,Tee=Object.getOwnPropertyDescriptors,Pee=Object.getOwnPropertyNames,Px=Object.getOwnPropertySymbols,Aee=Object.prototype.hasOwnProperty,Oee=Object.prototype.propertyIsEnumerable,Ax=(s,e,t)=>e in s?Cee(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,wr=(s,e)=>{for(var t in e||(e={}))Aee.call(e,t)&&Ax(s,t,e[t]);if(Px)for(var t of Px(e))Oee.call(e,t)&&Ax(s,t,e[t]);return s},nu=(s,e)=>Eee(s,Tee(e)),Lee=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')}),Ree=(s,e)=>function(){return e||(0,s[Pee(s)[0]])((e={exports:{}}).exports,e),e.exports},Iee=(s,e,t)=>new Promise((a,n)=>{var i=c=>{try{l(t.next(c))}catch(d){n(d)}},o=c=>{try{l(t.throw(c))}catch(d){n(d)}},l=c=>c.done?a(c.value):Promise.resolve(c.value).then(i,o);l((t=t.apply(s,e)).next())}),Mee=Ree({"package.json"(s,e){e.exports={scripts:{lint:"run -T eslint . --ext .ts,.tsx",clean:"rm -rf ./dist",dev:"parcel public/test.html",docs:"typedoc src/index.ts",build:"run -T tsup src/index.ts --format cjs,esm --dts && run -T publint",prepublish:"npm run clean && npm run build",test:"run -T jest --config ./jestconfig.js","test:watch":"run -T jest --config ./jestconfig.js --watchAll"},name:"@giphy/js-fetch-api",version:"5.7.0",description:"Javascript API to fetch gifs and stickers from the GIPHY API.",homepage:"https://github.com/Giphy/giphy-js/tree/master/packages/fetch-api",main:"dist/index.cjs",types:"dist/index.d.ts",module:"dist/index.js",type:"module",sideEffects:!1,exports:{".":{types:"./dist/index.d.ts",import:"./dist/index.js",require:"./dist/index.cjs"},"./package.json":"./package.json"},files:["dist/","src/**/*"],license:"MIT",publishConfig:{access:"public"},dependencies:{"@giphy/js-types":"*","@giphy/js-util":"*"},devDependencies:{"jest-fetch-mock":"^3.0.3","parcel-bundler":"latest",typedoc:"^0.20.37","typedoc-thunder-theme":"^0.0.3",typescript:"^5.0.4"}}}}),$ee=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker","is_dynamic"],Dee=["suppress_chrome","is_public","is_verified"],Ox=s=>e=>s[e]=!!s[e],Fee=s=>typeof s=="string"?s:s.text,V2=(s,e="")=>{const t=wr({},s);t.id=String(t.id),t.tags=(t.tags||[]).map(Fee),t.bottle_data||(t.bottle_data={}),t.response_id=e,$ee.forEach(Ox(t)),Object.keys(t.images||{}).forEach(n=>{const i=t.images[n];i.width=parseInt(i.width),i.height=parseInt(i.height)});const{user:a}=t;if(a){const n=wr({},a);Dee.forEach(Ox(n)),t.user=n}return t},Lx=s=>{const{response_id:e}=s.meta;return s.data=V2(s.data,e),s},Wr=s=>{const{response_id:e}=s.meta;return s.data=s.data.map(t=>V2(t,e)),s},Bee=(typeof window<"u"?window:global)||{},Vee=Bee.GIPHY_API_URL||"https://api.giphy.com/v1/",U2=class extends Error{constructor(s,e,t=0,a=""){super(s),this.url=e,this.status=t,this.statusText=a}},Uee=class extends U2{},Rx=U2,Wee="@giphy/js-fetch-api: ",zee="Error fetching",Hee=s=>s,pr={},qee=6e4,Gee=6e3,Yee=()=>{const s=Date.now();Object.keys(pr).forEach(e=>{const t=pr[e].isError?Gee:qee;s-pr[e].ts>=t&&delete pr[e]})};function Kee(s,e={}){const{apiVersion:t=1,noCache:a=!1,normalizer:n=Hee}=e,i=Vee.replace(/\/v\d+\/$/,`/v${t}/`);if(Yee(),!pr[s]||a){const o=`${i}${s}`,l=()=>Iee(this,null,function*(){var c,d;let u;try{const h=yield fetch(o,{method:"get"});if(h.ok){const p=yield h.json();if((c=p.meta)!=null&&c.response_id)return n(p);throw{message:"synthetic response"}}else{let p=zee;try{const y=yield h.json();y.message&&(p=y.message),(d=y.meta)!=null&&d.msg&&(p=y.meta.msg)}catch{}pr[s]&&(pr[s].isError=!0);let f=Rx;p==="This content is not available in your location"&&(f=Uee),u=new f(`${Wee}${p}`,o,h.status,h.statusText)}}catch(h){u=new Rx(h.message,o),pr[s]&&(pr[s].isError=!0)}throw u});pr[s]={request:l(),ts:Date.now()}}return pr[s].request}var Wt=Kee,iu=s=>s&&s.type?s.type:"gifs",Qee=class{constructor(s,e={}){this.getQS=(t={})=>new URLSearchParams(wr(nu(wr({},t),{api_key:this.apiKey,pingback_id:See()}),this.qsParams)).toString(),this.apiKey=s,this.qsParams=e}categories(s){return Wt(`gifs/categories?${this.getQS(s)}`)}gif(s,e){const t=e!=null&&e.internal?"internal/":"";return Wt(`${t}gifs/${s}?${this.getQS()}`,{normalizer:Lx})}gifs(s,e){return Array.isArray(s)?Wt(`gifs?${this.getQS({ids:s.join(",")})}`,{normalizer:Wr}):Wt(`gifs/categories/${s}/${e}?${this.getQS()}`,{normalizer:Wr})}emoji(s){return Wt(`emoji?${this.getQS(s)}`,{normalizer:Wr})}emojiDefaultVariations(s){return Wt(`emoji?${this.getQS(s)}`,{apiVersion:2,normalizer:Wr})}emojiVariations(s){return Wt(`emoji/${s}/variations?${this.getQS()}`,{apiVersion:2,normalizer:Wr})}animate(s,e={}){const t=this.getQS(nu(wr({},e),{m:s}));return Wt(`text/animate?${t}`,{normalizer:Wr})}search(s,e={}){const t=e.channel?`@${e.channel} ${s}`:s;let a;e.type==="text"&&(a=!0);const n=this.getQS(nu(wr({rating:"pg-13"},e),{q:t,excludeDynamicResults:a}));return Wt(`${iu(e)}/search?${n}`,{normalizer:Wr})}subcategories(s,e){return Wt(`gifs/categories/${s}?${this.getQS(e)}`)}trending(s={}){return Wt(`${iu(s)}/trending?${this.getQS(wr({rating:"pg-13"},s))}`,{normalizer:Wr})}random(s){return Wt(`${iu(s)}/random?${this.getQS(wr({rating:"pg-13"},s))}`,{noCache:!0,normalizer:Lx})}related(s,e={}){const{type:t="gifs"}=e;return Wt(`${t}/related?${this.getQS(wr({gif_id:s,rating:"pg-13"},e))}`,{normalizer:Wr})}channels(s,e={}){return Wt(`channels/search?${this.getQS(wr({q:s,rating:"pg-13"},e))}`)}},Zee=Qee,Ix;if(typeof Lee<"u"){const{version:s}=Mee();(Ix=B2())!=null&&Ix.get("X-GIPHY-SDK-NAME")||(Tx("X-GIPHY-SDK-NAME","FetchAPI"),Tx("X-GIPHY-SDK-VERSION",s))}const Jee=new Zee("Gc7131jiJuvI7IdN0HZ1D7nh0ow5BH6g"),Xee=({keywords:s,index:e,onLoad:t})=>{const[a,n]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(!1);return m.useEffect(()=>{(async()=>{try{o(!0);const u=["makeup application","beauty routine","lipstick","mascara","skincare","hair styling","nail art","beauty transformation","makeup artist","glam"],h=s.length>0?`${s[0]} beauty makeup`:u[e%u.length],{data:p}=await Jee.search(h,{limit:10,rating:"g",lang:"es"});if(p.length>0){const f=Math.floor(Math.random()*Math.min(p.length,5)),y=p[f];n({url:y.images.fixed_width.url,width:parseInt(y.images.fixed_width.width),height:parseInt(y.images.fixed_width.height),title:y.title})}else c(!0)}catch(u){console.error("Error fetching beauty GIF:",u),c(!0)}finally{o(!1),t==null||t()}})()},[s,e,t]),i?r.jsx("div",{className:"flex justify-center py-4",children:r.jsx("div",{className:"animate-pulse bg-gradient-to-r from-pink-200 to-purple-200 rounded-3xl h-32 w-48"})}):l||!a?null:r.jsx("div",{className:"flex justify-center py-6",children:r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:a.url,alt:a.title,className:`rounded-3xl shadow-lg max-w-xs hover:shadow-xl transition-all duration-300
            border-2 border-white group-hover:scale-105`,style:{maxHeight:"200px",width:"auto"},loading:"lazy"}),r.jsx("div",{className:"absolute -top-2 -right-2 text-xl animate-bounce",children:"✨"}),r.jsx("div",{className:"absolute -bottom-2 -left-2 text-lg opacity-70",children:"💄"}),r.jsx("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-xs px-2 py-1 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity",children:"via GIPHY"})]})})},ete=s=>{const e=s.replace(/\*\*(.*?)\*\*/g,'<strong class="text-primary-600 font-bold">$1</strong>').replace(/### (.*?)\n/g,'<h3 class="text-xl font-bold text-primary-600 mb-4">$1</h3>').replace(/## (.*?)\n/g,'<h2 class="text-2xl font-bold text-primary-600 mb-6">$1</h2>').split(`

`).filter(i=>i.trim().length>0),t=[],a={lipstick:["lipstick","lip","rouge","labial"],makeup:["makeup","maquillaje","cosmetics","base"],skincare:["skincare","skin","piel","facial"],hair:["hair","cabello","pelo","styling"],nails:["nails","uñas","manicure","nail art"],eyeshadow:["eyeshadow","eye","ojos","shadow"],mascara:["mascara","eyelash","pestañas"],blush:["blush","rubor","cheek","mejillas"]},n=i=>{const o=i.toLowerCase(),l=[];return Object.entries(a).forEach(([c,d])=>{d.some(u=>o.includes(u))&&l.push(c)}),l};return e.forEach((i,o)=>{if(t.push(r.jsx("div",{className:"paragraph-content",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:i}})},`paragraph-${o}`)),(o===1||o===Math.floor(e.length/2)||o===e.length-2)&&o<e.length-1){const c=n(i);t.push(r.jsx(Xee,{keywords:c,index:o},`gif-${o}`))}}),t};function W2({postId:s,parentCommentId:e,onCommentAdded:t,onCancel:a}){const[n,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(""),u=2e3,h=!!e,p=async f=>{var y,x;if(f.preventDefault(),!n.trim()){d("Comment cannot be empty");return}if(n.length>u){d(`Comment too long (max ${u} characters)`);return}l(!0),d("");try{const g=await G.post(`/api/comments/posts/${s}/comments`,{content:n.trim(),parentCommentId:e||null});g.data.success&&(i(""),t(g.data.comment))}catch(g){d(((x=(y=g.response)==null?void 0:y.data)==null?void 0:x.message)||"Error posting comment")}finally{l(!1)}};return r.jsxs("form",{onSubmit:p,className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("textarea",{value:n,onChange:f=>i(f.target.value),placeholder:h?"Write your reply...":"Share your thoughts...",className:"w-full p-4 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",rows:h?3:4,maxLength:u,disabled:o}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("span",{className:`text-sm ${n.length>u*.9?"text-red-500":"text-gray-500"}`,children:[n.length," / ",u]}),c&&r.jsx("span",{className:"text-sm text-red-500",children:c})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",disabled:o||!n.trim(),className:"btn btn-primary rounded-full px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"✨ Posting...":h?"💬 Reply":"✨ Post Comment"}),a&&r.jsx("button",{type:"button",onClick:a,className:"btn btn-secondary rounded-full px-6 py-2",children:"Cancel"})]})]})}function fh({comment:s,onReplyAdded:e,depth:t=0}){const{user:a,isAuthenticated:n}=we(),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(s.content),[h,p]=m.useState(s.user_has_liked),[f,y]=m.useState(s.likes_count),[x,g]=m.useState(!1),[v,b]=m.useState(""),k=(a==null?void 0:a.id)===s.user_id,w=k&&!s.is_deleted,N=5,j=async()=>{if(n)try{const P=await G.post(`/api/comments/comments/${s.id}/like`);P.data.success&&(p(P.data.liked),y(A=>P.data.liked?A+1:A-1))}catch(P){console.error("Error toggling like:",P)}},_=async()=>{var P,A;if(d.trim())try{(await G.put(`/api/comments/comments/${s.id}`,{content:d})).data.success&&(c(!1),window.location.reload())}catch(L){alert(((A=(P=L.response)==null?void 0:P.data)==null?void 0:A.message)||"Error editing comment")}},S=async()=>{if(confirm("Are you sure you want to delete this comment?"))try{(await G.delete(`/api/comments/comments/${s.id}`)).data.success&&window.location.reload()}catch(P){console.error("Error deleting comment:",P)}},C=async()=>{if(!v.trim()){alert("Please provide a reason for reporting");return}try{(await G.post(`/api/comments/comments/${s.id}/report`,{reason:v})).data.success&&(alert("Report submitted. Thank you for helping keep our community safe."),g(!1),b(""))}catch(P){console.error("Error reporting comment:",P)}},I=P=>P==="admin"?r.jsx("span",{className:"text-xs bg-purple-500 text-white px-2 py-0.5 rounded-full ml-2",children:"Admin"}):P==="moderator"?r.jsx("span",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-full ml-2",children:"Mod"}):null;return s.is_deleted?r.jsxs("div",{className:`${t>0?"ml-8":""}`,children:[r.jsx("div",{className:"bg-gray-100 rounded-3xl p-4 text-gray-500 italic",children:"[Comment deleted]"}),s.replies&&s.replies.length>0&&r.jsx("div",{className:"mt-4 space-y-4",children:s.replies.map(P=>r.jsx(fh,{comment:P,onReplyAdded:e,depth:Math.min(t+1,N)},P.id))})]}):r.jsxs("div",{className:`${t>0&&t<N?"ml-8":""}`,children:[r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:s.avatar_url?r.jsx("img",{src:s.avatar_url,alt:s.username,className:"w-10 h-10 rounded-full"}):s.username.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:s.username}),I(s.role)]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[ey(new Date(s.created_at),{addSuffix:!0}),s.is_edited&&r.jsx("span",{className:"ml-2 text-xs",children:"(edited)"})]})]})]})}),l?r.jsxs("div",{className:"mb-4",children:[r.jsx("textarea",{value:d,onChange:P=>u(P.target.value),className:"w-full p-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,maxLength:2e3}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{onClick:_,className:"btn btn-primary rounded-full text-sm px-4 py-1",children:"Save"}),r.jsx("button",{onClick:()=>{c(!1),u(s.content)},className:"btn btn-secondary rounded-full text-sm px-4 py-1",children:"Cancel"})]})]}):r.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:s.content}),r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("button",{onClick:j,disabled:!n,className:`flex items-center gap-1 text-sm rounded-full px-3 py-1 transition-colors ${h?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${n?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("span",{children:h?"❤️":"🤍"}),r.jsx("span",{children:f})]}),n&&r.jsx("button",{onClick:()=>o(!i),className:"text-sm text-gray-600 hover:text-purple-600 bg-gray-100 hover:bg-purple-50 px-3 py-1 rounded-full transition-colors",children:"💬 Reply"}),w&&!l&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>c(!0),className:"text-sm text-gray-600 hover:text-blue-600 bg-gray-100 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors",children:"✏️ Edit"}),r.jsx("button",{onClick:S,className:"text-sm text-gray-600 hover:text-red-600 bg-gray-100 hover:bg-red-50 px-3 py-1 rounded-full transition-colors",children:"🗑️ Delete"})]}),n&&!k&&r.jsx("button",{onClick:()=>g(!x),className:"text-sm text-gray-600 hover:text-orange-600 bg-gray-100 hover:bg-orange-50 px-3 py-1 rounded-full transition-colors",children:"🚩 Report"})]}),x&&r.jsxs("div",{className:"mt-4 bg-orange-50 rounded-2xl p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Report Comment"}),r.jsx("textarea",{value:v,onChange:P=>b(P.target.value),placeholder:"Please describe why you're reporting this comment...",className:"w-full p-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{onClick:C,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-1 rounded-full text-sm transition-colors",children:"Submit Report"}),r.jsx("button",{onClick:()=>{g(!1),b("")},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm transition-colors",children:"Cancel"})]})]})]}),i&&r.jsx("div",{className:"mt-4 ml-8",children:r.jsx(W2,{postId:s.post_id,parentCommentId:s.id,onCommentAdded:()=>{o(!1),e()},onCancel:()=>o(!1)})}),s.replies&&s.replies.length>0&&r.jsx("div",{className:"mt-4 space-y-4",children:s.replies.map(P=>r.jsx(fh,{comment:P,onReplyAdded:e,depth:Math.min(t+1,N)},P.id))})]})}function tte({postId:s}){const{isAuthenticated:e}=we(),[t,a]=m.useState([]),[n,i]=m.useState(!0),[o,l]=m.useState(0);m.useEffect(()=>{c()},[s]);const c=async()=>{try{i(!0);const h=await G.get(`/api/comments/posts/${s}/comments`);h.data.success&&(a(h.data.comments),l(h.data.total))}catch(h){console.error("Error fetching comments:",h)}finally{i(!1)}},d=h=>{h.parent_comment_id||(a(p=>[...p,h]),l(p=>p+1))},u=()=>{c(),l(h=>h+1)};return n?r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-48 mb-6"}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>r.jsx("div",{className:"h-32 bg-gray-200 rounded-3xl"},h))})]}):r.jsxs("div",{className:"mt-12",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:["💬 Comments (",o,")"]}),e?r.jsx(W2,{postId:s,onCommentAdded:d}):r.jsxs("div",{className:"bg-purple-50 rounded-3xl p-6 mb-8 text-center",children:[r.jsx("p",{className:"text-gray-700",children:"Sign in to join the conversation"}),r.jsx("a",{href:"/auth",className:"btn btn-primary rounded-full mt-4 inline-block",children:"Sign In"})]}),r.jsx("div",{className:"space-y-6 mt-8",children:t.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:r.jsx("p",{className:"text-lg",children:"Be the first to comment! 💬"})}):t.map(h=>r.jsx(fh,{comment:h,onReplyAdded:u},h.id))})]})}const Mx=["💄","💅","✨","💖","🌟","👑","🦄","🌈","💎","🎀","🌸","🦋"],$x=["💕","🔥","⭐","💫","🌺","🍃","💐","🌙","☀️","🎊"],rte=({content:s})=>{const e=ete(s),t=()=>Mx[Math.floor(Math.random()*Mx.length)],a=()=>$x[Math.floor(Math.random()*$x.length)],n=o=>{const l=[r.jsx("div",{className:"text-4xl opacity-20 absolute -top-2 -left-2",children:t()}),r.jsxs("div",{className:"flex space-x-2 text-2xl opacity-30 absolute -top-3 -right-3",children:[r.jsx("span",{children:a()}),r.jsx("span",{children:t()})]}),r.jsx("div",{className:"absolute -bottom-2 -right-2 text-3xl opacity-25 transform rotate-12",children:t()}),r.jsx("div",{className:"absolute -top-1 -left-1 text-xl opacity-40",children:r.jsx(Ee,{className:"h-6 w-6 text-primary-400"})}),r.jsx("div",{className:"absolute -bottom-1 -left-2 text-2xl opacity-30",children:a()})];return l[o%l.length]},i=o=>{const l=["bg-gradient-to-br from-pink-50 to-purple-50","bg-gradient-to-bl from-yellow-50 to-orange-50","bg-gradient-to-tr from-blue-50 to-cyan-50","bg-gradient-to-tl from-green-50 to-teal-50","bg-gradient-to-r from-rose-50 to-pink-50","bg-gradient-to-l from-purple-50 to-indigo-50"];return l[o%l.length]};return r.jsxs("div",{className:"space-y-8",children:[e.map((o,l)=>{var d,u;if((d=o.key)==null?void 0:d.toString().includes("paragraph")){const h=parseInt(((u=o.key)==null?void 0:u.toString().split("-")[1])||"0"),p=h%2===0,f=p?"text-left":"text-right",y=p?"justify-start":"justify-end",x=p?"mr-8 md:mr-16":"ml-8 md:ml-16";return r.jsx(E.div,{initial:{opacity:0,x:p?-50:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:l*.2},className:`flex ${y}`,children:r.jsxs("div",{className:`relative max-w-2xl ${x} p-6 rounded-full ${i(h)}
                  border-2 border-white shadow-lg hover:shadow-xl transition-all duration-300
                  transform hover:scale-105`,children:[n(h),r.jsx("div",{className:`${f} text-gray-800 leading-relaxed font-medium`,children:o}),r.jsx("div",{className:`absolute ${p?"-right-2":"-left-2"} top-1/2 transform -translate-y-1/2
                  w-1 h-16 bg-gradient-to-b from-primary-400 to-secondary-400 rounded-full`}),h%3===0&&r.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:r.jsx(E.div,{animate:{y:[-5,-15,-5],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-pink-400 opacity-60",children:r.jsx(We,{className:"h-5 w-5"})})}),h%4===1&&r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(E.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"text-yellow-400 opacity-50",children:r.jsx(nt,{className:"h-4 w-4"})})})]})},o.key)}else return r.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:l*.2},children:o},o.key)}),r.jsx(E.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.8,delay:e.length*.2},className:"flex justify-center items-center py-8",children:r.jsxs("div",{className:"flex items-center space-x-4 text-3xl",children:[r.jsx("span",{className:"animate-bounce",children:"💖"}),r.jsx("span",{className:"animate-pulse",children:"✨"}),r.jsx("span",{className:"animate-bounce delay-100",children:"💄"}),r.jsx("span",{className:"animate-pulse delay-200",children:"🌟"}),r.jsx("span",{className:"animate-bounce delay-300",children:"💅"})]})})]})},ste=()=>{const{slug:s}=ln(),{t:e,i18n:t}=je(),[a,n]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{(async()=>{if(s)try{o(!0);const h=t.language==="es-MX"||t.language==="es"?"es":"en",f=await(await fetch(`/api/blog/posts/${s}?lang=${h}`)).json();f.success?n(f.post):c("Blog post not found")}catch(h){c("Error loading blog post"),console.error("Error fetching blog post:",h)}finally{o(!1)}})()},[s]),m.useEffect(()=>{s&&(async()=>{try{o(!0);const h=t.language==="es-MX"||t.language==="es"?"es":"en",f=await(await fetch(`/api/blog/posts/${s}?lang=${h}`)).json();f.success?n(f.post):c("Blog post not found")}catch(h){c("Error loading blog post"),console.error("Error fetching blog post:",h)}finally{o(!1)}})()},[t.language,s]);const d=u=>{const h=new Date(u),p=t.language==="es-MX"||t.language==="es"?"es-MX":"en-US";return h.toLocaleDateString(p,{year:"numeric",month:"long",day:"numeric"})};return i?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4"}),r.jsx("p",{className:"text-gray-600",children:e("pages.blog.loadingArticle")})]})}):l||!a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-full p-8 max-w-md mx-auto",children:[r.jsx("p",{className:"text-red-600 mb-4",children:l||e("pages.blog.postNotFound")}),r.jsx(Z,{to:"/blog",className:"btn btn-primary rounded-full",children:e("pages.blog.backToBlog")})]})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50",children:[r.jsx("section",{className:"relative py-8 px-4",children:r.jsx("div",{className:"container mx-auto max-w-4xl",children:r.jsxs(Z,{to:"/blog",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors mb-8",children:[r.jsx(st,{className:"h-5 w-5"}),r.jsx("span",{children:e("pages.blog.backToBlog")})]})})}),r.jsx("article",{className:"pb-16 px-4",children:r.jsxs("div",{className:"container mx-auto max-w-4xl",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white rounded-full shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"p-8 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx("time",{children:d(a.published_at)}),r.jsx("span",{className:"text-gray-300",children:"•"}),r.jsx(ks,{className:"h-4 w-4"}),r.jsx("span",{children:a.author})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 leading-tight",children:a.title}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-purple-600 bg-purple-50 rounded-full px-3 py-1 inline-flex",children:[r.jsx(Ee,{className:"h-3 w-3"}),r.jsx("span",{children:e("pages.blog.createdForBeautyCita")})]})]}),r.jsx("div",{className:"p-8 max-w-none",children:r.jsx(rte,{content:a.content})})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full p-8 text-center text-white",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:e("pages.blog.readyForTransformation")}),r.jsx("p",{className:"text-lg mb-6 opacity-90",children:e("pages.blog.discoverStylists")}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(Z,{to:"/services",className:"btn btn-white rounded-full",children:e("pages.blog.viewServices")}),r.jsx(Z,{to:"/stylists",className:"btn btn-outline border-white text-white hover:bg-white hover:text-primary-600 rounded-full",children:e("pages.blog.findStylists")})]})]}),r.jsx(tte,{postId:a.id})]})})]})},ate=()=>{const{t:s}=je(),[e,t]=m.useState(""),[a,n]=m.useState(null),[i,o]=m.useState(!1);m.useEffect(()=>{const u=localStorage.getItem("darkMode")==="true";o(u);const h=()=>{o(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const l=[{icon:jy,title:"Getting Started",description:"Learn the basics of using BeautyCita",articles:8,gradient:"from-pink-500 to-purple-600"},{icon:mk,title:s("pages.help.booking"),description:"Learn how to book services, manage appointments, and reschedule",articles:8,gradient:"from-purple-500 to-blue-600"},{icon:Ge,title:s("pages.help.payments"),description:"Payment methods, billing, refunds, and subscription management",articles:6,gradient:"from-blue-500 to-indigo-600"},{icon:ks,title:s("pages.help.account"),description:"Profile settings, preferences, and account security",articles:5,gradient:"from-indigo-500 to-purple-600"},{icon:Ke,title:"Safety & Trust",description:"Security features and trust protocols",articles:7,gradient:"from-purple-500 to-pink-600"}],c=[{question:"How do I book an appointment through BeautyCita?",answer:"To book an appointment, browse our services or stylists, select your preferred time slot, and complete the booking form. You'll receive a confirmation email and SMS with all the details."},{question:"Can I cancel or reschedule my appointment?",answer:'Yes, you can cancel or reschedule up to 24 hours before your appointment without any fees. Simply go to "My Bookings" in your profile or contact the stylist directly.'},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, debit cards, and digital payment methods including PayPal and Apple Pay. Payment is processed securely through our platform."},{question:"How does the Aphrodite AI recommendation system work?",answer:"Aphrodite AI analyzes your preferences, beauty history, and current trends to suggest personalized services and stylists that match your style and needs."},{question:"What if I'm not satisfied with my service?",answer:"We have a 100% satisfaction guarantee. If you're not happy with your service, contact us within 24 hours and we'll work to resolve the issue or provide a full refund."},{question:"How do I become a verified stylist on BeautyCita?",answer:"Apply through our stylist registration page, submit your credentials and portfolio, and complete our verification process. Once approved, you can start accepting bookings."}],d=[{title:"Getting Started with BeautyCita",description:"Complete guide for new users",views:1234},{title:"Understanding Your Beauty Profile",description:"How to set up preferences for better recommendations",views:987},{title:"Booking Your First Appointment",description:"Step-by-step booking process",views:856},{title:"Stylist Selection Tips",description:"How to choose the perfect stylist for you",views:743}];return r.jsxs("div",{className:`min-h-screen ${i?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("pages.help.title"),subtitle:s("pages.help.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:i,height:"h-96",children:r.jsxs("div",{className:"relative max-w-xl mx-auto mt-8",children:[r.jsx(Ot,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 ${i?"text-gray-400":"text-gray-500"}`}),r.jsx("input",{type:"text",placeholder:s("pages.help.searchPlaceholder"),value:e,onChange:u=>t(u.target.value),className:`w-full pl-12 pr-6 py-4 rounded-full border focus:ring-2 transition-all text-lg shadow-lg ${i?"bg-gray-800 border-gray-700 text-white placeholder-gray-400 focus:ring-purple-500 focus:border-purple-500":"bg-white border-gray-200 text-gray-900 placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500"}`})]})}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl py-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${i?"text-white":"text-gray-900"}`,children:s("pages.help.popularTopics")}),r.jsx("p",{className:`text-lg ${i?"text-gray-400":"text-gray-600"}`,children:"Browse help by topic"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((u,h)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:`${u.gradient}/10`,isDarkMode:i,className:"h-full cursor-pointer group hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${u.gradient} group-hover:scale-110 transition-transform shadow-lg`,children:r.jsx(u.icon,{className:"h-8 w-8 text-white"})})}),r.jsx("h3",{className:`text-xl font-bold mb-3 text-center ${i?"text-white":"text-gray-900"}`,children:u.title}),r.jsx("p",{className:`text-sm text-center mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:u.description}),r.jsx("div",{className:"text-center",children:r.jsxs("span",{className:`text-xs px-3 py-1.5 rounded-full ${i?"bg-gray-700 text-gray-300":"bg-gradient-to-r from-pink-100 to-purple-100 text-purple-700"}`,children:[u.articles," articles"]})})]})},u.title))})]}),r.jsxs("section",{className:"container mx-auto px-4 max-w-4xl py-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${i?"text-white":"text-gray-900"}`,children:s("pages.help.faq")}),r.jsx("p",{className:`text-lg ${i?"text-gray-400":"text-gray-600"}`,children:"Quick answers to common questions"})]}),r.jsx(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:i,children:r.jsx("div",{className:"space-y-4",children:c.map((u,h)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:h*.05},viewport:{once:!0},className:`rounded-3xl overflow-hidden ${i?"bg-gray-800/50":"bg-white/70"} backdrop-blur-sm`,children:[r.jsxs("button",{onClick:()=>n(a===h?null:h),className:`w-full p-6 text-left flex justify-between items-center transition-colors ${i?"hover:bg-gray-700/50":"hover:bg-gray-50/70"}`,children:[r.jsx("h3",{className:`text-lg font-semibold pr-4 ${i?"text-white":"text-gray-900"}`,children:u.question}),r.jsx(gy,{className:`h-5 w-5 flex-shrink-0 transition-transform ${a===h?"rotate-180":""} ${i?"text-gray-400":"text-gray-500"}`})]}),a===h&&r.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-6",children:r.jsx("p",{className:`leading-relaxed ${i?"text-gray-300":"text-gray-600"}`,children:u.answer})})]},h))})})]}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl py-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${i?"text-white":"text-gray-900"}`,children:"Popular Articles"}),r.jsx("p",{className:`text-lg ${i?"text-gray-400":"text-gray-600"}`,children:"Most helpful guides and resources"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:d.map((u,h)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-pink-500/5 via-purple-500/5 to-blue-500/5",isDarkMode:i,className:"cursor-pointer group hover:shadow-xl transition-all duration-300",children:[r.jsx("h3",{className:`text-lg font-bold mb-3 ${i?"text-white group-hover:text-purple-400":"text-gray-900 group-hover:text-purple-600"} transition-colors`,children:u.title}),r.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:u.description}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500",children:[u.views," views"]}),r.jsx("span",{className:"font-medium bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Read more →"})]})]})},u.title))})]}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(Ft,{className:"h-16 w-16 text-white/90"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:s("pages.help.stillNeedHelp")}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Our support team is available 24/7 to help you with any questions or issues."}),r.jsx("button",{className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:s("pages.help.contactSupport")})]})]})]})},nte=()=>{const{t:s}=je(),[e,t]=m.useState(!1),[a,n]=m.useState({name:"",email:"",subject:"",message:"",inquiryType:"general"}),[i,o]=m.useState(!1);m.useEffect(()=>{const h=localStorage.getItem("darkMode")==="true";t(h);const p=()=>{const f=localStorage.getItem("darkMode")==="true";t(f)};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const l=h=>{n({...a,[h.target.name]:h.target.value})},c=async h=>{h.preventDefault(),o(!0);try{await new Promise(p=>setTimeout(p,1e3)),R.success("Message sent successfully! We'll get back to you soon."),n({name:"",email:"",subject:"",message:"",inquiryType:"general"})}catch{R.error("Failed to send message. Please try again.")}finally{o(!1)}},d=[{icon:ir,title:s("pages.contact.generalInquiries"),description:"For general questions and information",contact:"hello@beautycita.com",gradient:"from-pink-500 to-purple-600"},{icon:Ft,title:s("pages.contact.support"),description:"Technical support and account help",contact:"support@beautycita.com",gradient:"from-purple-500 to-blue-600"},{icon:et,title:s("pages.contact.partnerships"),description:"Business partnerships and collaborations",contact:"partnerships@beautycita.com",gradient:"from-blue-500 to-indigo-600"},{icon:b_,title:s("pages.contact.press"),description:"Media inquiries and press relations",contact:"press@beautycita.com",gradient:"from-purple-500 to-pink-600"}],u={address:"Av. Insurgentes Sur 1234, Colonia del Valle, 03100 Ciudad de México, México",phone:"+52 55 1234 5678",email:"hello@beautycita.com",hours:{weekdays:"9:00 AM - 6:00 PM",weekends:"10:00 AM - 4:00 PM"}};return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("pages.contact.title"),subtitle:s("pages.contact.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96"}),r.jsxs("section",{className:"container mx-auto px-4 max-w-7xl py-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:s("pages.contact.getInTouch")}),r.jsx("p",{className:`text-lg ${e?"text-gray-300":"text-gray-600"}`,children:"Choose the best way to reach us"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((h,p)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:p*.1},viewport:{once:!0},children:r.jsx(xe,{gradient:h.gradient,isDarkMode:e,hoverable:!0,delay:p*.05,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:`p-4 rounded-full bg-gradient-to-br ${h.gradient}`,children:r.jsx(h.icon,{className:"h-8 w-8 text-white"})})}),r.jsx("h3",{className:`text-lg font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:h.title}),r.jsx("p",{className:`text-sm mb-3 ${e?"text-gray-400":"text-gray-600"}`,children:h.description}),r.jsx("a",{href:`mailto:${h.contact}`,className:"text-sm font-medium bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent hover:from-pink-700 hover:to-purple-700 transition-all",children:h.contact})]})})},h.title))})]}),r.jsx("section",{className:`py-16 ${e?"bg-gray-800/50":"bg-white/50"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[r.jsx(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,hoverable:!1,children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Send us a message"}),r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:s("pages.contact.name")}),r.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:l,required:!0,className:`w-full px-4 py-3 rounded-full border transition-all focus:ring-4 focus:ring-pink-500/50 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-200 text-gray-900 placeholder-gray-400"}`})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:s("pages.contact.email")}),r.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:l,required:!0,className:`w-full px-4 py-3 rounded-full border transition-all focus:ring-4 focus:ring-pink-500/50 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-200 text-gray-900 placeholder-gray-400"}`})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"inquiryType",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Inquiry Type"}),r.jsxs("select",{id:"inquiryType",name:"inquiryType",value:a.inquiryType,onChange:l,className:`w-full px-4 py-3 rounded-full border transition-all focus:ring-4 focus:ring-pink-500/50 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[r.jsx("option",{value:"general",children:"General Inquiry"}),r.jsx("option",{value:"support",children:"Technical Support"}),r.jsx("option",{value:"partnership",children:"Partnership"}),r.jsx("option",{value:"press",children:"Press & Media"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"subject",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:s("pages.contact.subject")}),r.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:l,required:!0,className:`w-full px-4 py-3 rounded-full border transition-all focus:ring-4 focus:ring-pink-500/50 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-200 text-gray-900 placeholder-gray-400"}`})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:s("pages.contact.message")}),r.jsx("textarea",{id:"message",name:"message",rows:6,value:a.message,onChange:l,required:!0,className:`w-full px-4 py-3 rounded-full border transition-all focus:ring-4 focus:ring-pink-500/50 resize-none ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-200 text-gray-900 placeholder-gray-400"}`})]}),r.jsxs("button",{type:"submit",disabled:i,className:"w-full px-6 py-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-medium rounded-full hover:from-pink-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center justify-center space-x-2",children:[r.jsx(pi,{className:"h-5 w-5"}),r.jsx("span",{children:i?"Sending...":s("pages.contact.send")})]})]})]})}),r.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-6",children:[r.jsxs(xe,{gradient:"from-purple-500/10 to-blue-500/10",isDarkMode:e,hoverable:!1,children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:s("pages.contact.location")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center",children:r.jsx(ot,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Address"}),r.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:u.address})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center",children:r.jsx(na,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Phone"}),r.jsx("a",{href:`tel:${u.phone}`,className:"font-medium bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent hover:from-pink-700 hover:to-purple-700 transition-all",children:u.phone})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:r.jsx(ir,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Email"}),r.jsx("a",{href:`mailto:${u.email}`,className:"font-medium bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent hover:from-pink-700 hover:to-purple-700 transition-all",children:u.email})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:r.jsx(ve,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:s("pages.contact.hours")}),r.jsxs("div",{className:`space-y-1 ${e?"text-gray-300":"text-gray-600"}`,children:[r.jsxs("p",{children:["Monday - Friday: ",u.hours.weekdays]}),r.jsxs("p",{children:["Saturday - Sunday: ",u.hours.weekends]})]})]})]})]})]}),r.jsx("div",{className:`aspect-[4/3] rounded-2xl overflow-hidden ${e?"bg-gradient-to-br from-purple-900/50 to-blue-900/50":"bg-gradient-to-br from-pink-100 to-purple-100"} flex items-center justify-center`,children:r.jsxs("div",{className:"text-center",children:[r.jsx(ot,{className:`h-12 w-12 mx-auto mb-2 ${e?"text-purple-400":"text-purple-600"}`}),r.jsx("p",{className:`font-medium ${e?"text-purple-300":"text-purple-700"}`,children:"Interactive Map"}),r.jsx("p",{className:`text-sm ${e?"text-purple-400":"text-purple-600"}`,children:"Coming Soon"})]})})]})]})})}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto px-4 max-w-4xl text-center text-white relative z-10",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,repeatDelay:1},children:r.jsx(We,{className:"h-12 w-12 text-white"})})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-6",children:"We're here to help you look and feel your best"}),r.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Whether you have questions about our services, need technical support, or want to partner with us, our team is ready to assist you."})]})]})]})},ite=()=>{const{t:s}=je(),[e,t]=m.useState(null),[a,n]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(new Date),[d,u]=m.useState(!1);m.useEffect(()=>{const v=localStorage.getItem("darkMode")==="true";u(v);const b=()=>{u(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[]);const h=async()=>{try{o(null);const v=await fetch("/api/status");if(!v.ok)throw new Error(`HTTP ${v.status}: ${v.statusText}`);const b=await v.json();t(b),c(new Date)}catch(v){o(v instanceof Error?v.message:"Failed to fetch status"),console.error("Status fetch error:",v)}finally{n(!1)}};m.useEffect(()=>{h();const v=setInterval(h,3e4);return()=>clearInterval(v)},[]);const p=v=>{switch(v){case"operational":return r.jsx(ie,{className:"h-6 w-6 text-green-500"});case"degraded":return r.jsx(dt,{className:"h-6 w-6 text-yellow-500"});case"outage":return r.jsx(rt,{className:"h-6 w-6 text-red-500"});case"maintenance":return r.jsx(ve,{className:"h-6 w-6 text-blue-500"});default:return r.jsx(ie,{className:"h-6 w-6 text-green-500"})}},f=v=>{switch(v){case"operational":return"text-green-600";case"degraded":return"text-yellow-600";case"outage":return"text-red-600";case"maintenance":return"text-blue-600";default:return"text-green-600"}},y=[{name:"API Server",key:"API",icon:F_,gradient:"from-pink-500 to-purple-600"},{name:"Payment Processing",key:"Payments",icon:Ge,gradient:"from-purple-500 to-blue-600"},{name:"SMS Notifications",key:"Notifications",icon:hi,gradient:"from-blue-500 to-indigo-600"},{name:"Database",key:"Database",icon:_k,gradient:"from-indigo-500 to-purple-600"}],g=i||!e?"error":e.overall;return r.jsxs("div",{className:`min-h-screen ${d?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"System Status",subtitle:"Real-time service monitoring and uptime",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:d,height:"h-80",children:r.jsxs("div",{className:"mt-6",children:[g==="operational"&&r.jsxs("div",{className:"inline-flex items-center space-x-2 px-6 py-3 bg-green-500/20 backdrop-blur-sm rounded-3xl border border-green-500/30",children:[r.jsx(ie,{className:"h-6 w-6 text-white"}),r.jsx("span",{className:"text-white font-semibold",children:"All Systems Operational"})]}),g==="degraded"&&r.jsxs("div",{className:"inline-flex items-center space-x-2 px-6 py-3 bg-yellow-500/20 backdrop-blur-sm rounded-3xl border border-yellow-500/30",children:[r.jsx(dt,{className:"h-6 w-6 text-white"}),r.jsx("span",{className:"text-white font-semibold",children:"Some Systems Degraded"})]}),g==="outage"&&r.jsxs("div",{className:"inline-flex items-center space-x-2 px-6 py-3 bg-red-500/20 backdrop-blur-sm rounded-3xl border border-red-500/30",children:[r.jsx(rt,{className:"h-6 w-6 text-white"}),r.jsx("span",{className:"text-white font-semibold",children:"Service Outage"})]}),g==="error"&&r.jsxs("div",{className:"inline-flex items-center space-x-2 px-6 py-3 bg-red-500/20 backdrop-blur-sm rounded-3xl border border-red-500/30",children:[r.jsx(rt,{className:"h-6 w-6 text-white"}),r.jsx("span",{className:"text-white font-semibold",children:"Unable to Load Status"})]})]})}),r.jsx("section",{className:"container mx-auto px-4 max-w-6xl py-16",children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:d,children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h2",{className:`text-2xl font-bold ${d?"text-white":"text-gray-900"}`,children:"Service Components"}),r.jsxs("button",{onClick:h,disabled:a,className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors ${d?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:[r.jsx(hl,{className:`h-4 w-4 ${a?"animate-spin":""}`}),r.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]}),a&&!e?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(hl,{className:"h-8 w-8 animate-spin text-purple-500"}),r.jsx("span",{className:`ml-3 ${d?"text-gray-300":"text-gray-600"}`,children:"Loading status..."})]}):e?r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:y.map((v,b)=>{const k=e.services[v.key]||{status:"operational",message:"Operational"},w=v.icon;return r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:b*.1},children:r.jsxs("div",{className:`p-6 rounded-3xl ${d?"bg-gray-800/50":"bg-white/70"} backdrop-blur-sm border ${d?"border-gray-700":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-3 rounded-3xl bg-gradient-to-r ${v.gradient}`,children:r.jsx(w,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:v.name}),r.jsx("p",{className:`text-sm ${d?"text-gray-400":"text-gray-500"}`,children:v.key})]})]}),p(k.status)]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`font-medium ${f(k.status)}`,children:k.message}),k.uptime&&r.jsxs("span",{className:`text-sm ${d?"text-gray-400":"text-gray-500"}`,children:[k.uptime,"% uptime"]})]})]})},v.key)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(rt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:`mb-2 ${d?"text-red-400":"text-red-600"}`,children:"Failed to load status"}),r.jsx("p",{className:`text-sm ${d?"text-gray-400":"text-gray-500"}`,children:i})]}),r.jsxs("div",{className:`flex items-center justify-between mt-8 pt-6 border-t ${d?"border-gray-700":"border-gray-200"}`,children:[r.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-500"}`,children:["Last updated: ",l.toLocaleString()]}),r.jsx("p",{className:`text-xs ${d?"text-gray-500":"text-gray-400"}`,children:"Auto-refreshes every 30 seconds"})]})]})}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl pb-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${d?"text-white":"text-gray-900"}`,children:"Uptime Performance"}),r.jsx("p",{className:`text-lg ${d?"text-gray-400":"text-gray-600"}`,children:"Last 30 days availability"})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{label:"Overall Uptime",value:"99.9%",gradient:"from-green-500 to-emerald-600"},{label:"Average Response Time",value:"120ms",gradient:"from-blue-500 to-indigo-600"},{label:"Incidents Resolved",value:"24/7",gradient:"from-purple-500 to-pink-600"}].map((v,b)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:b*.1},viewport:{once:!0},children:r.jsx(xe,{gradient:`${v.gradient}/10`,isDarkMode:d,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-4xl font-bold mb-2 bg-gradient-to-r ${v.gradient} bg-clip-text text-transparent`,children:v.value}),r.jsx("div",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:v.label})]})})},v.label))})]}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx(hi,{className:"h-16 w-16 text-white/90 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Get Status Updates"}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Subscribe to receive notifications about system status changes and scheduled maintenance."}),r.jsx("button",{className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Subscribe to Updates"})]})]})]})},ote=()=>{const{t:s}=je(),[e,t]=m.useState(!1),[a,n]=m.useState(!1),[i,o]=m.useState({category:"technical",priority:"medium",description:"",email:"",files:[]});m.useEffect(()=>{const h=localStorage.getItem("darkMode")==="true";t(h);const p=()=>{t(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const l=[{value:"technical",label:"Technical Issue",gradient:"from-blue-500 to-indigo-600"},{value:"safety",label:"Safety Concern",gradient:"from-red-500 to-pink-600"},{value:"payment",label:"Payment Problem",gradient:"from-green-500 to-emerald-600"},{value:"other",label:"Other",gradient:"from-purple-500 to-pink-600"}],c=[{value:"low",label:"Low",color:"text-blue-600"},{value:"medium",label:"Medium",color:"text-yellow-600"},{value:"high",label:"High",color:"text-orange-600"},{value:"urgent",label:"Urgent",color:"text-red-600"}],d=h=>{h.preventDefault(),console.log("Report submitted:",i),n(!0),setTimeout(()=>{n(!1),o({category:"technical",priority:"medium",description:"",email:"",files:[]})},3e3)},u=h=>{h.target.files&&o({...i,files:Array.from(h.target.files)})};return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"Report an Issue",subtitle:"Help us improve BeautyCita by reporting problems or concerns",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-80"}),r.jsxs("section",{className:"container mx-auto px-4 max-w-3xl py-16",children:[r.jsx(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,children:a?r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[r.jsx(ie,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Report Submitted Successfully"}),r.jsx("p",{className:e?"text-gray-400":"text-gray-600",children:"Thank you for your report. Our team will review it and respond within 24-48 hours."})]}):r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-semibold mb-3 ${e?"text-white":"text-gray-900"}`,children:"Problem Category"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(h=>r.jsx("button",{type:"button",onClick:()=>o({...i,category:h.value}),className:`p-4 rounded-3xl border-2 transition-all ${i.category===h.value?`bg-gradient-to-r ${h.gradient} text-white border-transparent shadow-lg`:e?"bg-gray-800 border-gray-700 text-gray-300 hover:border-gray-600":"bg-white border-gray-200 text-gray-700 hover:border-gray-300"}`,children:r.jsx("span",{className:"font-medium",children:h.label})},h.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-semibold mb-3 ${e?"text-white":"text-gray-900"}`,children:"Priority Level"}),r.jsx("select",{value:i.priority,onChange:h=>o({...i,priority:h.target.value}),className:`w-full px-4 py-3 rounded-3xl border transition-all ${e?"bg-gray-800 border-gray-700 text-white focus:ring-purple-500 focus:border-purple-500":"bg-white border-gray-300 text-gray-900 focus:ring-purple-500 focus:border-purple-500"}`,children:c.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-semibold mb-3 ${e?"text-white":"text-gray-900"}`,children:"Detailed Description"}),r.jsx("textarea",{rows:6,value:i.description,onChange:h=>o({...i,description:h.target.value}),placeholder:"Please provide as much detail as possible about the issue...",required:!0,className:`w-full px-4 py-3 rounded-3xl border transition-all ${e?"bg-gray-800 border-gray-700 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:ring-purple-500 focus:border-purple-500"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-semibold mb-3 ${e?"text-white":"text-gray-900"}`,children:"Your Email (optional)"}),r.jsx("input",{type:"email",value:i.email,onChange:h=>o({...i,email:h.target.value}),placeholder:"your.email@example.com",className:`w-full px-4 py-3 rounded-3xl border transition-all ${e?"bg-gray-800 border-gray-700 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:ring-purple-500 focus:border-purple-500"}`}),r.jsx("p",{className:`mt-2 text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Provide your email if you'd like us to follow up with you"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-semibold mb-3 ${e?"text-white":"text-gray-900"}`,children:"Attachments (optional)"}),r.jsxs("div",{className:`relative border-2 border-dashed rounded-3xl p-8 text-center transition-all ${e?"border-gray-700 hover:border-gray-600 bg-gray-800/50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,children:[r.jsx("input",{type:"file",multiple:!0,onChange:u,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),r.jsx(VN,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),r.jsx("p",{className:`font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Click to upload files"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Screenshots, images, or documents (Max 10MB)"}),i.files.length>0&&r.jsx("div",{className:"mt-4",children:r.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:[i.files.length," file(s) selected"]})})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 text-white font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Submit Report"})]})}),!a&&r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"mt-8",children:r.jsx(xe,{gradient:"from-blue-500/10 to-indigo-500/10",isDarkMode:e,children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(dt,{className:"h-8 w-8 text-blue-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Before You Submit"}),r.jsxs("ul",{className:`space-y-2 text-sm ${e?"text-gray-400":"text-gray-600"}`,children:[r.jsx("li",{children:"• Include as much detail as possible to help us understand the issue"}),r.jsx("li",{children:"• Screenshots or screen recordings are extremely helpful"}),r.jsx("li",{children:"• Check our Help Center for common solutions"}),r.jsx("li",{children:"• For urgent safety concerns, please contact us immediately"})]})]})]})})})]}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Need Immediate Help?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"For urgent issues, our support team is available 24/7 via live chat."}),r.jsx("button",{className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Contact Support Now"})]})]})]})},lte=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const i=localStorage.getItem("darkMode")==="true";t(i);const o=()=>{const l=localStorage.getItem("darkMode")==="true";t(l)};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]);const a=[{id:"data-collection",title:s("pages.privacy.dataCollection"),icon:At,content:s("pages.privacy.dataCollectionItems",{returnObjects:!0}),gradient:"from-pink-500 to-purple-600"},{id:"data-use",title:s("pages.privacy.dataUse"),icon:ks,content:s("pages.privacy.dataUseItems",{returnObjects:!0}),gradient:"from-purple-500 to-blue-600"},{id:"data-sharing",title:s("pages.privacy.dataSharing"),icon:$i,content:s("pages.privacy.dataSharingItems",{returnObjects:!0}),gradient:"from-blue-500 to-indigo-600"},{id:"security",title:s("pages.privacy.security"),icon:Lr,content:s("pages.privacy.securityItems",{returnObjects:!0}),gradient:"from-purple-500 to-pink-600"},{id:"your-rights",title:s("pages.privacy.rights"),icon:Ke,content:s("pages.privacy.rightsItems",{returnObjects:!0}),gradient:"from-pink-500 to-red-500"}],n=s("pages.privacy.lastUpdated");return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("pages.privacy.title"),subtitle:s("pages.privacy.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96",children:r.jsx("p",{className:`text-sm inline-block px-4 py-2 rounded-full mt-4 ${e?"bg-gray-800 text-gray-300":"bg-white/20 text-white backdrop-blur-sm"}`,children:n})}),r.jsx("section",{className:"container mx-auto px-4 max-w-4xl py-16",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,hoverable:!1,children:[r.jsx("h2",{className:`text-2xl font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:s("pages.privacy.intro")}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:s("pages.privacy.introText")})]})})}),r.jsx("section",{className:`py-16 ${e?"bg-gray-800/50":"bg-white/50"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsx("div",{className:"space-y-8",children:a.map((i,o)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:i.gradient,isDarkMode:e,hoverable:!1,children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:`p-4 rounded-full bg-gradient-to-br ${i.gradient} mr-4`,children:r.jsx(i.icon,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:`text-2xl md:text-3xl font-serif font-bold ${e?"text-white":"text-gray-900"}`,children:i.title})]}),r.jsx("ul",{className:"space-y-3",children:i.content.map((l,c)=>r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 bg-gradient-to-br ${i.gradient}`}),r.jsx("span",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:l})]},c))})]})},i.id))})})}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto px-4 max-w-4xl text-center text-white relative z-10",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(ir,{className:"h-12 w-12 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-6",children:s("pages.privacy.contact")}),r.jsx("p",{className:"text-xl mb-8 text-white/90",children:s("pages.privacy.contactText")}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-3xl p-8 max-w-md mx-auto border border-white/20",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Privacy Officer"}),r.jsxs("div",{className:"space-y-2 text-white/90",children:[r.jsx("p",{children:"Email: privacy@beautycita.com"}),r.jsx("p",{children:"Address: Av. Insurgentes Sur 1234"}),r.jsx("p",{children:"Ciudad de México, México"})]})]})]})]}),r.jsx("section",{className:`py-8 ${e?"bg-gray-800":"bg-gray-100"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:`text-center text-sm ${e?"text-gray-400":"text-gray-600"}`,children:r.jsx("p",{children:'This Privacy Policy is effective as of the date listed above and may be updated from time to time. We will notify you of any material changes by posting the new Privacy Policy on our website and updating the "Last Updated" date.'})})})})]})},cte=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const i=localStorage.getItem("darkMode")==="true";t(i);const o=()=>{const l=localStorage.getItem("darkMode")==="true";t(l)};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]);const a=[{id:"acceptance",title:s("pages.terms.acceptance"),icon:Xr,content:s("pages.terms.acceptanceItems",{returnObjects:!0}),gradient:"from-pink-500 to-purple-600"},{id:"services",title:s("pages.terms.services"),icon:ks,content:s("pages.terms.servicesItems",{returnObjects:!0}),gradient:"from-purple-500 to-blue-600"},{id:"accounts",title:s("pages.terms.accounts"),icon:ks,content:s("pages.terms.accountsItems",{returnObjects:!0}),gradient:"from-blue-500 to-indigo-600"},{id:"conduct",title:s("pages.terms.conduct"),icon:dt,content:s("pages.terms.conductItems",{returnObjects:!0}),gradient:"from-purple-500 to-pink-600"},{id:"payment",title:s("pages.terms.payment"),icon:Ge,content:s("pages.terms.paymentItems",{returnObjects:!0}),gradient:"from-pink-500 to-red-500"},{id:"cancellation",title:s("pages.terms.cancellation"),icon:op,content:s("pages.terms.cancellationItems",{returnObjects:!0}),gradient:"from-pink-500 to-purple-600"},{id:"liability",title:s("pages.terms.liability"),icon:dt,content:s("pages.terms.liabilityItems",{returnObjects:!0}),gradient:"from-purple-500 to-blue-600"},{id:"modifications",title:s("pages.terms.modifications"),icon:op,content:s("pages.terms.modificationsItems",{returnObjects:!0}),gradient:"from-blue-500 to-indigo-600"}],n=s("pages.terms.lastUpdated");return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("pages.terms.title"),subtitle:s("pages.terms.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96",children:r.jsx("p",{className:`text-sm inline-block px-4 py-2 rounded-full mt-4 ${e?"bg-gray-800 text-gray-300":"bg-white/20 text-white backdrop-blur-sm"}`,children:n})}),r.jsx("section",{className:"container mx-auto px-4 max-w-4xl py-16",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,hoverable:!1,children:[r.jsx("h2",{className:`text-2xl font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Welcome to BeautyCita"}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:s("pages.terms.introText")})]})})}),r.jsx("section",{className:`py-16 ${e?"bg-gray-800/50":"bg-white/50"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsx("div",{className:"space-y-8",children:a.map((i,o)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:i.gradient,isDarkMode:e,hoverable:!1,children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:`p-4 rounded-full bg-gradient-to-br ${i.gradient} mr-4`,children:r.jsx(i.icon,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:`text-2xl md:text-3xl font-serif font-bold ${e?"text-white":"text-gray-900"}`,children:i.title})]}),r.jsx("ul",{className:"space-y-3",children:i.content.map((l,c)=>r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 bg-gradient-to-br ${i.gradient}`}),r.jsx("span",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:l})]},c))})]})},i.id))})})}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto px-4 max-w-4xl text-center text-white relative z-10",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(Xr,{className:"h-12 w-12 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-6",children:"Questions About These Terms?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90",children:s("pages.terms.contactText")}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-3xl p-8 max-w-md mx-auto border border-white/20",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal Department"}),r.jsxs("div",{className:"space-y-2 text-white/90",children:[r.jsx("p",{children:"Email: legal@beautycita.com"}),r.jsx("p",{children:"Address: Av. Insurgentes Sur 1234"}),r.jsx("p",{children:"Ciudad de México, México"})]})]})]})]}),r.jsx("section",{className:`py-8 ${e?"bg-gray-800":"bg-gray-100"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:`text-center text-sm ${e?"text-gray-400":"text-gray-600"}`,children:r.jsx("p",{children:"These Terms of Service are governed by the laws of Mexico. Any disputes arising from these terms will be resolved in the courts of Mexico City. If any provision of these terms is found to be unenforceable, the remaining provisions will continue in full force and effect."})})})})]})},dte=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const o=localStorage.getItem("darkMode")==="true";t(o);const l=()=>{const c=localStorage.getItem("darkMode")==="true";t(c)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const a=[{id:"what-are-cookies",title:s("pages.cookies.whatAreCookies"),icon:bs,content:["Cookies are small text files stored on your device when you visit our website.","They help us provide you with a better experience by remembering your preferences and improving our services.","Cookies can be session-based (temporary) or persistent (stored for longer periods).","We use cookies in compliance with applicable privacy laws and regulations."],gradient:"from-pink-500 to-purple-600"},{id:"how-we-use",title:s("pages.cookies.howWeUse"),icon:ie,content:["Enhance your browsing experience with personalized features","Analyze website traffic and user behavior patterns","Personalize content based on your preferences","Remember your login status and preferences","Improve our services and platform performance","Provide secure authentication and prevent fraud"],gradient:"from-purple-500 to-blue-600"},{id:"types-of-cookies",title:s("pages.cookies.typesOfCookies"),icon:Nh,content:[],gradient:"from-blue-500 to-indigo-600",customContent:!0},{id:"managing",title:s("pages.cookies.managing"),icon:bs,content:["You can manage cookies through your browser settings at any time.","Most browsers allow you to view, delete, and block cookies.","Note that disabling certain cookies may affect website functionality.","Essential cookies cannot be disabled as they are required for basic site operations.","You can opt-out of analytics and marketing cookies while maintaining full access to our services.","Changing your cookie preferences will not affect previously collected data."],gradient:"from-purple-500 to-pink-600"}],n=[{title:s("pages.cookies.essential"),description:"Required for the website to function properly",examples:"Authentication, security, session management",gradient:"from-pink-500 to-purple-600"},{title:s("pages.cookies.analytics"),description:"Help us understand how visitors use our website",examples:"Page views, user interactions, performance metrics",gradient:"from-purple-500 to-blue-600"},{title:s("pages.cookies.marketing"),description:"Used to personalize ads and marketing content",examples:"Targeted advertising, campaign tracking, user preferences",gradient:"from-blue-500 to-indigo-600"}],i=s("pages.cookies.lastUpdated");return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("pages.cookies.title"),subtitle:s("pages.cookies.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96",children:r.jsx("p",{className:`text-sm inline-block px-4 py-2 rounded-full mt-4 ${e?"bg-gray-800 text-gray-300":"bg-white/20 text-white backdrop-blur-sm"}`,children:i})}),r.jsx("section",{className:"container mx-auto px-4 max-w-4xl py-16",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,hoverable:!1,children:[r.jsx("h2",{className:`text-2xl font-serif font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Understanding Our Cookie Policy"}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"BeautyCita uses cookies to enhance your experience on our platform. This policy explains what cookies are, how we use them, and how you can manage your cookie preferences. We are committed to transparency and giving you control over your data."})]})})}),r.jsx("section",{className:`py-16 ${e?"bg-gray-800/50":"bg-white/50"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsx("div",{className:"space-y-8",children:a.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:o.gradient,isDarkMode:e,hoverable:!1,children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:`p-4 rounded-full bg-gradient-to-br ${o.gradient} mr-4`,children:r.jsx(o.icon,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:`text-2xl md:text-3xl font-serif font-bold ${e?"text-white":"text-gray-900"}`,children:o.title})]}),o.customContent?r.jsx("div",{className:"space-y-6",children:n.map((c,d)=>r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 bg-gradient-to-br ${c.gradient}`}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:c.title}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:c.description}),r.jsxs("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-500"}`,children:["Examples: ",c.examples]})]})]})},d))}):r.jsx("ul",{className:"space-y-3",children:o.content.map((c,d)=>r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 bg-gradient-to-br ${o.gradient}`}),r.jsx("span",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:c})]},d))})]})},o.id))})})}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto px-4 max-w-4xl text-center text-white relative z-10",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(bs,{className:"h-12 w-12 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-6",children:"Questions About Cookies?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90",children:"If you have any questions about our cookie policy or how we use cookies, please don't hesitate to contact us."}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-3xl p-8 max-w-md mx-auto border border-white/20",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Privacy Team"}),r.jsxs("div",{className:"space-y-2 text-white/90",children:[r.jsx("p",{children:"Email: privacy@beautycita.com"}),r.jsx("p",{children:"Address: Av. Insurgentes Sur 1234"}),r.jsx("p",{children:"Ciudad de México, México"})]})]})]})]}),r.jsx("section",{className:`py-8 ${e?"bg-gray-800":"bg-gray-100"}`,children:r.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:`text-center text-sm ${e?"text-gray-400":"text-gray-600"}`,children:r.jsx("p",{children:'This Cookie Policy is effective as of the date listed above and may be updated from time to time. We will notify you of any material changes by posting the new Cookie Policy on our website and updating the "Last Updated" date. Your continued use of our services after such changes constitutes acceptance of the updated policy.'})})})})]})},ute=()=>{const{t:s}=je(),[e,t]=m.useState(!1),[a,n]=m.useState(null);m.useEffect(()=>{const o=localStorage.getItem("darkMode")==="true";t(o);const l=()=>{t(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const i=[{name:"React",version:"18.2.0",license:"MIT License",description:"A JavaScript library for building user interfaces",gradient:"from-cyan-500 to-blue-600",fullText:`MIT License

Copyright (c) Meta Platforms, Inc. and affiliates.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.`},{name:"Tailwind CSS",version:"3.3.0",license:"MIT License",description:"A utility-first CSS framework for rapid UI development",gradient:"from-teal-500 to-cyan-600",fullText:`MIT License

Copyright (c) Tailwind Labs, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software...`},{name:"Framer Motion",version:"10.16.0",license:"MIT License",description:"A production-ready motion library for React",gradient:"from-pink-500 to-purple-600",fullText:`MIT License

Copyright (c) 2018 Framer B.V.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...`},{name:"Heroicons",version:"2.0.0",license:"MIT License",description:"Beautiful hand-crafted SVG icons by the makers of Tailwind CSS",gradient:"from-purple-500 to-indigo-600",fullText:`MIT License

Copyright (c) Tailwind Labs, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software")...`},{name:"TypeScript",version:"5.2.0",license:"Apache License 2.0",description:"TypeScript is a language for application-scale JavaScript",gradient:"from-blue-500 to-indigo-600",fullText:`Apache License
Version 2.0, January 2004

Copyright (c) Microsoft Corporation.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License...`},{name:"Vite",version:"4.5.0",license:"MIT License",description:"Next generation frontend tooling",gradient:"from-yellow-500 to-orange-600",fullText:`MIT License

Copyright (c) 2019-present, Yuxi (Evan) You and Vite contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files...`}];return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"Open Source Licenses",subtitle:"We stand on the shoulders of giants - honoring the open source community",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-80"}),r.jsx("section",{className:"container mx-auto px-4 max-w-4xl py-16",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsx(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(We,{className:"h-8 w-8 text-pink-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h2",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Built with Open Source"}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"BeautyCita is built using amazing open source software. We're grateful to the developers and contributors who make these tools available. This page lists the open source projects we use and their respective licenses."})]})]})})})}),r.jsxs("section",{className:"container mx-auto px-4 max-w-4xl pb-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Third-Party Licenses"}),r.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-600"}`,children:"Click on any license to view the full text"})]}),r.jsx("div",{className:"space-y-4",children:i.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.05},viewport:{once:!0},children:r.jsxs(xe,{gradient:`${o.gradient}/10`,isDarkMode:e,children:[r.jsx("button",{onClick:()=>n(a===l?null:l),className:"w-full text-left",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-3xl bg-gradient-to-r ${o.gradient} flex-shrink-0`,children:r.jsx(yy,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:o.name}),r.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${e?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-600"}`,children:["v",o.version]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.license.includes("MIT")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:o.license})]}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:o.description})]})]}),r.jsx(gy,{className:`h-5 w-5 flex-shrink-0 ml-4 transition-transform ${a===l?"rotate-180":""} ${e?"text-gray-400":"text-gray-500"}`})]})}),a===l&&r.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-6 pt-6 border-t",style:{borderColor:e?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},children:[r.jsx("h4",{className:`font-semibold mb-3 ${e?"text-white":"text-gray-900"}`,children:"Full License Text"}),r.jsx("pre",{className:`text-xs leading-relaxed whitespace-pre-wrap font-mono p-4 rounded-full overflow-x-auto ${e?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-700"}`,children:o.fullText})]})]})},o.name))})]}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx(We,{className:"h-16 w-16 text-white/90 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Support Open Source"}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"These projects make our work possible. Consider supporting them and contributing to the open source community."}),r.jsx("button",{className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Learn How to Contribute"})]})]})]})},hte=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const o=localStorage.getItem("darkMode")==="true";t(o);const l=()=>{t(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const a=[{icon:sa,title:"Getting Started",description:"Essential guides for new stylists",gradient:"from-pink-500 to-purple-600",count:12},{icon:gl,title:"Downloads",description:"Templates and brand materials",gradient:"from-purple-500 to-blue-600",count:8},{icon:fu,title:"Video Tutorials",description:"Step-by-step video guides",gradient:"from-blue-500 to-indigo-600",count:24}],n=[{icon:sa,title:"Stylist Setup Guide",description:"Complete guide to setting up your stylist profile and getting your first clients",type:"Guide",gradient:"from-pink-500 to-purple-600",duration:"15 min read"},{icon:vt,title:"Marketing Best Practices",description:"Tips for maximizing your visibility and attracting more clients on BeautyCita",type:"Article",gradient:"from-purple-500 to-blue-600",duration:"10 min read"},{icon:Le,title:"Pricing Strategy Guide",description:"How to price your services competitively while maximizing your earnings",type:"Guide",gradient:"from-blue-500 to-indigo-600",duration:"12 min read"},{icon:et,title:"Client Management Tips",description:"Building lasting relationships and turning first-time clients into regulars",type:"Article",gradient:"from-indigo-500 to-purple-600",duration:"8 min read"},{icon:Ee,title:"Portfolio Photography",description:"Professional tips for showcasing your work and attracting dream clients",type:"Guide",gradient:"from-purple-500 to-pink-600",duration:"15 min read"},{icon:JN,title:"Booking Management",description:"Efficiently manage your schedule, cancellations, and client communications",type:"Guide",gradient:"from-pink-500 to-red-600",duration:"10 min read"}],i=[{title:"Setting Up Your Profile",duration:"8:24",views:"2.3K"},{title:"Managing Your Calendar",duration:"5:16",views:"1.8K"},{title:"Handling Client Requests",duration:"12:45",views:"3.1K"},{title:"Growing Your Business",duration:"15:32",views:"4.2K"}];return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"Stylist Resources",subtitle:"Everything you need to succeed on BeautyCita",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-80"}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl py-16",children:[r.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-16",children:a.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:`${o.gradient}/10`,isDarkMode:e,className:"text-center cursor-pointer hover:shadow-xl transition-all duration-300 group",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:`p-4 rounded-3xl bg-gradient-to-r ${o.gradient} group-hover:scale-110 transition-transform shadow-lg`,children:r.jsx(o.icon,{className:"h-8 w-8 text-white"})})}),r.jsx("h3",{className:`text-xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:o.title}),r.jsx("p",{className:`text-sm mb-4 ${e?"text-gray-400":"text-gray-600"}`,children:o.description}),r.jsxs("span",{className:`text-xs px-3 py-1.5 rounded-full ${e?"bg-gray-700 text-gray-300":"bg-gradient-to-r from-pink-100 to-purple-100 text-purple-700"}`,children:[o.count," resources"]})]})},o.title))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Featured Resources"}),r.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-600"}`,children:"Popular guides and articles to grow your business"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-16",children:n.map((o,l)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.05},viewport:{once:!0},children:r.jsx(xe,{gradient:`${o.gradient}/10`,isDarkMode:e,className:"cursor-pointer hover:shadow-xl transition-all duration-300 h-full",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:`p-3 rounded-3xl bg-gradient-to-r ${o.gradient} flex-shrink-0`,children:r.jsx(o.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.type==="Guide"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:o.type}),r.jsx("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:o.duration})]}),r.jsx("h3",{className:`text-lg font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:o.title}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:o.description}),r.jsx("div",{className:"mt-4",children:r.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Read more →"})})]})]})})},o.title))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Video Tutorials"}),r.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-600"}`,children:"Learn by watching step-by-step video guides"})]}),r.jsx(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,children:r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map((o,l)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.05},viewport:{once:!0},className:`p-4 rounded-3xl flex items-center space-x-4 cursor-pointer transition-all ${e?"bg-gray-800/50 hover:bg-gray-700/50":"bg-white/70 hover:bg-white"}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 flex items-center justify-center",children:r.jsx(fu,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:o.title}),r.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[r.jsx("span",{className:e?"text-gray-400":"text-gray-500",children:o.duration}),r.jsx("span",{className:e?"text-gray-500":"text-gray-400",children:"•"}),r.jsxs("span",{className:e?"text-gray-400":"text-gray-500",children:[o.views," views"]})]})]})]},o.title))})})]}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx(et,{className:"h-16 w-16 text-white/90 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Join the Community"}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Connect with other stylists, share tips, and learn from the best in our community forum."}),r.jsx("button",{className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Join Community"})]})]})]})},mte=()=>{const{t:s}=je(),[e,t]=m.useState(!1);m.useEffect(()=>{const i=localStorage.getItem("darkMode")==="true";t(i);const o=()=>{t(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]);const a=[{icon:sa,title:"Professional Qualifications",gradient:"from-pink-500 to-purple-600",content:["Valid beauty/cosmetology license required for verification","Minimum 1 year of professional experience","Up-to-date certifications in your specialty areas","Portfolio demonstrating quality of work","Professional liability insurance recommended"]},{icon:et,title:"Code of Conduct",gradient:"from-purple-500 to-blue-600",content:["Treat all clients with respect and professionalism","Maintain client confidentiality at all times","Arrive on time for all appointments","Communicate clearly about services and pricing","Respond to client inquiries within 24 hours"]},{icon:Ee,title:"Quality Standards",gradient:"from-blue-500 to-indigo-600",content:["Use professional-grade products and equipment","Maintain clean and hygienic work environment","Follow industry best practices and safety protocols","Continuously update skills through education","Deliver services that match or exceed descriptions"]},{icon:ve,title:"Cancellation Policy",gradient:"from-indigo-500 to-purple-600",content:["Clients can cancel free of charge up to 24 hours before","Late cancellations may result in partial charges","Stylists must honor confirmed bookings","Emergency cancellations require documentation","Repeated cancellations may affect account standing"]},{icon:ie,title:"Verification Process",gradient:"from-purple-500 to-pink-600",content:["Submit valid government-issued ID","Provide proof of professional certifications","Complete background check (where applicable)","Verify work location and contact information","Approval typically takes 2-3 business days"]},{icon:Ke,title:"Client Safety",gradient:"from-pink-500 to-red-600",content:["Strict hygiene and sanitation protocols required","Proper disposal of single-use items","Safe handling and storage of products","Immediate reporting of any safety incidents","Compliance with local health regulations"]}],n=[{label:"Verified Stylists",value:"100%",gradient:"from-green-500 to-emerald-600"},{label:"Safety Compliance",value:"5-Star",gradient:"from-blue-500 to-indigo-600"},{label:"Client Satisfaction",value:"4.8/5",gradient:"from-purple-500 to-pink-600"}];return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:"Professional Policies",subtitle:"Guidelines and standards for BeautyCita stylists",gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-80"}),r.jsx("section",{className:"container mx-auto px-4 max-w-4xl py-16",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsx(xe,{gradient:"from-pink-500/10 via-purple-500/10 to-blue-500/10",isDarkMode:e,children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Ke,{className:"h-10 w-10 text-purple-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h2",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Our Commitment to Excellence"}),r.jsx("p",{className:`leading-relaxed mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"At BeautyCita, we maintain the highest standards of professionalism and safety. Our policies ensure that both clients and stylists have the best possible experience on our platform."}),r.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"All stylists must adhere to these policies to maintain their verified status and continue serving clients through BeautyCita."})]})]})})})}),r.jsx("section",{className:"container mx-auto px-4 max-w-6xl pb-16",children:r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:n.map((i,o)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o*.1},viewport:{once:!0},children:r.jsx(xe,{gradient:`${i.gradient}/10`,isDarkMode:e,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-4xl font-bold mb-2 bg-gradient-to-r ${i.gradient} bg-clip-text text-transparent`,children:i.value}),r.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:i.label})]})})},i.label))})}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl pb-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Stylist Policies"}),r.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-600"}`,children:"Guidelines every stylist must follow"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map((i,o)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o*.05},viewport:{once:!0},children:r.jsxs(xe,{gradient:`${i.gradient}/10`,isDarkMode:e,className:"h-full",children:[r.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[r.jsx("div",{className:`p-3 rounded-3xl bg-gradient-to-r ${i.gradient} flex-shrink-0`,children:r.jsx(i.icon,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:`text-xl font-bold pt-2 ${e?"text-white":"text-gray-900"}`,children:i.title})]}),r.jsx("ul",{className:"space-y-3",children:i.content.map((l,c)=>r.jsxs("li",{className:`flex items-start space-x-3 text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[r.jsx(ie,{className:`h-5 w-5 flex-shrink-0 mt-0.5 ${e?"text-purple-400":"text-purple-500"}`}),r.jsx("span",{children:l})]},c))})]})},i.title))})]}),r.jsx("section",{className:"container mx-auto px-4 max-w-4xl pb-16",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsx(xe,{gradient:"from-yellow-500/10 to-orange-500/10",isDarkMode:e,children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Ke,{className:"h-8 w-8 text-yellow-600 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-bold text-lg mb-2 ${e?"text-white":"text-gray-900"}`,children:"Policy Violations"}),r.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Violations of these policies may result in warnings, temporary suspension, or permanent removal from the BeautyCita platform. We take the safety and satisfaction of our community seriously. If you have questions about any policy, please contact our support team."})]})]})})})}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx(Ke,{className:"h-16 w-16 text-white/90 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Join Our Verified Stylists?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Become part of our community of professional beauty experts committed to excellence."}),r.jsx("button",{className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Apply for Verification"})]})]})]})},pte=()=>{const{t:s}=je(),[e,t]=m.useState(!1),[a,n]=m.useState({services:10,avgPrice:500});m.useEffect(()=>{const o=localStorage.getItem("darkMode")==="true";t(o);const l=()=>{t(localStorage.getItem("darkMode")==="true")};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const i=[{step:"1",title:s("pages.commissions.step1"),desc:s("pages.commissions.step1Desc"),icon:ie,gradient:"from-green-500 to-emerald-600"},{step:"2",title:s("pages.commissions.step2"),desc:s("pages.commissions.step2Desc"),icon:ve,gradient:"from-blue-500 to-indigo-600"},{step:"3",title:s("pages.commissions.step3"),desc:s("pages.commissions.step3Desc"),icon:Ge,gradient:"from-purple-500 to-pink-600"},{step:"4",title:s("pages.commissions.step4"),desc:s("pages.commissions.step4Desc"),icon:ui,gradient:"from-pink-500 to-red-600"}];return r.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-50"}`,children:[r.jsx(jt,{title:s("pages.commissions.title"),subtitle:s("pages.commissions.subtitle"),gradient:"from-pink-500 via-purple-500 to-blue-500",isDarkMode:e,height:"h-96",children:r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[r.jsx(Z,{to:"/register/stylist",className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Comenzar como Estilista"}),r.jsx("button",{onClick:()=>{var o;return(o=document.getElementById("calculator"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"border-2 border-white text-white px-8 py-4 rounded-3xl font-semibold hover:bg-white/10 transition-all duration-300",children:"Calcular Ganancias"})]})}),r.jsx("section",{className:"container mx-auto px-4 max-w-6xl py-16",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:r.jsx(xe,{gradient:"from-green-500/10 to-emerald-600/10",isDarkMode:e,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl font-bold mb-4 bg-gradient-to-r from-green-500 to-emerald-600 bg-clip-text text-transparent",children:"97%"}),r.jsx("div",{className:`text-2xl font-semibold mb-2 ${e?"text-white":"text-gray-900"}`,children:s("pages.commissions.youKeep")}),r.jsx("div",{className:`mb-4 ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.commissions.fromEveryService")}),r.jsxs("div",{className:`p-4 rounded-3xl ${e?"bg-gray-800/50":"bg-green-50"}`,children:[r.jsx("div",{className:`text-lg font-semibold ${e?"text-white":"text-gray-900"}`,children:s("pages.commissions.platformFee")}),r.jsx("div",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Solo 3% de comisión"})]})]})})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:r.jsx(xe,{gradient:"from-blue-500/10 to-indigo-600/10",isDarkMode:e,children:r.jsxs("div",{className:"text-center",children:[r.jsx(ve,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Pagos Rápidos"}),r.jsx("p",{className:`mb-4 ${e?"text-gray-400":"text-gray-600"}`,children:"Recibe tu dinero en 2-3 días hábiles después de cada servicio"}),r.jsxs("div",{className:`p-4 rounded-3xl ${e?"bg-gray-800/50":"bg-blue-50"}`,children:[r.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent",children:"24-72h"}),r.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Tiempo promedio de pago"})]})]})})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:r.jsx(xe,{gradient:"from-purple-500/10 to-pink-600/10",isDarkMode:e,children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wa,{className:"h-12 w-12 text-purple-500 mx-auto mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Bonos Extra"}),r.jsx("p",{className:`mb-4 ${e?"text-gray-400":"text-gray-600"}`,children:"Gana hasta 5% adicional por excelencia en el servicio"}),r.jsxs("div",{className:`p-4 rounded-3xl ${e?"bg-gray-800/50":"bg-purple-50"}`,children:[r.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-500 to-pink-600 bg-clip-text text-transparent",children:"+5%"}),r.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Bono por 5 estrellas"})]})]})})})]})}),r.jsxs("section",{id:"calculator",className:"container mx-auto px-4 max-w-4xl py-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx(dk,{className:`h-16 w-16 mx-auto mb-4 ${e?"text-purple-400":"text-purple-600"}`}),r.jsx("h2",{className:`text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Calculadora de Ganancias"}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:"Descubre cuánto podrías ganar con BeautyCita"})]}),r.jsx(xe,{gradient:"from-purple-500/10 via-pink-500/10 to-blue-500/10",isDarkMode:e,children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-2xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Ingresa tus datos"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Servicios por mes"}),r.jsx("input",{type:"number",value:a.services,onChange:o=>n(l=>({...l,services:parseInt(o.target.value)||0})),className:`w-full px-4 py-3 rounded-3xl border transition-all ${e?"bg-gray-800 border-gray-700 text-white focus:ring-purple-500 focus:border-purple-500":"bg-white border-gray-300 text-gray-900 focus:ring-purple-500 focus:border-purple-500"}`,min:"1",max:"200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Precio promedio por servicio (MXN)"}),r.jsx("input",{type:"number",value:a.avgPrice,onChange:o=>n(l=>({...l,avgPrice:parseInt(o.target.value)||0})),className:`w-full px-4 py-3 rounded-3xl border transition-all ${e?"bg-gray-800 border-gray-700 text-white focus:ring-purple-500 focus:border-purple-500":"bg-white border-gray-300 text-gray-900 focus:ring-purple-500 focus:border-purple-500"}`,min:"100",max:"5000"})]})]})]}),r.jsxs("div",{className:`p-6 rounded-3xl ${e?"bg-gray-800/50":"bg-white/70"} backdrop-blur-sm`,children:[r.jsx("h3",{className:`text-2xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Tus ganancias estimadas"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`flex justify-between items-center p-4 rounded-3xl ${e?"bg-gray-700/50":"bg-gray-50"}`,children:[r.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:"Ingresos brutos mensuales:"}),r.jsxs("span",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:["$",(a.services*a.avgPrice).toLocaleString("es-MX")]})]}),r.jsxs("div",{className:`flex justify-between items-center p-4 rounded-3xl ${e?"bg-red-900/20":"bg-red-50"}`,children:[r.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:"Comisión BeautyCita (3%):"}),r.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["-$",Math.round(a.services*a.avgPrice*.03).toLocaleString("es-MX")]})]}),r.jsx("div",{className:"p-6 rounded-3xl bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-green-100",children:"Tu ganancia neta:"}),r.jsxs("span",{className:"text-3xl font-bold",children:["$",Math.round(a.services*a.avgPrice*.97).toLocaleString("es-MX")]})]})}),r.jsxs("div",{className:"text-center pt-4",children:[r.jsxs("div",{className:`text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:["$",Math.round(a.services*a.avgPrice*.97*12).toLocaleString("es-MX")]}),r.jsx("div",{className:`${e?"text-gray-400":"text-gray-600"}`,children:"Ganancia anual estimada"})]})]})]})]})})]}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl pb-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx(Ge,{className:`h-16 w-16 mx-auto mb-4 ${e?"text-blue-400":"text-blue-600"}`}),r.jsx("h2",{className:`text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:s("pages.commissions.paymentsTitle")}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.commissions.paymentsDesc")})]}),r.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:i.map((o,l)=>{const c=o.icon;return r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:`${o.gradient}/10`,isDarkMode:e,className:"text-center h-full",children:[r.jsx("div",{className:`w-8 h-8 rounded-full mx-auto mb-4 bg-gradient-to-r ${o.gradient} text-white flex items-center justify-center font-bold`,children:o.step}),r.jsx("div",{className:`p-3 rounded-3xl bg-gradient-to-r ${o.gradient} inline-block mb-4`,children:r.jsx(c,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:`text-lg font-bold mb-3 ${e?"text-white":"text-gray-900"}`,children:o.title}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:o.desc})]})},l)})})]}),r.jsxs("section",{className:"container mx-auto px-4 max-w-6xl pb-16",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:`text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:s("pages.commissions.bonusesTitle")}),r.jsx("p",{className:`text-xl ${e?"text-gray-400":"text-gray-600"}`,children:s("pages.commissions.bonusesDesc")})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-yellow-500/10 to-orange-600/10",isDarkMode:e,className:"text-center",children:[r.jsx(nt,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Bono por Excelencia"}),r.jsx("div",{className:"text-4xl font-bold text-yellow-500 mb-2",children:"+2%"}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Por mantener 4.8+ estrellas de calificación durante el mes"})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-blue-500/10 to-indigo-600/10",isDarkMode:e,className:"text-center",children:[r.jsx(et,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Bono por Referidos"}),r.jsx("div",{className:"text-4xl font-bold text-blue-500 mb-2",children:"$500"}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Por cada estilista que traigas y complete 10 servicios"})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:r.jsxs(xe,{gradient:"from-green-500/10 to-emerald-600/10",isDarkMode:e,className:"text-center",children:[r.jsx(vt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Bono por Volumen"}),r.jsx("div",{className:"text-4xl font-bold text-green-500 mb-2",children:"+3%"}),r.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Al completar 50+ servicios en un mes"})]})})]})]}),r.jsxs("section",{className:"relative py-16 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/10 rounded-3xl blur-3xl"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"container mx-auto max-w-4xl text-center text-white relative z-10 px-4",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"¿Listo para maximizar tus ganancias?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Únete a miles de estilistas que ya están creciendo su negocio con BeautyCita. Regístrate hoy y comienza a ganar más."}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.jsx(Z,{to:"/register/stylist",className:"bg-white text-purple-600 hover:bg-gray-100 font-semibold px-8 py-4 rounded-3xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Registrarme como Estilista"}),r.jsx(Z,{to:"/contact",className:"border-2 border-white text-white px-8 py-4 rounded-3xl font-semibold hover:bg-white/10 transition-all duration-300",children:"Hablar con un Asesor"})]})]})]})]})},fte=()=>{const[s,e]=m.useState(null),[t,a]=m.useState(0),n=m.useRef(null);m.useEffect(()=>{const b=()=>{if(n.current){const k=n.current.getBoundingClientRect(),w=window.innerHeight,N=k.top,j=k.height,_=Math.max(0,Math.min(1,(w-N)/(w+j)));a(_)}};return window.addEventListener("scroll",b),b(),()=>window.removeEventListener("scroll",b)},[]);const i=[{id:1,name:"Butterfly Bloom",bg:"bg-gradient-to-br from-pink-50 via-purple-50 to-white",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"butterfly-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"50%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]}),r.jsxs("linearGradient",{id:"butterfly-grad2",x1:"100%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"50%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#8E24AA"})]}),r.jsxs("radialGradient",{id:"butterfly-glow",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0"})]}),r.jsx("filter",{id:"blur-soft",x:"-50%",y:"-50%",width:"200%",height:"200%",children:r.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.5"})})]}),r.jsx("path",{d:"M50 45 Q30 25 25 35 Q20 45 30 50 Q40 55 50 45",fill:"url(#butterfly-grad1)",opacity:"0.95"}),r.jsx("path",{d:"M50 45 Q70 25 75 35 Q80 45 70 50 Q60 55 50 45",fill:"url(#butterfly-grad2)",opacity:"0.95"}),r.jsx("path",{d:"M50 55 Q35 60 30 65 Q25 70 35 70 Q45 70 50 55",fill:"url(#butterfly-grad1)",opacity:"0.85"}),r.jsx("path",{d:"M50 55 Q65 60 70 65 Q75 70 65 70 Q55 70 50 55",fill:"url(#butterfly-grad2)",opacity:"0.85"}),r.jsx("ellipse",{cx:"50",cy:"50",rx:"3",ry:"8",fill:"#8E24AA"}),r.jsx("ellipse",{cx:"50",cy:"47",rx:"2",ry:"4",fill:"url(#butterfly-glow)",opacity:"0.6"}),r.jsx("text",{x:"50",y:"85",fontFamily:"'Playfair Display', serif",fontSize:"8",fontWeight:"700",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsx("circle",{cx:"30",cy:"35",r:"1.5",fill:"#FFB6C1",opacity:"0.8"}),r.jsx("circle",{cx:"70",cy:"35",r:"1.5",fill:"#FFB6C1",opacity:"0.8"}),r.jsx("circle",{cx:"35",cy:"65",r:"1",fill:"#FF80AB",opacity:"0.6"}),r.jsx("circle",{cx:"65",cy:"65",r:"1",fill:"#FF80AB",opacity:"0.6"})]})},{id:2,name:"Crystal Prism",bg:"bg-gradient-to-br from-purple-100 to-pink-100",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"prism-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0",stopOpacity:"0.8"})]}),r.jsxs("linearGradient",{id:"prism-grad2",x1:"100%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF6B9D",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#8E24AA",stopOpacity:"0.6"})]}),r.jsxs("linearGradient",{id:"prism-grad3",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFB6C1",stopOpacity:"0.4"}),r.jsx("stop",{offset:"100%",stopColor:"#FF80AB",stopOpacity:"0.4"})]}),r.jsxs("filter",{id:"prism-shadow",children:[r.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2"}),r.jsx("feOffset",{dx:"0",dy:"2",result:"offsetblur"}),r.jsx("feComponentTransfer",{children:r.jsx("feFuncA",{type:"linear",slope:"0.2"})}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx("polygon",{points:"50,20 70,40 50,60 30,40",fill:"url(#prism-grad1)",filter:"url(#prism-shadow)"}),r.jsx("polygon",{points:"50,30 65,45 50,60 35,45",fill:"url(#prism-grad2)"}),r.jsx("polygon",{points:"50,35 60,45 50,55 40,45",fill:"url(#prism-grad3)"}),r.jsx("line",{x1:"50",y1:"20",x2:"30",y2:"10",stroke:"#FFB6C1",strokeWidth:"0.5",opacity:"0.6"}),r.jsx("line",{x1:"50",y1:"20",x2:"50",y2:"10",stroke:"#FF6B9D",strokeWidth:"0.5",opacity:"0.6"}),r.jsx("line",{x1:"50",y1:"20",x2:"70",y2:"10",stroke:"#E91E63",strokeWidth:"0.5",opacity:"0.6"}),r.jsx("text",{x:"50",y:"75",fontFamily:"'Montserrat', sans-serif",fontSize:"7",fontWeight:"300",letterSpacing:"2",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsx("circle",{cx:"25",cy:"25",r:"0.8",fill:"#FFD700",opacity:"0.7",children:r.jsx("animate",{attributeName:"opacity",values:"0.7;0.2;0.7",dur:"2s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"75",cy:"25",r:"0.8",fill:"#FFD700",opacity:"0.5",children:r.jsx("animate",{attributeName:"opacity",values:"0.5;0.9;0.5",dur:"2.5s",repeatCount:"indefinite"})})]})},{id:3,name:"Floral Monogram",bg:"bg-white",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"floral-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"33%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"66%",stopColor:"#9C27B0"}),r.jsx("stop",{offset:"100%",stopColor:"#8E24AA"})]}),r.jsxs("radialGradient",{id:"floral-center",cx:"50%",cy:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),r.jsx("stop",{offset:"100%",stopColor:"#FFA500"})]}),r.jsx("filter",{id:"floral-blur",children:r.jsx("feGaussianBlur",{stdDeviation:"0.3"})})]}),r.jsxs("g",{transform:"translate(50,50)",children:[r.jsx("path",{d:"M-8,-20 L-8,20",stroke:"url(#floral-grad)",strokeWidth:"3",fill:"none"}),r.jsx("circle",{cx:"2",cy:"-10",r:"8",fill:"none",stroke:"url(#floral-grad)",strokeWidth:"2.5",strokeDasharray:"0,4",strokeLinecap:"round"}),r.jsx("circle",{cx:"2",cy:"-10",r:"8",fill:"none",stroke:"url(#floral-grad)",strokeWidth:"2.5",strokeDasharray:"0,4",strokeLinecap:"round",transform:"rotate(45 2 -10)"}),r.jsx("circle",{cx:"2",cy:"-10",r:"8",fill:"none",stroke:"url(#floral-grad)",strokeWidth:"2.5",strokeDasharray:"0,4",strokeLinecap:"round",transform:"rotate(90 2 -10)"}),r.jsx("circle",{cx:"2",cy:"10",r:"8",fill:"none",stroke:"url(#floral-grad)",strokeWidth:"2.5",strokeDasharray:"0,4",strokeLinecap:"round"}),r.jsx("circle",{cx:"2",cy:"10",r:"8",fill:"none",stroke:"url(#floral-grad)",strokeWidth:"2.5",strokeDasharray:"0,4",strokeLinecap:"round",transform:"rotate(45 2 10)"}),r.jsx("circle",{cx:"2",cy:"10",r:"8",fill:"none",stroke:"url(#floral-grad)",strokeWidth:"2.5",strokeDasharray:"0,4",strokeLinecap:"round",transform:"rotate(90 2 10)"}),r.jsx("circle",{cx:"2",cy:"-10",r:"2",fill:"url(#floral-center)"}),r.jsx("circle",{cx:"2",cy:"10",r:"2",fill:"url(#floral-center)"}),r.jsx("ellipse",{cx:"15",cy:"0",rx:"4",ry:"2",fill:"#8FBC8F",opacity:"0.5",transform:"rotate(45 15 0)"}),r.jsx("ellipse",{cx:"-20",cy:"5",rx:"4",ry:"2",fill:"#8FBC8F",opacity:"0.5",transform:"rotate(-30 -20 5)"})]}),r.jsx("text",{x:"50",y:"80",fontFamily:"'Cormorant Garamond', serif",fontSize:"6",fontWeight:"400",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"})]})},{id:4,name:"Neon Glow Tech",bg:"bg-gradient-to-br from-gray-900 via-purple-900 to-black",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neon-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF00FF"}),r.jsx("stop",{offset:"50%",stopColor:"#00FFFF"}),r.jsx("stop",{offset:"100%",stopColor:"#FF00FF"})]}),r.jsxs("filter",{id:"neon-glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("filter",{id:"neon-glow-intense",children:[r.jsx("feGaussianBlur",{stdDeviation:"5",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("g",{filter:"url(#neon-glow)",children:[r.jsx("line",{x1:"30",y1:"25",x2:"30",y2:"75",stroke:"#FF00FF",strokeWidth:"2"}),r.jsx("path",{d:"M30,35 Q45,25 45,35 Q45,45 30,45",fill:"none",stroke:"#00FFFF",strokeWidth:"2"}),r.jsx("path",{d:"M30,55 Q50,45 50,55 Q50,65 30,75",fill:"none",stroke:"#FF00FF",strokeWidth:"2"}),r.jsx("circle",{cx:"30",cy:"25",r:"2",fill:"#00FFFF",filter:"url(#neon-glow-intense)"}),r.jsx("circle",{cx:"30",cy:"45",r:"2",fill:"#FF00FF",filter:"url(#neon-glow-intense)"}),r.jsx("circle",{cx:"30",cy:"55",r:"2",fill:"#00FFFF",filter:"url(#neon-glow-intense)"}),r.jsx("circle",{cx:"30",cy:"75",r:"2",fill:"#FF00FF",filter:"url(#neon-glow-intense)"}),r.jsx("line",{x1:"45",y1:"35",x2:"60",y2:"35",stroke:"#00FFFF",strokeWidth:"1",opacity:"0.5"}),r.jsx("line",{x1:"50",y1:"55",x2:"65",y2:"55",stroke:"#FF00FF",strokeWidth:"1",opacity:"0.5"}),r.jsx("circle",{cx:"60",cy:"35",r:"1",fill:"#00FFFF"}),r.jsx("circle",{cx:"65",cy:"55",r:"1",fill:"#FF00FF"})]}),r.jsx("text",{x:"50",y:"85",fontFamily:"'Orbitron', monospace",fontSize:"5",fontWeight:"700",letterSpacing:"1",fill:"#FFFFFF",textAnchor:"middle",filter:"url(#neon-glow)",children:"BEAUTYCITA"}),r.jsxs("circle",{cx:"70",cy:"30",r:"1",fill:"#00FFFF",filter:"url(#neon-glow-intense)",children:[r.jsx("animate",{attributeName:"r",values:"1;3;1",dur:"1.5s",repeatCount:"indefinite"}),r.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1.5s",repeatCount:"indefinite"})]})]})},{id:5,name:"Watercolor Dream",bg:"bg-gradient-to-br from-pink-50 to-purple-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("radialGradient",{id:"water1",cx:"40%",cy:"40%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF6B9D",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#FF6B9D",stopOpacity:"0.1"})]}),r.jsxs("radialGradient",{id:"water2",cx:"60%",cy:"40%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63",stopOpacity:"0.5"}),r.jsx("stop",{offset:"100%",stopColor:"#E91E63",stopOpacity:"0.1"})]}),r.jsxs("radialGradient",{id:"water3",cx:"50%",cy:"60%",children:[r.jsx("stop",{offset:"0%",stopColor:"#9C27B0",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0",stopOpacity:"0.1"})]}),r.jsxs("radialGradient",{id:"water4",cx:"30%",cy:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:"#8E24AA",stopOpacity:"0.4"}),r.jsx("stop",{offset:"100%",stopColor:"#8E24AA",stopOpacity:"0.05"})]}),r.jsx("filter",{id:"water-blur",children:r.jsx("feGaussianBlur",{stdDeviation:"1.5"})}),r.jsxs("filter",{id:"turbulence",children:[r.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.02",numOctaves:"1",result:"turbulence"}),r.jsx("feDisplacementMap",{in2:"turbulence",in:"SourceGraphic",scale:"2",xChannelSelector:"R",yChannelSelector:"G"})]})]}),r.jsx("ellipse",{cx:"35",cy:"40",rx:"20",ry:"25",fill:"url(#water1)",filter:"url(#water-blur)"}),r.jsx("ellipse",{cx:"55",cy:"38",rx:"18",ry:"22",fill:"url(#water2)",filter:"url(#water-blur)"}),r.jsx("ellipse",{cx:"45",cy:"55",rx:"22",ry:"18",fill:"url(#water3)",filter:"url(#water-blur)"}),r.jsx("ellipse",{cx:"30",cy:"50",rx:"15",ry:"20",fill:"url(#water4)",filter:"url(#water-blur)"}),r.jsx("path",{d:"M38,30 L38,70 M38,30 Q52,30 52,40 Q52,50 38,50 M38,50 Q54,50 54,60 Q54,70 38,70",stroke:"#8E24AA",strokeWidth:"2",fill:"none",opacity:"0.8",strokeLinecap:"round"}),r.jsx("text",{x:"50",y:"82",fontFamily:"'Dancing Script', cursive",fontSize:"7",fontWeight:"600",fill:"#8E24AA",textAnchor:"middle",children:"BeautyCita"}),r.jsx("circle",{cx:"65",cy:"25",r:"1.5",fill:"#FFB6C1",opacity:"0.6"}),r.jsx("circle",{cx:"70",cy:"28",r:"0.8",fill:"#FF80AB",opacity:"0.5"}),r.jsx("circle",{cx:"25",cy:"65",r:"1.2",fill:"#E91E63",opacity:"0.4"})]})},{id:6,name:"Golden Luxe",bg:"bg-gradient-to-br from-amber-50 via-rose-50 to-purple-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"gold-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),r.jsx("stop",{offset:"25%",stopColor:"#FFA500"}),r.jsx("stop",{offset:"50%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"75%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]}),r.jsxs("linearGradient",{id:"gold-shine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.8"}),r.jsx("stop",{offset:"50%",stopColor:"#FFD700",stopOpacity:"0.5"}),r.jsx("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0.8"})]}),r.jsx("filter",{id:"gold-shadow",children:r.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodColor:"#000000",floodOpacity:"0.2"})}),r.jsx("pattern",{id:"gold-pattern",x:"0",y:"0",width:"4",height:"4",patternUnits:"userSpaceOnUse",children:r.jsx("circle",{cx:"2",cy:"2",r:"0.5",fill:"#FFD700",opacity:"0.3"})})]}),r.jsxs("g",{filter:"url(#gold-shadow)",children:[r.jsx("path",{d:"M35,25 L35,75 L45,75 Q60,75 60,62 Q60,50 50,50 Q60,50 60,38 Q60,25 45,25 L35,25 Z",fill:"url(#gold-grad)",stroke:"#FFD700",strokeWidth:"1"}),r.jsx("polygon",{points:"35,25 32,20 38,20",fill:"url(#gold-grad)"}),r.jsx("polygon",{points:"42,25 40,18 44,18",fill:"url(#gold-grad)"}),r.jsx("polygon",{points:"50,25 48,20 52,20",fill:"url(#gold-grad)"}),r.jsx("ellipse",{cx:"47",cy:"37",rx:"8",ry:"7",fill:"url(#gold-pattern)"}),r.jsx("ellipse",{cx:"47",cy:"62",rx:"9",ry:"8",fill:"url(#gold-pattern)"}),r.jsx("circle",{cx:"35",cy:"20",r:"2",fill:"#E91E63",opacity:"0.9"}),r.jsx("circle",{cx:"42",cy:"18",r:"1.5",fill:"#9C27B0",opacity:"0.9"}),r.jsx("circle",{cx:"50",cy:"20",r:"2",fill:"#FF6B9D",opacity:"0.9"}),r.jsx("rect",{x:"35",y:"25",width:"25",height:"2",fill:"url(#gold-shine)",opacity:"0.6"}),r.jsx("rect",{x:"35",y:"45",width:"20",height:"1",fill:"url(#gold-shine)",opacity:"0.4"})]}),r.jsx("text",{x:"50",y:"85",fontFamily:"'Bodoni Moda', serif",fontSize:"6",fontWeight:"600",letterSpacing:"1.5",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsxs("g",{children:[r.jsx("line",{x1:"20",y1:"30",x2:"20",y2:"34",stroke:"#FFD700",strokeWidth:"0.5",opacity:"0.8"}),r.jsx("line",{x1:"18",y1:"32",x2:"22",y2:"32",stroke:"#FFD700",strokeWidth:"0.5",opacity:"0.8"}),r.jsx("line",{x1:"70",y1:"40",x2:"70",y2:"44",stroke:"#FFD700",strokeWidth:"0.5",opacity:"0.8"}),r.jsx("line",{x1:"68",y1:"42",x2:"72",y2:"42",stroke:"#FFD700",strokeWidth:"0.5",opacity:"0.8"})]})]})},{id:7,name:"Hexagon Sacred",bg:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"hex-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#9C27B0"}),r.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),r.jsxs("linearGradient",{id:"hex-grad2",x1:"100%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#8E24AA"}),r.jsx("stop",{offset:"100%",stopColor:"#FF6B9D"})]}),r.jsx("filter",{id:"hex-shadow",children:r.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1",floodColor:"#9C27B0",floodOpacity:"0.3"})})]}),r.jsxs("g",{transform:"translate(50,45)",children:[r.jsx("polygon",{points:"0,-15 13,-7.5 13,7.5 0,15 -13,7.5 -13,-7.5",fill:"none",stroke:"url(#hex-grad1)",strokeWidth:"2",filter:"url(#hex-shadow)"}),r.jsx("path",{d:"M-5,-10 L-5,10 M-5,-10 Q5,-10 5,-5 Q5,0 -5,0 M-5,0 Q5,0 5,5 Q5,10 -5,10",stroke:"url(#hex-grad2)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),r.jsx("polygon",{points:"0,-25 5,-22 5,-18 0,-15 -5,-18 -5,-22",fill:"url(#hex-grad1)",opacity:"0.4"}),r.jsx("polygon",{points:"20,-5 25,-2 25,2 20,5 15,2 15,-2",fill:"url(#hex-grad2)",opacity:"0.4"}),r.jsx("polygon",{points:"-20,-5 -15,-2 -15,2 -20,5 -25,2 -25,-2",fill:"url(#hex-grad2)",opacity:"0.4"}),r.jsx("polygon",{points:"0,15 5,18 5,22 0,25 -5,22 -5,18",fill:"url(#hex-grad1)",opacity:"0.4"}),r.jsx("line",{x1:"0",y1:"-15",x2:"0",y2:"-25",stroke:"#FFB6C1",strokeWidth:"0.5",opacity:"0.6"}),r.jsx("line",{x1:"13",y1:"-7.5",x2:"20",y2:"-5",stroke:"#FFB6C1",strokeWidth:"0.5",opacity:"0.6"}),r.jsx("line",{x1:"13",y1:"7.5",x2:"20",y2:"5",stroke:"#FFB6C1",strokeWidth:"0.5",opacity:"0.6"}),r.jsx("line",{x1:"0",y1:"15",x2:"0",y2:"25",stroke:"#FFB6C1",strokeWidth:"0.5",opacity:"0.6"})]}),r.jsx("text",{x:"50",y:"82",fontFamily:"'Quicksand', sans-serif",fontSize:"7",fontWeight:"600",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsx("circle",{cx:"20",cy:"20",r:"1",fill:"#9C27B0",opacity:"0.5"}),r.jsx("circle",{cx:"80",cy:"20",r:"1",fill:"#E91E63",opacity:"0.5"}),r.jsx("circle",{cx:"20",cy:"80",r:"1",fill:"#E91E63",opacity:"0.5"}),r.jsx("circle",{cx:"80",cy:"80",r:"1",fill:"#9C27B0",opacity:"0.5"})]})},{id:8,name:"Mirror Reflection",bg:"bg-gradient-to-br from-gray-100 to-pink-100",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"mirror-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63",stopOpacity:"0.9"}),r.jsx("stop",{offset:"50%",stopColor:"#FF6B9D",stopOpacity:"0.7"}),r.jsx("stop",{offset:"100%",stopColor:"#FFB6C1",stopOpacity:"0.3"})]}),r.jsxs("linearGradient",{id:"mirror-frame",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),r.jsx("stop",{offset:"50%",stopColor:"#FFA500"}),r.jsx("stop",{offset:"100%",stopColor:"#FFD700"})]}),r.jsx("filter",{id:"mirror-blur",children:r.jsx("feGaussianBlur",{stdDeviation:"0.5"})})]}),r.jsx("ellipse",{cx:"50",cy:"45",rx:"25",ry:"30",fill:"none",stroke:"url(#mirror-frame)",strokeWidth:"3"}),r.jsx("ellipse",{cx:"50",cy:"45",rx:"22",ry:"27",fill:"url(#mirror-grad)",opacity:"0.3"}),r.jsxs("g",{transform:"translate(50,45)",children:[r.jsx("path",{d:"M-8,-15 L-8,15",stroke:"#E91E63",strokeWidth:"2.5",fill:"none",opacity:"0.9"}),r.jsx("path",{d:"M-8,-15 Q8,-15 8,-7.5 Q8,0 -8,0 M-8,0 Q8,0 8,7.5 Q8,15 -8,15",stroke:"#E91E63",strokeWidth:"2.5",fill:"none",opacity:"0.9"}),r.jsx("path",{d:"M-8,-15 L-8,15",stroke:"#FFB6C1",strokeWidth:"2",fill:"none",opacity:"0.3",transform:"scale(1,-1)",filter:"url(#mirror-blur)"}),r.jsx("path",{d:"M-8,-15 Q8,-15 8,-7.5 Q8,0 -8,0 M-8,0 Q8,0 8,7.5 Q8,15 -8,15",stroke:"#FFB6C1",strokeWidth:"2",fill:"none",opacity:"0.3",transform:"scale(1,-1)",filter:"url(#mirror-blur)"})]}),r.jsx("rect",{x:"48",y:"72",width:"4",height:"15",fill:"url(#mirror-frame)",rx:"2"}),r.jsx("ellipse",{cx:"50",cy:"89",rx:"6",ry:"3",fill:"url(#mirror-frame)"}),r.jsx("text",{x:"50",y:"10",fontFamily:"'Raleway', sans-serif",fontSize:"6",fontWeight:"500",letterSpacing:"1",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsx("circle",{cx:"25",cy:"30",r:"0.8",fill:"#FFD700",opacity:"0.7"}),r.jsx("circle",{cx:"75",cy:"35",r:"0.8",fill:"#FFD700",opacity:"0.7"}),r.jsx("circle",{cx:"70",cy:"60",r:"0.6",fill:"#FFA500",opacity:"0.6"}),r.jsx("circle",{cx:"30",cy:"65",r:"0.6",fill:"#FFA500",opacity:"0.6"})]})},{id:9,name:"BC Lettermark",bg:"bg-white",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"bc-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]}),r.jsx("filter",{id:"bc-shadow",children:r.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"1",floodColor:"#E91E63",floodOpacity:"0.2"})})]}),r.jsxs("g",{filter:"url(#bc-shadow)",children:[r.jsx("path",{d:"M25,30 L25,70 L35,70 Q45,70 45,62 Q45,54 38,52 Q45,50 45,42 Q45,30 35,30 Z M30,35 L35,35 Q40,35 40,42 Q40,48 35,48 L30,48 M30,52 L35,52 Q40,52 40,60 Q40,65 35,65 L30,65",fill:"url(#bc-grad)"}),r.jsx("path",{d:"M55,38 Q65,30 75,38 Q75,50 75,50 Q75,62 65,70 Q55,70 50,62 Q45,54 45,50 Q45,46 50,38 Q55,30 65,38",fill:"none",stroke:"url(#bc-grad)",strokeWidth:"5",strokeLinecap:"round",opacity:"0.8"})]}),r.jsx("text",{x:"50",y:"85",fontFamily:"'Poppins', sans-serif",fontSize:"5",fontWeight:"600",letterSpacing:"3",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsx("circle",{cx:"15",cy:"50",r:"1.5",fill:"#FFB6C1",opacity:"0.6"}),r.jsx("circle",{cx:"85",cy:"50",r:"1.5",fill:"#FFB6C1",opacity:"0.6"})]})},{id:10,name:"Rose Petal",bg:"bg-gradient-to-br from-rose-50 to-pink-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("radialGradient",{id:"rose-grad1",cx:"50%",cy:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF6B9D",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"#E91E63",stopOpacity:"0.3"})]}),r.jsxs("radialGradient",{id:"rose-grad2",cx:"50%",cy:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63",stopOpacity:"0.7"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0",stopOpacity:"0.2"})]}),r.jsx("filter",{id:"rose-soft",children:r.jsx("feGaussianBlur",{stdDeviation:"0.3"})})]}),r.jsxs("g",{transform:"translate(50,45)",children:[r.jsx("ellipse",{cx:"-10",cy:"-10",rx:"12",ry:"8",fill:"url(#rose-grad1)",transform:"rotate(-30 -10 -10)",filter:"url(#rose-soft)"}),r.jsx("ellipse",{cx:"10",cy:"-10",rx:"12",ry:"8",fill:"url(#rose-grad2)",transform:"rotate(30 10 -10)",filter:"url(#rose-soft)"}),r.jsx("ellipse",{cx:"-10",cy:"10",rx:"12",ry:"8",fill:"url(#rose-grad2)",transform:"rotate(30 -10 10)",filter:"url(#rose-soft)"}),r.jsx("ellipse",{cx:"10",cy:"10",rx:"12",ry:"8",fill:"url(#rose-grad1)",transform:"rotate(-30 10 10)",filter:"url(#rose-soft)"}),r.jsx("ellipse",{cx:"0",cy:"-5",rx:"10",ry:"6",fill:"url(#rose-grad1)",opacity:"0.9"}),r.jsx("ellipse",{cx:"0",cy:"5",rx:"10",ry:"6",fill:"url(#rose-grad2)",opacity:"0.9"}),r.jsx("line",{x1:"-8",y1:"-15",x2:"-8",y2:"15",stroke:"#8E24AA",strokeWidth:"2",opacity:"0.7"})]}),r.jsx("text",{x:"50",y:"82",fontFamily:"'Libre Baskerville', serif",fontSize:"7",fontWeight:"400",fill:"#8E24AA",textAnchor:"middle",children:"BeautyCita"}),r.jsx("ellipse",{cx:"20",cy:"25",rx:"4",ry:"2",fill:"#FFB6C1",opacity:"0.4",transform:"rotate(45 20 25)"}),r.jsx("ellipse",{cx:"80",cy:"30",rx:"4",ry:"2",fill:"#FF80AB",opacity:"0.4",transform:"rotate(-30 80 30)"}),r.jsx("ellipse",{cx:"25",cy:"70",rx:"3",ry:"1.5",fill:"#FFB6C1",opacity:"0.3",transform:"rotate(60 25 70)"})]})},{id:11,name:"Digital Hologram",bg:"bg-gradient-to-br from-cyan-900 via-purple-900 to-pink-900",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"holo-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#00FFFF",stopOpacity:"0.8"}),r.jsx("stop",{offset:"33%",stopColor:"#FF00FF",stopOpacity:"0.8"}),r.jsx("stop",{offset:"66%",stopColor:"#FFFF00",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"#00FFFF",stopOpacity:"0.8"})]}),r.jsxs("linearGradient",{id:"holo-grad2",x1:"100%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF00FF"}),r.jsx("stop",{offset:"50%",stopColor:"#00FFFF"}),r.jsx("stop",{offset:"100%",stopColor:"#FF00FF"})]}),r.jsx("filter",{id:"holo-blur",children:r.jsx("feGaussianBlur",{stdDeviation:"2"})}),r.jsxs("filter",{id:"holo-glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("g",{filter:"url(#holo-glow)",children:[r.jsx("path",{d:"M35,25 L35,75 M35,25 Q55,25 55,37.5 Q55,50 35,50 M35,50 Q55,50 55,62.5 Q55,75 35,75",stroke:"url(#holo-grad1)",strokeWidth:"3",fill:"none",opacity:"0.9"}),r.jsx("path",{d:"M35,25 L35,75 M35,25 Q55,25 55,37.5 Q55,50 35,50 M35,50 Q55,50 55,62.5 Q55,75 35,75",stroke:"url(#holo-grad2)",strokeWidth:"2",fill:"none",opacity:"0.5",transform:"translate(2,2)"}),r.jsx("path",{d:"M35,25 L35,75 M35,25 Q55,25 55,37.5 Q55,50 35,50 M35,50 Q55,50 55,62.5 Q55,75 35,75",stroke:"#00FFFF",strokeWidth:"1",fill:"none",opacity:"0.3",transform:"translate(-2,-2)"})]}),r.jsxs("g",{opacity:"0.3",children:[r.jsx("line",{x1:"20",y1:"30",x2:"80",y2:"30",stroke:"#00FFFF",strokeWidth:"0.5"}),r.jsx("line",{x1:"20",y1:"50",x2:"80",y2:"50",stroke:"#FF00FF",strokeWidth:"0.5"}),r.jsx("line",{x1:"20",y1:"70",x2:"80",y2:"70",stroke:"#00FFFF",strokeWidth:"0.5"}),r.jsx("line",{x1:"30",y1:"20",x2:"30",y2:"80",stroke:"#FF00FF",strokeWidth:"0.5"}),r.jsx("line",{x1:"50",y1:"20",x2:"50",y2:"80",stroke:"#00FFFF",strokeWidth:"0.5"}),r.jsx("line",{x1:"70",y1:"20",x2:"70",y2:"80",stroke:"#FF00FF",strokeWidth:"0.5"})]}),r.jsx("text",{x:"50",y:"88",fontFamily:"'Space Mono', monospace",fontSize:"5",fontWeight:"400",letterSpacing:"1",fill:"#00FFFF",textAnchor:"middle",filter:"url(#holo-glow)",children:"BEAUTYCITA"}),r.jsx("circle",{cx:"65",cy:"35",r:"1",fill:"#00FFFF",opacity:"0.8",children:r.jsx("animate",{attributeName:"opacity",values:"0.8;0.2;0.8",dur:"2s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"70",cy:"55",r:"1",fill:"#FF00FF",opacity:"0.8",children:r.jsx("animate",{attributeName:"opacity",values:"0.2;0.8;0.2",dur:"2s",repeatCount:"indefinite"})})]})},{id:12,name:"Makeup Brush",bg:"bg-gradient-to-br from-pink-100 via-purple-50 to-white",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"brush-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#8E24AA"}),r.jsx("stop",{offset:"50%",stopColor:"#9C27B0"}),r.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),r.jsxs("radialGradient",{id:"brush-tip",cx:"50%",cy:"30%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFB6C1"}),r.jsx("stop",{offset:"100%",stopColor:"#FF6B9D"})]}),r.jsx("filter",{id:"brush-soft",children:r.jsx("feGaussianBlur",{stdDeviation:"0.8"})})]}),r.jsxs("g",{transform:"translate(50,50)",children:[r.jsx("rect",{x:"-3",y:"-5",width:"6",height:"30",fill:"url(#brush-grad)",rx:"3"}),r.jsx("rect",{x:"-4",y:"-8",width:"8",height:"6",fill:"#FFD700",opacity:"0.9"}),r.jsxs("g",{filter:"url(#brush-soft)",children:[r.jsx("ellipse",{cx:"0",cy:"-20",rx:"15",ry:"12",fill:"url(#brush-tip)",opacity:"0.7"}),r.jsx("ellipse",{cx:"-5",cy:"-20",rx:"8",ry:"10",fill:"#FFFFFF",opacity:"0.3"}),r.jsx("ellipse",{cx:"5",cy:"-20",rx:"8",ry:"10",fill:"#FFFFFF",opacity:"0.3"})]}),r.jsx("circle",{cx:"-10",cy:"-30",r:"1.5",fill:"#FFB6C1",opacity:"0.6",filter:"url(#brush-soft)"}),r.jsx("circle",{cx:"12",cy:"-28",r:"1.2",fill:"#FF80AB",opacity:"0.5",filter:"url(#brush-soft)"}),r.jsx("circle",{cx:"-8",cy:"-35",r:"0.8",fill:"#E91E63",opacity:"0.4",filter:"url(#brush-soft)"}),r.jsx("circle",{cx:"10",cy:"-33",r:"1",fill:"#9C27B0",opacity:"0.4",filter:"url(#brush-soft)"})]}),r.jsx("text",{x:"50",y:"85",fontFamily:"'Josefin Sans', sans-serif",fontSize:"7",fontWeight:"500",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"})]})},{id:13,name:"Heart Infinity",bg:"bg-gradient-to-br from-red-50 via-pink-50 to-purple-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"heart-grad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"50%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]}),r.jsxs("filter",{id:"heart-glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("g",{transform:"translate(50,45)",filter:"url(#heart-glow)",children:[r.jsx("path",{d:"M0,0 Q-20,-15 -25,0 Q-30,10 -20,15 Q-10,20 0,10 Q10,20 20,15 Q30,10 25,0 Q20,-15 0,0",fill:"none",stroke:"url(#heart-grad)",strokeWidth:"3",strokeLinecap:"round"}),r.jsx("circle",{cx:"-15",cy:"0",r:"8",fill:"none",stroke:"url(#heart-grad)",strokeWidth:"2",opacity:"0.7"}),r.jsx("circle",{cx:"15",cy:"0",r:"8",fill:"none",stroke:"url(#heart-grad)",strokeWidth:"2",opacity:"0.7"}),r.jsx("line",{x1:"0",y1:"-10",x2:"0",y2:"10",stroke:"url(#heart-grad)",strokeWidth:"2.5"})]}),r.jsx("text",{x:"50",y:"80",fontFamily:"'Pacifico', cursive",fontSize:"6",fontWeight:"400",fill:"#E91E63",textAnchor:"middle",children:"BeautyCita"}),r.jsx("path",{d:"M20,20 Q18,18 20,19 Q22,18 20,20 Q18,22 20,20",fill:"#FFB6C1",opacity:"0.6"}),r.jsx("path",{d:"M80,25 Q78,23 80,24 Q82,23 80,25 Q78,27 80,25",fill:"#FF80AB",opacity:"0.5"})]})},{id:14,name:"Leaf Botanical",bg:"bg-gradient-to-br from-green-50 via-pink-50 to-purple-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"leaf-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#8FBC8F"}),r.jsx("stop",{offset:"100%",stopColor:"#556B2F"})]}),r.jsxs("linearGradient",{id:"leaf-grad2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]})]}),r.jsxs("g",{transform:"translate(50,45)",children:[r.jsx("line",{x1:"-10",y1:"-20",x2:"-10",y2:"20",stroke:"#556B2F",strokeWidth:"2"}),r.jsx("ellipse",{cx:"-5",cy:"-10",rx:"12",ry:"6",fill:"url(#leaf-grad1)",opacity:"0.7",transform:"rotate(-30 -5 -10)"}),r.jsx("ellipse",{cx:"5",cy:"-8",rx:"10",ry:"5",fill:"url(#leaf-grad1)",opacity:"0.7",transform:"rotate(25 5 -8)"}),r.jsx("ellipse",{cx:"-2",cy:"-15",rx:"8",ry:"4",fill:"url(#leaf-grad1)",opacity:"0.6",transform:"rotate(-45 -2 -15)"}),r.jsx("ellipse",{cx:"-5",cy:"10",rx:"12",ry:"6",fill:"url(#leaf-grad1)",opacity:"0.7",transform:"rotate(30 -5 10)"}),r.jsx("ellipse",{cx:"5",cy:"8",rx:"10",ry:"5",fill:"url(#leaf-grad1)",opacity:"0.7",transform:"rotate(-25 5 8)"}),r.jsx("ellipse",{cx:"-2",cy:"15",rx:"8",ry:"4",fill:"url(#leaf-grad1)",opacity:"0.6",transform:"rotate(45 -2 15)"}),r.jsx("circle",{cx:"8",cy:"-5",r:"3",fill:"url(#leaf-grad2)",opacity:"0.8"}),r.jsx("circle",{cx:"8",cy:"5",r:"3",fill:"url(#leaf-grad2)",opacity:"0.8"}),r.jsx("circle",{cx:"8",cy:"-5",r:"1",fill:"#FFD700",opacity:"0.9"}),r.jsx("circle",{cx:"8",cy:"5",r:"1",fill:"#FFD700",opacity:"0.9"})]}),r.jsx("text",{x:"50",y:"80",fontFamily:"'Merriweather', serif",fontSize:"6",fontWeight:"300",letterSpacing:"1",fill:"#556B2F",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsx("ellipse",{cx:"20",cy:"25",rx:"4",ry:"2",fill:"#8FBC8F",opacity:"0.4",transform:"rotate(45 20 25)"}),r.jsx("ellipse",{cx:"80",cy:"30",rx:"4",ry:"2",fill:"#8FBC8F",opacity:"0.4",transform:"rotate(-30 80 30)"})]})},{id:15,name:"Diamond Jewel",bg:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"diamond-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63",stopOpacity:"0.9"}),r.jsx("stop",{offset:"50%",stopColor:"#9C27B0",stopOpacity:"0.7"}),r.jsx("stop",{offset:"100%",stopColor:"#8E24AA",stopOpacity:"0.9"})]}),r.jsxs("linearGradient",{id:"diamond-grad2",x1:"100%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFB6C1",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#FF6B9D",stopOpacity:"0.8"})]}),r.jsxs("filter",{id:"diamond-sparkle",children:[r.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("g",{transform:"translate(50,45)",filter:"url(#diamond-sparkle)",children:[r.jsx("polygon",{points:"0,-20 15,-5 15,5 0,20 -15,5 -15,-5",fill:"url(#diamond-grad1)"}),r.jsx("polygon",{points:"0,-18 -13,-5 0,0",fill:"url(#diamond-grad2)",opacity:"0.8"}),r.jsx("polygon",{points:"0,-18 13,-5 0,0",fill:"url(#diamond-grad2)",opacity:"0.6"}),r.jsx("polygon",{points:"0,0 -13,5 0,18",fill:"url(#diamond-grad2)",opacity:"0.7"}),r.jsx("polygon",{points:"0,0 13,5 0,18",fill:"url(#diamond-grad2)",opacity:"0.5"}),r.jsx("path",{d:"M-5,-10 L-5,10 M-5,-10 Q5,-10 5,-5 Q5,0 -5,0 M-5,0 Q5,0 5,5 Q5,10 -5,10",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"none",opacity:"0.7"})]}),r.jsx("text",{x:"50",y:"80",fontFamily:"'Cinzel', serif",fontSize:"6",fontWeight:"600",letterSpacing:"2",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsxs("g",{children:[r.jsx("circle",{cx:"25",cy:"30",r:"0.5",fill:"#FFFFFF",opacity:"0.9"}),r.jsx("circle",{cx:"75",cy:"35",r:"0.5",fill:"#FFFFFF",opacity:"0.9"}),r.jsx("circle",{cx:"30",cy:"60",r:"0.3",fill:"#FFD700",opacity:"0.8"}),r.jsx("circle",{cx:"70",cy:"55",r:"0.3",fill:"#FFD700",opacity:"0.8"})]})]})},{id:16,name:"Minimalist Line",bg:"bg-white",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"minimal-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]})}),r.jsxs("g",{children:[r.jsx("path",{d:"M35,25 L35,75 M35,25 C35,25 65,25 65,37.5 C65,50 35,50 35,50 M35,50 C35,50 65,50 65,62.5 C65,75 35,75 35,75",fill:"none",stroke:"url(#minimal-grad)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("circle",{cx:"35",cy:"25",r:"2",fill:"url(#minimal-grad)"}),r.jsx("circle",{cx:"35",cy:"50",r:"1.5",fill:"url(#minimal-grad)",opacity:"0.7"}),r.jsx("circle",{cx:"35",cy:"75",r:"2",fill:"url(#minimal-grad)"})]}),r.jsx("text",{x:"50",y:"88",fontFamily:"'Lato', sans-serif",fontSize:"5",fontWeight:"300",letterSpacing:"4",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"})]})},{id:17,name:"Ribbon Flow",bg:"bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"ribbon-grad1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"50%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]}),r.jsxs("linearGradient",{id:"ribbon-grad2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#9C27B0"}),r.jsx("stop",{offset:"50%",stopColor:"#8E24AA"}),r.jsx("stop",{offset:"100%",stopColor:"#FF6B9D"})]}),r.jsx("filter",{id:"ribbon-shadow",children:r.jsx("feDropShadow",{dx:"1",dy:"1",stdDeviation:"1",floodColor:"#E91E63",floodOpacity:"0.2"})})]}),r.jsxs("g",{filter:"url(#ribbon-shadow)",children:[r.jsx("path",{d:"M30,30 Q30,20 40,25 Q50,30 50,40 Q50,50 40,50 Q30,50 30,40 Z",fill:"url(#ribbon-grad1)",opacity:"0.9"}),r.jsx("path",{d:"M30,50 Q30,40 40,45 Q50,50 50,60 Q50,70 40,70 Q30,70 30,60 Z",fill:"url(#ribbon-grad2)",opacity:"0.9"}),r.jsx("path",{d:"M30,30 L30,70",stroke:"url(#ribbon-grad1)",strokeWidth:"8",strokeLinecap:"round",opacity:"0.8"}),r.jsx("polygon",{points:"30,25 25,20 35,20",fill:"url(#ribbon-grad1)"}),r.jsx("polygon",{points:"30,75 25,80 35,80",fill:"url(#ribbon-grad2)"})]}),r.jsx("text",{x:"50",y:"88",fontFamily:"'Satisfy', cursive",fontSize:"8",fontWeight:"400",fill:"#8E24AA",textAnchor:"middle",children:"BeautyCita"}),r.jsx("path",{d:"M65,35 Q70,30 75,35",fill:"none",stroke:"#FFB6C1",strokeWidth:"1",strokeLinecap:"round",opacity:"0.6"}),r.jsx("path",{d:"M60,55 Q65,50 70,55",fill:"none",stroke:"#FF80AB",strokeWidth:"1",strokeLinecap:"round",opacity:"0.5"})]})},{id:18,name:"Art Deco",bg:"bg-gradient-to-br from-gray-900 via-gray-700 to-gray-900",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"deco-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),r.jsx("stop",{offset:"50%",stopColor:"#FFA500"}),r.jsx("stop",{offset:"100%",stopColor:"#FFD700"})]}),r.jsxs("pattern",{id:"deco-pattern",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:[r.jsx("line",{x1:"0",y1:"0",x2:"10",y2:"10",stroke:"#FFD700",strokeWidth:"0.5",opacity:"0.3"}),r.jsx("line",{x1:"10",y1:"0",x2:"0",y2:"10",stroke:"#FFD700",strokeWidth:"0.5",opacity:"0.3"})]})]}),r.jsxs("g",{children:[r.jsx("rect",{x:"20",y:"20",width:"60",height:"60",fill:"url(#deco-pattern)",opacity:"0.2"}),r.jsxs("g",{children:[r.jsx("rect",{x:"35",y:"25",width:"4",height:"50",fill:"url(#deco-grad)"}),r.jsx("path",{d:"M39,25 L55,25 L55,35 L50,40 L39,40 Z",fill:"url(#deco-grad)"}),r.jsx("path",{d:"M42,28 L52,28 L52,34 L48,37 L42,37 Z",fill:"#2C2C2C"}),r.jsx("path",{d:"M39,45 L57,45 L57,55 L50,60 L39,60 Z",fill:"url(#deco-grad)"}),r.jsx("path",{d:"M42,48 L54,48 L54,53 L48,57 L42,57 Z",fill:"#2C2C2C"}),r.jsx("rect",{x:"35",y:"60",width:"4",height:"15",fill:"url(#deco-grad)"})]}),r.jsx("line",{x1:"20",y1:"25",x2:"30",y2:"25",stroke:"url(#deco-grad)",strokeWidth:"1"}),r.jsx("line",{x1:"60",y1:"25",x2:"80",y2:"25",stroke:"url(#deco-grad)",strokeWidth:"1"}),r.jsx("line",{x1:"20",y1:"75",x2:"30",y2:"75",stroke:"url(#deco-grad)",strokeWidth:"1"}),r.jsx("line",{x1:"60",y1:"75",x2:"80",y2:"75",stroke:"url(#deco-grad)",strokeWidth:"1"}),r.jsx("polygon",{points:"20,20 25,20 20,25",fill:"url(#deco-grad)"}),r.jsx("polygon",{points:"80,20 75,20 80,25",fill:"url(#deco-grad)"}),r.jsx("polygon",{points:"20,80 25,80 20,75",fill:"url(#deco-grad)"}),r.jsx("polygon",{points:"80,80 75,80 80,75",fill:"url(#deco-grad)"})]}),r.jsx("text",{x:"50",y:"88",fontFamily:"'Bebas Neue', cursive",fontSize:"6",fontWeight:"400",letterSpacing:"3",fill:"url(#deco-grad)",textAnchor:"middle",children:"BEAUTYCITA"})]})},{id:19,name:"Playful Bubble",bg:"bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("radialGradient",{id:"bubble-grad1",cx:"30%",cy:"30%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.8"}),r.jsx("stop",{offset:"50%",stopColor:"#FF6B9D",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#E91E63",stopOpacity:"0.8"})]}),r.jsxs("radialGradient",{id:"bubble-grad2",cx:"30%",cy:"30%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.8"}),r.jsx("stop",{offset:"50%",stopColor:"#9C27B0",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#8E24AA",stopOpacity:"0.8"})]}),r.jsx("filter",{id:"bubble-blur",children:r.jsx("feGaussianBlur",{stdDeviation:"0.5"})})]}),r.jsxs("g",{children:[r.jsx("circle",{cx:"35",cy:"30",r:"8",fill:"url(#bubble-grad1)",opacity:"0.9"}),r.jsx("circle",{cx:"35",cy:"45",r:"7",fill:"url(#bubble-grad2)",opacity:"0.9"}),r.jsx("circle",{cx:"35",cy:"60",r:"8",fill:"url(#bubble-grad1)",opacity:"0.9"}),r.jsx("circle",{cx:"45",cy:"35",r:"10",fill:"url(#bubble-grad2)",opacity:"0.8"}),r.jsx("circle",{cx:"45",cy:"55",r:"11",fill:"url(#bubble-grad1)",opacity:"0.8"}),r.jsx("circle",{cx:"55",cy:"38",r:"7",fill:"url(#bubble-grad2)",opacity:"0.7"}),r.jsx("circle",{cx:"55",cy:"52",r:"7",fill:"url(#bubble-grad1)",opacity:"0.7"}),r.jsx("circle",{cx:"38",cy:"28",r:"2",fill:"#FFFFFF",opacity:"0.7"}),r.jsx("circle",{cx:"48",cy:"33",r:"2.5",fill:"#FFFFFF",opacity:"0.6"}),r.jsx("circle",{cx:"48",cy:"53",r:"2.5",fill:"#FFFFFF",opacity:"0.6"}),r.jsx("circle",{cx:"20",cy:"25",r:"4",fill:"url(#bubble-grad1)",opacity:"0.5",filter:"url(#bubble-blur)"}),r.jsx("circle",{cx:"75",cy:"30",r:"3",fill:"url(#bubble-grad2)",opacity:"0.5",filter:"url(#bubble-blur)"}),r.jsx("circle",{cx:"70",cy:"65",r:"5",fill:"url(#bubble-grad1)",opacity:"0.4",filter:"url(#bubble-blur)"}),r.jsx("circle",{cx:"25",cy:"70",r:"3.5",fill:"url(#bubble-grad2)",opacity:"0.4",filter:"url(#bubble-blur)"}),r.jsx("circle",{cx:"60",cy:"25",r:"1.5",fill:"#FFB6C1",opacity:"0.6"}),r.jsx("circle",{cx:"65",cy:"45",r:"1",fill:"#FF80AB",opacity:"0.5"}),r.jsx("circle",{cx:"30",cy:"75",r:"1.2",fill:"#E91E63",opacity:"0.4"})]}),r.jsx("text",{x:"50",y:"85",fontFamily:"'Bubblegum Sans', cursive",fontSize:"7",fontWeight:"400",fill:"#8E24AA",textAnchor:"middle",children:"BeautyCita"})]})},{id:20,name:"Crown Tiara",bg:"bg-gradient-to-br from-purple-100 via-pink-50 to-yellow-50",content:r.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"crown-grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),r.jsx("stop",{offset:"33%",stopColor:"#FF6B9D"}),r.jsx("stop",{offset:"66%",stopColor:"#E91E63"}),r.jsx("stop",{offset:"100%",stopColor:"#9C27B0"})]}),r.jsxs("radialGradient",{id:"crown-jewel",cx:"50%",cy:"50%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.9"}),r.jsx("stop",{offset:"50%",stopColor:"#FF6B9D",stopOpacity:"0.7"}),r.jsx("stop",{offset:"100%",stopColor:"#E91E63",stopOpacity:"0.9"})]}),r.jsxs("filter",{id:"crown-sparkle",children:[r.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("g",{filter:"url(#crown-sparkle)",children:[r.jsx("path",{d:"M25,55 Q50,50 75,55 L75,60 Q50,55 25,60 Z",fill:"url(#crown-grad)"}),r.jsxs("g",{children:[r.jsx("polygon",{points:"30,55 28,35 32,35",fill:"url(#crown-grad)"}),r.jsx("circle",{cx:"30",cy:"33",r:"3",fill:"url(#crown-jewel)"}),r.jsx("polygon",{points:"40,53 38,25 42,25",fill:"url(#crown-grad)"}),r.jsx("circle",{cx:"40",cy:"23",r:"4",fill:"url(#crown-jewel)"}),r.jsx("polygon",{points:"50,52 48,20 52,20",fill:"url(#crown-grad)"}),r.jsx("circle",{cx:"50",cy:"18",r:"5",fill:"url(#crown-jewel)"}),r.jsx("polygon",{points:"60,53 58,25 62,25",fill:"url(#crown-grad)"}),r.jsx("circle",{cx:"60",cy:"23",r:"4",fill:"url(#crown-jewel)"}),r.jsx("polygon",{points:"70,55 68,35 72,35",fill:"url(#crown-grad)"}),r.jsx("circle",{cx:"70",cy:"33",r:"3",fill:"url(#crown-jewel)"})]}),r.jsx("circle",{cx:"35",cy:"45",r:"2",fill:"#E91E63",opacity:"0.9"}),r.jsx("circle",{cx:"45",cy:"40",r:"2",fill:"#9C27B0",opacity:"0.9"}),r.jsx("circle",{cx:"45",cy:"48",r:"2",fill:"#9C27B0",opacity:"0.9"}),r.jsx("circle",{cx:"35",cy:"40",r:"1.5",fill:"#FF6B9D",opacity:"0.8"}),r.jsx("circle",{cx:"35",cy:"48",r:"1.5",fill:"#FF6B9D",opacity:"0.8"}),r.jsx("path",{d:"M30,55 Q40,53 50,52 Q60,53 70,55",stroke:"#FFD700",strokeWidth:"0.5",fill:"none",opacity:"0.8"})]}),r.jsx("text",{x:"50",y:"75",fontFamily:"'Playfair Display', serif",fontSize:"6",fontWeight:"700",letterSpacing:"1",fill:"#8E24AA",textAnchor:"middle",children:"BEAUTYCITA"}),r.jsxs("g",{children:[r.jsx("circle",{cx:"20",cy:"30",r:"0.5",fill:"#FFD700",opacity:"0.8",children:r.jsx("animate",{attributeName:"opacity",values:"0.8;0.2;0.8",dur:"1.5s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"80",cy:"35",r:"0.5",fill:"#FFD700",opacity:"0.6",children:r.jsx("animate",{attributeName:"opacity",values:"0.2;0.8;0.2",dur:"1.5s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"25",cy:"70",r:"0.3",fill:"#FF6B9D",opacity:"0.7",children:r.jsx("animate",{attributeName:"opacity",values:"0.7;0.3;0.7",dur:"2s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"75",cy:"65",r:"0.3",fill:"#E91E63",opacity:"0.6",children:r.jsx("animate",{attributeName:"opacity",values:"0.3;0.7;0.3",dur:"2s",repeatCount:"indefinite"})})]})]})}],o=[{name:"Primary Pink",hex:"#E91E63",current:!0},{name:"Primary Purple",hex:"#9C27B0",current:!0},{name:"Deep Purple",hex:"#8E24AA",current:!0},{name:"Pink Accent",hex:"#FF6B9D",current:!1},{name:"Light Pink",hex:"#FFB6C1",current:!1},{name:"Hot Pink",hex:"#FF80AB",current:!1}],l=[{name:"Primary Gradient",current:!0},{name:"Outlined",current:!1},{name:"Glass Button",current:!1},{name:"Soft Shadow",current:!1},{name:"Pill Gradient",current:!1},{name:"Neon Glow",current:!1}],c=[{name:"Spinner Circle",type:"spinner"},{name:"Dots Bouncing",type:"dots"},{name:"Progress Bar",type:"bar"},{name:"Pulse Wave",type:"pulse"},{name:"Skeleton Screen",type:"skeleton"},{name:"Shimmer Effect",type:"shimmer"}],d=[{name:"Center Popup",position:"center",size:"md"},{name:"Full Screen",position:"center",size:"full"},{name:"Slide from Bottom",position:"bottom",size:"md"},{name:"Slide from Right",position:"right",size:"md"},{name:"Dialog Small",position:"center",size:"sm"},{name:"Dialog Large",position:"center",size:"lg"}],u=[{name:"Top Bar Fixed",type:"top-fixed"},{name:"Top Bar Transparent",type:"top-transparent"},{name:"Side Menu Left",type:"side-left"},{name:"Bottom Tab Bar",type:"bottom-tabs"},{name:"Floating Action",type:"fab"},{name:"Mega Menu",type:"mega"}],h=[{name:"Image Top",layout:"vertical"},{name:"Image Left",layout:"horizontal"},{name:"Overlay Text",layout:"overlay"},{name:"Grid Masonry",layout:"masonry"},{name:"Carousel Slide",layout:"carousel"},{name:"Flip Card",layout:"flip"}],p=[{name:"Text Input Standard",type:"text"},{name:"Text Area Multi",type:"textarea"},{name:"Select Dropdown",type:"select"},{name:"Checkbox Group",type:"checkbox"},{name:"Radio Button Set",type:"radio"},{name:"Toggle Switch",type:"toggle"}],f=[{name:"Outlined Style",style:"outline"},{name:"Filled Solid",style:"solid"},{name:"Duotone Color",style:"duotone"},{name:"Gradient Fill",style:"gradient"},{name:"Minimal Line",style:"minimal"},{name:"Rounded Soft",style:"rounded"}],y=[{name:"Circle Photo",shape:"circle"},{name:"Square Rounded",shape:"square"},{name:"With Badge",shape:"circle",badge:!0},{name:"With Border Ring",shape:"circle",ring:!0},{name:"Initials Only",shape:"circle",type:"initials"},{name:"Group Stack",shape:"circle",group:!0}],x=[{name:"Striped Rows",variant:"striped"},{name:"Bordered Cells",variant:"bordered"},{name:"Hover Highlight",variant:"hover"},{name:"Compact Dense",variant:"compact"},{name:"Card Style",variant:"card"},{name:"Responsive Mobile",variant:"responsive"}],g=[{name:"Solid Color",style:"solid",color:"pink"},{name:"Soft Pastel",style:"soft",color:"purple"},{name:"Outlined Border",style:"outlined",color:"pink"},{name:"Pill Rounded",style:"pill",color:"purple"},{name:"Dot Indicator",style:"dot",color:"green"},{name:"Number Count",style:"number",color:"red"}],v=[{name:"No Results Found",icon:"🔍",message:"Try adjusting your filters"},{name:"No Bookings Yet",icon:"📅",message:"Start booking appointments"},{name:"Empty Portfolio",icon:"📸",message:"Add your first photo"},{name:"No Messages",icon:"💬",message:"Your inbox is empty"},{name:"No Favorites",icon:"❤️",message:"Save stylists you love"},{name:"No Reviews",icon:"⭐",message:"Be the first to review"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 p-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"BeautyCita Design System"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Complete visual design library"})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🎨 Color Palette"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:o.map(b=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-12 rounded-full shadow-md",style:{backgroundColor:b.hex}}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 mt-1",children:b.name}),r.jsx("p",{className:"text-[10px] text-gray-500 font-mono",children:b.hex})]},b.hex))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"💎 Premium Logo Icons"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.map(b=>r.jsxs("div",{className:"rounded-full shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:`${b.bg} h-20 flex items-center justify-center p-3`,children:b.content}),r.jsx("div",{className:"p-2 bg-white border-t border-gray-100",children:r.jsx("p",{className:"text-xs font-semibold text-gray-800 text-center",children:b.name})})]},b.id))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🔘 Button Styles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-3 shadow-md",children:[r.jsx("button",{className:"px-3 py-1.5 text-xs bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold rounded-3xl",children:b.name}),b.current&&r.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-green-100 text-green-700 text-[10px] font-semibold rounded-3xl",children:"✓ CURRENT"})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"⏳ Loading Animations"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-md text-center",children:[b.type==="spinner"&&r.jsx("div",{className:"w-8 h-8 border-3 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto"}),b.type==="dots"&&r.jsxs("div",{className:"flex justify-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-3xl animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-3xl animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-3xl animate-bounce",style:{animationDelay:"0.2s"}})]}),b.type==="bar"&&r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-3xl overflow-hidden",children:r.jsx("div",{className:"h-full w-2/3 bg-gradient-to-r from-pink-500 to-purple-600 rounded-3xl animate-pulse"})}),b.type==="pulse"&&r.jsx("div",{className:"w-8 h-8 bg-pink-500 rounded-3xl animate-ping mx-auto opacity-75"}),b.type==="skeleton"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse w-3/4"})]}),b.type==="shimmer"&&r.jsx("div",{className:"h-8 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded animate-pulse bg-[length:200%_100%]"}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 mt-2",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🪟 Modal Styles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-md",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-full p-3 text-center",children:[r.jsx("div",{className:"text-2xl mb-1",children:"📱"}),r.jsx("p",{className:"text-[10px] text-gray-500",children:b.position}),r.jsx("p",{className:"text-[10px] text-gray-500",children:b.size})]}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 mt-2",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🧭 Navigation Patterns"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-3 shadow-md",children:[r.jsxs("div",{className:"border border-gray-200 rounded-full p-2 text-center",children:[b.type==="top-fixed"&&r.jsx("div",{className:"h-1 bg-gradient-to-r from-pink-500 to-purple-600 rounded mb-2"}),b.type==="top-transparent"&&r.jsx("div",{className:"h-1 bg-gray-200 rounded mb-2"}),b.type==="side-left"&&r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-pink-500 to-purple-600 rounded mr-2"}),r.jsx("div",{className:"flex-1 bg-gray-100 rounded"})]}),b.type==="bottom-tabs"&&r.jsx("div",{className:"h-8 bg-gray-100 rounded mb-0 mt-2"}),b.type==="fab"&&r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-pink-500 to-purple-600 rounded-3xl"})}),b.type==="mega"&&r.jsx("div",{className:"grid grid-cols-3 gap-1",children:[1,2,3].map(k=>r.jsx("div",{className:"h-6 bg-gray-100 rounded"},k))})]}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 mt-2",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🃏 Card Layouts"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:h.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden",children:[b.layout==="vertical"&&r.jsxs("div",{children:[r.jsx("div",{className:"h-16 bg-gradient-to-br from-pink-100 to-purple-100"}),r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded mb-1"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded w-2/3"})]})]}),b.layout==="horizontal"&&r.jsxs("div",{className:"flex p-2",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-100 to-purple-100 rounded mr-2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded mb-1"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded w-2/3"})]})]}),b.layout==="overlay"&&r.jsxs("div",{className:"relative h-20",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500 to-purple-600"}),r.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:r.jsx("div",{className:"h-2 bg-white/80 rounded"})})]}),b.layout==="masonry"&&r.jsxs("div",{className:"p-2 grid grid-cols-2 gap-1",children:[r.jsx("div",{className:"h-12 bg-pink-100 rounded"}),r.jsx("div",{className:"h-8 bg-purple-100 rounded"}),r.jsx("div",{className:"h-8 bg-purple-100 rounded"}),r.jsx("div",{className:"h-12 bg-pink-100 rounded"})]}),b.layout==="carousel"&&r.jsx("div",{className:"p-2",children:r.jsx("div",{className:"flex space-x-1 overflow-hidden",children:[1,2,3].map(k=>r.jsx("div",{className:"w-12 h-16 bg-gradient-to-br from-pink-100 to-purple-100 rounded flex-shrink-0"},k))})}),b.layout==="flip"&&r.jsx("div",{className:"h-20 bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center",children:r.jsx("div",{className:"text-2xl",children:"🔄"})}),r.jsx("div",{className:"p-2 bg-gray-50 border-t border-gray-100",children:r.jsx("p",{className:"text-xs font-semibold text-gray-800 text-center",children:b.name})})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"📝 Form Elements"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-3 shadow-md",children:[b.type==="text"&&r.jsx("input",{type:"text",placeholder:"Enter text...",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-full focus:border-pink-500 outline-none"}),b.type==="textarea"&&r.jsx("textarea",{placeholder:"Enter message...",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-full focus:border-pink-500 outline-none",rows:2}),b.type==="select"&&r.jsxs("select",{className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-full focus:border-pink-500 outline-none",children:[r.jsx("option",{children:"Select option..."}),r.jsx("option",{children:"Option 1"}),r.jsx("option",{children:"Option 2"})]}),b.type==="checkbox"&&r.jsx("div",{className:"space-y-1",children:[1,2].map(k=>r.jsxs("label",{className:"flex items-center text-xs",children:[r.jsx("input",{type:"checkbox",className:"mr-1.5 w-3 h-3 text-pink-500"}),r.jsxs("span",{children:["Option ",k]})]},k))}),b.type==="radio"&&r.jsx("div",{className:"space-y-1",children:[1,2].map(k=>r.jsxs("label",{className:"flex items-center text-xs",children:[r.jsx("input",{type:"radio",name:"radio-demo",className:"mr-1.5 w-3 h-3 text-pink-500"}),r.jsxs("span",{children:["Choice ",k]})]},k))}),b.type==="toggle"&&r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs",children:"Enable"}),r.jsx("div",{className:"relative w-8 h-4 bg-gray-300 rounded-3xl",children:r.jsx("div",{className:"absolute left-0.5 top-0.5 w-3 h-3 bg-white rounded-3xl shadow"})})]}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 mt-2",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"✨ Icon Styles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:f.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-3 shadow-md",children:[r.jsxs("div",{className:"flex justify-center space-x-2 mb-2",children:[b.style==="outline"&&r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),r.jsx("svg",{className:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]}),b.style==="solid"&&r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5 text-pink-500",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"})}),r.jsx("svg",{className:"w-5 h-5 text-purple-500",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})]}),b.style==="duotone"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-pink-300 to-pink-500 rounded-3xl"}),r.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-300 to-purple-500 rounded-3xl"})]}),b.style==="gradient"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-pink-400 to-purple-600 rounded"}),r.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-400 to-pink-600 rounded"})]}),b.style==="minimal"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border border-pink-500 rounded"}),r.jsx("div",{className:"w-5 h-5 border border-purple-500 rounded"})]}),b.style==="rounded"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 bg-pink-500 rounded-3xl"}),r.jsx("div",{className:"w-5 h-5 bg-purple-500 rounded-3xl"})]})]}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 text-center",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"👤 Avatar Styles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:y.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-3 shadow-md text-center",children:[r.jsx("div",{className:"flex justify-center mb-2",children:b.group?r.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(k=>r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-pink-400 to-purple-500 border-2 border-white"},k))}):r.jsxs("div",{className:`relative ${b.shape==="circle","rounded-full"} ${b.ring?"ring-2 ring-pink-500 ring-offset-2":""} w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 flex items-center justify-center`,children:[b.type==="initials"&&r.jsx("span",{className:"text-white text-xs font-bold",children:"BC"}),b.badge&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-3xl border-2 border-white"})]})}),r.jsx("p",{className:"text-xs font-semibold text-gray-800",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"📊 Table Styles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-2 shadow-md",children:[r.jsx("div",{className:"overflow-hidden rounded border border-gray-200",children:r.jsxs("table",{className:"w-full text-[10px]",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-1 py-0.5 text-left font-semibold",children:"Name"}),r.jsx("th",{className:"px-1 py-0.5 text-left font-semibold",children:"Status"})]})}),r.jsx("tbody",{children:[1,2].map(k=>r.jsxs("tr",{className:b.variant==="striped"&&k%2===0?"bg-gray-50":b.variant==="hover"?"hover:bg-pink-50":"",children:[r.jsxs("td",{className:`px-1 py-0.5 ${b.variant==="bordered"?"border-t border-gray-200":""}`,children:["Item ",k]}),r.jsx("td",{className:`px-1 py-0.5 ${b.variant==="bordered"?"border-t border-gray-200":""}`,children:r.jsx("span",{className:"px-1 py-0.5 bg-green-100 text-green-700 rounded text-[8px]",children:"Active"})})]},k))})]})}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 mt-2 text-center",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🏷️ Badge Styles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:g.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-3 shadow-md text-center",children:[b.style==="solid"&&r.jsx("span",{className:"inline-block px-2 py-0.5 bg-pink-500 text-white text-xs font-semibold rounded",children:"New"}),b.style==="soft"&&r.jsx("span",{className:"inline-block px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-semibold rounded",children:"Pro"}),b.style==="outlined"&&r.jsx("span",{className:"inline-block px-2 py-0.5 border border-pink-500 text-pink-500 text-xs font-semibold rounded",children:"VIP"}),b.style==="pill"&&r.jsx("span",{className:"inline-block px-2 py-0.5 bg-purple-500 text-white text-xs font-semibold rounded-3xl",children:"Featured"}),b.style==="dot"&&r.jsxs("span",{className:"inline-flex items-center text-xs",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-3xl mr-1"}),r.jsx("span",{className:"text-gray-700",children:"Online"})]}),b.style==="number"&&r.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-3xl",children:"3"}),r.jsx("p",{className:"text-xs font-semibold text-gray-800 mt-2",children:b.name})]},b.name))})]}),r.jsxs("section",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"🚫 Empty States"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.map(b=>r.jsxs("div",{className:"bg-white rounded-3xl p-4 shadow-md text-center",children:[r.jsx("div",{className:"text-3xl mb-1",children:b.icon}),r.jsx("h3",{className:"text-xs font-bold text-gray-900 mb-1",children:b.name}),r.jsx("p",{className:"text-[10px] text-gray-500 mb-2",children:b.message}),r.jsx("button",{className:"px-2 py-1 text-[10px] bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold rounded",children:"Get Started"})]},b.name))})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"🎬 Parallax Video Wall Demo"}),r.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Multi-layer parallax effect with video background"}),r.jsxs("div",{ref:n,className:"relative h-[600px] overflow-hidden rounded-3xl shadow-2xl",children:[r.jsxs("div",{className:"absolute inset-0 transition-transform duration-100 ease-out",style:{transform:`translateY(${t*-150}px) scale(${1+t*.2})`},children:[r.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",children:r.jsx("source",{src:"/aventador.mp4",type:"video/mp4"})}),r.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-8 transition-transform duration-100 ease-out",style:{transform:`translateY(${t*-80}px)`},children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 max-w-4xl",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/30 transform hover:scale-105 transition-all duration-300 hover:bg-white/20",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-purple-600 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-2xl",children:"💄"})}),r.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Makeup"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Professional services"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/30 transform hover:scale-105 transition-all duration-300 hover:bg-white/20",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-600 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-2xl",children:"💅"})}),r.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Nails"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Manicure & pedicure"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/30 transform hover:scale-105 transition-all duration-300 hover:bg-white/20",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-pink-600 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-2xl",children:"💇"})}),r.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Hair"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Cuts & styling"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/30 transform hover:scale-105 transition-all duration-300 hover:bg-white/20",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-green-600 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-2xl",children:"🧖"})}),r.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Spa"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Relaxation treatments"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/30 transform hover:scale-105 transition-all duration-300 hover:bg-white/20",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-pink-600 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-2xl",children:"✨"})}),r.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Skincare"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Facial treatments"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/30 transform hover:scale-105 transition-all duration-300 hover:bg-white/20",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-2xl",children:"💎"})}),r.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Premium"}),r.jsx("p",{className:"text-white/80 text-sm",children:"VIP experiences"})]})]})}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none transition-transform duration-100 ease-out",style:{transform:`translateY(${t*-40}px)`,opacity:1-t*.7},children:[r.jsx("h3",{className:"text-7xl font-bold text-white mb-4 drop-shadow-2xl tracking-tight",children:"BeautyCita"}),r.jsx("p",{className:"text-2xl text-white/90 drop-shadow-lg font-light",children:"Elevate Your Beauty Experience"})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/60 to-transparent pointer-events-none"})]}),r.jsxs("div",{className:"mt-8 bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-6 border border-purple-200",children:[r.jsxs("h4",{className:"font-bold text-purple-900 mb-4 flex items-center text-lg",children:[r.jsx(wy,{className:"w-6 h-6 mr-2 text-purple-600"}),"Parallax Video Wall Features - Scroll to See Effect!"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-purple-800",children:[r.jsxs("div",{className:"bg-white/60 rounded-3xl p-4",children:[r.jsx("h5",{className:"font-semibold mb-2",children:"🎥 Video Background Layer"}),r.jsx("p",{children:"Moves at -150px with 20% scale increase • Slowest parallax speed"})]}),r.jsxs("div",{className:"bg-white/60 rounded-3xl p-4",children:[r.jsx("h5",{className:"font-semibold mb-2",children:"🃏 Content Cards Layer"}),r.jsx("p",{children:"Moves at -80px • Medium parallax speed with glassmorphism effects"})]}),r.jsxs("div",{className:"bg-white/60 rounded-3xl p-4",children:[r.jsx("h5",{className:"font-semibold mb-2",children:"✨ Title Foreground Layer"}),r.jsx("p",{children:"Moves at -40px with fade effect • Fastest parallax speed"})]}),r.jsxs("div",{className:"bg-white/60 rounded-3xl p-4",children:[r.jsx("h5",{className:"font-semibold mb-2",children:"⚡ Scroll-Based Animation"}),r.jsx("p",{children:"React useEffect hook tracks scroll position for smooth parallax effect"})]})]}),r.jsx("div",{className:"mt-4 bg-purple-100 rounded-3xl p-4",children:r.jsxs("p",{className:"text-xs text-purple-900",children:[r.jsx("strong",{children:"💡 Tip:"})," Scroll up and down to see the three layers move at different speeds, creating depth perception. The video background moves slowest while the title moves fastest!"]})})]})]}),r.jsx("section",{className:"mb-6",children:r.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-3xl p-4 shadow-lg text-white",children:[r.jsx("h2",{className:"text-lg font-bold mb-2",children:"💬 Team Feedback"}),r.jsx("p",{className:"mb-3 text-xs",children:"Share your thoughts on these design elements"}),r.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-3xl p-3 mb-3",children:[r.jsx("p",{className:"font-semibold mb-2 text-xs",children:"Leave comments via:"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:"📧 Email team lead"}),r.jsx("li",{children:"💬 Slack/Discord"}),r.jsx("li",{children:"🗳️ Team meeting"})]})]})]})})]})})},gte=()=>{const[s,e]=m.useState("all"),t={name:"BeautyCita Official Logo",description:"iOS Ready - App Icon, Favicon, Watermark",content:r.jsxs("svg",{viewBox:"0 0 400 400",className:"w-full h-full",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"bcGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",style:{stopColor:"#FF6B9D"}}),r.jsx("stop",{offset:"50%",style:{stopColor:"#C06FDB"}}),r.jsx("stop",{offset:"100%",style:{stopColor:"#6C63FF"}})]})}),r.jsx("rect",{x:"50",y:"50",width:"300",height:"300",rx:"67.5",fill:"url(#bcGrad)"}),r.jsx("text",{x:"200",y:"270",fontFamily:"'SF Pro Display', 'Helvetica Neue', Arial, sans-serif",fontSize:"180",fill:"white",textAnchor:"middle",fontWeight:"700",letterSpacing:"-12",children:"BC"})]})},a=[{name:"Primary Gradient",colors:["#FF6B9D","#C06FDB","#6C63FF"],usage:"Main brand gradient - logos, CTAs, headers"},{name:"Pink Accent",colors:["#FF6B9D"],usage:"Primary pink - feminine, beauty"},{name:"Purple Accent",colors:["#C06FDB"],usage:"Secondary purple - luxury, premium"},{name:"Blue Accent",colors:["#6C63FF"],usage:"Tech accent - trust, AI features"},{name:"Success Green",colors:["#10B981"],usage:"Confirmations, success states"},{name:"Warning Amber",colors:["#F59E0B"],usage:"Warnings, pending actions"},{name:"Error Red",colors:["#EF4444"],usage:"Errors, cancellations"},{name:"Neutral Gray",colors:["#F3F4F6","#E5E7EB","#9CA3AF","#6B7280","#374151","#1F2937"],usage:"Backgrounds, text, borders"}],n=[{name:"Heading 1",style:"font-serif text-5xl font-bold",example:"BeautyCita",usage:"Page titles, hero sections"},{name:"Heading 2",style:"font-serif text-4xl font-bold",example:"Book Your Beauty",usage:"Section headers"},{name:"Heading 3",style:"font-sans text-2xl font-semibold",example:"Hair Styling Services",usage:"Card titles, subsections"},{name:"Body Large",style:"font-sans text-lg",example:"Professional beauty services at your fingertips",usage:"Lead paragraphs, important info"},{name:"Body Regular",style:"font-sans text-base",example:"Browse stylists, book appointments, and track your beauty journey",usage:"Standard body text"},{name:"Body Small",style:"font-sans text-sm",example:"Terms and conditions apply",usage:"Secondary info, captions"},{name:"Label",style:"font-sans text-xs font-medium uppercase tracking-wider",example:"Featured Stylist",usage:"Labels, badges, tags"}],i=[{name:"Primary Gradient",className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",example:"Book Appointment",usage:"Primary CTAs, important actions"},{name:"Secondary Outline",className:"border-2 border-purple-600 text-purple-600 font-semibold py-3 px-6 rounded-full hover:bg-purple-50 transition-all duration-200",example:"View Portfolio",usage:"Secondary actions, non-critical CTAs"},{name:"Ghost",className:"text-purple-600 font-semibold py-3 px-6 rounded-full hover:bg-purple-50 transition-all duration-200",example:"Learn More",usage:"Tertiary actions, navigation"},{name:"Biometric",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold py-4 px-6 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",example:"🔐 Login with Biometric",usage:"Authentication, secure actions"},{name:"Danger",className:"bg-red-500 text-white font-semibold py-3 px-6 rounded-full hover:bg-red-600 transition-all duration-200",example:"Cancel Booking",usage:"Destructive actions, warnings"}],o=[{name:"Gradient Card",className:"bg-gradient-to-br from-pink-500 via-purple-500 to-blue-500 rounded-2xl p-6 text-white shadow-2xl",content:r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Premium Service"}),r.jsx("p",{className:"text-white/90 mb-4",children:"Full color treatment with luxury products"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-2xl font-bold",children:"$120"}),r.jsx("button",{className:"bg-white text-purple-600 px-4 py-2 rounded-full font-semibold",children:"Book Now"})]})]}),usage:"Featured items, premium offerings"},{name:"Glass Card",className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 shadow-xl",content:r.jsxs("div",{className:"text-gray-900",children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Stylist Profile"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"10+ years experience in hair styling"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-600 rounded-full text-sm",children:"Haircuts"}),r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm",children:"Color"})]})]}),usage:"Overlays, modals, floating elements"},{name:"Standard White Card",className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300",content:r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Service Name"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Brief description of the service offered"}),r.jsx("div",{className:"text-purple-600 font-semibold",children:"Starting at $45"})]}),usage:"Service cards, general content"}],l=[{name:"Text Input",element:r.jsx("input",{type:"text",placeholder:"Enter your name",className:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 focus:outline-none transition-colors"}),usage:"Standard text inputs"},{name:"Search Input",element:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search stylists...",className:"w-full pl-10 pr-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:outline-none transition-colors"}),r.jsx("svg",{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),usage:"Search bars, filtering"},{name:"Select Dropdown",element:r.jsxs("select",{className:"w-full px-4 py-3 rounded-full border border-gray-300 bg-white focus:ring-2 focus:ring-pink-500 focus:border-pink-500 focus:outline-none transition-colors",children:[r.jsx("option",{children:"Select a service..."}),r.jsx("option",{children:"Haircut"}),r.jsx("option",{children:"Hair Color"}),r.jsx("option",{children:"Styling"})]}),usage:"Dropdowns, selections"},{name:"Checkbox",element:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-5 h-5 text-pink-500 focus:ring-pink-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-gray-700",children:"I accept the terms and conditions"})]}),usage:"Agreements, multi-select"}],c=[{name:"Featured",className:"px-3 py-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-xs font-medium rounded-full",text:"Featured"},{name:"New",className:"px-3 py-1 bg-blue-500 text-white text-xs font-medium rounded-full",text:"New"},{name:"Popular",className:"px-3 py-1 bg-amber-500 text-white text-xs font-medium rounded-full",text:"Popular"},{name:"Premium",className:"px-3 py-1 bg-purple-100 text-purple-600 text-xs font-medium rounded-full border border-purple-200",text:"Premium"},{name:"Verified",className:"px-3 py-1 bg-green-100 text-green-600 text-xs font-medium rounded-full flex items-center gap-1",text:"✓ Verified"}],d=[{size:"xs",pixels:"4px",className:"w-1 h-1",usage:"Tight spacing, icons"},{size:"sm",pixels:"8px",className:"w-2 h-2",usage:"Small gaps, compact layouts"},{size:"md",pixels:"16px",className:"w-4 h-4",usage:"Standard spacing between elements"},{size:"lg",pixels:"24px",className:"w-6 h-6",usage:"Section spacing"},{size:"xl",pixels:"32px",className:"w-8 h-8",usage:"Large sections, page margins"},{size:"2xl",pixels:"48px",className:"w-12 h-12",usage:"Major sections, hero spacing"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-white overflow-hidden",children:[r.jsx("style",{children:`
        .invisible-scrollbar::-webkit-scrollbar { display: none; }
        .invisible-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `}),r.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 text-white py-16 px-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(Zl,{className:"w-12 h-12"}),r.jsx("h1",{className:"text-5xl font-bold",children:"BeautyCita Brand Guide"})]}),r.jsx("p",{className:"text-xl text-purple-100 max-w-3xl mx-auto",children:"Official design system, brand colors, typography, and component standards for BeautyCita"})]})}),r.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-lg border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsx("div",{className:"flex gap-3 overflow-x-auto invisible-scrollbar",children:[{id:"all",label:"All",icon:null},{id:"logo",label:"Logo",icon:Ee},{id:"colors",label:"Colors",icon:dp},{id:"typography",label:"Typography",icon:xl},{id:"components",label:"Components",icon:ap},{id:"ui",label:"UI Elements",icon:np}].map(({id:u,label:h,icon:p})=>r.jsxs("button",{onClick:()=>e(u),className:`px-6 py-2 rounded-full font-medium transition-all whitespace-nowrap flex items-center gap-2 ${s===u?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[p&&r.jsx(p,{className:"w-5 h-5"}),h]},u))})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 invisible-scrollbar overflow-y-auto",children:[(s==="all"||s==="logo")&&r.jsxs("section",{className:"mb-16",children:[r.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-8 flex items-center gap-3",children:[r.jsx(Ee,{className:"w-8 h-8 text-purple-600"}),"Official Logo"]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"max-w-xl w-full",children:[r.jsx("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-12 shadow-2xl hover:shadow-3xl transition-all duration-300 border-4 border-purple-200",children:r.jsx("div",{className:"aspect-square flex items-center justify-center",children:t.content})}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.name}),r.jsx("p",{className:"text-lg text-gray-600 mt-2",children:t.description}),r.jsxs("div",{className:"mt-4 flex gap-3 justify-center flex-wrap",children:[r.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-sm font-medium rounded-full",children:"App Icon"}),r.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-600 text-white text-sm font-medium rounded-full",children:"Favicon"}),r.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-pink-600 text-white text-sm font-medium rounded-full",children:"Watermark"})]}),r.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-full border border-purple-200",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"File:"})," /var/www/beautycita.com/media/brand/logo-ios-ready.svg",r.jsx("br",{}),r.jsx("strong",{children:"Format:"})," SVG (scalable)",r.jsx("br",{}),r.jsx("strong",{children:"Gradient:"})," #FF6B9D → #C06FDB → #6C63FF"]})})]})]})})]}),(s==="all"||s==="colors")&&r.jsxs("section",{className:"mb-16",children:[r.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-8 flex items-center gap-3",children:[r.jsx(dp,{className:"w-8 h-8 text-purple-600"}),"Brand Colors"]}),r.jsx("div",{className:"space-y-6",children:a.map((u,h)=>r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-2xl transition-all",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:u.name}),r.jsx("div",{className:"flex gap-4 mb-4 flex-wrap",children:u.colors.map((p,f)=>r.jsxs("div",{className:"flex-1 min-w-[100px]",children:[r.jsx("div",{className:"h-20 rounded-full shadow-md mb-2",style:{backgroundColor:p}}),r.jsx("p",{className:"text-xs font-mono text-gray-600 text-center",children:p})]},f))}),r.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-full",children:[r.jsx("strong",{children:"Usage:"})," ",u.usage]})]},h))})]}),(s==="all"||s==="typography")&&r.jsxs("section",{className:"mb-16",children:[r.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-8 flex items-center gap-3",children:[r.jsx(xl,{className:"w-8 h-8 text-purple-600"}),"Typography"]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[r.jsx("div",{className:"mb-8 p-4 bg-purple-50 rounded-full border border-purple-200",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Primary Font:"})," Inter (sans-serif) - body text, UI elements",r.jsx("br",{}),r.jsx("strong",{children:"Secondary Font:"})," Georgia, serif - headings, elegant text"]})}),r.jsx("div",{className:"space-y-8",children:n.map((u,h)=>r.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[r.jsx("div",{className:"mb-3",children:r.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase tracking-wider",children:u.name})}),r.jsx("p",{className:u.style,children:u.example}),r.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[r.jsx("strong",{children:"Usage:"})," ",u.usage,r.jsx("br",{}),r.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded mt-1 inline-block",children:u.style})]})]},h))})]})]}),(s==="all"||s==="components")&&r.jsxs("section",{className:"mb-16",children:[r.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-8 flex items-center gap-3",children:[r.jsx(ap,{className:"w-8 h-8 text-purple-600"}),"Components"]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Buttons"}),r.jsx("div",{className:"space-y-6",children:i.map((u,h)=>r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px]",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:u.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.usage}),r.jsx("button",{className:u.className,children:u.example})]}),r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx("code",{className:"text-xs bg-gray-100 p-3 rounded block overflow-x-auto",children:u.className})})]})},h))})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Cards"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map((u,h)=>r.jsxs("div",{children:[r.jsx("div",{className:u.className,children:u.content}),r.jsxs("div",{className:"mt-4 bg-white rounded-2xl p-4 shadow",children:[r.jsx("h4",{className:"font-semibold mb-2",children:u.name}),r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:u.usage}),r.jsx("code",{className:"text-xs bg-gray-100 p-2 rounded block overflow-x-auto",children:u.className})]})]},h))})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Badges & Tags"}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:c.map((u,h)=>r.jsx("span",{className:u.className,children:u.text},h))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((u,h)=>r.jsxs("div",{className:"border border-gray-200 rounded-2xl p-3",children:[r.jsx("p",{className:"text-sm font-semibold mb-1",children:u.name}),r.jsx("code",{className:"text-xs bg-gray-100 p-2 rounded block overflow-x-auto",children:u.className})]},h))})]})]})]}),(s==="all"||s==="ui")&&r.jsxs("section",{className:"mb-16",children:[r.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-8 flex items-center gap-3",children:[r.jsx(np,{className:"w-8 h-8 text-purple-600"}),"UI Elements"]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Form Elements"}),r.jsx("div",{className:"space-y-6",children:l.map((u,h)=>r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:u.name}),r.jsx("div",{className:"mb-4 max-w-md",children:u.element}),r.jsx("p",{className:"text-sm text-gray-600",children:u.usage})]},h))})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Spacing System"}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:d.map((u,h)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-3",children:r.jsx("div",{className:`${u.className} bg-gradient-to-r from-pink-500 to-purple-600 rounded`})}),r.jsx("p",{className:"font-semibold",children:u.size}),r.jsx("p",{className:"text-sm text-gray-600",children:u.pixels}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.usage})]},h))})})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Animation Principles"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Hover Effects"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full text-white transform hover:scale-105 transition-all duration-200 cursor-pointer",children:"Scale on Hover (1.05x)"}),r.jsx("div",{className:"p-4 bg-white border-2 border-purple-600 rounded-full hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Shadow Elevation"}),r.jsx("div",{className:"p-4 bg-purple-100 rounded-full hover:bg-purple-200 transition-colors duration-200 cursor-pointer",children:"Color Transition"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Loading States"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm",children:"Standard Spinner"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),r.jsx("span",{className:"text-sm ml-2",children:"Dot Pulse"})]})]})]})]})]})]}),r.jsxs("section",{className:"mt-16 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 rounded-2xl p-8 text-white",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Brand Guidelines"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"✓ Do's"}),r.jsxs("ul",{className:"space-y-2 text-purple-100",children:[r.jsx("li",{children:"• Use official logo without modifications"}),r.jsx("li",{children:"• Maintain gradient direction (diagonal top-left to bottom-right)"}),r.jsx("li",{children:"• Use rounded corners (12px-24px) for modern feel"}),r.jsx("li",{children:"• Apply shadows for depth and hierarchy"}),r.jsx("li",{children:"• Use Inter font for UI, Georgia for headings"}),r.jsx("li",{children:"• Maintain 8px spacing grid"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"✗ Don'ts"}),r.jsxs("ul",{className:"space-y-2 text-purple-100",children:[r.jsx("li",{children:"• Don't alter logo colors or proportions"}),r.jsx("li",{children:"• Don't use sharp corners on primary elements"}),r.jsx("li",{children:"• Don't mix incompatible gradients"}),r.jsx("li",{children:"• Don't use low-contrast text combinations"}),r.jsx("li",{children:"• Don't use more than 3 accent colors per screen"}),r.jsx("li",{children:"• Don't break the 8px spacing system"})]})]})]})]})]})]})};function xte(){const[s]=m.useState(!1),e=[{id:1,title:"Bridal Makeup Transformation",stylist:"Isabella Chen",category:"Makeup",before:"/media/img/portfolio/before1.jpg",after:"/media/img/portfolio/after1.jpg",description:"Stunning bridal look with airbrush makeup and soft glam",rating:5,reviews:89},{id:2,title:"Balayage Hair Color",stylist:"Sofia Martinez",category:"Hair Color",before:"/media/img/portfolio/before2.jpg",after:"/media/img/portfolio/after2.jpg",description:"Natural sun-kissed balayage with dimensional highlights",rating:4.9,reviews:124},{id:3,title:"Gel Nail Art Design",stylist:"Emma Rodriguez",category:"Nails",before:"/media/img/portfolio/before3.jpg",after:"/media/img/portfolio/after3.jpg",description:"Custom gel nail art with 3D floral design",rating:5,reviews:67},{id:4,title:"Anti-Aging Facial Treatment",stylist:"Mia Johnson",category:"Skincare",before:"/media/img/portfolio/before4.jpg",after:"/media/img/portfolio/after4.jpg",description:"Professional hydrafacial with visible results",rating:4.8,reviews:92},{id:5,title:"Volume Lash Extensions",stylist:"Ava Williams",category:"Lashes",before:"/media/img/portfolio/before5.jpg",after:"/media/img/portfolio/after5.jpg",description:"Full volume lash extensions for dramatic eyes",rating:5,reviews:78},{id:6,title:"Microblading Brows",stylist:"Olivia Brown",category:"Brows",before:"/media/img/portfolio/before6.jpg",after:"/media/img/portfolio/after6.jpg",description:"Natural microblading for perfect brow shape",rating:4.9,reviews:103}];return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-b from-purple-50 to-pink-50"} py-20`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-6",children:r.jsx(Ee,{className:"h-16 w-16 text-pink-500"})}),r.jsx("h1",{className:`text-5xl md:text-7xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Success Stories & Transformations"}),r.jsx("p",{className:`text-xl md:text-2xl max-w-3xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"See the amazing results our verified professionals deliver every day"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto mb-16",children:e.map((t,a)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},viewport:{once:!0},whileHover:{y:-10},className:`rounded-3xl overflow-hidden shadow-xl ${s?"bg-gray-800":"bg-white"}`,children:[r.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:[r.jsx(fu,{className:"h-16 w-16 text-white opacity-80"}),r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("span",{className:"bg-white/90 text-gray-900 px-3 py-1 rounded-3xl text-sm font-semibold",children:t.category})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:`text-xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:t.title}),r.jsxs("p",{className:`text-sm mb-3 ${s?"text-gray-400":"text-gray-600"}`,children:["by ",t.stylist]}),r.jsx("p",{className:`text-sm mb-4 ${s?"text-gray-300":"text-gray-700"}`,children:t.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"h-5 w-5 text-yellow-400 fill-current"}),r.jsx("span",{className:`ml-1 font-semibold ${s?"text-white":"text-gray-900"}`,children:t.rating}),r.jsxs("span",{className:`ml-1 text-sm ${s?"text-gray-400":"text-gray-500"}`,children:["(",t.reviews,")"]})]}),r.jsxs(Z,{to:"/services",className:"text-pink-500 hover:text-pink-600 font-semibold text-sm flex items-center group",children:["Book Now",r.jsx(Ie,{className:"ml-1 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})]},t.id))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Ready to Start Your Transformation?"}),r.jsx("p",{className:`text-lg mb-8 max-w-2xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Join thousands of satisfied clients who've discovered their perfect beauty professional on BeautyCita"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Z,{to:"/services",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-3xl font-semibold hover:shadow-xl transition-all transform hover:scale-105",children:["Browse Services",r.jsx(Ie,{className:"ml-2 h-5 w-5"})]}),r.jsx(Z,{to:"/stylists",className:`inline-flex items-center px-8 py-4 rounded-full font-semibold transition-all transform hover:scale-105 ${s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-900 hover:shadow-lg"}`,children:"Find Stylists"})]})]})]})})}function yte(){const[s]=m.useState(!1),e=[{icon:l_,title:"Identity Verification",description:"Government-issued ID verification and background checks to ensure safety",color:"from-blue-500 to-blue-600"},{icon:sa,title:"Professional Credentials",description:"Verified beauty licenses, certifications, and educational qualifications",color:"from-purple-500 to-purple-600"},{icon:Vk,title:"Portfolio Review",description:"Expert review of work samples and before/after transformations",color:"from-pink-500 to-pink-600"},{icon:et,title:"Reference Checks",description:"Professional references and client testimonials verified",color:"from-green-500 to-green-600"}],t=[{number:"15,000+",label:"Verified Professionals"},{number:"98%",label:"Approval Rate"},{number:"24-48h",label:"Verification Time"},{number:"5-Star",label:"Average Rating"}];return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-white"} py-20`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"inline-block mb-6",children:r.jsx(Ke,{className:"h-20 w-20 text-green-500"})}),r.jsx("h1",{className:`text-5xl md:text-7xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Verified Beauty Professionals"}),r.jsx("p",{className:`text-xl md:text-2xl max-w-3xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Every professional on BeautyCita undergoes rigorous verification to ensure your safety and satisfaction"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-20",children:t.map((a,n)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"text-center",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-green-500 to-blue-600 bg-clip-text text-transparent mb-2",children:a.number}),r.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:a.label})]},a.label))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mb-20",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold text-center mb-12 ${s?"text-white":"text-gray-900"}`,children:"Our Verification Process"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:e.map((a,n)=>r.jsxs(E.div,{initial:{opacity:0,x:n%2===0?-20:20},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:`p-8 rounded-3xl ${s?"bg-gray-800":"bg-gradient-to-br from-gray-50 to-white"} border ${s?"border-gray-700":"border-gray-200"}`,children:[r.jsx("div",{className:`inline-flex p-4 rounded-3xl bg-gradient-to-br ${a.color} mb-4`,children:r.jsx(a.icon,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:`text-2xl font-bold mb-3 ${s?"text-white":"text-gray-900"}`,children:a.title}),r.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:a.description})]},a.title))})]}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`p-12 rounded-3xl mb-20 ${s?"bg-gray-800":"bg-gradient-to-r from-green-50 to-blue-50"}`,children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(pl,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),r.jsx("h3",{className:`text-3xl font-bold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Look for the Verified Badge"}),r.jsx("p",{className:`text-lg mb-6 ${s?"text-gray-300":"text-gray-600"}`,children:"All verified professionals display a green checkmark badge on their profile. This means they've passed our comprehensive verification process and are approved to provide services."}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-3xl shadow-md",children:[r.jsx(pl,{className:"h-6 w-6 text-green-500"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Background Checked"})]}),r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-3xl shadow-md",children:[r.jsx(nt,{className:"h-6 w-6 text-yellow-500 fill-current"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"5-Star Rated"})]}),r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-3xl shadow-md",children:[r.jsx(sa,{className:"h-6 w-6 text-blue-500"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Licensed Pro"})]})]})]})}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Book with Confidence"}),r.jsx("p",{className:`text-lg mb-8 max-w-2xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Browse our verified professionals and find your perfect beauty match today"}),r.jsxs(Z,{to:"/stylists",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-3xl font-semibold hover:shadow-xl transition-all transform hover:scale-105",children:[r.jsx(Ke,{className:"mr-2 h-6 w-6"}),"Browse Verified Professionals"]})]})]})})}function bte(){const[s]=m.useState(!1),e=[{icon:Lr,title:"256-Bit SSL Encryption",description:"Bank-level encryption protects all your payment information"},{icon:Ke,title:"PCI DSS Compliant",description:"Meets the highest payment security standards globally"},{icon:Ge,title:"Secure Card Processing",description:"Partner with Stripe for trusted payment processing"},{icon:ui,title:"Bitcoin Payments",description:"Accept secure cryptocurrency payments via BTCPay Server"}];return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-b from-blue-50 to-purple-50"} py-20`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[r.jsx(Lr,{className:"h-20 w-20 text-blue-500 mx-auto mb-6"}),r.jsx("h1",{className:`text-5xl md:text-7xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Secure Payments"}),r.jsx("p",{className:`text-xl max-w-3xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Your financial information is protected with military-grade encryption"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto mb-16",children:e.map((t,a)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:a*.1},viewport:{once:!0},className:`p-8 rounded-3xl ${s?"bg-gray-800":"bg-white shadow-xl"}`,children:[r.jsx(t.icon,{className:"h-12 w-12 text-blue-500 mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-3 ${s?"text-white":"text-gray-900"}`,children:t.title}),r.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:t.description})]},t.title))}),r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center",children:r.jsxs(Z,{to:"/services",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-3xl font-semibold hover:shadow-xl transition-all transform hover:scale-105",children:[r.jsx(Le,{className:"mr-2 h-6 w-6"}),"Start Booking Securely"]})})]})})}function vte(){const[s]=m.useState(!1),e=[{icon:Ft,title:"Open a Dispute",description:"Contact our support team within 48 hours of service"},{icon:Xr,title:"Fair Review",description:"Impartial mediators review evidence from both parties"},{icon:Ka,title:"Resolution",description:"Quick resolution within 3-5 business days"},{icon:ve,title:"24/7 Support",description:"Our team is always available to help you"}];return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-b from-purple-50 to-pink-50"} py-20`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[r.jsx(Ka,{className:"h-20 w-20 text-purple-500 mx-auto mb-6"}),r.jsx("h1",{className:`text-5xl md:text-7xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Dispute Resolution"}),r.jsx("p",{className:`text-xl max-w-3xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Fair and fast resolution for any service issues"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto mb-16",children:e.map((t,a)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:a*.1},viewport:{once:!0},className:`p-6 rounded-3xl text-center ${s?"bg-gray-800":"bg-white shadow-lg"}`,children:[r.jsx(t.icon,{className:"h-12 w-12 text-purple-500 mx-auto mb-4"}),r.jsx("h3",{className:`text-xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:t.title}),r.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:t.description})]},t.title))}),r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center",children:r.jsx(Z,{to:"/help",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-3xl font-semibold hover:shadow-xl transition-all transform hover:scale-105",children:"Contact Support Team"})})]})})}function wte(){const[s]=m.useState(!1),e=[{icon:ie,title:"100% Satisfaction",description:"Not happy? Get a full refund within 48 hours"},{icon:Ke,title:"Zero Risk Booking",description:"Book with confidence knowing you are protected"},{icon:Le,title:"Fast Refunds",description:"Refunds processed within 3-5 business days"},{icon:Ge,title:"No Questions Asked",description:"Simple refund process, no complicated forms"}];return r.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gradient-to-b from-pink-50 to-red-50"} py-20`,children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[r.jsx(Ge,{className:"h-20 w-20 text-pink-500 mx-auto mb-6"}),r.jsx("h1",{className:`text-5xl md:text-7xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Money-Back Guarantee"}),r.jsx("p",{className:`text-xl max-w-3xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Your satisfaction is guaranteed or your money back"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto mb-16",children:e.map((t,a)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:a*.1},viewport:{once:!0},className:`p-8 rounded-3xl ${s?"bg-gray-800":"bg-white shadow-xl"}`,children:[r.jsx(t.icon,{className:"h-12 w-12 text-pink-500 mb-4"}),r.jsx("h3",{className:`text-2xl font-bold mb-3 ${s?"text-white":"text-gray-900"}`,children:t.title}),r.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:t.description})]},t.title))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:`p-12 rounded-3xl text-center max-w-4xl mx-auto mb-16 ${s?"bg-gray-800":"bg-gradient-to-r from-pink-100 to-red-100"}`,children:[r.jsx("h3",{className:`text-3xl font-bold mb-4 ${s?"text-white":"text-gray-900"}`,children:"How It Works"}),r.jsx("p",{className:`text-lg mb-6 ${s?"text-gray-300":"text-gray-700"}`,children:"If you're not completely satisfied with your service, contact us within 48 hours. Our team will review your case and process a full refund if the service didn't meet your expectations."}),r.jsx("div",{className:"text-6xl font-bold text-pink-500 mb-2",children:"100%"}),r.jsx("div",{className:`text-xl font-semibold ${s?"text-gray-300":"text-gray-700"}`,children:"Money-Back Guarantee"})]}),r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center",children:r.jsx(Z,{to:"/services",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-pink-500 to-red-600 text-white rounded-3xl font-semibold hover:shadow-xl transition-all transform hover:scale-105",children:"Book Risk-Free Today"})})]})})}function jte(){const[s]=m.useState(!1),e=[{icon:Ke,title:"Verified Professionals Only",description:"All stylists undergo rigorous background checks and credential verification",link:"/verified-professionals",color:"from-green-500 to-teal-600"},{icon:Lr,title:"Secure Encrypted Payments",description:"Military-grade encryption protects all your financial information",link:"/secure-payments",color:"from-blue-500 to-purple-600"},{icon:Ka,title:"Fair Dispute Resolution",description:"24/7 support team to help resolve any service issues quickly",link:"/dispute-resolution",color:"from-purple-500 to-pink-600"},{icon:Ge,title:"100% Money-Back Guarantee",description:"Not satisfied? Get a full refund within 48 hours of service",link:"/money-back-guarantee",color:"from-pink-500 to-red-600"}],t=[{number:"15K+",label:"Verified Pros"},{number:"98%",label:"Satisfaction Rate"},{number:"24/7",label:"Support Available"},{number:"$5M+",label:"Protected Transactions"}];return r.jsxs("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-white"} py-20`,children:[r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx(E.div,{animate:{rotate:[0,10,-10,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"inline-block mb-6",children:r.jsx(Ke,{className:"h-24 w-24 text-blue-500"})}),r.jsx("h1",{className:`text-5xl md:text-7xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Client Protection Program"}),r.jsx("p",{className:`text-xl md:text-2xl max-w-3xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Your safety and satisfaction are our top priorities. We've built comprehensive protections into every booking."})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-20",children:t.map((a,n)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"text-center",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent mb-2",children:a.number}),r.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:a.label})]},a.label))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto mb-20",children:e.map((a,n)=>r.jsx(Z,{to:a.link,children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},whileHover:{y:-8,scale:1.02},className:`p-8 rounded-3xl cursor-pointer transition-all ${s?"bg-gray-800 hover:bg-gray-700":"bg-gradient-to-br from-gray-50 to-white shadow-lg hover:shadow-2xl"}`,children:[r.jsx("div",{className:`inline-flex p-4 rounded-3xl bg-gradient-to-br ${a.color} mb-6`,children:r.jsx(a.icon,{className:"h-10 w-10 text-white"})}),r.jsx("h3",{className:`text-2xl font-bold mb-3 ${s?"text-white":"text-gray-900"}`,children:a.title}),r.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:a.description}),r.jsxs("div",{className:"mt-4 text-blue-500 font-semibold flex items-center group",children:["Learn More",r.jsx("svg",{className:"ml-2 h-4 w-4 group-hover:translate-x-2 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},a.title))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`p-12 rounded-3xl text-center max-w-4xl mx-auto mb-16 ${s?"bg-gray-800":"bg-gradient-to-r from-blue-50 to-purple-50"}`,children:[r.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[r.jsx(pl,{className:"h-16 w-16 text-green-500"}),r.jsx(et,{className:"h-16 w-16 text-blue-500"})]}),r.jsx("h3",{className:`text-3xl font-bold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Join 250,000+ Protected Clients"}),r.jsx("p",{className:`text-lg mb-6 ${s?"text-gray-300":"text-gray-700"}`,children:"Every booking on BeautyCita comes with our comprehensive client protection program. From verified professionals to secure payments and dispute resolution, we've got you covered at every step."})]})]}),r.jsx(Ba,{videoSrc:"https://pub-56305a12c77043c9bd5de9db79a5e542.r2.dev/beautycita/videos/massage.mp4",height:"h-[60vh]",parallaxIntensity:.3,overlayGradient:"bg-gradient-to-b from-blue-900/60 via-purple-900/60 to-black/80",isDarkMode:s,children:r.jsx("div",{className:"text-center px-4 text-white",children:r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold mb-4",children:"Quality Service, Peace of Mind"}),r.jsx("p",{className:"text-xl md:text-2xl max-w-2xl mx-auto",children:"Experience premium wellness services from verified professionals you can trust"})]})})}),r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[r.jsx("h2",{className:`text-3xl md:text-4xl font-serif font-bold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Ready to Book with Confidence?"}),r.jsx("p",{className:`text-lg mb-8 max-w-2xl mx-auto ${s?"text-gray-300":"text-gray-600"}`,children:"Browse verified professionals and experience worry-free beauty services"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Z,{to:"/services",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-3xl font-semibold hover:shadow-xl transition-all transform hover:scale-105",children:[r.jsx(Ke,{className:"mr-2 h-6 w-6"}),"Browse Services"]}),r.jsx(Z,{to:"/help",className:`inline-flex items-center px-8 py-4 rounded-full font-semibold transition-all transform hover:scale-105 ${s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-900 hover:shadow-lg"}`,children:"Contact Support"})]})]})})]})}function Nte(){const{t:s}=je(),{user:e}=we(),[t,a]=m.useState(!0),[n,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState([]),[u,h]=m.useState({usd:0,mxn:0}),[p,f]=m.useState(!1);m.useEffect(()=>{y();const v=setInterval(y,3e4);return()=>clearInterval(v)},[]);const y=async()=>{try{const[v,b,k,w]=await Promise.all([G.get("/api/bitcoin/wallet"),G.get("/api/bitcoin/balance"),G.get("/api/bitcoin/deposits"),G.get("/api/bitcoin/price")]);v.data.success&&i(v.data.data),b.data.success&&l(b.data.data),k.data.success&&d(k.data.data),w.data.success&&h(w.data.data)}catch(v){console.error("Error loading Bitcoin data:",v),R.error("Error loading Bitcoin wallet")}finally{a(!1)}},x=v=>{navigator.clipboard.writeText(v),R.success("Copied to clipboard!")},g=()=>{n!=null&&n.checkout_link&&window.open(n.checkout_link,"_blank")};return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"container-responsive py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:"Bitcoin Wallet"}),r.jsx("p",{className:"text-gray-600",children:"Deposit Bitcoin to add funds to your account"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"USD Balance"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(o==null?void 0:o.balance_usd.toFixed(2))||"0.00"]})]}),r.jsx(ui,{className:"h-10 w-10 text-green-500"})]})})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"MXN Balance"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(o==null?void 0:o.balance_mxn.toFixed(2))||"0.00"]})]}),r.jsx(ui,{className:"h-10 w-10 text-blue-500"})]})})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Deposited"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(o==null?void 0:o.total_deposited_btc.toFixed(8))||"0.00000000"," BTC"]})]}),r.jsx(pu,{className:"h-10 w-10 text-orange-500"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[r.jsx(L_,{className:"h-6 w-6 mr-2 text-primary-600"}),"Deposit Bitcoin"]}),n?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Page"}),r.jsxs("button",{onClick:g,className:"w-full btn btn-primary flex items-center justify-center space-x-2 rounded-full",children:[r.jsx(Jn,{className:"h-5 w-5"}),r.jsx("span",{children:"Open Payment Page"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Opens BTCPay checkout with QR code and payment options"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice ID"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:n.invoice_id||"",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-full bg-gray-50 text-sm font-mono"}),r.jsx("button",{onClick:()=>x(n.invoice_id),className:"p-2 border border-gray-300 rounded-full hover:bg-gray-50",children:r.jsx(wh,{className:"h-5 w-5 text-gray-600"})})]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-full",children:[r.jsxs("h3",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[r.jsx(Jn,{className:"h-5 w-5 mr-2"}),"Lightning Network Supported"]}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:"• Instant payments (seconds)"}),r.jsx("li",{children:"• Near-zero fees (~$0.001)"}),r.jsx("li",{children:"• On-chain also available (3+ confirmations)"}),r.jsx("li",{children:"• Funds credited automatically in USD and MXN"})]})]})]})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"No wallet generated yet"}),r.jsx("button",{onClick:y,className:"btn btn-primary rounded-full",children:"Generate Wallet"})]})]})}),r.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Current Bitcoin Price"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full text-white",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"1 BTC ="}),r.jsxs("p",{className:"text-3xl font-bold",children:["$",u.usd.toLocaleString()]}),r.jsx("p",{className:"text-sm opacity-90",children:"USD"})]}),r.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-full text-white",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"1 BTC ="}),r.jsxs("p",{className:"text-3xl font-bold",children:["$",u.mxn.toLocaleString()]}),r.jsx("p",{className:"text-sm opacity-90",children:"MXN"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-full",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Example deposits:"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"0.001 BTC"}),r.jsxs("span",{className:"font-medium",children:["$",(u.usd*.001).toFixed(2)," USD"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"0.01 BTC"}),r.jsxs("span",{className:"font-medium",children:["$",(u.usd*.01).toFixed(2)," USD"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"0.1 BTC"}),r.jsxs("span",{className:"font-medium",children:["$",(u.usd*.1).toFixed(2)," USD"]})]})]})]})]})]})})]}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Deposits"}),c.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(pu,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No deposits yet"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Your Bitcoin deposits will appear here"})]}):r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-full hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[v.status==="confirmed"?r.jsx(ie,{className:"h-8 w-8 text-green-500"}):r.jsx(ve,{className:"h-8 w-8 text-yellow-500"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900",children:[v.amount_btc.toFixed(8)," BTC"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["$",v.amount_usd.toFixed(2)," USD / $",v.amount_mxn.toFixed(2)," MXN"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[v.confirmations,"/3 confirmations •"," ",new Date(v.detected_at).toLocaleString()]})]})]}),r.jsx("div",{children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v.status})})]},v.id))})]})})]})})}function kte(){return r.jsx(Nte,{})}const Mn="https://beautycita.com";function z2(){const{user:s,updateProfile:e}=we(),[t,a]=m.useState({totalBookings:0,upcomingBookings:0,totalSpent:0,favoriteStylists:0}),[n,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(!1),[p,f]=m.useState(!1),[y,x]=m.useState({firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||""}),[g,v]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[b,k]=m.useState(!1),[w,N]=m.useState(!1),[j,_]=m.useState(!1),[S,C]=m.useState(null);m.useEffect(()=>{I(),P()},[]);const I=async()=>{try{d(!0);const M=localStorage.getItem("authToken"),$=await G.get(`${Mn}/api/bookings/my-bookings`,{headers:{Authorization:`Bearer ${M}`}});if($.data.success){const D=$.data.bookings,q=new Date,W=D.filter(ee=>new Date(ee.appointment_date)>=q&&ee.status!=="CANCELLED"),B=D.filter(ee=>new Date(ee.appointment_date)<q||ee.status==="CANCELLED");i(W),l(B);const V=D.filter(ee=>ee.status==="COMPLETED").reduce((ee,F)=>ee+F.total_price,0);a({totalBookings:D.length,upcomingBookings:W.length,totalSpent:V,favoriteStylists:0})}}catch(M){console.error("Failed to fetch client data:",M),R.error("Failed to load your data")}finally{d(!1)}},P=async()=>{try{const M=localStorage.getItem("authToken"),$=await G.get(`${Mn}/api/stylist-application/status`,{headers:{Authorization:`Bearer ${M}`}});$.data.success&&C($.data.application)}catch{C({status:"not_started",progress:0,currentStep:0})}},A=async M=>{var $,D;if(M.preventDefault(),!y.firstName.trim()||!y.email.trim()){R.error("Name and email are required");return}try{_(!0);const q=localStorage.getItem("authToken");(await G.put(`${Mn}/api/users/profile`,y,{headers:{Authorization:`Bearer ${q}`}})).data.success&&(R.success("Profile updated successfully"),await e(y),h(!1))}catch(q){console.error("Profile update error:",q),R.error(((D=($=q.response)==null?void 0:$.data)==null?void 0:D.message)||"Failed to update profile")}finally{_(!1)}},L=async M=>{var $,D;if(M.preventDefault(),g.newPassword!==g.confirmPassword){R.error("Passwords do not match");return}if(g.newPassword.length<8){R.error("Password must be at least 8 characters");return}try{_(!0);const q=localStorage.getItem("authToken");(await G.put(`${Mn}/api/users/password`,{currentPassword:g.currentPassword,newPassword:g.newPassword},{headers:{Authorization:`Bearer ${q}`}})).data.success&&(R.success("Password updated successfully"),v({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1))}catch(q){console.error("Password update error:",q),R.error(((D=($=q.response)==null?void 0:$.data)==null?void 0:D.message)||"Failed to update password")}finally{_(!1)}},O=async M=>{var $,D;if(confirm("Are you sure you want to cancel this booking?"))try{const q=localStorage.getItem("authToken");(await G.put(`${Mn}/api/bookings/${M}/cancel`,{},{headers:{Authorization:`Bearer ${q}`}})).data.success&&(R.success("Booking cancelled successfully"),I())}catch(q){console.error("Cancel booking error:",q),R.error(((D=($=q.response)==null?void 0:$.data)==null?void 0:D.message)||"Failed to cancel booking")}};return s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"My Panel"}),r.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",s.firstName||s.name||s.email]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[r.jsx(Vo,{icon:Oe,title:"Total Bookings",value:t.totalBookings,color:"from-blue-500 to-cyan-500"}),r.jsx(Vo,{icon:ve,title:"Upcoming",value:t.upcomingBookings,color:"from-purple-500 to-pink-500"}),r.jsx(Vo,{icon:Le,title:"Total Spent",value:`$${t.totalSpent.toFixed(2)}`,color:"from-green-500 to-emerald-500"}),r.jsx(Vo,{icon:We,title:"Favorites",value:t.favoriteStylists,color:"from-pink-500 to-rose-500"})]}),S&&S.status!=="approved"&&S.status!=="submitted"&&r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsx(Z,{to:"/stylist-application",children:r.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-3xl shadow-2xl hover:shadow-3xl transition-all hover:scale-[1.02] cursor-pointer p-8",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl transform translate-x-32 -translate-y-32"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl transform -translate-x-48 translate-y-48"}),r.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:r.jsx(vh,{className:"w-9 h-9 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:S.status==="not_started"?"Become a Beauty Professional":"Continue Your Application"}),r.jsx("p",{className:"text-white/90 text-sm",children:S.status==="not_started"?"Start earning by offering your beauty services to clients":`You're ${S.progress}% complete • Step ${S.currentStep} of 7`})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[S.status==="in_progress"&&r.jsx("div",{className:"hidden sm:block",children:r.jsxs("div",{className:"w-20 h-20 relative",children:[r.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[r.jsx("circle",{cx:"40",cy:"40",r:"34",stroke:"rgba(255,255,255,0.2)",strokeWidth:"8",fill:"none"}),r.jsx("circle",{cx:"40",cy:"40",r:"34",stroke:"white",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*34}`,strokeDashoffset:`${2*Math.PI*34*(1-S.progress/100)}`,strokeLinecap:"round"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-bold text-sm",children:[S.progress,"%"]})})]})}),r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-4 hover:bg-white/30 transition-colors",children:r.jsx(Ie,{className:"w-6 h-6 text-white"})})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage your personal details"})]}),r.jsx("button",{onClick:()=>h(!u),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-full transition-colors",children:r.jsx(aa,{className:"h-5 w-5"})})]}),u?r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:y.firstName,onChange:M=>x({...y,firstName:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:y.lastName,onChange:M=>x({...y,lastName:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:y.email,onChange:M=>x({...y,email:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:y.phone,onChange:M=>x({...y,phone:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"submit",disabled:j,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full hover:shadow-lg transition-all disabled:opacity-50",children:j?"Saving...":"Save Changes"}),r.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50",children:"Cancel"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(ou,{label:"Name",value:`${s.firstName||""} ${s.lastName||""}`.trim()||"Not set"}),r.jsx(ou,{label:"Email",value:s.email||"Not set"}),r.jsx(ou,{label:"Phone",value:s.phone||"Not set"}),r.jsxs("button",{onClick:()=>f(!p),className:"text-purple-600 hover:text-purple-700 text-sm font-medium flex items-center gap-2",children:[r.jsx(aa,{className:"h-4 w-4"}),"Change Password"]}),p&&r.jsxs("form",{onSubmit:L,className:"mt-4 p-4 bg-gray-50 rounded-xl space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:b?"text":"password",value:g.currentPassword,onChange:M=>v({...g,currentPassword:M.target.value}),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:()=>k(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?r.jsx(Ns,{className:"h-5 w-5"}):r.jsx(At,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:w?"text":"password",value:g.newPassword,onChange:M=>v({...g,newPassword:M.target.value}),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,minLength:8}),r.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?r.jsx(Ns,{className:"h-5 w-5"}):r.jsx(At,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:g.confirmPassword,onChange:M=>v({...g,confirmPassword:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"submit",disabled:j,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full hover:shadow-lg transition-all disabled:opacity-50",children:j?"Updating...":"Update Password"}),r.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50",children:"Cancel"})]})]})]})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Upcoming Bookings"}),c?r.jsx("p",{className:"text-gray-500",children:"Loading bookings..."}):n.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Oe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No upcoming bookings"}),r.jsxs(Z,{to:"/stylists",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full hover:shadow-lg transition-all",children:[r.jsx(Ot,{className:"h-5 w-5"}),"Find a Stylist"]})]}):r.jsx("div",{className:"space-y-4",children:n.map(M=>r.jsx(Dx,{booking:M,onCancel:()=>O(M.id)},M.id))})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Past Bookings"}),c?r.jsx("p",{className:"text-gray-500",children:"Loading bookings..."}):o.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No past bookings"}):r.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(M=>r.jsx(Dx,{booking:M,isPast:!0},M.id))})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx($n,{icon:Ot,label:"Find Stylist",href:"/stylists",color:"from-purple-500 to-pink-500"}),r.jsx($n,{icon:Oe,label:"My Bookings",href:"/bookings",color:"from-blue-500 to-cyan-500"}),r.jsx($n,{icon:We,label:"Favorites",href:"/favorites",color:"from-pink-500 to-rose-500"}),r.jsx($n,{icon:Ft,label:"Messages",href:"/messages",color:"from-green-500 to-emerald-500"}),r.jsx($n,{icon:bs,label:"Settings",href:"/settings",color:"from-gray-500 to-slate-500"})]})]})})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("p",{className:"text-gray-600",children:"Loading..."})})})}function Vo({icon:s,title:e,value:t,color:a}){return r.jsx(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},className:"bg-white rounded-3xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 rounded-2xl p-4 bg-gradient-to-br ${a}`,children:r.jsx(s,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{className:"ml-5",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]})]})})}function ou({label:s,value:e}){return r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:s}),r.jsx("p",{className:"mt-1 text-base text-gray-900",children:e})]})}function Dx({booking:s,isPast:e=!1,onCancel:t}){const a=new Date(s.appointment_date),n={PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-green-100 text-green-800",COMPLETED:"bg-blue-100 text-blue-800",CANCELLED:"bg-red-100 text-red-800"};return r.jsxs("div",{className:"border border-gray-200 rounded-2xl p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:s.service_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["with ",s.stylist_name]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n[s.status]}`,children:s.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Oe,{className:"h-4 w-4"}),a.toLocaleDateString()]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ve,{className:"h-4 w-4"}),a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",s.total_price.toFixed(2)]}),!e&&s.status!=="CANCELLED"&&r.jsx("button",{onClick:t,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Cancel"})]})]})}function $n({icon:s,label:e,href:t,color:a}){return r.jsxs(Z,{to:t,className:"flex items-center gap-4 p-4 rounded-2xl hover:bg-gray-50 transition-colors group",children:[r.jsx("div",{className:`flex-shrink-0 rounded-xl p-3 bg-gradient-to-br ${a}`,children:r.jsx(s,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-base font-medium text-gray-900 group-hover:text-purple-600 transition-colors",children:e})]})}const _te="https://beautycita.com";function Ste(){const{user:s}=we(),[e,t]=m.useState({todayAppointments:0,weekAppointments:0,totalClients:0,averageRating:0,totalRevenue:0,pendingBookings:0}),[a,n]=m.useState([]),[i,o]=m.useState(!0);m.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0);const c=localStorage.getItem("authToken"),d=await G.get(`${_te}/api/stylists/my-stats`,{headers:{Authorization:`Bearer ${c}`}});d.data.success&&(t(d.data.stats),n(d.data.recentBookings||[]))}catch(c){console.error("Failed to fetch stylist data:",c),R.error("Failed to load dashboard data")}finally{o(!1)}};return s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Stylist Panel"}),r.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",s.firstName||s.name||s.email]})]}),r.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsx(Z,{to:"/business",className:"block group",children:r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 rounded-3xl shadow-2xl p-8 hover:shadow-3xl transition-all transform hover:scale-[1.02] relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(ml,{className:"h-12 w-12 text-white"}),r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Business Dashboard"})]}),r.jsx("p",{className:"text-purple-100 text-lg max-w-2xl",children:"Manage your services, availability, earnings, clients, and analytics"})]}),r.jsx(Ie,{className:"h-12 w-12 text-white group-hover:translate-x-2 transition-transform"})]})]})})}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Business Overview"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[r.jsx(Ra,{icon:Oe,title:"Today",value:e.todayAppointments,subtitle:"appointments",color:"from-blue-500 to-cyan-500"}),r.jsx(Ra,{icon:Oe,title:"This Week",value:e.weekAppointments,subtitle:"appointments",color:"from-purple-500 to-pink-500"}),r.jsx(Ra,{icon:et,title:"Clients",value:e.totalClients,subtitle:"total",color:"from-green-500 to-emerald-500"}),r.jsx(Ra,{icon:nt,title:"Rating",value:e.averageRating.toFixed(1),subtitle:"average",color:"from-yellow-500 to-orange-500"}),r.jsx(Ra,{icon:Le,title:"Revenue",value:`$${e.totalRevenue.toFixed(0)}`,subtitle:"total",color:"from-emerald-500 to-teal-500"}),r.jsx(Ra,{icon:vt,title:"Pending",value:e.pendingBookings,subtitle:"bookings",color:"from-orange-500 to-red-500"})]})]}),a.length>0&&r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Bookings"}),r.jsxs(Z,{to:"/business/calendar",className:"text-purple-600 hover:text-purple-700 font-medium text-sm flex items-center gap-1",children:["View All",r.jsx(Ie,{className:"h-4 w-4"})]})]}),r.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(c=>r.jsx(Cte,{booking:c},c.id))})]}),r.jsx("div",{className:"my-12 border-t border-gray-200"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Personal Account"}),r.jsx(z2,{})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("p",{className:"text-gray-600",children:"Loading..."})})})}function Ra({icon:s,title:e,value:t,subtitle:a,color:n}){return r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:"bg-white rounded-3xl shadow-lg p-5 text-center",children:[r.jsx("div",{className:`inline-flex rounded-2xl p-3 bg-gradient-to-br ${n} mb-3`,children:r.jsx(s,{className:"h-7 w-7 text-white"})}),r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t}),r.jsx("p",{className:"text-xs text-gray-500",children:a})]})}function Cte({booking:s}){const e=new Date(s.appointment_date),t={PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-green-100 text-green-800",COMPLETED:"bg-blue-100 text-blue-800",CANCELLED:"bg-red-100 text-red-800"};return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:s.client_name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t[s.status]}`,children:s.status})]}),r.jsx("p",{className:"text-sm text-gray-600",children:s.service_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.toLocaleDateString()," at ",e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",s.total_price.toFixed(2)]})})]})}const Fx="https://beautycita.com";function Ete(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(new Date),[o,l]=m.useState("week"),[c,d]=m.useState(null);m.useEffect(()=>{u()},[n,o]);const u=async()=>{try{a(!0);const N=localStorage.getItem("authToken"),j=h(),_=p(),S=await G.get(`${Fx}/api/bookings/stylist/appointments`,{params:{startDate:j.toISOString(),endDate:_.toISOString()},headers:{Authorization:`Bearer ${N}`}});S.data.success&&e(S.data.appointments||[])}catch(N){console.error("Failed to fetch appointments:",N),R.error("Failed to load appointments")}finally{a(!1)}},h=()=>{const N=new Date(n);if(o==="day")N.setHours(0,0,0,0);else if(o==="week"){const j=N.getDay();N.setDate(N.getDate()-j),N.setHours(0,0,0,0)}else N.setDate(1),N.setHours(0,0,0,0);return N},p=()=>{const N=new Date(n);if(o==="day")N.setHours(23,59,59,999);else if(o==="week"){const j=N.getDay();N.setDate(N.getDate()+(6-j)),N.setHours(23,59,59,999)}else N.setMonth(N.getMonth()+1),N.setDate(0),N.setHours(23,59,59,999);return N},f=()=>{const N=new Date(n);o==="day"?N.setDate(N.getDate()-1):o==="week"?N.setDate(N.getDate()-7):N.setMonth(N.getMonth()-1),i(N)},y=()=>{const N=new Date(n);o==="day"?N.setDate(N.getDate()+1):o==="week"?N.setDate(N.getDate()+7):N.setMonth(N.getMonth()+1),i(N)},x=()=>{i(new Date)},g=async(N,j)=>{var _,S;try{const C=localStorage.getItem("authToken");(await G.put(`${Fx}/api/bookings/${N}/status`,{status:j},{headers:{Authorization:`Bearer ${C}`}})).data.success&&(R.success(`Appointment ${j.toLowerCase()}`),u(),d(null))}catch(C){console.error("Failed to update appointment:",C),R.error(((S=(_=C.response)==null?void 0:_.data)==null?void 0:S.message)||"Failed to update appointment")}},v=()=>{const N=h(),j=p();return o==="day"?n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):o==="week"?`${N.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:n.toLocaleDateString("en-US",{year:"numeric",month:"long"})},b=()=>{const N={};return s.forEach(j=>{const S=new Date(j.appointment_date).toISOString().split("T")[0];N[S]||(N[S]=[]),N[S].push(j)}),Object.keys(N).forEach(j=>{N[j].sort((_,S)=>new Date(_.appointment_date).getTime()-new Date(S.appointment_date).getTime())}),N},k=s.filter(N=>{const j=new Date(N.appointment_date),_=new Date;return j.toDateString()===_.toDateString()}),w=s.filter(N=>new Date(N.appointment_date)>new Date).slice(0,5);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Appointment Calendar"}),r.jsx("p",{className:"text-gray-600",children:"Manage your bookings and schedule"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl",children:r.jsx(Oe,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Today"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k.length})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl",children:r.jsx(ve,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Upcoming"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.length})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl",children:r.jsx(Le,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Value"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",s.reduce((N,j)=>N+j.total_price,0).toFixed(0)]})]})]})})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:r.jsx(Ql,{className:"h-6 w-6 text-gray-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 min-w-[250px] text-center",children:v()}),r.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:r.jsx(Sr,{className:"h-6 w-6 text-gray-600"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium text-gray-700 transition-colors",children:"Today"}),r.jsx("div",{className:"flex bg-gray-100 rounded-xl p-1",children:["day","week","month"].map(N=>r.jsx("button",{onClick:()=>l(N),className:`px-4 py-2 rounded-lg capitalize font-medium transition-all ${o===N?"bg-white text-purple-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:N},N))})]})]})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Appointments"}),t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-purple-600 border-r-transparent"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading appointments..."})]}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No appointments for this period"})]}):r.jsx("div",{className:"space-y-6",children:Object.entries(b()).map(([N,j])=>r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:new Date(N).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),r.jsx("div",{className:"space-y-3",children:j.map(_=>r.jsx(Tte,{appointment:_,onClick:()=>d(_)},_.id))})]},N))})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Appointment Details"}),r.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 rounded-xl",children:r.jsx(rt,{className:"h-6 w-6 text-gray-400"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Client"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.client_name}),r.jsx("p",{className:"text-sm text-gray-600",children:c.client_email})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Service"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.service_name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),r.jsx("p",{className:"font-semibold text-gray-900",children:new Date(c.appointment_date).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[c.duration_minutes," min"]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",c.total_price.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${c.status==="CONFIRMED"?"bg-green-100 text-green-800":c.status==="PENDING"?"bg-yellow-100 text-yellow-800":c.status==="COMPLETED"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:c.status})]}),c.notes&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),r.jsx("p",{className:"text-gray-900",children:c.notes})]}),c.status==="PENDING"&&r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs("button",{onClick:()=>g(c.id,"CONFIRMED"),className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-full font-medium hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[r.jsx(ie,{className:"h-5 w-5"}),"Confirm"]}),r.jsxs("button",{onClick:()=>g(c.id,"CANCELLED"),className:"flex-1 bg-gradient-to-r from-red-600 to-rose-600 text-white px-6 py-3 rounded-full font-medium hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[r.jsx(rt,{className:"h-5 w-5"}),"Cancel"]})]}),c.status==="CONFIRMED"&&r.jsx("button",{onClick:()=>g(c.id,"COMPLETED"),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-6 py-3 rounded-full font-medium hover:shadow-lg transition-all",children:"Mark as Completed"})]})]})})]})}function Tte({appointment:s,onClick:e}){const t=new Date(s.appointment_date),a={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-200",CONFIRMED:"bg-green-100 text-green-800 border-green-200",COMPLETED:"bg-blue-100 text-blue-800 border-blue-200",CANCELLED:"bg-red-100 text-red-800 border-red-200"};return r.jsxs("div",{onClick:e,className:`border-2 rounded-2xl p-4 cursor-pointer hover:shadow-lg transition-all ${a[s.status]}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:s.client_name}),r.jsx("p",{className:"text-sm text-gray-600",children:s.service_name})]}),r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/50",children:s.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ve,{className:"h-4 w-4"}),t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Le,{className:"h-4 w-4"}),"$",s.total_price.toFixed(2)]})]})]})}const Dn="https://beautycita.com";function Pte(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState({name:"",description:"",duration_minutes:60,price:0,category:"",is_active:!0});m.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const g=localStorage.getItem("authToken"),v=await G.get(`${Dn}/api/services/my-services`,{headers:{Authorization:`Bearer ${g}`}});v.data.success&&e(v.data.services||[])}catch(g){console.error("Failed to fetch services:",g),R.error("Failed to load services")}finally{a(!1)}},h=g=>{g?(l(g),d({name:g.name,description:g.description,duration_minutes:g.duration_minutes,price:g.price,category:g.category,is_active:g.is_active})):(l(null),d({name:"",description:"",duration_minutes:60,price:0,category:"",is_active:!0})),i(!0)},p=()=>{i(!1),l(null)},f=async g=>{var v,b;if(g.preventDefault(),!c.name.trim()||c.price<=0){R.error("Please fill in all required fields");return}try{const k=localStorage.getItem("authToken");o?(await G.put(`${Dn}/api/services/${o.id}`,c,{headers:{Authorization:`Bearer ${k}`}})).data.success&&(R.success("Service updated successfully"),u(),p()):(await G.post(`${Dn}/api/services`,c,{headers:{Authorization:`Bearer ${k}`}})).data.success&&(R.success("Service created successfully"),u(),p())}catch(k){console.error("Failed to save service:",k),R.error(((b=(v=k.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to save service")}},y=async g=>{var v,b;if(confirm("Are you sure you want to delete this service?"))try{const k=localStorage.getItem("authToken");(await G.delete(`${Dn}/api/services/${g}`,{headers:{Authorization:`Bearer ${k}`}})).data.success&&(R.success("Service deleted successfully"),u())}catch(k){console.error("Failed to delete service:",k),R.error(((b=(v=k.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to delete service")}},x=async(g,v)=>{var b,k;try{const w=localStorage.getItem("authToken");(await G.put(`${Dn}/api/services/${g}/status`,{is_active:!v},{headers:{Authorization:`Bearer ${w}`}})).data.success&&(R.success(`Service ${v?"deactivated":"activated"}`),u())}catch(w){console.error("Failed to toggle service status:",w),R.error(((k=(b=w.response)==null?void 0:b.data)==null?void 0:k.message)||"Failed to update service")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Services"}),r.jsx("p",{className:"text-gray-600",children:"Manage your service offerings"})]}),r.jsxs("button",{onClick:()=>h(),className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all",children:[r.jsx(or,{className:"h-5 w-5"}),"Add Service"]})]}),t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-purple-600 border-r-transparent"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading services..."})]}):s.length===0?r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-12 text-center",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"No services yet"}),r.jsxs("button",{onClick:()=>h(),className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all",children:[r.jsx(or,{className:"h-5 w-5"}),"Add Your First Service"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(g=>r.jsx(Ate,{service:g,onEdit:()=>h(g),onDelete:()=>y(g.id),onToggleStatus:()=>x(g.id,g.is_active)},g.id))}),r.jsx(_e,{children:n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Service":"Add New Service"}),r.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-xl",children:r.jsx(De,{className:"h-6 w-6 text-gray-400"})})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),r.jsx("input",{type:"text",value:c.name,onChange:g=>d({...c,name:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,placeholder:"e.g., Haircut & Style"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:g=>d({...c,description:g.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Describe your service..."})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),r.jsx("input",{type:"number",value:c.duration_minutes,onChange:g=>d({...c,duration_minutes:parseInt(g.target.value)||0}),min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),r.jsx("input",{type:"number",value:c.price,onChange:g=>d({...c,price:parseFloat(g.target.value)||0}),min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsx("input",{type:"text",value:c.category,onChange:g=>d({...c,category:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Hair, Nails, Makeup"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:g=>d({...c,is_active:g.target.checked}),className:"h-5 w-5 text-purple-600 rounded"}),r.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Active (visible to clients)"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full font-medium hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[r.jsx(Ri,{className:"h-5 w-5"}),o?"Update Service":"Create Service"]}),r.jsx("button",{type:"button",onClick:p,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50",children:"Cancel"})]})]})]})})})]})}function Ate({service:s,onEdit:e,onDelete:t,onToggleStatus:a}){return r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`bg-white rounded-3xl shadow-lg p-6 ${s.is_active?"":"opacity-60"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.name}),s.category&&r.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:s.category})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:e,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:r.jsx(aa,{className:"h-5 w-5"})}),r.jsx("button",{onClick:t,className:"p-2 text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:r.jsx(Ts,{className:"h-5 w-5"})})]})]}),s.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[r.jsx(ve,{className:"h-4 w-4"}),s.duration_minutes," min"]}),r.jsxs("span",{className:"flex items-center gap-1 font-bold text-gray-900",children:[r.jsx(Le,{className:"h-5 w-5"}),"$",s.price.toFixed(2)]})]}),r.jsx("button",{onClick:a,className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${s.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:s.is_active?"Active":"Inactive"})]})]})}function Ote(){const[s,e]=m.useState([{day:"Monday",enabled:!0,start:"09:00",end:"17:00"},{day:"Tuesday",enabled:!0,start:"09:00",end:"17:00"},{day:"Wednesday",enabled:!0,start:"09:00",end:"17:00"},{day:"Thursday",enabled:!0,start:"09:00",end:"17:00"},{day:"Friday",enabled:!0,start:"09:00",end:"17:00"},{day:"Saturday",enabled:!1,start:"10:00",end:"14:00"},{day:"Sunday",enabled:!1,start:"10:00",end:"14:00"}]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Availability"}),r.jsx("p",{className:"text-gray-600",children:"Set your working hours and time off"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Working Hours"}),r.jsx("div",{className:"space-y-4",children:s.map((t,a)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl",children:[r.jsx("input",{type:"checkbox",checked:t.enabled,onChange:n=>{const i=[...s];i[a].enabled=n.target.checked,e(i)},className:"h-5 w-5"}),r.jsx("div",{className:"w-32 font-medium",children:t.day}),t.enabled?r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"time",value:t.start,onChange:n=>{const i=[...s];i[a].start=n.target.value,e(i)},className:"px-4 py-2 border rounded-xl"}),r.jsx("span",{children:"to"}),r.jsx("input",{type:"time",value:t.end,onChange:n=>{const i=[...s];i[a].end=n.target.value,e(i)},className:"px-4 py-2 border rounded-xl"})]}):r.jsx("span",{className:"text-gray-500",children:"Closed"})]},t.day))}),r.jsx("button",{className:"mt-6 w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all",children:"Save Working Hours"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Time Off"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Block dates when you're unavailable"}),r.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all",children:[r.jsx(or,{className:"h-5 w-5"}),"Add Time Off"]})]})]})}const Lte="https://beautycita.com";function Rte(){const[s,e]=m.useState([]),[t,a]=m.useState(!0),[n,i]=m.useState("");m.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const c=localStorage.getItem("authToken"),d=await G.get(`${Lte}/api/stylists/my-clients`,{headers:{Authorization:`Bearer ${c}`}});d.data.success&&e(d.data.clients||[])}catch(c){console.error("Failed to fetch clients:",c)}finally{a(!1)}},l=s.filter(c=>c.name.toLowerCase().includes(n.toLowerCase())||c.email.toLowerCase().includes(n.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Clients"}),r.jsx("p",{className:"text-gray-600",children:"Manage your client relationships"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search clients...",value:n,onChange:c=>i(c.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-purple-600 border-r-transparent"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading clients..."})]}):l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(et,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No clients found"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(c=>r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-gray-200 rounded-2xl p-4 hover:shadow-lg transition-all",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:c.name}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"h-4 w-4"}),c.email]}),c.phone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(na,{className:"h-4 w-4"}),c.phone]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Bookings"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.total_bookings})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total Spent"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",c.total_spent.toFixed(2)]})]})]})]},c.id))})]})]})}const Ite="https://beautycita.com";function Mte(){const[s,e]=m.useState({today:0,week:0,month:0,year:0,pending:0,paid:0}),[t,a]=m.useState(!0);m.useEffect(()=>{n()},[]);const n=async()=>{try{a(!0);const i=localStorage.getItem("authToken"),o=await G.get(`${Ite}/api/stylists/earnings`,{headers:{Authorization:`Bearer ${i}`}});o.data.success&&e(o.data.earnings||s)}catch(i){console.error("Failed to fetch earnings:",i)}finally{a(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Earnings"}),r.jsx("p",{className:"text-gray-600",children:"Track your revenue and payouts"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Uo,{title:"Today",value:s.today,icon:Oe,color:"from-blue-500 to-cyan-500"}),r.jsx(Uo,{title:"This Week",value:s.week,icon:di,color:"from-purple-500 to-pink-500"}),r.jsx(Uo,{title:"This Month",value:s.month,icon:Le,color:"from-green-500 to-emerald-500"}),r.jsx(Uo,{title:"This Year",value:s.year,icon:Ge,color:"from-orange-500 to-red-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Pending Payouts"}),r.jsxs("div",{className:"text-center py-8",children:[r.jsxs("p",{className:"text-5xl font-bold text-yellow-600 mb-2",children:["$",s.pending.toFixed(2)]}),r.jsx("p",{className:"text-gray-600",children:"Available for payout"}),r.jsx("button",{className:"mt-6 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-3 rounded-full hover:shadow-lg transition-all",children:"Request Payout"})]})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Paid Out"}),r.jsxs("div",{className:"text-center py-8",children:[r.jsxs("p",{className:"text-5xl font-bold text-green-600 mb-2",children:["$",s.paid.toFixed(2)]}),r.jsx("p",{className:"text-gray-600",children:"Total received"})]})]})]})]})}function Uo({title:s,value:e,icon:t,color:a}){return r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("div",{className:`inline-flex rounded-2xl p-3 bg-gradient-to-br ${a} mb-4`,children:r.jsx(t,{className:"h-8 w-8 text-white"})}),r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:s}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",e.toFixed(2)]})]})}function $te(){const[s,e]=m.useState(!0);return m.useEffect(()=>{e(!1)},[]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Insights into your business performance"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Wo,{title:"Total Bookings",value:"0",icon:vt,color:"from-blue-500 to-cyan-500",trend:"+0%"}),r.jsx(Wo,{title:"Revenue Growth",value:"$0",icon:di,color:"from-purple-500 to-pink-500",trend:"+0%"}),r.jsx(Wo,{title:"New Clients",value:"0",icon:et,color:"from-green-500 to-emerald-500",trend:"+0%"}),r.jsx(Wo,{title:"Avg Rating",value:"0.0",icon:nt,color:"from-yellow-500 to-orange-500",trend:"+0.0"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Revenue Chart"}),r.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Chart visualization coming soon..."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Popular Services"}),r.jsx("div",{className:"space-y-4",children:r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No data available yet"})})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Booking Trends"}),r.jsx("div",{className:"space-y-4",children:r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No data available yet"})})]})]})]})}function Wo({title:s,value:e,icon:t,color:a,trend:n}){return r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 bg-gradient-to-br ${a} rounded-2xl`,children:r.jsx(t,{className:"h-8 w-8 text-white"})}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:n})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:s}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]})}function Dte(){const[s,e]=m.useState({emailNotifications:!0,smsNotifications:!0,bookingReminders:!0,marketingEmails:!1,autoConfirmBookings:!1});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your business preferences"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notifications"}),r.jsx("div",{className:"space-y-4",children:Object.entries(s).map(([t,a])=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl",children:[r.jsx("label",{htmlFor:t,className:"text-gray-900 font-medium capitalize",children:t.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{id:t,type:"checkbox",checked:a,onChange:n=>e({...s,[t]:n.target.checked}),className:"h-5 w-5"})]},t))}),r.jsx("button",{className:"mt-6 w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all",children:"Save Settings"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Methods"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your payout accounts"}),r.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all",children:[r.jsx(Ge,{className:"h-5 w-5"}),"Manage Payment Methods"]})]})]})}const Fte=[{name:"Calendar",href:"/business/calendar",icon:Oe,color:"from-blue-500 to-cyan-500"},{name:"Services",href:"/business/services",icon:sp,color:"from-purple-500 to-pink-500"},{name:"Availability",href:"/business/availability",icon:ve,color:"from-green-500 to-emerald-500"},{name:"Clients",href:"/business/clients",icon:et,color:"from-orange-500 to-red-500"},{name:"Earnings",href:"/business/earnings",icon:Le,color:"from-emerald-500 to-teal-500"},{name:"Analytics",href:"/business/analytics",icon:vt,color:"from-indigo-500 to-purple-500"},{name:"Settings",href:"/business/settings",icon:sp,color:"from-gray-500 to-slate-500"}];function Bte(){var n,i;const s=Cs(),{user:e}=we(),[t,a]=m.useState(!1);return(e==null?void 0:e.role)!=="STYLIST"?r.jsx(ms,{to:"/panel",replace:!0}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50",children:[r.jsx(_e,{children:t&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>a(!1)})}),r.jsx(E.aside,{initial:!1,animate:{x:t?0:"-100%"},className:"fixed top-0 left-0 z-50 h-full w-72 bg-white shadow-2xl lg:translate-x-0 lg:static lg:z-0 transition-transform duration-300",children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"p-6 bg-gradient-to-r from-purple-600 to-pink-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Business"}),r.jsx("p",{className:"text-purple-100 text-sm",children:"Dashboard"})]}),r.jsx("button",{onClick:()=>a(!1),className:"lg:hidden p-2 text-white hover:bg-white/20 rounded-xl",children:r.jsx(De,{className:"h-6 w-6"})})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[r.jsxs(Z,{to:"/panel",className:"flex items-center gap-3 px-4 py-3 rounded-2xl text-gray-600 hover:bg-gray-100 transition-colors group",children:[r.jsx(Mi,{className:"h-6 w-6 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"font-medium",children:"Back to Panel"})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200"}),Fte.map(o=>{const l=s.pathname===o.href;return r.jsxs(Z,{to:o.href,className:`flex items-center gap-3 px-4 py-3 rounded-2xl transition-all group ${l?`bg-gradient-to-r ${o.color} text-white shadow-lg`:"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx(o.icon,{className:`h-6 w-6 ${l?"":"group-hover:scale-110"} transition-transform`}),r.jsx("span",{className:"font-medium",children:o.name})]},o.name)})]}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold",children:((n=e==null?void 0:e.firstName)==null?void 0:n[0])||((i=e==null?void 0:e.name)==null?void 0:i[0])||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(e==null?void 0:e.firstName)||(e==null?void 0:e.name)||"User"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]})})]})}),r.jsxs("div",{className:"lg:ml-72",children:[r.jsx("div",{className:"lg:hidden sticky top-0 z-30 bg-white shadow-md p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>a(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl",children:r.jsx(bh,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Business Dashboard"}),r.jsx("div",{className:"w-10"})]})}),r.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:r.jsxs(xh,{children:[r.jsx(J,{index:!0,element:r.jsx(ms,{to:"/business/calendar",replace:!0})}),r.jsx(J,{path:"calendar",element:r.jsx(Ete,{})}),r.jsx(J,{path:"services",element:r.jsx(Pte,{})}),r.jsx(J,{path:"availability",element:r.jsx(Ote,{})}),r.jsx(J,{path:"clients",element:r.jsx(Rte,{})}),r.jsx(J,{path:"earnings",element:r.jsx(Mte,{})}),r.jsx(J,{path:"analytics",element:r.jsx($te,{})}),r.jsx(J,{path:"settings",element:r.jsx(Dte,{})})]})})]})]})}const Vte=[{id:"fresha",name:"Fresha",logo:"🌿",color:"from-green-500 to-emerald-500"},{id:"booksy",name:"Booksy",logo:"📅",color:"from-blue-500 to-cyan-500"},{id:"square",name:"Square",logo:"⬛",color:"from-gray-700 to-gray-900"},{id:"vagaro",name:"Vagaro",logo:"💼",color:"from-purple-500 to-pink-500"},{id:"manual",name:"Manual Upload",logo:"📄",color:"from-orange-500 to-red-500"}],Bx={fresha:{title:"Export from Fresha",steps:[{step:1,title:"Log in to Fresha",description:"Go to connect.fresha.com and log in to your account"},{step:2,title:"Navigate to Settings",description:"Click on the Settings icon in the left sidebar"},{step:3,title:"Go to Data Export",description:'Find "Data Export" under Account Settings'},{step:4,title:"Select Data Types",description:"Choose: Services, Clients, Appointments, and Business Info"},{step:5,title:"Download CSV Files",description:'Click "Export" and download all CSV files to your computer'},{step:6,title:"Upload Here",description:"Upload the CSV files below and we'll handle the rest"}]},booksy:{title:"Export from Booksy",steps:[{step:1,title:"Log in to Booksy Biz",description:"Go to booksy.com/biz and sign in"},{step:2,title:"Open Menu",description:"Click the hamburger menu (☰) in the top left"},{step:3,title:"Go to Settings",description:'Scroll down and select "Settings"'},{step:4,title:"Find Data Export",description:'Look for "Export Data" or "Download Data"'},{step:5,title:"Request Export",description:"Select all data types and request the export. You'll receive an email with download links."},{step:6,title:"Upload Files",description:"Download the files from your email and upload them below"}]},square:{title:"Export from Square Appointments",steps:[{step:1,title:"Log in to Square",description:"Go to squareup.com/dashboard and log in"},{step:2,title:"Navigate to Reports",description:'Click "Reports" in the left navigation menu'},{step:3,title:"Select Data Type",description:'Choose "Services", "Staff", or "Customers" reports'},{step:4,title:"Set Date Range",description:'Select "All Time" to get complete data'},{step:5,title:"Export to CSV",description:'Click "Export" button and choose CSV format'},{step:6,title:"Upload Files",description:"Repeat for each data type and upload all CSV files below"}]},vagaro:{title:"Export from Vagaro",steps:[{step:1,title:"Log in to Vagaro Pro",description:"Go to pro.vagaro.com and sign in"},{step:2,title:"Go to Setup",description:'Click "Setup" in the top navigation bar'},{step:3,title:"Business Settings",description:'Select "Business Settings" from the dropdown'},{step:4,title:"Find Export Option",description:'Look for "Export Business Data" or contact Vagaro support'},{step:5,title:"Request Data",description:"Submit a data export request. Vagaro will email you the files."},{step:6,title:"Upload Files",description:"Once received, upload the files below"}]},manual:{title:"Manual CSV Upload",steps:[{step:1,title:"Prepare Your Files",description:"Create CSV files with your services, business info, etc."},{step:2,title:"Use Our Template",description:"Download our CSV template to ensure correct formatting"},{step:3,title:"Fill in Your Data",description:"Add your services, prices, descriptions, and other info"},{step:4,title:"Save as CSV",description:"Make sure to save files in .csv format"},{step:5,title:"Upload Files",description:"Upload your CSV files using the uploader below"}]}};function Ute({isOpen:s,onClose:e,onImport:t}){const[a,n]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(!1),d=p=>{const f=Array.from(p.target.files||[]);o(y=>[...y,...f])},u=async()=>{i.length!==0&&(c(!0),setTimeout(()=>{const p={businessName:"Imported Business Name",bio:"Professional with years of experience imported from "+a,address:{address:"123 Import St",city:"Sample City",state:"CA",zipCode:"90210"},services:[{name:"Imported Service 1",description:"From your previous platform",duration:60,price:50,category:"Hair"},{name:"Imported Service 2",description:"From your previous platform",duration:45,price:40,category:"Nails"}]};t(p),c(!1),e()},2e3))},h=p=>{o(f=>f.filter((y,x)=>x!==p))};return s?r.jsx(_e,{children:r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(fl,{className:"w-8 h-8 text-white"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Import Your Data"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Bring your existing business data to BeautyCita"})]})]}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(De,{className:"w-6 h-6 text-white"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-[600px]",children:[r.jsxs("div",{className:"p-6 border-r border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Choose Your Current Platform"}),r.jsx("div",{className:"space-y-3",children:Vte.map(p=>r.jsx("button",{onClick:()=>n(p.id),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${a===p.id?`bg-gradient-to-r ${p.color} text-white border-transparent`:"border-gray-200 hover:border-purple-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:p.logo}),r.jsx("span",{className:"font-semibold",children:p.name})]})},p.id))}),a&&r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Upload Your Files"}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls,.json",multiple:!0,onChange:d,className:"hidden",id:"file-upload"}),r.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-purple-400 transition-colors",children:[r.jsx(gl,{className:"w-10 h-10 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload CSV/Excel files"})]}),i.length>0&&r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.length," file(s) uploaded:"]}),i.map((p,f)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-700 truncate",children:p.name}),r.jsx("button",{onClick:()=>h(f),className:"text-red-600 hover:text-red-700 p-1",children:r.jsx(De,{className:"w-4 h-4"})})]},f)),r.jsx("button",{onClick:u,disabled:l,className:"w-full mt-4 px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all disabled:opacity-50",children:l?"Processing...":"Import Data"})]})]})]}),r.jsx("div",{className:"p-6 bg-gray-50 overflow-y-auto max-h-[600px]",children:a?r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-6",children:Bx[a].title}),r.jsx("div",{className:"space-y-4",children:Bx[a].steps.map(p=>r.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-sm",children:p.step})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:p.title}),r.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]})},p.step))}),a==="manual"&&r.jsx("div",{className:"mt-6",children:r.jsxs("a",{href:"/templates/beautycita-import-template.csv",download:!0,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(gl,{className:"w-5 h-5"}),"Download CSV Template"]})}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:r.jsxs("p",{className:"text-sm text-yellow-900",children:[r.jsx("strong",{children:"💡 Tip:"})," Make sure to export ALL data types from your current platform for the best import experience."]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[r.jsx(fl,{className:"w-20 h-20 text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Platform"}),r.jsx("p",{className:"text-gray-600 max-w-sm",children:"Choose your current booking platform from the list on the left to see detailed export instructions."})]})})]})]})})]})}):null}const Vx="https://beautycita.com",Vs=[{id:"import",title:"Import Your Data",description:"Import from Fresha, Booksy, Square, or start fresh",icon:fl,gradient:"from-blue-500 to-cyan-500"},{id:"identity",title:"Professional Identity",description:"Tell us about your business",icon:vh,gradient:"from-purple-500 to-pink-500"},{id:"location",title:"Location & Service Area",description:"Where do you operate?",icon:ot,gradient:"from-green-500 to-emerald-500"},{id:"services",title:"Services & Pricing",description:"What services do you offer?",icon:Le,gradient:"from-yellow-500 to-orange-500"},{id:"portfolio",title:"Portfolio & Social",description:"Showcase your work",icon:Xt,gradient:"from-pink-500 to-red-500"},{id:"payment",title:"Payment Setup",description:"How you will get paid",icon:Ge,gradient:"from-indigo-500 to-purple-500"},{id:"review",title:"Review & Submit",description:"Check everything before submitting",icon:xl,gradient:"from-emerald-500 to-teal-500"}],lu="beautycita-stylist-application";function Wte(){const{user:s}=we(),e=wt(),[t,a]=m.useState(0),[n,i]=m.useState([]),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),[p,f]=m.useState(null),[y,x]=m.useState({businessName:"",bio:"",specialties:[],yearsExperience:"",certifications:[]}),[g,v]=m.useState({address:"",city:"",state:"",zipCode:"",country:"US",serviceRadius:10,mobileService:!1,homeStudio:!1}),[b,k]=m.useState([]),[w,N]=m.useState({name:"",description:"",duration:30,price:0,category:"Hair"}),[j,_]=m.useState({images:[],imagePreviews:[],instagram:"",tiktok:"",website:""}),[S,C]=m.useState({method:"",stripeConnected:!1,btcWalletRequested:!1});m.useEffect(()=>{const F=localStorage.getItem(lu);if(F)try{const z=JSON.parse(F);a(z.currentStep||0),i(z.completedSteps||[]),h(z.importDecision),x(z.identity||y),v(z.location||g),k(z.services||[]),_(z.portfolio||j),C(z.payment||S)}catch(z){console.error("Failed to load saved application:",z)}},[]),m.useEffect(()=>{const F={currentStep:t,completedSteps:n,importDecision:u,identity:y,location:g,services:b,portfolio:{...j,images:[]},payment:S,timestamp:new Date().toISOString()};localStorage.setItem(lu,JSON.stringify(F)),I()},[t,n]);const I=async()=>{try{const F=localStorage.getItem("authToken");await G.post(`${Vx}/api/stylist-application/progress`,{currentStep:t+1,progress:Math.round((t+1)/Vs.length*100),status:"in_progress"},{headers:{Authorization:`Bearer ${F}`}})}catch{}},P=F=>{f(F),F.businessName&&x(z=>({...z,businessName:F.businessName})),F.bio&&x(z=>({...z,bio:F.bio})),F.address&&v(z=>({...z,...F.address})),F.services&&Array.isArray(F.services)&&k(F.services),R.success("Data imported successfully! Review and edit as needed."),l(!1),A("import")},A=F=>{n.includes(F)||i(z=>[...z,F]),L()},L=()=>{t<Vs.length-1&&a(F=>F+1)},O=()=>{t>0&&a(F=>F-1)},M=()=>{if(!w.name||w.price<=0){R.error("Please fill in service name and price");return}k(F=>[...F,w]),N({name:"",description:"",duration:30,price:0,category:"Hair"}),R.success("Service added")},$=F=>{k(z=>z.filter((X,Y)=>Y!==F))},D=F=>{const z=Array.from(F.target.files||[]);if(j.images.length+z.length>6){R.error("Maximum 6 images allowed");return}const X=z.filter(Y=>Y.size>5*1024*1024?(R.error(`${Y.name} is too large (max 5MB)`),!1):!0);_(Y=>({...Y,images:[...Y.images,...X],imagePreviews:[...Y.imagePreviews,...X.map(K=>URL.createObjectURL(K))]}))},q=F=>{_(z=>({...z,images:z.images.filter((X,Y)=>Y!==F),imagePreviews:z.imagePreviews.filter((X,Y)=>Y!==F)}))},W=async()=>{var F,z;if(!y.businessName||b.length===0||!S.method){R.error("Please complete all required fields");return}d(!0);try{const X=localStorage.getItem("authToken"),Y=new FormData;Y.append("businessName",y.businessName),Y.append("bio",y.bio),Y.append("specialties",JSON.stringify(y.specialties)),Y.append("yearsExperience",y.yearsExperience),Y.append("certifications",JSON.stringify(y.certifications)),Y.append("location",JSON.stringify(g)),Y.append("services",JSON.stringify(b)),Y.append("instagram",j.instagram),Y.append("tiktok",j.tiktok),Y.append("website",j.website),Y.append("paymentMethod",S.method),j.images.forEach((U,ae)=>{Y.append(`portfolio_${ae}`,U)}),(await G.post(`${Vx}/api/stylist-application/submit`,Y,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${X}`}})).data.success&&(localStorage.removeItem(lu),R.success("Application submitted successfully!"),e("/panel"))}catch(X){console.error("Application submission error:",X),R.error(((z=(F=X.response)==null?void 0:F.data)==null?void 0:z.message)||"Failed to submit application")}finally{d(!1)}},B=Math.round((t+1)/Vs.length*100),V=Vs[t],ee=V.icon;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-20 shadow-sm",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx(Ee,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Stylist Application"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Join our network of beauty professionals"})]})]}),r.jsx("button",{onClick:()=>e("/panel"),className:"text-sm text-gray-600 hover:text-gray-900",children:"Save & Exit"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",t+1," of ",Vs.length]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[B,"% complete"]})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(E.div,{initial:{width:0},animate:{width:`${B}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-purple-500 to-pink-500"})})]})]})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-8 overflow-x-auto pb-4",children:Vs.map((F,z)=>{const X=F.icon,Y=n.includes(F.id),K=z===t,U=z<t;return r.jsxs("div",{className:"flex items-center flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 transition-all ${Y?"bg-green-500":K?`bg-gradient-to-br ${F.gradient}`:"bg-gray-200"}`,children:Y?r.jsx(ie,{className:"w-6 h-6 text-white"}):r.jsx(X,{className:`w-6 h-6 ${K||U?"text-white":"text-gray-400"}`})}),r.jsx("span",{className:`text-xs font-medium text-center ${K?"text-purple-600":"text-gray-500"} max-w-[80px]`,children:F.title})]}),z<Vs.length-1&&r.jsx("div",{className:`h-0.5 w-12 mx-2 -mt-6 transition-colors ${U||Y?"bg-green-500":"bg-gray-200"}`})]},F.id)})}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${V.gradient} rounded-full flex items-center justify-center mx-auto mb-4`,children:r.jsx(ee,{className:"w-10 h-10 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:V.title}),r.jsx("p",{className:"text-gray-600",children:V.description})]}),r.jsx(_e,{mode:"wait",children:r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[V.id==="import"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How would you like to start?"}),r.jsx("p",{className:"text-gray-600",children:"Import your existing data or start from scratch"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>{h("import"),l(!0)},className:`p-6 border-2 rounded-2xl transition-all text-left ${u==="import"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[r.jsx(fl,{className:"w-12 h-12 text-purple-600 mb-4"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Import from Another Platform"}),r.jsx("p",{className:"text-sm text-gray-600",children:"We'll guide you through exporting from Fresha, Booksy, Square, or Vagaro"})]}),r.jsxs("button",{onClick:()=>{h("manual"),A("import")},className:`p-6 border-2 rounded-2xl transition-all text-left ${u==="manual"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[r.jsx(xl,{className:"w-12 h-12 text-blue-600 mb-4"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start from Scratch"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manually enter all your information (recommended for new businesses)"})]})]}),p&&r.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:r.jsx("p",{className:"text-sm text-green-900",children:"✓ Data imported successfully! Continue to review and edit."})})]}),V.id==="identity"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),r.jsx("input",{type:"text",value:y.businessName,onChange:F=>x({...y,businessName:F.target.value}),placeholder:"e.g., Sofia's Hair Studio",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Professional Bio *"}),r.jsx("textarea",{value:y.bio,onChange:F=>x({...y,bio:F.target.value}),placeholder:"Tell clients about your experience, style, and what makes you unique...",rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.bio.length," / 500 characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties (select all that apply)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Hair Styling","Hair Color","Makeup","Nails","Skincare","Lashes","Brows","Waxing","Massage","Other"].map(F=>r.jsx("button",{type:"button",onClick:()=>{x(z=>({...z,specialties:z.specialties.includes(F)?z.specialties.filter(X=>X!==F):[...z.specialties,F]}))},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${y.specialties.includes(F)?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),r.jsxs("select",{value:y.yearsExperience,onChange:F=>x({...y,yearsExperience:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Select..."}),r.jsx("option",{value:"0-1",children:"Less than 1 year"}),r.jsx("option",{value:"1-3",children:"1-3 years"}),r.jsx("option",{value:"3-5",children:"3-5 years"}),r.jsx("option",{value:"5-10",children:"5-10 years"}),r.jsx("option",{value:"10+",children:"10+ years"})]})]}),r.jsxs("button",{onClick:()=>A("identity"),disabled:!y.businessName||!y.bio,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]}),t>0&&r.jsxs("button",{onClick:O,className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]})]}),V.id==="location"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),r.jsx("input",{type:"text",value:g.address,onChange:F=>v({...g,address:F.target.value}),placeholder:"123 Main St",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),r.jsx("input",{type:"text",value:g.city,onChange:F=>v({...g,city:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),r.jsx("input",{type:"text",value:g.state,onChange:F=>v({...g,state:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),r.jsx("input",{type:"text",value:g.zipCode,onChange:F=>v({...g,zipCode:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Radius (miles)"}),r.jsx("input",{type:"range",min:"5",max:"50",value:g.serviceRadius,onChange:F=>v({...g,serviceRadius:Number(F.target.value)}),className:"w-full"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[g.serviceRadius," miles"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:g.mobileService,onChange:F=>v({...g,mobileService:F.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I offer mobile services (travel to clients)"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:g.homeStudio,onChange:F=>v({...g,homeStudio:F.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I have a home studio / salon"})]})]}),r.jsxs("button",{onClick:()=>A("location"),disabled:!g.address||!g.city||!g.state||!g.zipCode,className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:O,className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]})]}),V.id==="services"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Add a Service"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),r.jsx("input",{type:"text",value:w.name,onChange:F=>N({...w,name:F.target.value}),placeholder:"e.g., Women's Haircut",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsxs("select",{value:w.category,onChange:F=>N({...w,category:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",children:[r.jsx("option",{children:"Hair"}),r.jsx("option",{children:"Nails"}),r.jsx("option",{children:"Makeup"}),r.jsx("option",{children:"Skincare"}),r.jsx("option",{children:"Massage"}),r.jsx("option",{children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:w.description,onChange:F=>N({...w,description:F.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (min) *"}),r.jsx("input",{type:"number",value:w.duration,onChange:F=>N({...w,duration:Number(F.target.value)}),min:"15",step:"15",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),r.jsx("input",{type:"number",value:w.price,onChange:F=>N({...w,price:Number(F.target.value)}),min:"0",step:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none"})]})]}),r.jsx("button",{onClick:M,type:"button",className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"+ Add Service"})]}),b.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Your Services (",b.length,")"]}),r.jsx("div",{className:"space-y-3",children:b.map((F,z)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:F.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[F.duration," min • $",F.price," • ",F.category]})]}),r.jsx("button",{onClick:()=>$(z),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(De,{className:"w-5 h-5"})})]},z))})]}),r.jsxs("button",{onClick:()=>A("services"),disabled:b.length===0,className:"w-full px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:O,className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]})]}),V.id==="portfolio"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio Images (3-6 photos recommended)"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:D,className:"hidden",id:"portfolio-upload"}),r.jsxs("label",{htmlFor:"portfolio-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-purple-400 transition-colors",children:[r.jsx(Xt,{className:"w-12 h-12 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload images (max 5MB each)"})]})]}),j.imagePreviews.length>0&&r.jsx("div",{className:"grid grid-cols-3 gap-4",children:j.imagePreviews.map((F,z)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:F,alt:`Portfolio ${z+1}`,className:"w-full h-32 object-cover rounded-xl"}),r.jsx("button",{onClick:()=>q(z),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(De,{className:"w-4 h-4"})})]},z))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Handle"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:"@"}),r.jsx("input",{type:"text",value:j.instagram,onChange:F=>_({...j,instagram:F.target.value}),placeholder:"yourusername",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok Handle"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:"@"}),r.jsx("input",{type:"text",value:j.tiktok,onChange:F=>_({...j,tiktok:F.target.value}),placeholder:"yourusername",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website (optional)"}),r.jsx("input",{type:"url",value:j.website,onChange:F=>_({...j,website:F.target.value}),placeholder:"https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("button",{onClick:()=>A("portfolio"),className:"w-full px-6 py-3 bg-gradient-to-r from-pink-500 to-red-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:O,className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]})]}),V.id==="payment"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>C({...S,method:"stripe"}),className:`w-full p-6 border-2 rounded-xl text-left transition-all ${S.method==="stripe"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Stripe"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Accept credit cards, debit cards, and digital wallets"})]}),r.jsxs("button",{onClick:()=>C({...S,method:"btcpay"}),className:`w-full p-6 border-2 rounded-xl text-left transition-all ${S.method==="btcpay"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"BTCPay (Bitcoin)"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Accept Bitcoin payments directly"})]})]}),r.jsxs("button",{onClick:()=>A("payment"),disabled:!S.method,className:"w-full px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Continue",r.jsx(Ie,{className:"w-5 h-5"})]}),r.jsxs("button",{onClick:O,className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]})]}),V.id==="review"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(zo,{title:"Business Information",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Business Name:"})," ",y.businessName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Specialties:"})," ",y.specialties.join(", ")||"None selected"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Experience:"})," ",y.yearsExperience||"Not specified"]})]}),r.jsxs(zo,{title:"Location",children:[r.jsx("p",{children:g.address}),r.jsxs("p",{children:[g.city,", ",g.state," ",g.zipCode]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Service Radius:"})," ",g.serviceRadius," miles"]})]}),r.jsxs(zo,{title:"Services",children:[r.jsx("p",{children:r.jsxs("strong",{children:[b.length," service(s) added"]})}),b.slice(0,3).map((F,z)=>r.jsxs("p",{className:"text-sm text-gray-600",children:["• ",F.name," - $",F.price]},z))]}),r.jsx(zo,{title:"Payment Method",children:r.jsx("p",{children:S.method==="stripe"?"Stripe":"BTCPay (Bitcoin)"})})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:r.jsx("p",{className:"text-sm text-yellow-900",children:"⚠️ Your application will be reviewed by our team. You'll receive an email within 2-3 business days."})}),r.jsx("button",{onClick:W,disabled:c,className:"w-full px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit Application 🎉"}),r.jsxs("button",{onClick:O,disabled:c,className:"w-full px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2 disabled:opacity-50",children:[r.jsx(st,{className:"w-5 h-5"}),"Back"]})]})]},t)})]})]}),r.jsx(Ute,{isOpen:o,onClose:()=>l(!1),onImport:P})]})}function zo({title:s,children:e}){return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:s}),r.jsx("div",{className:"space-y-1 text-sm text-gray-700",children:e})]})}function zte(){const{user:s}=we(),e=m.useMemo(()=>s?_S[s.role]||[]:[],[s]);return{hasPermission:c=>s?e.includes(c):!1,hasAnyPermission:c=>!s||c.length===0?!1:c.some(d=>e.includes(d)),hasAllPermissions:c=>!s||c.length===0?!1:c.every(d=>e.includes(d)),getAllPermissions:()=>e,isSuperAdmin:()=>(s==null?void 0:s.role)==="SUPERADMIN",isAdmin:()=>(s==null?void 0:s.role)==="ADMIN"||(s==null?void 0:s.role)==="SUPERADMIN",userPermissions:e}}function Te({children:s,roles:e,requiredPermissions:t,requireAll:a=!1,requireVerification:n=!1}){const{user:i,isAuthenticated:o,isLoading:l}=we(),{hasAnyPermission:c,hasAllPermissions:d}=zte(),u=Cs();return l?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):!o||!i?r.jsx(ms,{to:"/login",state:{from:u},replace:!0}):n&&!i.emailVerified?r.jsx(ms,{to:"/verify-email",replace:!0}):t&&t.length>0&&!(a?d(t):c(t))?r.jsx(ms,{to:"/unauthorized",replace:!0}):e&&e.length>0&&!e.includes(i.role)?r.jsx(ms,{to:"/unauthorized",replace:!0}):i.isActive===!1?r.jsx(ms,{to:"/account-suspended",replace:!0}):r.jsx(r.Fragment,{children:s})}function Hte(){const{user:s}=we();return s?s.role==="STYLIST"?r.jsx(Ste,{}):r.jsx(z2,{}):r.jsx(ms,{to:"/login",replace:!0})}function qte(){Cs();const[s,e]=m.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsx(I3,{}),r.jsx("main",{className:"flex-grow",children:r.jsxs(xh,{children:[r.jsx(J,{path:"/",element:r.jsx(z3,{})}),r.jsx(J,{path:"/auth",element:r.jsx(dr,{mode:"login",role:"CLIENT"})}),r.jsx(J,{path:"/login",element:r.jsx(dr,{mode:"login",role:"CLIENT"})}),r.jsx(J,{path:"/register",element:r.jsx(Zc,{})}),r.jsx(J,{path:"/stylist/auth",element:r.jsx(dr,{mode:"login",role:"STYLIST"})}),r.jsx(J,{path:"/stylist/login",element:r.jsx(dr,{mode:"login",role:"STYLIST"})}),r.jsx(J,{path:"/stylist/register",element:r.jsx(Zc,{})}),r.jsx(J,{path:"/client/auth",element:r.jsx(dr,{mode:"login",role:"CLIENT"})}),r.jsx(J,{path:"/client/login",element:r.jsx(dr,{mode:"login",role:"CLIENT"})}),r.jsx(J,{path:"/client/register",element:r.jsx(Zc,{})}),r.jsx(J,{path:"/admin/login",element:r.jsx(dr,{mode:"login",role:"ADMIN"})}),r.jsx(J,{path:"/login/admin",element:r.jsx(dr,{mode:"login",role:"ADMIN"})}),r.jsx(J,{path:"/login/client",element:r.jsx(dr,{mode:"login",role:"CLIENT"})}),r.jsx(J,{path:"/login/stylist",element:r.jsx(dr,{mode:"login",role:"STYLIST"})}),r.jsx(J,{path:"/register/client",element:r.jsx(dr,{mode:"register",role:"CLIENT"})}),r.jsx(J,{path:"/forgot-password",element:r.jsx(eC,{})}),r.jsx(J,{path:"/reset-password",element:r.jsx(tC,{})}),r.jsx(J,{path:"/verify-phone",element:r.jsx(rC,{})}),r.jsx(J,{path:"/verify-email/:token",element:r.jsx(sC,{})}),r.jsx(J,{path:"/auth/callback",element:r.jsx(fC,{})}),r.jsx(J,{path:"/services",element:r.jsx(gC,{})}),r.jsx(J,{path:"/stylists",element:r.jsx(IC,{})}),r.jsx(J,{path:"/stylist/:id",element:r.jsx(FC,{})}),r.jsx(J,{path:"/about",element:r.jsx(fee,{})}),r.jsx(J,{path:"/careers",element:r.jsx(gee,{})}),r.jsx(J,{path:"/press",element:r.jsx(xee,{})}),r.jsx(J,{path:"/blog",element:r.jsx(yee,{})}),r.jsx(J,{path:"/blog/:slug",element:r.jsx(ste,{})}),r.jsx(J,{path:"/help",element:r.jsx(ate,{})}),r.jsx(J,{path:"/contact",element:r.jsx(nte,{})}),r.jsx(J,{path:"/status",element:r.jsx(ite,{})}),r.jsx(J,{path:"/report",element:r.jsx(ote,{})}),r.jsx(J,{path:"/privacy",element:r.jsx(lte,{})}),r.jsx(J,{path:"/terms",element:r.jsx(cte,{})}),r.jsx(J,{path:"/cookies",element:r.jsx(dte,{})}),r.jsx(J,{path:"/licenses",element:r.jsx(ute,{})}),r.jsx(J,{path:"/resources",element:r.jsx(hte,{})}),r.jsx(J,{path:"/policies",element:r.jsx(mte,{})}),r.jsx(J,{path:"/commissions",element:r.jsx(pte,{})}),r.jsx(J,{path:"/team/comments",element:r.jsx(fte,{})}),r.jsx(J,{path:"/work/showcase",element:r.jsx(gte,{})}),r.jsx(J,{path:"/portfolio",element:r.jsx(xte,{})}),r.jsx(J,{path:"/verified-professionals",element:r.jsx(yte,{})}),r.jsx(J,{path:"/secure-payments",element:r.jsx(bte,{})}),r.jsx(J,{path:"/dispute-resolution",element:r.jsx(vte,{})}),r.jsx(J,{path:"/money-back-guarantee",element:r.jsx(wte,{})}),r.jsx(J,{path:"/client-protection",element:r.jsx(jte,{})}),r.jsx(J,{path:"/book/:stylistId/:serviceId",element:r.jsx(Te,{children:r.jsx(j6,{})})}),r.jsx(J,{path:"/profile",element:r.jsx(Te,{children:r.jsx(k6,{})})}),r.jsx(J,{path:"/profile/onboarding",element:r.jsx(Te,{children:r.jsx(oO,{})})}),r.jsx(J,{path:"/profile/become-stylist",element:r.jsx(Te,{children:r.jsx(gO,{})})}),r.jsx(J,{path:"/settings",element:r.jsx(Te,{children:r.jsx(xO,{})})}),r.jsx(J,{path:"/dashboard",element:r.jsx(Te,{children:r.jsx(AO,{})})}),r.jsx(J,{path:"/panel",element:r.jsx(Te,{children:r.jsx(Hte,{})})}),r.jsx(J,{path:"/business/*",element:r.jsx(Te,{children:r.jsx(Bte,{})})}),r.jsx(J,{path:"/stylist-application",element:r.jsx(Te,{children:r.jsx(Wte,{})})}),r.jsx(J,{path:"/client/bitcoin",element:r.jsx(Te,{children:r.jsx(kte,{})})}),r.jsx(J,{path:"/bookings",element:r.jsx(Te,{children:r.jsx(RO,{})})}),r.jsx(J,{path:"/dashboard/portfolio",element:r.jsx(Te,{children:r.jsx(FO,{})})}),r.jsx(J,{path:"/dashboard/revenue",element:r.jsx(Te,{children:r.jsx(N8,{})})}),r.jsx(J,{path:"/dashboard/reminders",element:r.jsx(Te,{children:r.jsx(k8,{})})}),r.jsx(J,{path:"/dashboard/services",element:r.jsx(Te,{children:r.jsx(S8,{})})}),r.jsx(J,{path:"/dashboard/schedule",element:r.jsx(Te,{children:r.jsx(T8,{})})}),r.jsx(J,{path:"/dashboard/bookings",element:r.jsx(Te,{children:r.jsx(A8,{})})}),r.jsx(J,{path:"/dashboard/profile/edit",element:r.jsx(Te,{children:r.jsx(O8,{})})}),r.jsx(J,{path:"/favorites",element:r.jsx(Te,{children:r.jsx(IO,{})})}),r.jsx(J,{path:"/payment-methods",element:r.jsx(Te,{children:r.jsx(QX,{})})}),r.jsx(J,{path:"/disputes",element:r.jsx(Te,{children:r.jsx(A7,{})})}),r.jsx(J,{path:"/disputes/:id",element:r.jsx(Te,{children:r.jsx(O7,{})})}),r.jsx(J,{path:"/messages",element:r.jsx(Te,{children:r.jsx(T7,{})})}),r.jsx(J,{path:"/video/:id",element:r.jsx(Te,{children:r.jsx(KX,{})})}),r.jsx(J,{path:"/admin",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ADMIN_DASHBOARD],children:r.jsx(Cx,{})})}),r.jsx(J,{path:"/admin/dashboard",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ADMIN_DASHBOARD],children:r.jsx(Cx,{})})}),r.jsx(J,{path:"/admin/disputes",element:r.jsx(Te,{requiredPermissions:[Kt.MANAGE_ALL_DISPUTES],children:r.jsx(tee,{})})}),r.jsx(J,{path:"/admin/messages",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ADMIN_MESSAGES],children:r.jsx(see,{})})}),r.jsx(J,{path:"/admin/video",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ADMIN_VIDEO],children:r.jsx(nee,{})})}),r.jsx(J,{path:"/admin/bookings",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ALL_BOOKINGS],children:r.jsx(oee,{})})}),r.jsx(J,{path:"/admin/users",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ALL_USERS],children:r.jsx(lee,{})})}),r.jsx(J,{path:"/admin/services",element:r.jsx(Te,{requiredPermissions:[Kt.MANAGE_ALL_SERVICES],children:r.jsx(cee,{})})}),r.jsx(J,{path:"/admin/marketing",element:r.jsx(Te,{requiredPermissions:[Kt.MANAGE_MARKETING],children:r.jsx(uee,{})})}),r.jsx(J,{path:"/admin/stylist-applications",element:r.jsx(Te,{requiredPermissions:[Kt.APPROVE_STYLISTS],children:r.jsx(hee,{})})}),r.jsx(J,{path:"/admin/issues",element:r.jsx(Te,{requiredPermissions:[Kt.VIEW_ISSUES],children:r.jsx(mee,{})})}),r.jsx(J,{path:"/logo-showcase",element:r.jsx(XX,{})}),r.jsx(J,{path:"/animation-showcase",element:r.jsx(eee,{})}),r.jsx(J,{path:"/unauthorized",element:r.jsx(JX,{})}),r.jsx(J,{path:"*",element:r.jsx(ZX,{})})]})}),r.jsx(M3,{}),r.jsx(kS,{onClick:()=>e(!0)}),r.jsx(NS,{isOpen:s,onClose:()=>e(!1)}),r.jsx(D3,{})]})}function Gte(){const{user:s,checkAuth:e}=we();return m.useEffect(()=>{e()},[e]),r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[r.jsx($3,{}),r.jsxs(xh,{children:[r.jsx(J,{path:"/p/:username",element:r.jsx(BC,{})}),r.jsx(J,{path:"/*",element:r.jsx(qte,{})})]})]})}const be=s=>typeof s=="string",Fn=()=>{let s,e;const t=new Promise((a,n)=>{s=a,e=n});return t.resolve=s,t.reject=e,t},Ux=s=>s==null?"":""+s,Yte=(s,e,t)=>{s.forEach(a=>{e[a]&&(t[a]=e[a])})},Kte=/###/g,Wx=s=>s&&s.indexOf("###")>-1?s.replace(Kte,"."):s,zx=s=>!s||be(s),li=(s,e,t)=>{const a=be(e)?e.split("."):e;let n=0;for(;n<a.length-1;){if(zx(s))return{};const i=Wx(a[n]);!s[i]&&t&&(s[i]=new t),Object.prototype.hasOwnProperty.call(s,i)?s=s[i]:s={},++n}return zx(s)?{}:{obj:s,k:Wx(a[n])}},Hx=(s,e,t)=>{const{obj:a,k:n}=li(s,e,Object);if(a!==void 0||e.length===1){a[n]=t;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=li(s,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=li(s,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=t},Qte=(s,e,t,a)=>{const{obj:n,k:i}=li(s,e,Object);n[i]=n[i]||[],n[i].push(t)},Ul=(s,e)=>{const{obj:t,k:a}=li(s,e);if(t)return t[a]},Zte=(s,e,t)=>{const a=Ul(s,t);return a!==void 0?a:Ul(e,t)},H2=(s,e,t)=>{for(const a in e)a!=="__proto__"&&a!=="constructor"&&(a in s?be(s[a])||s[a]instanceof String||be(e[a])||e[a]instanceof String?t&&(s[a]=e[a]):H2(s[a],e[a],t):s[a]=e[a]);return s},Ia=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Jte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xte=s=>be(s)?s.replace(/[&<>"'\/]/g,e=>Jte[e]):s;class ere{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}const tre=[" ",",","?","!",";"],rre=new ere(20),sre=(s,e,t)=>{e=e||"",t=t||"";const a=tre.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(a.length===0)return!0;const n=rre.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!n.test(s);if(!i){const o=s.indexOf(t);o>0&&!n.test(s.substring(0,o))&&(i=!0)}return i},gh=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[e])return s[e];const a=e.split(t);let n=s;for(let i=0;i<a.length;){if(!n||typeof n!="object")return;let o,l="";for(let c=i;c<a.length;++c)if(c!==i&&(l+=t),l+=a[c],o=n[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<a.length-1)continue;i+=c-i+1;break}n=o}return n},Wl=s=>s&&s.replace("_","-"),are={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console&&console[s]&&console[s].apply(console,e)}};class zl{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||are,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,a,n){return n&&!this.debug?null:(be(e[0])&&(e[0]=`${a}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new zl(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new zl(this.logger,e)}}var Er=new zl;class zc{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const n=this.observers[a].get(t)||0;this.observers[a].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[e,...a])})}}class qx extends zc{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],a&&(Array.isArray(a)?l.push(...a):be(a)&&i?l.push(...a.split(i)):l.push(a)));const c=Ul(this.data,l);return!c&&!t&&!a&&e.indexOf(".")>-1&&(e=l[0],t=l[1],a=l.slice(2).join(".")),c||!o||!be(a)?c:gh(this.data&&this.data[e]&&this.data[e][t],a,i)}addResource(e,t,a,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,t];a&&(l=l.concat(o?a.split(o):a)),e.indexOf(".")>-1&&(l=e.split("."),n=t,t=l[1]),this.addNamespaces(t),Hx(this.data,l,n),i.silent||this.emit("added",e,t,a,n)}addResources(e,t,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in a)(be(a[i])||Array.isArray(a[i]))&&this.addResource(e,t,i,a[i],{silent:!0});n.silent||this.emit("added",e,t,a)}addResourceBundle(e,t,a,n,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),n=a,a=t,t=l[1]),this.addNamespaces(t);let c=Ul(this.data,l)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),n?H2(c,a,i):c={...c,...a},Hx(this.data,l,c),o.silent||this.emit("added",e,t,a)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var q2={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,a,n){return s.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,t,a,n))}),e}};const Gx={};class Hl extends zc{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Yte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Er.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const a=this.resolve(e,t);return a&&a.res!==void 0}extractFromKey(e,t){let a=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=a&&e.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!sre(e,a,n);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:be(i)?[i]:i};const d=e.split(a);(a!==n||a===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(n)}return{key:e,namespaces:be(i)?[i]:i}}translate(e,t,a){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],t),c=l[l.length-1],d=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(u){const w=t.nsSeparator||this.options.nsSeparator;return n?{res:`${c}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${w}${o}`}return n?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:o}const h=this.resolve(e,t);let p=h&&h.res;const f=h&&h.usedKey||o,y=h&&h.exactUsedKey||o,x=Object.prototype.toString.apply(p),g=["[object Number]","[object Function]","[object RegExp]"],v=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,k=!be(p)&&typeof p!="boolean"&&typeof p!="number";if(b&&p&&k&&g.indexOf(x)<0&&!(be(v)&&Array.isArray(p))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,p,{...t,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return n?(h.res=w,h.usedParams=this.getUsedParamsDetails(t),h):w}if(i){const w=Array.isArray(p),N=w?[]:{},j=w?y:f;for(const _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){const S=`${j}${i}${_}`;N[_]=this.translate(S,{...t,joinArrays:!1,ns:l}),N[_]===S&&(N[_]=p[_])}p=N}}else if(b&&be(v)&&Array.isArray(p))p=p.join(v),p&&(p=this.extendTranslation(p,e,t,a));else{let w=!1,N=!1;const j=t.count!==void 0&&!be(t.count),_=Hl.hasDefaultValue(t),S=j?this.pluralResolver.getSuffix(d,t.count,t):"",C=t.ordinal&&j?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",I=j&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),P=I&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${S}`]||t[`defaultValue${C}`]||t.defaultValue;!this.isValidLookup(p)&&_&&(w=!0,p=P),this.isValidLookup(p)||(N=!0,p=o);const L=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:p,O=_&&P!==p&&this.options.updateMissing;if(N||w||O){if(this.logger.log(O?"updateKey":"missingKey",d,c,o,O?P:p),i){const q=this.resolve(o,{...t,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let q=0;q<$.length;q++)M.push($[q]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(t.lng||this.language):M.push(t.lng||this.language);const D=(q,W,B)=>{const V=_&&B!==p?B:L;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,W,V,O,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(q,c,W,V,O,t),this.emit("missingKey",q,c,W,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?M.forEach(q=>{const W=this.pluralResolver.getSuffixes(q,t);I&&t[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(B=>{D([q],o+B,t[`defaultValue${B}`]||P)})}):D(M,o,P))}p=this.extendTranslation(p,e,t,h,a),N&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${o}`),(N||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,w?p:void 0):p=this.options.parseMissingKeyHandler(p))}return n?(h.res=p,h.usedParams=this.getUsedParamsDetails(t),h):p}extendTranslation(e,t,a,n,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const d=be(e)&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(d){const p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}let h=a.replace&&!be(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,a.lng||this.language||n.usedLng,a),d){const p=e.match(this.interpolator.nestingRegexp),f=p&&p.length;u<f&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(a.lng=this.language||n.usedLng),a.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];return i&&i[0]===f[0]&&!a.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):o.translate(...f,t)},a)),a.interpolation&&this.interpolator.reset()}const l=a.postProcess||this.options.postProcess,c=be(l)?[l]:l;return e!=null&&c&&c.length&&a.applyPostProcessor!==!1&&(e=q2.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,n,i,o,l;return be(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(c,t),u=d.key;n=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=t.count!==void 0&&!be(t.count),f=p&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),y=t.context!==void 0&&(be(t.context)||typeof t.context=="number")&&t.context!=="",x=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(g=>{this.isValidLookup(a)||(l=g,!Gx[`${x[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Gx[`${x[0]}-${g}`]=!0,this.logger.warn(`key "${n}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{if(this.isValidLookup(a))return;o=v;const b=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,v,g,t);else{let w;p&&(w=this.pluralResolver.getSuffix(v,t.count,t));const N=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(b.push(u+w),t.ordinal&&w.indexOf(j)===0&&b.push(u+w.replace(j,this.options.pluralSeparator)),f&&b.push(u+N)),y){const _=`${u}${this.options.contextSeparator}${t.context}`;b.push(_),p&&(b.push(_+w),t.ordinal&&w.indexOf(j)===0&&b.push(_+w.replace(j,this.options.pluralSeparator)),f&&b.push(_+N))}}let k;for(;k=b.pop();)this.isValidLookup(a)||(i=k,a=this.getResource(v,g,k,t))}))})}),{res:a,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,a,n):this.resourceStore.getResource(e,t,a,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!be(e.replace);let n=a?e.replace:e;if(a&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!a){n={...n};for(const i of t)delete n[i]}return n}static hasDefaultValue(e){const t="defaultValue";for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t===a.substring(0,t.length)&&e[a]!==void 0)return!0;return!1}}const cu=s=>s.charAt(0).toUpperCase()+s.slice(1);class Yx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Er.create("languageUtils")}getScriptPartFromCode(e){if(e=Wl(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Wl(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(e)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let a=e.split("-");return this.options.lowerCaseLng?a=a.map(n=>n.toLowerCase()):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),t.indexOf(a[1].toLowerCase())>-1&&(a[1]=cu(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),t.indexOf(a[1].toLowerCase())>-1&&(a[1]=cu(a[1].toLowerCase())),t.indexOf(a[2].toLowerCase())>-1&&(a[2]=cu(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(a=>{if(t)return;const n=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(a=>{if(t)return;const n=this.getLanguagePartFromCode(a);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(i=>{if(i===n)return i;if(!(i.indexOf("-")<0&&n.indexOf("-")<0)&&(i.indexOf("-")>0&&n.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===n||i.indexOf(n)===0&&n.length>1))return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let a=e[t];return a||(a=e[this.getScriptPartFromCode(t)]),a||(a=e[this.formatLanguageCode(t)]),a||(a=e[this.getLanguagePartFromCode(t)]),a||(a=e.default),a||[]}toResolveHierarchy(e,t){const a=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],i=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):be(e)&&i(this.formatLanguageCode(e)),a.forEach(o=>{n.indexOf(o)<0&&i(this.formatLanguageCode(o))}),n}}let nre=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ire={1:s=>+(s>1),2:s=>+(s!=1),3:s=>0,4:s=>s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,5:s=>s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5,6:s=>s==1?0:s>=2&&s<=4?1:2,7:s=>s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,8:s=>s==1?0:s==2?1:s!=8&&s!=11?2:3,9:s=>+(s>=2),10:s=>s==1?0:s==2?1:s<7?2:s<11?3:4,11:s=>s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3,12:s=>+(s%10!=1||s%100==11),13:s=>+(s!==0),14:s=>s==1?0:s==2?1:s==3?2:3,15:s=>s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2,16:s=>s%10==1&&s%100!=11?0:s!==0?1:2,17:s=>s==1||s%10==1&&s%100!=11?0:1,18:s=>s==0?0:s==1?1:2,19:s=>s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3,20:s=>s==1?0:s==0||s%100>0&&s%100<20?1:2,21:s=>s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0,22:s=>s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3};const ore=["v1","v2","v3"],lre=["v4"],Kx={zero:0,one:1,two:2,few:3,many:4,other:5},cre=()=>{const s={};return nre.forEach(e=>{e.lngs.forEach(t=>{s[t]={numbers:e.nr,plurals:ire[e.fc]}})}),s};class dre{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Er.create("pluralResolver"),(!this.options.compatibilityJSON||lre.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=cre(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const a=Wl(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:n})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,t)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(e,t);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}getPluralFormsOfKey(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,a).map(n=>`${t}${n}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(e,t);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((n,i)=>Kx[n]-Kx[i]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):a.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,a);return n?this.shouldUseIntlApi()?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const a=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[a];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const i=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}shouldUseIntlApi(){return!ore.includes(this.options.compatibilityJSON)}}const Qx=function(s,e,t){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Zte(s,e,t);return!i&&n&&be(t)&&(i=gh(s,t,a),i===void 0&&(i=gh(e,t,a))),i},du=s=>s.replace(/\$/g,"$$$$");class ure{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Er.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:a,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:f,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:g,maxReplaces:v,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:Xte,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Ia(i):o||"{{",this.suffix=l?Ia(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?Ia(p):f||Ia("$t("),this.nestingSuffix=y?Ia(y):x||Ia(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=v||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,a)=>t&&t.source===a?(t.lastIndex=0,t):new RegExp(a,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,a,n){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=f=>{if(f.indexOf(this.formatSeparator)<0){const v=Qx(t,c,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,a,{...n,...t,interpolationkey:f}):v}const y=f.split(this.formatSeparator),x=y.shift().trim(),g=y.join(this.formatSeparator).trim();return this.format(Qx(t,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),g,a,{...n,...t,interpolationkey:x})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>du(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?du(this.escape(f)):du(f)}].forEach(f=>{for(l=0;i=f.regex.exec(e);){const y=i[1].trim();if(o=d(y),o===void 0)if(typeof u=="function"){const g=u(e,i,n);o=be(g)?g:""}else if(n&&Object.prototype.hasOwnProperty.call(n,y))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!be(o)&&!this.useRawValueToEscape&&(o=Ux(o));const x=f.safeValue(o);if(e=e.replace(i[0],x),h?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=i[0].length):f.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,o);const f=p.match(/'/g),y=p.match(/"/g);(f&&f.length%2===0&&!y||y.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];o={...a},o=o.replace&&!be(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const u=n[1].split(this.formatSeparator).map(h=>h.trim());n[1]=u.shift(),c=u,d=!0}if(i=t(l.call(this,n[1].trim(),o),o),i&&n[0]===e&&!be(i))return i;be(i)||(i=Ux(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),d&&(i=c.reduce((u,h)=>this.format(u,h,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const hre=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const a=s.split("(");e=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();t[u]||(t[u]=d),d==="false"&&(t[u]=!1),d==="true"&&(t[u]=!0),isNaN(d)||(t[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},Ma=s=>{const e={};return(t,a,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const o=a+JSON.stringify(i);let l=e[o];return l||(l=s(Wl(a),n),e[o]=l),l(t)}};class mre{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Er.create("formatter"),this.options=e,this.formats={number:Ma((t,a)=>{const n=new Intl.NumberFormat(t,{...a});return i=>n.format(i)}),currency:Ma((t,a)=>{const n=new Intl.NumberFormat(t,{...a,style:"currency"});return i=>n.format(i)}),datetime:Ma((t,a)=>{const n=new Intl.DateTimeFormat(t,{...a});return i=>n.format(i)}),relativetime:Ma((t,a)=>{const n=new Intl.RelativeTimeFormat(t,{...a});return i=>n.format(i,a.range||"day")}),list:Ma((t,a)=>{const n=new Intl.ListFormat(t,{...a});return i=>n.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ma(t)}format(e,t,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:d,formatOptions:u}=hre(c);if(this.formats[d]){let h=l;try{const p=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},f=p.locale||p.lng||n.locale||n.lng||a;h=this.formats[d](l,f,{...u,...n,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const pre=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class fre extends zc{constructor(e,t,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=a,this.languageUtils=a.languageUtils,this.options=n,this.logger=Er.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(a,n.backend,n)}queueLoad(e,t,a,n){const i={},o={},l={},c={};return e.forEach(d=>{let u=!0;t.forEach(h=>{const p=`${d}|${h}`;!a.reload&&this.store.hasResourceBundle(d,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,u=!1,o[p]===void 0&&(o[p]=!0),i[p]===void 0&&(i[p]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,t,a){const n=e.split("|"),i=n[0],o=n[1];t&&this.emit("failedLoading",i,o,t),!t&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&a&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Qte(c.loaded,[i],o),pre(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,t,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:a,tried:n,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,a,n+1,i*2,o)},i);return}o(d,u)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const d=c(e,t);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,t,l)}prepareLoading(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(t)&&(t=[t]);const i=this.queueLoad(e,t,a,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,a){this.prepareLoading(e,t,{},a)}reload(e,t,a){this.prepareLoading(e,t,{reload:!0},a)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=e.split("|"),n=a[0],i=a[1];this.read(n,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,o),!o&&l&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,l),this.loaded(e,o,l)})}saveMissing(e,t,a,n,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${a}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(e,t,a,n,c):u=d(e,t,a,n),u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}else d(e,t,a,n,l,c)}!e||!e[0]||this.store.addResource(e[0],t,a,n)}}}const Zx=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),be(s[1])&&(e.defaultValue=s[1]),be(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(a=>{e[a]=t[a]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Jx=s=>(be(s.ns)&&(s.ns=[s.ns]),be(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),be(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s),Ho=()=>{},gre=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class Oi extends zc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Jx(e),this.services={},this.logger=Er,this.modules={external:[]},gre(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(a=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=Zx();this.options={...n,...this.options,...Jx(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Er.init(i(this.modules.logger),this.options):Er.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=mre);const h=new Yx(this.options);this.store=new qx(this.options.resources,this.options);const p=this.services;p.logger=Er,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new dre(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(p.formatter=i(u),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new ure(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new fre(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(f){for(var y=arguments.length,x=new Array(y>1?y-1:0),g=1;g<y;g++)x[g-1]=arguments[g];e.emit(f,...x)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Hl(this.services,this.options),this.translator.on("*",function(f){for(var y=arguments.length,x=new Array(y>1?y-1:0),g=1;g<y;g++)x[g-1]=arguments[g];e.emit(f,...x)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Ho),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=Fn(),d=()=>{const u=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),a(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ho;const n=be(e)?e:this.language;if(typeof e=="function"&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(l)})}else a(null)}reloadResources(e,t,a){const n=Fn();return typeof e=="function"&&(a=e,e=void 0),typeof t=="function"&&(a=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),a||(a=Ho),this.services.backendConnector.reload(e,t,i=>{n.resolve(),a(i)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&q2.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const a=this.languages[t];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(e,t){var a=this;this.isLanguageChangingTo=e;const n=Fn();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve(function(){return a.t(...arguments)}),t&&t(c,function(){return a.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=be(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,u=>{o(u,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,t,a){var n=this;const i=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),h=2;h<d;h++)u[h-2]=arguments[h];c=n.options.overloadTranslationOptionHandler([o,l].concat(u))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||i.keyPrefix);const p=n.options.keySeparator||".";let f;return c.keyPrefix&&Array.isArray(o)?f=o.map(y=>`${c.keyPrefix}${p}${y}`):f=c.keyPrefix?`${c.keyPrefix}${p}${o}`:o,n.t(f,c)};return be(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=a,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(t.precheck){const l=t.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,e)&&(!n||o(i,e)))}loadNamespaces(e,t){const a=Fn();return this.options.ns?(be(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{a.resolve(),t&&t(n)}),a):(t&&t(),Promise.resolve())}loadLanguages(e,t){const a=Fn();be(e)&&(e=[e]);const n=this.options.preload||[],i=e.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=n.concat(i),this.loadResources(o=>{a.resolve(),t&&t(o)}),a):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new Yx(Zx());return t.indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Oi(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ho;const a=e.forkResourceStore;a&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},i=new Oi(n);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a&&(i.store=new qx(this.store.data,n),i.services.resourceStore=i.store),i.translator=new Hl(i.services,n),i.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];i.emit(l,...d)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rt=Oi.createInstance();Rt.createInstance=Oi.createInstance;Rt.createInstance;Rt.dir;Rt.init;Rt.loadResources;Rt.reloadResources;Rt.use;Rt.changeLanguage;Rt.getFixedT;Rt.t;Rt.exists;Rt.setDefaultNamespace;Rt.hasLoadedNamespace;Rt.loadNamespaces;Rt.loadLanguages;const xre={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",edit:"Edit",delete:"Delete",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",sort:"Sort",close:"Close",open:"Open",view:"View",select:"Select",clear:"Clear",apply:"Apply",reset:"Reset",submit:"Submit",required:"Required",optional:"Optional",yes:"Yes",no:"No",or:"or",and:"and",minutes:"minutes",backHome:"Back to Home"},yre={home:"Home",services:"Services",stylists:"Stylists",blog:"Blog",about:"About",contact:"Contact",profile:"Profile",dashboard:"Dashboard",bookings:"Bookings",login:"Login",register:"Register",logout:"Logout",discover:"Discover",messages:"Messages",favorites:"Favorites",payments:"Payments"},bre={loginTitle:"Welcome Back",loginSubtitle:"Sign in to your account to continue",registerTitle:"Join BeautyCita",registerSubtitle:"Create your account and discover your natural beauty",stylistRegisterTitle:"Join as Stylist",stylistRegisterSubtitle:"Share your talent with thousands of clients",fields:{email:"Email Address",password:"Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",phone:"Phone Number",businessName:"Business/Salon Name",bio:"About You (Optional)",experience:"Years of Experience",specialties:"Your Specialties",locationCity:"City",locationState:"State",instagramUrl:"Instagram Profile",workLocation:"Your Work Location",portfolioImages:"Portfolio Photos"},placeholders:{email:"your@email.com",password:"Choose a secure password",firstName:"Your first name",lastName:"Your last name",phone:"555-123-4567",businessName:"Your salon or business name",bio:"Tell clients about your background, specialties, and passion for beauty...",instagramUrl:"@yourusername"},actions:{signIn:"Sign In",signUp:"Create Account",signUpStylist:"Join as Stylist",next:"Continue",previous:"Go Back",submit:"Submit Application",uploadImages:"Add Photos",removeImage:"Remove Photo",selectAll:"Select All Specialties",back:"Back",createStylistAccount:"Create Stylist Account"},options:{rememberMe:"Remember me",acceptTerms:"I accept the terms and conditions",acceptStylistTerms:"I agree to the Stylist Terms and Privacy Policy","1year":"1 year","2years":"2 years","3years":"3 years","4years":"4 years","5years":"5+ years","10years":"10+ years",selectExp:"Choose your experience...",selectSpecialties:"Choose all services you offer"},links:{forgotPassword:"Forgot your password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",signUpHere:"Sign up here",signInHere:"Sign in here",joinAsStylist:"Join as stylist",beautyProfessional:"Are you a beauty professional?",termsOfService:"Terms of Service",privacyPolicy:"Privacy Policy",stylistTerms:"Stylist Terms",notAProfessional:"Not a beauty professional?",signUpAsClient:"Sign up as a client",backToLogin:"← Back to login"},forgotPassword:{title:"Forgot Your Password?",subtitle:"Enter your email address and we'll send you a link to reset your password.",emailLabel:"Email Address *",emailPlaceholder:"you@example.com",emailRequired:"Email is required",emailInvalid:"Invalid email address",sendResetLink:"Send Reset Link",checkEmailTitle:"Check Your Email",checkEmailMessage:"If an account exists with that email address, we've sent instructions to reset your password.",resetEmailSent:"Check your email for the reset link",resetEmailError:"Error sending reset email"},resetPassword:{title:"Reset Your Password",subtitle:"Enter your new password below.",newPasswordLabel:"New Password *",confirmPasswordLabel:"Confirm New Password *",resetPasswordButton:"Reset Password",successTitle:"Password Updated!",successMessage:"Your password has been updated. You can now log in with your new password.",goToLogin:"Go to Login",invalidToken:"Invalid or expired reset link",resetSuccess:"Password reset successfully",resetError:"Error resetting password"},social:{continueWithGoogle:"Continue with Google",signInWithGoogle:"Sign in with Google",signUpWithGoogle:"Sign up with Google",orDivider:"Or continue with email"},sections:{personalInfo:"Personal Information",professionalInfo:"Professional Information",location:"Work Location",portfolio:"Your Portfolio"},hints:{bioOptional:"Optional - Tell clients about your experience and passion",instagramOptional:"Optional - Share your Instagram profile to showcase more work"},stylistSteps:{step1:{title:"Personal Information",description:"Basic and contact information",heading:"Let's start with your personal information",subheading:"This will help us create your stylist profile",phoneHint:"Include country code (e.g. +1 for US)",passwordHint:"Minimum 6 characters, include numbers and letters",privacyNotice:"Your information is secure and will never be shared without your consent",nextButton:"Continue to Professional Info",validationTitle:"Please complete the following fields:",successMessage:"Perfect! Your personal information is complete"},step2:{title:"Professional Information",description:"Experience and specialties",heading:"Tell us about your professional background",subheading:"Help clients understand your expertise and specialties",businessNameLabel:"Business Name",businessNamePlaceholder:"Your business or professional name",businessNameHint:`This is how you'll appear to clients (e.g. "Maria's Beauty Studio" or "Dr. Smith Aesthetics")`,experienceLabel:"Years of Experience",experiencePlaceholder:"Select your experience level",specialtiesLabel:"Specialties & Services",specialtiesDescription:"Select all services you offer. Clients will be able to book these services with you.",servicesSelected:"service(s) selected",bioLabel:"Professional Bio (Optional)",bioPlaceholder:"Tell clients about your experience, specialties, and passion for beauty...",bioHint:"A good bio helps clients get to know you better and increases bookings"},step3:{title:"Location & Contact",description:"Address and social media",heading:"Where do you offer your services?",subheading:"Clients need to know where they can book with you",locationLabel:"Service Location",locationPlaceholder:"Search for your business address or work location",locationHint:"Enter your complete address so clients can find you easily",instagramLabel:"Instagram Profile (Optional)",instagramPlaceholder:"@yourusername or https://instagram.com/yourusername",instagramHint:"Connect your Instagram to showcase more of your work",locationSetSuccess:"Location Set Successfully",coordinates:"Coordinates",validationMessage:"Please complete the following to continue:",helpText:"Having trouble setting your location?",contactSupport:"Contact Support"},step4:{title:"Portfolio",description:"Images of your work",heading:"Show Your Best Work",subheading:"Upload up to 6 images of your best work (max 5MB each)",optionalNote:"Optional step - You can skip this and add portfolio images later from your dashboard",uploadButton:"Upload Portfolio Images",dragDropText:"Drag your images here",dropHere:"Drop your images here",selectImages:"Click to select images",fileTypeHint:"PNG, JPG up to 5MB each",maxFilesError:"Maximum 6 images allowed",imagesSelected:"image(s) selected",removeImage:"Remove image",addMore:"Add more images",tipsTitle:"Tips for great portfolio photos:",tip1:"Use natural light or bright, even lighting",tip2:"Focus on the final result (hair, makeup, nails)",tip3:"Show variety in your services and styles",tip4:"Avoid pixelated or blurry photos",tip5:"Include before/after shots if possible",skipButton:"Skip for Now - Review & Submit",continueButton:"Continue to Review",portfolioAddedSuccess:"Great! Your portfolio will help attract more clients.",portfolioSkipped:"No problem! You can add portfolio images later.",portfolioSkippedDetail:"Focus on getting bookings first, then build your portfolio as you complete services."},step5:{title:"Finish",description:"Review and confirmation"}},portfolio:{title:"Show Your Work",subtitle:"Upload up to 6 images of your best work (max 5MB each)",uploadText:"Click to add photos",uploadHint:"JPG, PNG files up to 5MB each",maxImages:"You can upload up to 6 photos maximum",imageAlt:"Portfolio image"},review:{title:"Almost Done!",subtitle:"Review your information before submitting your application",personalInfo:"Personal Information",professionalInfo:"Professional Information",location:"Location",portfolioImages:"Portfolio",imagesSelected:"images selected",step:"Step",edit:"Edit",name:"Name",email:"Email",phone:"Phone",businessName:"Business Name",experience:"Experience",year:"year",years:"years",specialties:"Specialties",bio:"Bio",address:"Address",city:"City",state:"State",instagramProfile:"Instagram Profile",portfolioImagesLabel:"Portfolio Images",image:"image",images:"images",noPortfolio:"💡 Consider adding portfolio images later to attract more clients",termsCheckbox:"I accept the Stylist Terms of Service and Privacy Policy",submitButton:"Submit Registration",submitting:"Submitting...",termsError:"Please accept the terms and conditions",successMessage:"Registration successful! Please check your email to verify your account.",errorMessage:"Registration failed. Please try again."},benefits:{title:"Benefits of creating an account:",easyBooking:"Book appointments easily",serviceHistory:"Access your service history",personalizedOffers:"Receive personalized offers",reviewServices:"Rate and review services"},stylistBenefits:{title:"Why join BeautyCita?",manageBookings:"Manage your appointments online",showcaseWork:"Show your work to thousands of clients",growBusiness:"Grow your business with our platform",securePayments:"Get paid securely - keep 97% of earnings",item1:"Acceso a miles de clientes potenciales",item2:"Te quedas con el 97% de tus ganancias",item3:"Pagos automáticos diarios después del servicio",item4:"Dashboard completo para gestionar tu negocio",item5:"Herramientas de marketing y promoción gratuitas",item6:"Soporte dedicado para estilistas profesionales"},validation:{emailRequired:"Email is required",emailInvalid:"Invalid email",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 6 characters",passwordStrong:"Password must contain at least one uppercase, one lowercase and one number",passwordsNotMatch:"Passwords do not match",firstNameRequired:"First name is required",firstNameMinLength:"First name must be at least 2 characters",lastNameRequired:"Last name is required",lastNameMinLength:"Last name must be at least 2 characters",phoneInvalid:"Invalid phone number",termsRequired:"You must accept the terms and conditions",businessNameRequired:"Business name is required",experienceRequired:"Experience is required",specialtiesRequired:"Specialties are required",locationRequired:"Business location is required",cityRequired:"City is required",stateRequired:"State is required",phoneRequired:"Phone is required",confirmPassword:"Confirm your password"},phoneRegistration:{title:"Create Account",subtitle:"Fast & secure phone verification",phoneLabel:"Phone Number",phonePlaceholder:"5551234567",sendCodeButton:"Send Code",sendingButton:"Sending...",codeLabel:"Verification Code",codePlaceholder:"Enter 6-digit code",codeSentTo:"Code sent to",verifyButton:"Verify & Create Account",verifyingButton:"Verifying...",changeNumber:"Change phone number",resendCode:"Resend code",passwordSetupTitle:"Set Up Password (Optional)",passwordSetupSubtitle:"Create a secure password for your account",setPasswordButton:"Set Password",settingPasswordButton:"Setting password...",skipPasswordButton:"Skip for Now",passwordLabel:"Password",confirmPasswordLabel:"Confirm Password",passwordMinLengthError:"Password must be at least 8 characters",passwordMismatchError:"Passwords do not match",passwordWeakError:"Password must contain uppercase, lowercase, and numbers",passwordSetSuccess:"Password set successfully! 🔐",codeSentSuccess:"Verification code sent!",invalidCodeError:"Invalid verification code",verificationSuccess:"Phone verified successfully!"},verifyPhone:{title:"Verify Your Phone",subtitle:"Add your number to receive appointment notifications",phoneLabel:"Phone Number",phonePlaceholder:"+52 123 456 7890",phoneHint:"Mexican phone number (10 digits)",sendCodeButton:"Send Code",sendingButton:"Sending...",codeLabel:"Verification Code",codePlaceholder:"123456",codeHint:"Enter the 6-digit code sent to",verifyButton:"Verify Code",verifyingButton:"Verifying...",changeNumber:"Change phone number",skipButton:"Skip for now",codeSent:"Verification code sent to your phone",phoneVerified:"Phone verified successfully!",errorSending:"Error sending code",invalidCode:"Invalid code"},specialties:["Haircut","Hair Coloring","Hairstyling","Hair Treatments","Makeup","Eyebrows & Eyelashes","Manicure","Pedicure","Facial Treatments","Hair Removal","Massages","Extensions"],messages:{loginSuccess:"Welcome back!",registerSuccess:"Account created successfully! Please verify your email.",stylistRegisterSuccess:"Registration successful! We will contact you soon for verification.",loginError:"Error signing in",registerError:"Error creating account",authError:"Authentication error",networkError:"Connection problem. Check your internet and try again.",invalidCredentials:"Invalid email or password"},legal:{termsAcceptance:"By signing in, you accept our",and:"and",termsLink:"Terms of Service",privacyLink:"Privacy Policy"}},vre={title:"Beauty Services",catalogTitle:"Beauty Services Catalog",catalogSubtitle:"Discover and book professional beauty services from verified stylists",searchPlaceholder:"Search for haircuts, nails, makeup...",browseByCategory:"Browse by Category",loading:"Loading amazing services...",showingResults:"Showing {{count}} service{{count, plural, one {} other {s}}}{{category}}",categories:{all:"All Services",hair:"Hair",nails:"Nails",skincare:"Skincare",makeup:"Makeup",lashesBrows:"Lashes & Brows",massages:"Massages",waxing:"Waxing",specialOccasions:"Special Occasions"},priceRange:"Price Range",duration:"Duration",book:"Book Now",from:"From",minutes:"minutes",popular:"Popular",new:"New",subtitle:{mobile:"Swipe to discover amazing services",desktop:"Discover incredible beauty services"},noResults:{title:"No services found",subtitle:"We couldn't find services matching your search. Try different filters or terms.",viewAll:"View all services"},completed:{title:"You've seen all services!",withLikes:"You liked {count} services",tryFilters:"Try different filters",startOver:"Start over"},summary:"Showing {count} service{plural} {category}",serviceData:{trendyHaircut:{name:"Trendy Haircut & Styling",description:"Modern cut with cutting-edge techniques. Perfect for urban and sophisticated looks."},rainbowColoring:{name:"Rainbow Coloring",description:"Bring your hair to life with vibrant colors and professional gradient techniques."},holographicManicure:{name:"Holographic Manicure",description:"Unique designs with holographic effects that shine with every movement."},editorialMakeup:{name:"Editorial Makeup",description:"Artistic makeup looks perfect for photo shoots and special events."},colorfulExtensions:{name:"Colorful Extensions",description:"Add length and color to your hair with high-quality extensions."},nailArt3D:{name:"3D Nail Art",description:"Three-dimensional designs that turn your nails into works of art."},kBeautyFacial:{name:"K-Beauty Facial",description:"Complete Korean routine for perfect and radiant skin like the idols."},hdBrows:{name:"Perfect HD Brows",description:"Professional brow design and definition techniques for a flawless look."},chromeMirror:{name:"Chrome Mirror Nails",description:"Ultra-bright mirror effect that reflects like crystal. Viral trend."}}},wre={page:{loadError:"Error loading stylists",title:"Stylists in Puerto Vallarta",resultsCount:"stylists found",bookAction:"Book",noResults:"No stylists found",noResultsDesc:"Try adjusting your search criteria"}},jre={requestingLocation:"Requesting location access...",locationOptional:"Location access optional",locationBenefits:"Enable location to receive real-time updates about your appointment and stylist proximity notifications.",enableLocation:"How to enable location",required:"Location access is required to book services. Please enable location access in your browser settings.",optional:"Booking without location - some features may be limited",success:"Location enabled! You'll receive real-time updates about your appointment.",deniedRequired:"Location access is required to book services. Please enable location access and try again.",deniedOptional:"Booking without location - you won't receive proximity notifications",error:"Could not access location. Proceeding with booking...",errorRequired:"Location access failed. Please try again."},Nre={title:"My Profile",subtitle:"Manage your information and bookings",personalInfo:"Personal Information",preferences:"Preferences",security:"Security",notifications:"Notifications",updateProfile:"Update Profile",changePassword:"Change Password",quickActions:{newAppointment:"New Appointment",bookService:"Book service",myAppointments:"My Appointments",viewBookings:"View bookings",favorites:"Favorites",favoriteStylists:"Favorite stylists",settings:"Settings",editProfile:"Edit profile"},stats:{upcomingAppointments:"Upcoming Appointments",totalAppointments:"Total Appointments",favorites:"Favorites",spent:"Spent"},upcomingAppointments:"Upcoming Appointments",recentActivity:"Recent Activity",viewAll:"View all",viewHistory:"View history",noUpcomingBookings:"No upcoming appointments",noUpcomingBookingsDescription:"Book your next beauty service!",exploreStylists:"Explore Stylists",noRecentHistory:"No appointment history",noRecentHistoryDescription:"Your completed services will appear here",with:"With",at:"at",rateService:"Rate",fullName:"Full name",email:"Email",phone:"Phone",location:"Location",notSpecified:"Not specified"},kre={welcomeBack:"Welcome back!",loginSuccess:"Successfully logged in",logoutSuccess:"Successfully logged out",profileUpdated:"Profile updated successfully",bookingConfirmed:"Booking confirmed successfully",errorOccurred:"An error occurred",networkError:"Network error, please try again",invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",phoneInvalid:"Please enter a valid phone number"},_re={home:{hero:{title1:"Discover",title2:"Your Beauty",subtitle:"AI-powered beauty service booking platform connecting you with top stylists",cta1:"Book Services",cta2:"Learn More"},trustBadges:{verifiedPros:"Verified Professionals",securePayments:"Secure Payments",fiveStarRated:"5-Star Rated"},stats:{verifiedStylists:"Verified Stylists",bookingsMade:"Bookings Made",averageRating:"Average Rating",satisfaction:"Client Satisfaction"},services:{title:"Featured Services",subtitle:"Discover premium beauty services tailored to you",hairStyling:"Hair Styling",nailArt:"Nail Art",makeup:"Makeup",skincare:"Skincare",lashes:"Lashes",brows:"Brows",fromPrice:"From"},topStylists:{title:"Top Stylists",subtitle:"Meet our verified beauty professionals"},testimonials:{title:"What Clients Say",subtitle:"Real reviews from satisfied clients"},videoSection:{title:"Transform Your Look",subtitle:"Experience the future of beauty booking",cta:"Watch Our Story"},safety:{title:"Your Safety First",subtitle:"Book with confidence and peace of mind",verifiedPros:"Verified Professionals",verifiedProsDesc:"All stylists are background-checked and certified",securePayments:"Secure Payments",securePaymentsDesc:"Your payment information is encrypted and protected",disputeResolution:"Dispute Resolution",disputeResolutionDesc:"Fair resolution process for any booking issues",moneyBack:"Money-Back Guarantee",moneyBackDesc:"100% satisfaction or your money back",learnMore:"Learn More About Safety"},finalCta:{title:"Ready to Shine?",subtitle:"Join thousands of satisfied clients discovering their perfect beauty match",cta1:"Get Started",cta2:"Browse Services"}},about:{title:"About BeautyCita",subtitle:"Revolutionizing Beauty Booking with AI",mission:"Our Mission",missionText:"At BeautyCita, we believe everyone deserves to look and feel their best. We're revolutionizing the beauty industry by connecting clients with top-tier beauty professionals through cutting-edge AI technology.",story:"Our Story",storyText:"Founded by beauty enthusiasts and tech innovators, BeautyCita was born from the frustration of finding the perfect stylist. We combined artificial intelligence with human expertise to create a platform that truly understands your beauty needs.",values:"Our Values",innovation:"Innovation",innovationText:"Constantly pushing boundaries with AI-powered recommendations",quality:"Quality",qualityText:"Partnering only with verified, skilled beauty professionals",accessibility:"Accessibility",accessibilityText:"Making premium beauty services available to everyone"},careers:{title:"Join Our Team",subtitle:"Help us revolutionize the beauty industry",intro:"We're looking for passionate individuals who want to make a difference in how people experience beauty services.",openPositions:"Open Positions",benefits:"Why Work With Us",benefit1:"Competitive salary and equity",benefit2:"Comprehensive health benefits",benefit3:"Flexible remote work options",benefit4:"Professional development budget",benefit5:"Beauty service stipend",noOpenings:"No current openings, but we're always looking for exceptional talent. Send us your resume!",applyNow:"Aplicar Ahora",culture:"Nuestra Cultura"},press:{title:"Press & Media",subtitle:"Latest news and coverage about BeautyCita",latestNews:"Latest News",mediaKit:"Media Kit",pressContact:"Press Contact",pressEmail:"press@beautycita.com",newsItem1:"BeautyCita Secures $5M Series A to Expand AI-Powered Beauty Platform",newsItem2:"Revolutionary Beauty App Launches with Aphrodite AI Technology",newsItem3:"BeautyCita Partners with Top Beauty Schools Across Mexico"},blog:{title:"Beauty Blog",subtitle:"Hello, beauties! 💖 Discover the latest trends, beauty tips and everything you need to look spectacular",latestPosts:"Latest Posts",categories:"Categories",trends:"Beauty Trends",tips:"Beauty Tips",tutorials:"Tutorials",industry:"Industry News",post1:"2024 Beauty Trends: What's Hot This Year",post2:"How AI is Transforming Personal Beauty Recommendations",post3:"Finding Your Perfect Stylist: A Complete Guide",loading:"Loading amazing articles...",tryAgain:"Try Again",comingSoon:"Coming Soon!",preparingContent:"We're preparing amazing content for you. Come back soon!",readMore:"Read more 💕",byBeautyCita:"By BeautyCita ✨",showingPosts:"Showing {{count}} of {{total}} amazing articles ✨",readyForTransformation:"Ready for your transformation? 💖",discoverStylists:"Discover the best stylists and beauty services in your area",viewServices:"✨ View Services",findStylists:"💅 Find Stylists",loadingArticle:"Loading amazing article...",postNotFound:"Blog post not found",backToBlog:"Back to Blog",createdForBeautyCita:"Created especially for BeautyCita ✨"},help:{title:"Help Center",subtitle:"Find answers to your questions",searchPlaceholder:"Search for help...",popularTopics:"Popular Topics",booking:"Booking Services",payments:"Payments & Billing",account:"Account Management",technical:"Technical Support",faq:"Frequently Asked Questions",contactSupport:"Contact Support",stillNeedHelp:"Still need help? We're here for you."},contact:{title:"Contact Us",subtitle:"We'd love to hear from you",getInTouch:"Get in Touch",generalInquiries:"General Inquiries",support:"Customer Support",partnerships:"Partnerships",press:"Press & Media",name:"Name",email:"Email",subject:"Subject",message:"Message",send:"Send Message",location:"Our Location",hours:"Business Hours",success:"¡Mensaje enviado exitosamente!",error:"Error al enviar el mensaje"},paymentMethods:{title:"Payment Methods",subtitle:"Manage your payment methods",accepted:"Métodos Aceptados",creditCards:"Tarjetas de Crédito",debitCards:"Tarjetas de Débito",digitalWallets:"Billeteras Digitales",crypto:"Criptomonedas",secure:"Todos los pagos son seguros y encriptados"},status:{title:"System Status",subtitle:"Current status of BeautyCita services",allSystems:"All Systems Operational",services:"Services",website:"Website",mobileApp:"Mobile App",api:"API",payments:"Payment Processing",notifications:"Notifications",operational:"Operational",degraded:"Degraded Performance",outage:"Outage",maintenance:"Maintenance",lastUpdated:"Last updated"},report:{title:"Report an Issue",subtitle:"Help us improve by reporting problems",issueType:"Issue Type",technical:"Technical Problem",inappropriate:"Inappropriate Content",spam:"Spam",fraud:"Fraud/Scam",other:"Other",description:"Description",screenshots:"Screenshots (optional)",submit:"Submit Report",thankYou:"Thank you for your report. We'll review it promptly."},privacy:{title:"Privacy Policy",subtitle:"How we protect and use your information",lastUpdated:"Last updated: January 1, 2024",intro:"At BeautyCita, we take your privacy seriously. This policy explains how we collect, use, and protect your personal information.",dataCollection:"Data Collection",dataUse:"How We Use Your Data",dataSharing:"Data Sharing",security:"Security Measures",rights:"Your Rights",contact:"Contact Us About Privacy",dataCollectionItems:["Personal information you provide when creating an account (name, email, phone number)","Beauty preferences and service history to improve recommendations","Profile photos and images you choose to upload","Payment information processed securely through our payment partners","Device information and usage data to improve our app performance","Location data (with your permission) to show nearby stylists and services"],dataUseItems:["Provide and improve our beauty booking and recommendation services","Process payments and send transaction confirmations","Send appointment reminders and service updates via SMS or email","Personalize your experience with AI-powered beauty recommendations","Communicate important account and service information","Comply with legal obligations and resolve disputes"],dataSharingItems:["With beauty professionals you book services with (name, contact info)","With payment processors to handle transactions securely","With SMS and email service providers for notifications","With analytics providers to understand app usage (anonymized, aggregated data)","We may share anonymous, aggregated user data with third parties for market research, analytics, and service improvement - this data cannot identify individual users","Third-party partners include: analytics tools, performance monitoring, user experience research firms - all under strict data protection agreements","When required by law or to protect our rights and users","We never sell your personal identifying information to third parties for marketing purposes"],securityItems:["End-to-end encryption for sensitive data transmission","Secure data storage with industry-standard encryption","Regular security audits and penetration testing","Limited access to personal data on a need-to-know basis","Secure payment processing through PCI-compliant partners","Automatic logout after periods of inactivity"],rightsItems:["Access and review your personal data at any time","Correct or update your information through your profile","Delete your account and associated data","Export your data in a portable format","Opt out of marketing communications","File complaints with data protection authorities"],introText:"At BeautyCita, we believe your privacy is fundamental to your trust in our platform. This Privacy Policy explains how we collect, use, protect, and share your personal information when you use our beauty booking platform. We are committed to transparency and giving you control over your data.",contactText:"If you have any questions about this Privacy Policy or how we handle your data, please don't hesitate to contact our privacy team."},terms:{title:"Terms of Service",subtitle:"Terms and conditions for using BeautyCita",lastUpdated:"Last updated: January 1, 2024",acceptance:"Acceptance of Terms",services:"Description of Services",accounts:"User Accounts",conduct:"User Conduct",payment:"Payment Terms",cancellation:"Cancellation Policy",liability:"Limitation of Liability",modifications:"Modifications to Terms",acceptanceItems:["By creating an account or using BeautyCita, you agree to these Terms of Service","You must be at least 18 years old to use our platform","If you disagree with any part of these terms, you may not use our service","These terms constitute a legally binding agreement between you and BeautyCita","Your continued use of the platform constitutes acceptance of any updates to these terms"],servicesItems:["BeautyCita is a platform that connects clients with beauty professionals","We provide booking, payment processing, and communication tools","AI-powered recommendations through our Aphrodite technology","We do not directly provide beauty services - these are provided by independent stylists","Service availability may vary by location and stylist schedule","We reserve the right to modify or discontinue services with notice"],accountsItems:["You must provide accurate and complete information when creating an account","You are responsible for maintaining the security of your account credentials","You may not share your account with others or create multiple accounts","We reserve the right to suspend or terminate accounts that violate these terms","You must notify us immediately of any unauthorized account access","Account termination does not affect existing booking obligations"],conductItems:["Treat all platform users with respect and professionalism","Do not post inappropriate, offensive, or false content","Respect intellectual property rights of BeautyCita and other users","Do not attempt to circumvent our booking or payment systems","Report any suspicious or inappropriate behavior to our support team","Violations may result in account suspension or termination"],paymentItems:["All payments are processed securely through our payment partners","You authorize us to charge your selected payment method for bookings","Prices are displayed in Mexican Pesos (MXN) unless otherwise specified","Service fees and taxes will be clearly displayed before payment","Refunds are subject to our cancellation policy and stylist terms","Disputed charges should be reported within 30 days of the transaction"],cancellationItems:["Clients may cancel appointments up to 24 hours before the scheduled time","Cancellations within 24 hours may incur a cancellation fee","No-shows may be charged the full service amount","Stylists may cancel appointments with at least 4 hours notice","Emergency cancellations will be handled on a case-by-case basis","Refunds for cancelled services will be processed within 5-7 business days"],liabilityItems:["BeautyCita acts as an intermediary between clients and beauty professionals","We are not liable for the quality or outcome of beauty services provided","Our liability is limited to the amount paid for the specific service","We are not responsible for injuries or damages during service provision","Users participate in beauty services at their own risk","We recommend verifying stylist credentials and qualifications"],modificationsItems:["We may update these Terms of Service from time to time","Material changes will be communicated via email or platform notification","Continued use of the platform constitutes acceptance of updated terms","You can review the current terms at any time on our website","If you disagree with updates, you may terminate your account","The most current version of these terms will always be available on our platform"],introText:'These Terms of Service ("Terms") govern your use of the BeautyCita platform, including our website, mobile applications, and related services. By using our platform, you agree to be bound by these terms. Please read them carefully before using our services. If you have any questions about these terms, please contact our legal team.',contactText:"If you have any questions about these Terms of Service or need clarification on any provisions, our legal team is here to help."},cookies:{title:"Cookie Policy",subtitle:"How we use cookies and similar technologies",lastUpdated:"Last updated: January 1, 2024",whatAreCookies:"What Are Cookies",howWeUse:"How We Use Cookies",typesOfCookies:"Types of Cookies",essential:"Essential Cookies",analytics:"Analytics Cookies",marketing:"Marketing Cookies",managing:"Managing Cookies",thirdParty:"Third-Party Cookies"},licenses:{title:"Software Licenses",subtitle:"Open source and third-party licenses",intro:"BeautyCita uses various open source and third-party software. Below are the licenses for these components.",openSource:"Open Source Components",thirdParty:"Third-Party Services",react:"React - MIT License",typescript:"TypeScript - Apache 2.0 License",tailwind:"Tailwind CSS - MIT License"},resources:{title:"Stylist Resources",subtitle:"Tools and guides for beauty professionals",gettingStarted:"Getting Started",setupGuide:"Account Setup Guide",bestPractices:"Best Practices",marketing:"Marketing Your Services",clientManagement:"Client Management",pricing:"Pricing Strategies",downloads:"Downloads",brandKit:"Brand Kit",templates:"Service Templates",webinars:"Training Webinars"},policies:{title:"Stylist Policies",subtitle:"Guidelines and requirements for beauty professionals",professionalStandards:"Professional Standards",qualifications:"Required Qualifications",conduct:"Code of Conduct",clientSafety:"Client Safety Requirements",cancellation:"Cancellation Policy",disputes:"Dispute Resolution",verification:"Verification Process",compliance:"Compliance Requirements"},commissions:{title:"Commission Structure",subtitle:"How stylist earnings work on BeautyCita",overview:"Commission Overview",rates:"Commission Rates",tier1:"New Stylists: 80% of service price",tier2:"Verified Stylists: 85% of service price",tier3:"Premium Stylists: 90% of service price",payments:"Payment Schedule",paymentInfo:"Commissions are paid weekly via direct deposit",fees:"Platform Fees",feeInfo:"Payment processing fees are deducted from gross earnings",bonuses:"Performance Bonuses",bonusInfo:"Additional earnings available for top-performing stylists"}},Sre={hero:{title:"Your Beauty,",subtitle:"Our Passion ✨",description:"Connecting top stylists with clients who want to enhance their natural beauty",exploreServices:"✨ Explore Services",joinStylist:"💫 Join as Stylist"},features:{title:"Why choose BeautyCita? 💖",subtitle:"We offer a unique experience that connects clients with beauty professionals",easyBooking:{title:"Easy Booking",description:"Schedule your appointment in seconds with our intuitive system"},verifiedStylists:{title:"Verified Stylists",description:"All our professionals are certified and verified"},securePayments:{title:"Secure Payments",description:"Process your payments securely with cutting-edge technology"},realReviews:{title:"Real Reviews",description:"Read authentic opinions from other clients"}},services:{title:"Popular Services 🔥",subtitle:"Discover the most requested beauty treatments by our clients",viewAll:"✨ View All Services",popular:"🔥 Popular",haircut:"Haircut & Styling",coloring:"Hair Coloring",manicure:"Manicure",makeup:"Makeup",from:"From"},cta:{title:"Ready for your transformation?",subtitle:"Join thousands of satisfied clients who have found their ideal stylist",createAccount:"Create Account",findStylists:"Find Stylists"},stats:{happyClients:"Happy Clients",verifiedStylists:"Verified Stylists",averageRating:"Average Rating"}},Cre={welcome:["*yawns divinely* Well, well... a mortal has DARED to disturb my beauty sleep! This better be important, darling. What aesthetic emergency could possibly require waking a GODDESS? 😴✨","Do you have ANY idea what time it is on Mount Olympus?! I was in the middle of a divine facial mask! *sighs dramatically* Fine, since you've already summoned me... what beauty crisis can I solve? 💅👑","*stretches gracefully* Someone actually had the AUDACITY to wake me! I hope you're ready to be absolutely STUNNING because I don't do mediocrity, especially not before my morning ambrosia! ☕✨","Oh for Zeus's sake... ANOTHER mortal ringing my cosmic doorbell! I was literally perfecting my eternal glow routine. Lucky for you, I'm a goddess of INFINITE patience... mostly. What do you want? 😏💋","*appears in ethereal light* You do realize I was in the middle of teaching cherubs the art of winged eyeliner? This interruption better be worth it, honey! Now speak - beauty emergency or just admiration? 💖✨","EXCUSE ME?! I was having the most DIVINE dream about inventing a new shade of rose gold! *flips hair* Well, since I'm awake now... let's make you look so good mortals will think YOU'RE a deity! 👑💫","*descends dramatically* I'm not saying I was BUSY reshaping beauty standards across the cosmos, but... I WAS. However, as the goddess of gorgeousness, it's my burden to help those who dare disturb me. Speak! 💋⚡"],placeholder:"Type your question...",assistant:"Your beauty consultant",typing:"Aphrodite is typing...",disclaimer:"Aphrodite AI can make mistakes. Consider checking important information.",suggestedQuestions:{q1:"What hair trends are popular now?",q2:"Find a stylist near me",q3:"How much does a balayage cost?",q4:"Recommend a style for my hair type"},buttons:{services:"View Services",stylists:"Find Stylists",booking:"Book Appointment"},errors:{general:"Sorry, I had trouble processing your message. Could you try again?",network:"Connection problem. Check your internet and try again.",unavailable:"Chat service is temporarily unavailable. Please try in a few minutes.",server:"Server error. Our team has been notified.",init:"Sorry, there's a problem with chat right now. Please try again later."},retry:"Retry",support:"Contact Support"},Ere={companyTitle:"Company",supportTitle:"Support",legalTitle:"Legal",stylistsTitle:"Stylists",company:{careers:"Careers",press:"Press",blog:"Blog"},support:{helpCenter:"Help Center",serviceStatus:"Service Status",reportProblem:"Report Problem"},legal:{privacy:"Privacy",terms:"Terms",cookies:"Cookies",licenses:"Licenses"},stylists:{joinStylist:"Join as Stylist",resources:"Resource Center",policies:"Policies",commissions:"Commissions"},description:"The leading platform connecting clients with the best beauty professionals. Your transformation starts here.",newsletter:{title:"Stay updated with the latest trends",subtitle:"Get beauty tips, special offers and news directly in your email",placeholder:"Your email",subscribe:"Subscribe"},madeWith:"Made with",inMexico:"in Mexico"},Tre={client:{welcome:"Hello, {name}!",subtitle:"Discover the best beauty services in your area",stats:{totalBookings:"Total Bookings",upcomingBookings:"Upcoming",favoriteStylists:"Favorite Stylists",totalSpent:"Total Spent",completedBookings:"Completed",cancelledBookings:"Cancelled"},recentBookings:{title:"Recent Bookings",empty:"You haven't made any bookings yet",exploreStylists:"Explore Stylists",viewAll:"View All Bookings"},favoriteStylists:{title:"Favorite Stylists",empty:"You haven't favorited any stylists yet",exploreStylists:"Explore Stylists"},quickActions:{title:"Quick Actions",bookAppointment:"Book Appointment",browseServices:"Browse Services",viewProfile:"View Profile"},home:{greeting:"¡Hola {{name}}!",subtitle:"¿Lista para brillar hoy?",searchPlaceholder:"Buscar estilistas, servicios...",upcoming:"Próximas",with:"con",quickActions:{title:"Acciones Rápidas",bookNow:"Reservar Ahora",scanLook:"Escanear Look",giftCard:"Tarjeta de Regalo",sosHelp:"Ayuda SOS"},vibeToday:{title:"Tu Vibra Hoy",subtitle:"Cuéntanos cómo te sientes"},trendingNearYou:"Tendencias Cerca de Ti",favorites:"Favoritos",noFavorites:"Aún no has guardado estilistas",exploreStylists:"Explorar Estilistas"}},stylist:{welcome:"Welcome back, {name}!",subtitle:"Manage your bookings and grow your business",nav:{home:"Home",calendar:"Calendar",portfolio:"Portfolio",services:"Services",revenue:"Revenue",messages:"Messages",profile:"Profile"},stats:{upcomingBookings:"Upcoming Bookings",totalBookings:"Total Bookings",totalRevenue:"Total Revenue",averageRating:"Average Rating",totalReviews:"Total Reviews",followersCount:"Followers",profileCompleteness:"Profile Completeness"},messages:{bookings:{loadError:"Error loading bookings",confirmSuccess:"Booking confirmed successfully",confirmError:"Error confirming booking",cancelSuccess:"Booking cancelled successfully",cancelError:"Error cancelling booking",rescheduleSuccess:"Booking rescheduled successfully",rescheduleError:"Error rescheduling booking",completeSuccess:"Booking marked as completed",completeError:"Error completing booking",markCompleteInfo:"Mark as completed when you finish the service",photosInDevelopment:"Photo feature in development"},portfolio:{loadError:"Error loading portfolio",uploadError:"Error uploading images",uploadSuccess:"{filename} uploaded successfully",deleteSuccess:"Image deleted successfully",deleteError:"Error deleting image"},analytics:{loadError:"Error loading analytics"},availability:{loadError:"Error loading calendar",updateSuccess:"Availability updated"}}},admin:{loading:"Loading bookings...",title:"Booking Management",subtitle:"Manage appointments, schedules and reservations",allBookings:"All bookings",client:"Client",stylist:"Stylist",noBookings:"No bookings found with selected filters"}},Pre={title:"Access Denied",subtitle:"You don't have permission to access this area.",description:"This section is restricted to authorized administrators only. If you believe you should have access, please contact your system administrator.",adminRequired:"Admin Access Required: You need administrator privileges to view this content.",actions:{goHome:"Go Home",goBack:"Go Back",needHelp:"Need help?",contactSupport:"Contact Support"}},Are={success:"Thank you for your message! We'll get back to you within 24 hours.",error:"Sorry, there was an error sending your message. Please try again.",emailSupport:"Email Support",emailDesc:"Get help via email",backToHome:"← Back to Home",title:"Contact Us",subtitle:"We're here to help with any questions or concerns",faq:{booking:"How do I book an appointment?",bookingAnswer:"Simply browse our stylists, select your preferred professional, choose a date and time, and confirm your booking with secure payment.",cancellation:"What's your cancellation policy?",cancellationAnswer:"You can cancel appointments up to 24 hours before your scheduled time. Cancellations within 24 hours may incur a fee.",payment:"What payment methods do you accept?",paymentAnswer:"We accept all major credit cards, debit cards, and digital payment methods. All transactions are secure and encrypted."}},Ore={stats:{happyClients:"Happy Clients",verifiedStylists:"Verified Stylists",cities:"Cities",satisfactionRate:"Satisfaction Rate"}},Lre={blog:{categories:{all:"All Categories",beautyTrends:"Beauty Trends",skincare:"Skincare",technology:"Technology"},status:{all:"All Status",published:"Published",draft:"Draft"}}},Rre={placeholders:{firstName:"First name",lastName:"Last name",email:"Enter your email",phone:"Enter your phone number",password:"Enter your password",businessName:"Your business or professional name",bio:"Tell clients about yourself, your experience...",city:"Your city",businessNameFull:"Your beauty business name",address:"Enter your business address",cardNumber:"Card Number",expiry:"MM/YY",cvc:"CVC",searchServices:"Search services...",searchStylists:"Search stylists...",searchLocation:"Search location...",notes:"Additional notes or special requests..."},labels:{required:"Required",optional:"Optional"}},Ire={picker:{title:"Where do you provide your services?",subtitle:"Help clients find you by setting your service location",businessAddress:"Business Address",searchPlaceholder:"Search for your business address...",editButton:"Edit",selectedFromGoogle:"Selected from Google Places",manualEdit:{title:"Edit Address Manually",customAddress:"Custom Address",customPlaceholder:"Enter your exact business address...",editDescription:"Edit the address to match exactly how you want it to appear",specificLocation:"Specific Location (Optional)",specificPlaceholder:"e.g., Office 27, Suite B, Floor 3...",specificDescription:"Add specific details like office number, suite, or floor",saveButton:"Save Address",cancelButton:"Cancel",note:"The map coordinates will remain accurate based on your original Google Places selection, even with custom address text."},selectedLocation:"Selected Location:",coordinates:"Coordinates:",mapHelp:"Drag the map or the marker to position it exactly at your business entrance"},requestingPermission:"Requesting location access...",permissionDenied:"Location access denied. Enable in browser settings for better address suggestions.",permissionGranted:"Location access enabled - better address suggestions available",help:{chrome:'Click the location icon in the address bar and select "Allow"',firefox:'Click the shield icon and select "Allow" for location',safari:"Go to Safari > Settings > Websites > Location and allow access",generic:"Enable location access in your browser settings and refresh the page"},tracking:{title:"Client Location Tracking",loading:"Loading client locations...",error:"Unable to load location data",retry:"Retry",clients:"clients today",nearby:"nearby",clientList:"Clients En Route",noClients:"No clients are currently being tracked",noClientsDesc:"Tracking will begin automatically 3 hours before appointments",live:"Live",passed:"Passed",now:"Now",calculatingEta:"Calculating ETA...",lastCheck:"Last check",clientNear:"Client is approaching! Get ready for their appointment.",lastUpdated:"Last updated",autoRefresh:"Auto-refreshes every 30s"}},Mre={location:{title:"Where do you provide your services?",subtitle:"Help clients find you by setting your service location",label:"Service Location",nextButton:"Continue to Portfolio"}},$re={title:"Notifications",markAllRead:"Mark all as read",noNotifications:"No notifications yet",markAsRead:"Mark as read",delete:"Delete",service:"Service"},Dre={errors:{checkingStatus:"Error checking payout account status",createAccount:"Failed to create payout account",startOnboarding:"Failed to start onboarding",openDashboard:"Failed to open dashboard"},success:{accountCreated:"Payout account created!",setupComplete:"Setup complete"},setup:{title:"Set Up Payouts",description:"Connect your bank account to receive payments from your bookings. Powered by Stripe.",whyStripe:"Why Stripe?",benefit1:"✓ Secure and encrypted",benefit2:"✓ Direct deposit to your bank",benefit3:"✓ Track earnings in real-time",benefit4:"✓ Get paid within 2-3 business days",setupButton:"Set Up Payout Account",settingUp:"Setting up...",completeTitle:"Complete Payout Setup",completeDescription:"Your payout account is created but needs additional information to start receiving payments.",actionRequired:"Action Required:",onboardingNote:"Complete your Stripe onboarding to enable payouts. This usually takes 5-10 minutes.",continueButton:"Continue Setup",activeTitle:"Payout Account Active",activeDescription:"Your payout account is fully set up and ready to receive payments!",paymentsLabel:"PAYMENTS",payoutsLabel:"PAYOUTS",enabled:"Enabled",pending:"Pending",openDashboard:"Open Stripe Dashboard",loading:"Loading...",checkingStatus:"Checking payout account status..."}},Fre={notFound:"Portfolio not found",linkCopied:"Portfolio link copied to clipboard!",addedFavorite:"Added to favorites!",removedFavorite:"Removed from favorites",reviews:"reviews",yearsExperience:"years experience",bookNow:"Book Now",favorite:"Favorite",share:"Share",myStory:"My Story",signatureStyles:"Signature Styles",services:"Services",myWork:"My Work",clientReviews:"Client Reviews",readyToBook:"Ready to Transform Your Look?",bookingCTA:"Book your appointment with {{name}} today and experience beauty excellence!",bookAppointment:"Book Appointment",nav:{services:"Services",gallery:"Gallery",about:"About",reviews:"Reviews"}},Bre={readOnlyMode:"Scheduler is in read-only mode",appointmentCreated:"Appointment created successfully",appointmentUpdated:"Appointment updated successfully",appointmentDeleted:"Appointment deleted successfully"},Vre={home:{greeting:"Hey {{name}}!",subtitle:"Ready to glow today?",searchPlaceholder:"Search stylists, services...",upcoming:"Upcoming",with:"with",quickActions:{title:"Quick Actions",bookNow:"Book Now",scanLook:"Scan Look",giftCard:"Gift Card",sosHelp:"SOS Help"},vibeToday:{title:"Your Vibe Today",subtitle:"Tell us how you're feeling"},trendingNearYou:"Trending Near You",favorites:"Favorites",noFavorites:"You haven't saved any stylists yet",exploreStylists:"Explore Stylists"}},Ure={common:xre,nav:yre,auth:bre,services:vre,stylists:wre,booking:jre,profile:Nre,messages:kre,pages:_re,homepage:Sre,chat:Cre,footer:Ere,dashboard:Tre,unauthorized:Pre,contact:Are,about:Ore,admin:Lre,forms:Rre,location:Ire,stylistRegistration:Mre,notifications:$re,stripe:Dre,portfolio:Fre,scheduler:Bre,client:Vre},Wre={loading:"Cargando...",error:"Error",success:"Éxito",cancel:"Cancelar",save:"Guardar",edit:"Editar",delete:"Eliminar",confirm:"Confirmar",back:"Atrás",next:"Siguiente",previous:"Anterior",search:"Buscar",filter:"Filtrar",sort:"Ordenar",close:"Cerrar",open:"Abrir",view:"Ver",select:"Seleccionar",clear:"Limpiar",apply:"Aplicar",reset:"Reiniciar",submit:"Enviar",required:"Requerido",optional:"Opcional",yes:"Sí",no:"No",or:"o",and:"y",minutes:"minutos",backHome:"Volver al Inicio"},zre={home:"Inicio",services:"Servicios",stylists:"Estilistas",blog:"Blog",about:"Acerca de",contact:"Contacto",profile:"Perfil",dashboard:"Panel",bookings:"Citas",discover:"Descubrir",messages:"Mensajes",favorites:"Favoritos",payments:"Pagos",login:"Iniciar Sesión",register:"Registrarse",logout:"Cerrar Sesión"},Hre={loginTitle:"Bienvenido de Vuelta",loginSubtitle:"Accede a tu cuenta y continúa tu belleza",registerTitle:"Únete a BeautyCita",registerSubtitle:"Crea tu cuenta y realza tu belleza natural",stylistRegisterTitle:"Únete como Estilista",stylistRegisterSubtitle:"Comparte tu talento con miles de clientes",fields:{email:"Dirección de Email",password:"Contraseña",confirmPassword:"Confirmar Contraseña",firstName:"Nombre",lastName:"Apellido",phone:"Número de Teléfono",businessName:"Nombre del Negocio/Salón",bio:"Biografía Profesional",experience:"Años de Experiencia",specialties:"Especialidades de Belleza",locationCity:"Ciudad donde Ofreces Servicios",locationState:"Estado/Región",instagramUrl:"URL de Instagram (opcional)",workLocation:"Dirección de Domicilio o Negocio",portfolioImages:"Fotos del Portafolio"},placeholders:{email:"maria@ejemplo.com",password:"••••••••",firstName:"María",lastName:"García",phone:"55 1234 5678",businessName:"Ej: Salón de Belleza María",bio:"Describe tu experiencia, especialidades y pasión por la belleza...",instagramUrl:"Ej: @tuinstagram o https://instagram.com/tuinstagram"},actions:{signIn:"Iniciar Sesión",signUp:"Crear Cuenta",signUpStylist:"Completar Registro como Estilista",next:"Continuar",previous:"Anterior",submit:"Enviar Mi Solicitud",uploadImages:"Seleccionar Imágenes del Portfolio",removeImage:"Eliminar Imagen",selectAll:"Seleccionar Todas las Especialidades",back:"Regresar",createStylistAccount:"[ES] Create Stylist Account"},options:{rememberMe:"Recordarme",acceptTerms:"Acepto los términos y condiciones",acceptStylistTerms:"Acepto los términos y condiciones para estilistas","1year":"1 año","2years":"2 años","3years":"3 años","4years":"4 años","5years":"5+ años","10years":"10+ años",selectExp:"Selecciona...",selectSpecialties:"Selecciona tus áreas de especialización"},links:{forgotPassword:"¿Olvidaste tu contraseña?",noAccount:"¿No tienes una cuenta?",hasAccount:"¿Ya tienes una cuenta?",signUpHere:"Regístrate aquí",signInHere:"Inicia sesión aquí",joinAsStylist:"Únete como estilista",beautyProfessional:"¿Eres un profesional de la belleza?",termsOfService:"Términos de Servicio",privacyPolicy:"Política de Privacidad",backToLogin:"← Volver al inicio de sesión",stylistTerms:"[ES] Stylist Terms",notAProfessional:"[ES] Not a beauty professional?",signUpAsClient:"[ES] Sign up as a client"},forgotPassword:{title:"¿Olvidaste tu Contraseña?",subtitle:"Ingresa tu dirección de correo y te enviaremos un enlace para restablecer tu contraseña.",emailLabel:"Dirección de Correo *",emailPlaceholder:"tu@ejemplo.com",emailRequired:"El correo es requerido",emailInvalid:"Dirección de correo inválida",sendResetLink:"Enviar Enlace de Restablecimiento",checkEmailTitle:"Revisa tu Correo",checkEmailMessage:"Si existe una cuenta con esa dirección de correo, hemos enviado instrucciones para restablecer tu contraseña.",resetEmailSent:"Revisa tu correo para el enlace de restablecimiento",resetEmailError:"Error al enviar el correo de restablecimiento"},resetPassword:{title:"Restablecer Contraseña",subtitle:"Ingresa tu nueva contraseña a continuación.",newPasswordLabel:"Nueva Contraseña *",confirmPasswordLabel:"Confirmar Nueva Contraseña *",resetPasswordButton:"Restablecer Contraseña",successTitle:"¡Contraseña Actualizada!",successMessage:"Tu contraseña ha sido actualizada. Ahora puedes iniciar sesión con tu nueva contraseña.",goToLogin:"Ir al Inicio de Sesión",invalidToken:"Enlace inválido o expirado",resetSuccess:"Contraseña restablecida exitosamente",resetError:"Error al restablecer la contraseña"},social:{continueWithGoogle:"Continuar con Google",signInWithGoogle:"Iniciar sesión con Google",signUpWithGoogle:"Registrarse con Google",orDivider:"O continuar con correo"},stylistSteps:{step1:{title:"Información Personal",description:"Datos básicos y de contacto",heading:"Comencemos con tu información personal",subheading:"Esto nos ayudará a crear tu perfil de estilista",phoneHint:"Incluye código de país (ej: +52 para México)",passwordHint:"Mínimo 6 caracteres, incluye números y letras",privacyNotice:"Tu información está segura y nunca será compartida sin tu consentimiento",nextButton:"Continuar a Información Profesional",validationTitle:"Por favor completa los siguientes campos:",successMessage:"¡Perfecto! Tu información personal está completa"},step2:{title:"Información Profesional",description:"Experiencia y especialidades",heading:"Cuéntanos sobre tu trayectoria profesional",subheading:"Ayuda a los clientes a entender tu experiencia y especialidades",businessNameLabel:"Nombre del Negocio",businessNamePlaceholder:"Tu negocio o nombre profesional",businessNameHint:'Así es como aparecerás ante los clientes (ej. "Estudio de Belleza María" o "Estética Dra. Smith")',experienceLabel:"Años de Experiencia",experiencePlaceholder:"Selecciona tu nivel de experiencia",specialtiesLabel:"Especialidades y Servicios",specialtiesDescription:"Selecciona todos los servicios que ofreces. Los clientes podrán reservar estos servicios contigo.",servicesSelected:"servicio(s) seleccionado(s)",bioLabel:"Biografía Profesional (Opcional)",bioPlaceholder:"Cuéntales a los clientes sobre tu experiencia, especialidades y pasión por la belleza...",bioHint:"Una buena biografía ayuda a los clientes a conocerte mejor y aumenta las reservas"},step3:{title:"Ubicación y Contacto",description:"Dirección y redes sociales",heading:"¿Dónde ofreces tus servicios?",subheading:"Los clientes necesitan saber dónde pueden reservar contigo",locationLabel:"Ubicación del Servicio",locationPlaceholder:"Busca tu dirección comercial o ubicación de trabajo",locationHint:"Ingresa tu dirección completa para que los clientes puedan encontrarte fácilmente",instagramLabel:"Perfil de Instagram (Opcional)",instagramPlaceholder:"@tunombredeusuario o https://instagram.com/tunombredeusuario",instagramHint:"Conecta tu Instagram para mostrar más de tu trabajo",locationSetSuccess:"Ubicación Establecida Exitosamente",coordinates:"Coordenadas",validationMessage:"Por favor completa lo siguiente para continuar:",helpText:"¿Tienes problemas estableciendo tu ubicación?",contactSupport:"Contactar Soporte"},step4:{title:"Portfolio",description:"Imágenes de tu trabajo",heading:"Muestra tu mejor trabajo",subheading:"Sube hasta 6 imágenes de tu mejor trabajo (máximo 5MB cada una)",optionalNote:"Paso opcional - Puedes omitir esto y agregar imágenes de portfolio más tarde desde tu panel",uploadButton:"Subir Imágenes del Portfolio",dragDropText:"Arrastra tus imágenes aquí",dropHere:"Suelta tus imágenes aquí",selectImages:"Haz clic para seleccionar imágenes",fileTypeHint:"PNG, JPG hasta 5MB cada una",maxFilesError:"Máximo 6 imágenes permitidas",imagesSelected:"imagen(es) seleccionada(s)",removeImage:"Eliminar imagen",addMore:"Agregar más imágenes",tipsTitle:"Consejos para fotos excelentes del portfolio:",tip1:"Usa luz natural o iluminación brillante y uniforme",tip2:"Enfócate en el resultado final (cabello, maquillaje, uñas)",tip3:"Muestra variedad en tus servicios y estilos",tip4:"Evita fotos pixeladas o borrosas",tip5:"Incluye fotos de antes/después si es posible",skipButton:"Omitir por Ahora - Revisar y Enviar",continueButton:"Continuar a Revisión",portfolioAddedSuccess:"¡Genial! Tu portfolio ayudará a atraer más clientes.",portfolioSkipped:"¡No hay problema! Puedes agregar imágenes de portfolio más tarde.",portfolioSkippedDetail:"Concéntrate en obtener reservas primero, luego construye tu portfolio mientras completas servicios."},step5:{title:"Finalizar",description:"Revisión y confirmación"}},portfolio:{title:"Muestra tu Trabajo",subtitle:"Sube hasta 6 imágenes de tu mejor trabajo (máximo 5MB cada una)",uploadText:"Haz clic para seleccionar imágenes",uploadHint:"PNG, JPG hasta 5MB cada una",maxImages:"Máximo 6 imágenes permitidas",imageAlt:"Imagen del portfolio"},review:{title:"¡Casi Terminamos!",subtitle:"Revisa tu información antes de enviar tu solicitud",personalInfo:"Información Personal",professionalInfo:"Información Profesional",location:"Ubicación",portfolioImages:"Portfolio",imagesSelected:"imágenes seleccionadas",step:"Paso",edit:"Editar",name:"Nombre",email:"Email",phone:"Teléfono",businessName:"Nombre del Negocio",experience:"Experiencia",year:"año",years:"años",specialties:"Especialidades",bio:"Biografía",address:"Dirección",city:"Ciudad",state:"Estado",instagramProfile:"Perfil de Instagram",portfolioImagesLabel:"Imágenes del Portfolio",image:"imagen",images:"imágenes",noPortfolio:"💡 Considera agregar imágenes de portfolio más tarde para atraer más clientes",termsCheckbox:"Acepto los Términos de Servicio y la Política de Privacidad para estilistas",submitButton:"Enviar Solicitud de Registro",submitting:"Enviando...",termsError:"Por favor acepta los términos y condiciones",successMessage:"¡Registro exitoso! Por favor revisa tu email para verificar tu cuenta.",errorMessage:"El registro falló. Por favor intenta de nuevo."},benefits:{title:"Beneficios de crear una cuenta:",easyBooking:"Reserva citas fácilmente",serviceHistory:"Accede a tu historial de servicios",personalizedOffers:"Recibe ofertas personalizadas",reviewServices:"Evalúa y reseña servicios"},stylistBenefits:{title:"Al unirte como estilista obtienes:",item1:"Acceso a miles de clientes potenciales",item2:"Te quedas con el 97% de tus ganancias",item3:"Pagos automáticos diarios después del servicio",item4:"Dashboard completo para gestionar tu negocio",item5:"Herramientas de marketing y promoción gratuitas",item6:"Soporte dedicado para estilistas profesionales",manageBookings:"[ES] Manage your appointments online",showcaseWork:"[ES] Show your work to thousands of clients",growBusiness:"[ES] Grow your business with our platform",securePayments:"[ES] Get paid securely - keep 97% of earnings"},validation:{emailRequired:"El email es requerido",emailInvalid:"Email inválido",passwordRequired:"La contraseña es requerida",passwordMinLength:"La contraseña debe tener al menos 6 caracteres",passwordStrong:"La contraseña debe contener al menos una mayúscula, una minúscula y un número",passwordsNotMatch:"Las contraseñas no coinciden",firstNameRequired:"El nombre es requerido",firstNameMinLength:"El nombre debe tener al menos 2 caracteres",lastNameRequired:"El apellido es requerido",lastNameMinLength:"El apellido debe tener al menos 2 caracteres",phoneInvalid:"Número de teléfono inválido",termsRequired:"Debes aceptar los términos y condiciones",businessNameRequired:"El nombre del negocio es requerido",experienceRequired:"La experiencia es requerida",specialtiesRequired:"Las especialidades son requeridas",locationRequired:"La ubicación del negocio es requerida",cityRequired:"La ciudad es requerida",stateRequired:"El estado es requerido",phoneRequired:"El teléfono es requerido",confirmPassword:"Confirma tu contraseña"},phoneRegistration:{title:"Crear Cuenta",subtitle:"Verificación rápida y segura por teléfono",phoneLabel:"Número de Teléfono",phonePlaceholder:"5551234567",sendCodeButton:"Enviar Código",sendingButton:"Enviando...",codeLabel:"Código de Verificación",codePlaceholder:"Ingresa el código de 6 dígitos",codeSentTo:"Código enviado a",verifyButton:"Verificar y Crear Cuenta",verifyingButton:"Verificando...",changeNumber:"Cambiar número de teléfono",resendCode:"Reenviar código",passwordSetupTitle:"Configurar Contraseña (Opcional)",passwordSetupSubtitle:"Crea una contraseña segura para tu cuenta",setPasswordButton:"Establecer Contraseña",settingPasswordButton:"Estableciendo contraseña...",skipPasswordButton:"Omitir por Ahora",passwordLabel:"Contraseña",confirmPasswordLabel:"Confirmar Contraseña",passwordMinLengthError:"La contraseña debe tener al menos 8 caracteres",passwordMismatchError:"Las contraseñas no coinciden",passwordWeakError:"La contraseña debe contener mayúsculas, minúsculas y números",passwordSetSuccess:"¡Contraseña establecida exitosamente! 🔐",codeSentSuccess:"¡Código de verificación enviado!",invalidCodeError:"Código de verificación inválido",verificationSuccess:"¡Teléfono verificado exitosamente!"},verifyPhone:{title:"Verifica tu Teléfono",subtitle:"Agrega tu número para recibir notificaciones de citas",phoneLabel:"Número de Teléfono",phonePlaceholder:"+52 123 456 7890",phoneHint:"Número de teléfono mexicano (10 dígitos)",sendCodeButton:"Enviar Código",sendingButton:"Enviando...",codeLabel:"Código de Verificación",codePlaceholder:"123456",codeHint:"Ingresa el código de 6 dígitos enviado a",verifyButton:"Verificar Código",verifyingButton:"Verificando...",changeNumber:"Cambiar número de teléfono",skipButton:"Omitir por ahora",codeSent:"Código de verificación enviado a tu teléfono",phoneVerified:"¡Teléfono verificado exitosamente!",errorSending:"Error al enviar código",invalidCode:"Código inválido"},specialties:["Corte de Cabello","Coloración","Peinados","Tratamientos Capilares","Maquillaje","Cejas y Pestañas","Manicure","Pedicure","Tratamientos Faciales","Depilación","Masajes","Extensiones"],messages:{loginSuccess:"¡Bienvenido de vuelta!",registerSuccess:"¡Cuenta creada exitosamente! Por favor verifica tu email.",stylistRegisterSuccess:"¡Registro exitoso! Te contactaremos pronto para la verificación.",loginError:"Error al iniciar sesión",registerError:"Error al crear la cuenta",authError:"Error de autenticación",networkError:"Problema de conexión. Verifica tu internet e intenta de nuevo.",invalidCredentials:"Email o contraseña inválidos"},legal:{termsAcceptance:"Al iniciar sesión, aceptas nuestros",and:"y",termsLink:"Términos de Servicio",privacyLink:"Política de Privacidad"},sections:{personalInfo:"[ES] Personal Information",professionalInfo:"[ES] Professional Information",location:"[ES] Work Location",portfolio:"[ES] Your Portfolio"},hints:{bioOptional:"[ES] Optional - Tell clients about your experience and passion",instagramOptional:"[ES] Optional - Share your Instagram profile to showcase more work"}},qre={title:"Servicios de Belleza",catalogTitle:"Catálogo de Servicios de Belleza",catalogSubtitle:"Encuentra y reserva con estilistas profesionales verificados",searchPlaceholder:"Busca cortes de cabello, uñas, maquillaje...",browseByCategory:"Explorar por Categoría",loading:"Cargando servicios increíbles...",showingResults:"Mostrando {{count}} servicio{{count, plural, one {} other {s}}}{{category}}",categories:{all:"Todos los Servicios",hair:"Cabello",nails:"Uñas",skincare:"Cuidado de Piel",makeup:"Maquillaje",lashesBrows:"Pestañas y Cejas",massages:"Masajes",waxing:"Depilación",specialOccasions:"Ocasiones Especiales"},priceRange:"Rango de Precio",duration:"Duración",book:"Reservar Ahora",from:"Desde",minutes:"minutos",popular:"Popular",new:"Nuevo",subtitle:{mobile:"Desliza para descubrir servicios increíbles",desktop:"Descubre servicios de belleza increíbles"},noResults:{title:"No se encontraron servicios",subtitle:"No encontramos servicios que coincidan con tu búsqueda. Prueba con otros filtros o términos.",viewAll:"Ver todos los servicios"},completed:{title:"¡Has visto todos los servicios!",withLikes:"Te gustaron {count} servicios",tryFilters:"Prueba con diferentes filtros",startOver:"Empezar de nuevo"},summary:"Mostrando {count} servicio{plural} {category}",serviceData:{trendyHaircut:{name:"Corte y Peinado Trendy",description:"Corte moderno con técnicas de última generación. Ideal para looks urbanos y sofisticados."},rainbowColoring:{name:"Coloración Arcoíris",description:"Dale vida a tu cabello con colores vibrantes y técnicas de degradado profesional."},holographicManicure:{name:"Manicure Holográfico",description:"Diseños únicos con efectos holográficos que brillan con cada movimiento."},editorialMakeup:{name:"Maquillaje Editorial",description:"Looks de maquillaje artístico perfecto para sesiones de fotos y eventos especiales."},colorfulExtensions:{name:"Extensiones Coloridas",description:"Agrega longitud y color a tu cabello con extensiones de alta calidad."},nailArt3D:{name:"Nail Art 3D",description:"Diseños tridimensionales que convierten tus uñas en obras de arte."},kBeautyFacial:{name:"K-Beauty Facial",description:"Rutina coreana completa para una piel perfecta y radiante como las idols."},hdBrows:{name:"Cejas HD Perfectas",description:"Diseño y definición de cejas con técnicas profesionales para un look impecable."},chromeMirror:{name:"Uñas Chrome Mirror",description:"Efecto espejo ultra brillante que refleja como un cristal. Tendencia viral."}}},Gre={page:{loadError:"Error al cargar estilistas",title:"Estilistas en Puerto Vallarta",resultsCount:"estilistas encontrados",bookAction:"Reservar",noResults:"No se encontraron estilistas",noResultsDesc:"Intenta ajustar tus criterios de búsqueda"}},Yre={requestingLocation:"Solicitando acceso a ubicación...",locationOptional:"Acceso a ubicación opcional",locationBenefits:"Habilita la ubicación para recibir actualizaciones en tiempo real sobre tu cita y notificaciones de proximidad del estilista.",enableLocation:"Cómo habilitar ubicación",required:"Se requiere acceso a ubicación para reservar servicios. Por favor habilita el acceso a ubicación en la configuración de tu navegador.",optional:"Reservando sin ubicación - algunas funciones pueden estar limitadas",success:"¡Ubicación habilitada! Recibirás actualizaciones en tiempo real sobre tu cita.",deniedRequired:"Se requiere acceso a ubicación para reservar servicios. Por favor habilita el acceso a ubicación e intenta de nuevo.",deniedOptional:"Reservando sin ubicación - no recibirás notificaciones de proximidad",error:"No se pudo acceder a la ubicación. Procediendo con la reserva...",errorRequired:"Falló el acceso a ubicación. Por favor intenta de nuevo."},Kre={title:"Mi Perfil",subtitle:"Gestiona tu información y reservas",personalInfo:"Información Personal",preferences:"Preferencias",security:"Seguridad",notifications:"Notificaciones",updateProfile:"Actualizar Perfil",changePassword:"Cambiar Contraseña",quickActions:{newAppointment:"Nueva Cita",bookService:"Reservar servicio",myAppointments:"Mis Citas",viewBookings:"Ver reservas",favorites:"Favoritos",favoriteStylists:"Estilistas favoritos",settings:"Configuración",editProfile:"Editar perfil"},stats:{upcomingAppointments:"Próximas Citas",totalAppointments:"Total Citas",favorites:"Favoritos",spent:"Gastado"},upcomingAppointments:"Próximas Citas",recentActivity:"Historial Reciente",viewAll:"Ver todas",viewHistory:"Ver historial",noUpcomingBookings:"No tienes citas programadas",noUpcomingBookingsDescription:"¡Reserva tu próximo servicio de belleza!",exploreStylists:"Explorar Estilistas",noRecentHistory:"No tienes historial de citas",noRecentHistoryDescription:"Tus servicios completados aparecerán aquí",with:"Con",at:"a las",rateService:"Calificar",fullName:"Nombre completo",email:"Correo electrónico",phone:"Teléfono",location:"Ubicación",notSpecified:"No especificado"},Qre={welcomeBack:"¡Bienvenido de vuelta!",loginSuccess:"Sesión iniciada correctamente",logoutSuccess:"Sesión cerrada correctamente",profileUpdated:"Perfil actualizado correctamente",bookingConfirmed:"Reserva confirmada correctamente",errorOccurred:"Ocurrió un error",networkError:"Error de red, intenta de nuevo",invalidCredentials:"Email o contraseña incorrectos",emailRequired:"El email es requerido",passwordRequired:"La contraseña es requerida",phoneInvalid:"Por favor ingresa un número de teléfono válido"},Zre={about:{title:"Acerca de BeautyCita",subtitle:"Conectamos talento con belleza en todo México",mission:"Nuestra Misión",missionText:"Democratizar el acceso a servicios de belleza de calidad, conectando a clientes con los mejores profesionales de su área. Creemos que todos merecen sentirse hermosos y confiados.",story:"Nuestra Historia",storyText:"BeautyCita nació de la necesidad de simplificar la búsqueda de servicios de belleza confiables. Fundada en 2024, hemos crecido hasta convertirse en la plataforma líder que conecta clientes con estilistas profesionales en México.",values:"Nuestros Valores",innovation:"Innovación",innovationText:"Utilizamos la última tecnología, incluyendo IA, para mejorar la experiencia tanto de clientes como de estilistas.",quality:"Calidad",qualityText:"Todos nuestros estilistas son verificados y mantienen altos estándares de calidad en sus servicios.",accessibility:"Accesibilidad",accessibilityText:"Hacemos que los servicios de belleza sean accesibles para todos, sin importar la ubicación o presupuesto."},blog:{title:"Blog de Belleza",subtitle:"¡Hola, bellezas! 💖 Descubre las últimas tendencias, consejos de belleza y todo lo que necesitas para lucir espectacular",latestPosts:"Últimas Publicaciones",categories:"Categorías",trends:"Tendencias de Belleza",tips:"Consejos de Belleza",tutorials:"Tutoriales",industry:"Noticias de la Industria",post1:"Tendencias de Belleza 2024: Lo Más Popular Este Año",post2:"Cómo la IA Está Transformando las Recomendaciones de Belleza Personalizadas",post3:"Encontrando a Tu Estilista Perfect@: Una Guía Completa",loading:"Cargando artículos increíbles...",tryAgain:"Intentar de Nuevo",comingSoon:"¡Próximamente!",preparingContent:"Estamos preparando contenido increíble para ti. ¡Vuelve pronto!",readMore:"Leer más 💕",byBeautyCita:"Por BeautyCita ✨",showingPosts:"Mostrando {{count}} de {{total}} artículos increíbles ✨",readyForTransformation:"¿Lista para tu transformación? 💖",discoverStylists:"Descubre los mejores estilistas y servicios de belleza en tu área",viewServices:"✨ Ver Servicios",findStylists:"💅 Buscar Estilistas",loadingArticle:"Cargando artículo increíble...",postNotFound:"Publicación de blog no encontrada",backToBlog:"Volver al Blog",createdForBeautyCita:"Creado especialmente para BeautyCita ✨"},licenses:{title:"Licencias de Software",subtitle:"Licencias de código abierto y terceros",intro:"BeautyCita utiliza varios software de código abierto y terceros. A continuación se presentan las licencias de estos componentes.",openSource:"Componentes de Código Abierto",thirdParty:"Servicios de Terceros",react:"React - Licencia MIT",typescript:"TypeScript - Licencia Apache 2.0",tailwind:"Tailwind CSS - Licencia MIT"},commissions:{title:"Estructura de Comisiones",subtitle:"Cómo funcionan las ganancias de estilistas en BeautyCita",overview:"Resumen de Comisiones",rates:"Tasas de Comisión",tier1:"Estilistas Nuevos: 80% del precio del servicio",tier2:"Estilistas Verificados: 85% del precio del servicio",tier3:"Estilistas Premium: 90% del precio del servicio",payments:"Calendario de Pagos",paymentInfo:"Las comisiones se pagan semanalmente vía depósito directo",fees:"Tarifas de Plataforma",feeInfo:"Las tarifas de procesamiento de pagos se deducen de las ganancias brutas",bonuses:"Bonos de Rendimiento",bonusInfo:"Ganancias adicionales disponibles para estilistas con mejor rendimiento"},home:{hero:{title1:"Descubre",title2:"Tu Belleza",subtitle:"Plataforma de reservas de servicios de belleza impulsada por IA que te conecta con los mejores estilistas",cta1:"Reservar Servicios",cta2:"Conocer Más"},trustBadges:{verifiedPros:"Profesionales Verificados",securePayments:"Pagos Seguros",fiveStarRated:"Calificación 5 Estrellas"},stats:{verifiedStylists:"Estilistas Verificados",bookingsMade:"Reservas Realizadas",averageRating:"Calificación Promedio",satisfaction:"Satisfacción del Cliente"},services:{title:"Servicios Destacados",subtitle:"Descubre servicios de belleza premium diseñados para ti",hairStyling:"Peinado",nailArt:"Arte de Uñas",makeup:"Maquillaje",skincare:"Cuidado de la Piel",lashes:"Pestañas",brows:"Cejas",fromPrice:"Desde"},topStylists:{title:"Mejores Estilistas",subtitle:"Conoce a nuestros profesionales de belleza verificados"},testimonials:{title:"Lo Que Dicen Los Clientes",subtitle:"Reseñas reales de clientes satisfechos"},videoSection:{title:"Transforma Tu Look",subtitle:"Experimenta el futuro de las reservas de belleza",cta:"Ver Nuestra Historia"},safety:{title:"Tu Seguridad Primero",subtitle:"Reserva con confianza y tranquilidad",verifiedPros:"Profesionales Verificados",verifiedProsDesc:"Todos los estilistas han pasado verificación de antecedentes y están certificados",securePayments:"Pagos Seguros",securePaymentsDesc:"Tu información de pago está encriptada y protegida",disputeResolution:"Resolución de Disputas",disputeResolutionDesc:"Proceso de resolución justa para cualquier problema de reserva",moneyBack:"Garantía de Devolución",moneyBackDesc:"100% de satisfacción o te devolvemos tu dinero",learnMore:"Conocer Más Sobre Seguridad"},finalCta:{title:"¿Lista Para Brillar?",subtitle:"Únete a miles de clientes satisfechos descubriendo su combinación perfecta de belleza",cta1:"Comenzar",cta2:"Explorar Servicios"}},careers:{title:"Carreras en BeautyCita",subtitle:"Únete a nuestro equipo y ayuda a transformar la industria de la belleza",intro:"Buscamos personas apasionadas que quieran hacer la diferencia en cómo las personas experimentan los servicios de belleza.",openPositions:"Posiciones Abiertas",applyNow:"Aplicar Ahora",benefits:"Por qué Trabajar con Nosotros",benefit1:"Salario competitivo y participación accionaria",benefit2:"Beneficios de salud integrales",benefit3:"Opciones de trabajo remoto flexible",benefit4:"Presupuesto para desarrollo profesional",benefit5:"Subsidio para servicios de belleza",culture:"Nuestra Cultura",noOpenings:"Sin vacantes actualmente, pero siempre estamos buscando talento excepcional. ¡Envíanos tu currículum!"},contact:{title:"Contáctanos",subtitle:"Nos encantaría saber de ti",getInTouch:"Ponte en Contacto",generalInquiries:"Consultas Generales",support:"Atención al Cliente",partnerships:"Alianzas Comerciales",press:"Prensa y Medios",name:"Nombre",email:"Correo Electrónico",subject:"Asunto",message:"Mensaje",send:"Enviar Mensaje",location:"Nuestra Ubicación",hours:"Horario de Atención",success:"¡Mensaje enviado exitosamente!",error:"Error al enviar el mensaje"},cookies:{title:"Política de Cookies",subtitle:"Cómo usamos las cookies y tecnologías similares",lastUpdated:"Última actualización: 1 de enero de 2024",whatAreCookies:"¿Qué Son las Cookies?",howWeUse:"Cómo Usamos las Cookies",typesOfCookies:"Tipos de Cookies",essential:"Cookies Esenciales",analytics:"Cookies de Analítica",marketing:"Cookies de Marketing",managing:"Gestionar Cookies",thirdParty:"Cookies de Terceros"},help:{title:"Centro de Ayuda",subtitle:"Encuentra respuestas a tus preguntas",searchPlaceholder:"Buscar ayuda...",popularTopics:"Temas Populares",booking:"Reservar Servicios",payments:"Pagos y Facturación",account:"Gestión de Cuenta",technical:"Soporte Técnico",faq:"Preguntas Frecuentes",contactSupport:"Contactar Soporte",stillNeedHelp:"¿Aún necesitas ayuda? Estamos aquí para ti."},paymentMethods:{title:"Métodos de Pago",subtitle:"Formas seguras de pagar en BeautyCita",accepted:"Métodos Aceptados",creditCards:"Tarjetas de Crédito",debitCards:"Tarjetas de Débito",digitalWallets:"Billeteras Digitales",crypto:"Criptomonedas",secure:"Todos los pagos son seguros y encriptados"},policies:{title:"Políticas para Estilistas",subtitle:"Directrices y requisitos para profesionales de la belleza",professionalStandards:"Estándares Profesionales",qualifications:"Calificaciones Requeridas",conduct:"Código de Conducta",clientSafety:"Requisitos de Seguridad del Cliente",cancellation:"Política de Cancelación",disputes:"Resolución de Disputas",verification:"Proceso de Verificación",compliance:"Requisitos de Cumplimiento"},press:{title:"Prensa",subtitle:"Noticias y comunicados de prensa de BeautyCita",latestNews:"Últimas Noticias",mediaKit:"Kit de Medios",pressContact:"Contacto de Prensa",pressEmail:"prensa@beautycita.com",newsItem1:"BeautyCita Obtiene $5M en Serie A para Expandir Plataforma de Belleza Impulsada por IA",newsItem2:"Revolucionaria App de Belleza se Lanza con Tecnología Aphrodite AI",newsItem3:"BeautyCita se Asocia con las Principales Escuelas de Belleza de México"},privacy:{title:"Política de Privacidad",subtitle:"Cómo protegemos y usamos tu información",lastUpdated:"Última actualización: 1 de enero de 2024",intro:"En BeautyCita, tomamos muy en serio tu privacidad. Esta política explica cómo recopilamos, usamos y protegemos tu información personal.",dataCollection:"Recopilación de Datos",dataUse:"Cómo Usamos Tus Datos",dataSharing:"Compartir Datos",security:"Medidas de Seguridad",rights:"Tus Derechos",contact:"Contáctanos Sobre Privacidad",dataCollectionItems:["Información personal que proporcionas al crear una cuenta (nombre, correo, número de teléfono)","Preferencias de belleza e historial de servicios para mejorar recomendaciones","Fotos de perfil e imágenes que eliges subir","Información de pago procesada de forma segura a través de nuestros socios de pago","Información del dispositivo y datos de uso para mejorar el rendimiento de nuestra app","Datos de ubicación (con tu permiso) para mostrar estilistas y servicios cercanos"],dataUseItems:["Proporcionar y mejorar nuestros servicios de reservas y recomendaciones de belleza","Procesar pagos y enviar confirmaciones de transacciones","Enviar recordatorios de citas y actualizaciones de servicios vía SMS o correo","Personalizar tu experiencia con recomendaciones de belleza impulsadas por IA","Comunicar información importante de cuenta y servicios","Cumplir con obligaciones legales y resolver disputas"],dataSharingItems:["Con profesionales de belleza con quienes reservas servicios (nombre, información de contacto)","Con procesadores de pago para manejar transacciones de forma segura","Con proveedores de servicios SMS y correo para notificaciones","Con proveedores de analíticas para entender el uso de la app (datos anónimos y agregados)","Podemos compartir datos anónimos y agregados de usuarios con terceros para investigación de mercado, analíticas y mejora de servicios - estos datos no pueden identificar usuarios individuales","Los socios terceros incluyen: herramientas de analíticas, monitoreo de rendimiento, empresas de investigación de experiencia de usuario - todos bajo estrictos acuerdos de protección de datos","Cuando lo requiera la ley o para proteger nuestros derechos y usuarios","Nunca vendemos tu información personal identificable a terceros con fines de marketing"],securityItems:["Encriptación de extremo a extremo para transmisión de datos sensibles","Almacenamiento seguro de datos con encriptación estándar de la industria","Auditorías de seguridad regulares y pruebas de penetración","Acceso limitado a datos personales bajo base de necesidad de saber","Procesamiento seguro de pagos a través de socios compatibles con PCI","Cierre de sesión automático después de períodos de inactividad"],rightsItems:["Acceder y revisar tus datos personales en cualquier momento","Corregir o actualizar tu información a través de tu perfil","Eliminar tu cuenta y datos asociados","Exportar tus datos en un formato portátil","Optar por no recibir comunicaciones de marketing","Presentar quejas ante autoridades de protección de datos"],introText:"En BeautyCita, creemos que tu privacidad es fundamental para tu confianza en nuestra plataforma. Esta Política de Privacidad explica cómo recopilamos, usamos, protegemos y compartimos tu información personal cuando usas nuestra plataforma de reservas de belleza. Estamos comprometidos con la transparencia y darte control sobre tus datos.",contactText:"Si tienes preguntas sobre esta Política de Privacidad o cómo manejamos tus datos, no dudes en contactar a nuestro equipo de privacidad."},report:{title:"Reportar un Problema",subtitle:"Ayúdanos a mejorar reportando problemas",issueType:"Tipo de Problema",technical:"Problema Técnico",inappropriate:"Contenido Inapropiado",spam:"Spam",fraud:"Fraude/Estafa",other:"Otro",description:"Descripción",screenshots:"Capturas de pantalla (opcional)",submit:"Enviar Reporte",thankYou:"Gracias por tu reporte. Lo revisaremos de inmediato."},resources:{title:"Recursos para Estilistas",subtitle:"Herramientas y guías para profesionales de la belleza",gettingStarted:"Primeros Pasos",setupGuide:"Guía de Configuración de Cuenta",bestPractices:"Mejores Prácticas",marketing:"Promocionando Tus Servicios",clientManagement:"Gestión de Clientes",pricing:"Estrategias de Precios",downloads:"Descargas",brandKit:"Kit de Marca",templates:"Plantillas de Servicio",webinars:"Seminarios Web de Capacitación"},status:{title:"Estado del Sistema",subtitle:"Estado actual de los servicios de BeautyCita",allSystems:"Todos los Sistemas Operacionales",services:"Servicios",website:"Sitio Web",mobileApp:"App Móvil",api:"API",payments:"Procesamiento de Pagos",notifications:"Notificaciones",operational:"Operacional",degraded:"Rendimiento Degradado",outage:"Fuera de Servicio",maintenance:"Mantenimiento",lastUpdated:"Última actualización"},terms:{title:"Términos de Servicio",subtitle:"Términos y condiciones para usar BeautyCita",lastUpdated:"Última actualización: 1 de enero de 2024",acceptance:"Aceptación de Términos",services:"Descripción de Servicios",accounts:"Cuentas de Usuario",conduct:"Conducta del Usuario",payment:"Términos de Pago",cancellation:"Política de Cancelación",liability:"Limitación de Responsabilidad",modifications:"Modificaciones a los Términos",acceptanceItems:["Al crear una cuenta o usar BeautyCita, aceptas estos Términos de Servicio","Debes tener al menos 18 años para usar nuestra plataforma","Si no estás de acuerdo con alguna parte de estos términos, no puedes usar nuestro servicio","Estos términos constituyen un acuerdo legalmente vinculante entre tú y BeautyCita","Tu uso continuo de la plataforma constituye aceptación de actualizaciones a estos términos"],servicesItems:["BeautyCita es una plataforma que conecta clientes con profesionales de belleza","Proporcionamos herramientas de reservas, procesamiento de pagos y comunicación","Recomendaciones impulsadas por IA a través de nuestra tecnología Aphrodite","No proporcionamos directamente servicios de belleza - estos son proporcionados por estilistas independientes","La disponibilidad de servicios puede variar según ubicación y horario del estilista","Nos reservamos el derecho de modificar o discontinuar servicios con previo aviso"],accountsItems:["Debes proporcionar información precisa y completa al crear una cuenta","Eres responsable de mantener la seguridad de las credenciales de tu cuenta","No puedes compartir tu cuenta con otros ni crear múltiples cuentas","Nos reservamos el derecho de suspender o terminar cuentas que violen estos términos","Debes notificarnos inmediatamente de cualquier acceso no autorizado a tu cuenta","La terminación de cuenta no afecta obligaciones de reservas existentes"],conductItems:["Trata a todos los usuarios de la plataforma con respeto y profesionalismo","No publiques contenido inapropiado, ofensivo o falso","Respeta los derechos de propiedad intelectual de BeautyCita y otros usuarios","No intentes eludir nuestros sistemas de reservas o pagos","Reporta cualquier comportamiento sospechoso o inapropiado a nuestro equipo de soporte","Las violaciones pueden resultar en suspensión o terminación de cuenta"],paymentItems:["Todos los pagos se procesan de forma segura a través de nuestros socios de pago","Nos autorizas a cobrar tu método de pago seleccionado por las reservas","Los precios se muestran en Pesos Mexicanos (MXN) a menos que se especifique lo contrario","Las tarifas de servicio e impuestos se mostrarán claramente antes del pago","Los reembolsos están sujetos a nuestra política de cancelación y términos del estilista","Los cargos disputados deben reportarse dentro de los 30 días de la transacción"],cancellationItems:["Los clientes pueden cancelar citas hasta 24 horas antes de la hora programada","Cancelaciones dentro de 24 horas pueden incurrir en una tarifa de cancelación","No presentarse puede resultar en cobro del monto total del servicio","Los estilistas pueden cancelar citas con al menos 4 horas de aviso","Las cancelaciones de emergencia se manejarán caso por caso","Los reembolsos por servicios cancelados se procesarán dentro de 5-7 días hábiles"],liabilityItems:["BeautyCita actúa como intermediario entre clientes y profesionales de belleza","No somos responsables de la calidad o resultado de los servicios de belleza proporcionados","Nuestra responsabilidad se limita al monto pagado por el servicio específico","No somos responsables de lesiones o daños durante la prestación del servicio","Los usuarios participan en servicios de belleza bajo su propio riesgo","Recomendamos verificar credenciales y calificaciones del estilista"],modificationsItems:["Podemos actualizar estos Términos de Servicio de vez en cuando","Los cambios materiales se comunicarán por correo o notificación en la plataforma","El uso continuo de la plataforma constituye aceptación de términos actualizados","Puedes revisar los términos actuales en cualquier momento en nuestro sitio web","Si no estás de acuerdo con las actualizaciones, puedes terminar tu cuenta","La versión más actual de estos términos siempre estará disponible en nuestra plataforma"],introText:'Estos Términos de Servicio ("Términos") rigen tu uso de la plataforma BeautyCita, incluyendo nuestro sitio web, aplicaciones móviles y servicios relacionados. Al usar nuestra plataforma, aceptas estar vinculado por estos términos. Por favor léelos cuidadosamente antes de usar nuestros servicios. Si tienes preguntas sobre estos términos, contacta a nuestro equipo legal.',contactText:"Si tienes preguntas sobre estos Términos de Servicio o necesitas aclaración sobre alguna disposición, nuestro equipo legal está aquí para ayudar."}},Jre={hero:{title:"Tu Belleza,",subtitle:"Nuestra Pasión ✨",description:"Conectamos a los mejores estilistas con clientes que buscan realzar su belleza natural",exploreServices:"✨ Explorar Servicios",joinStylist:"💫 Únete como Estilista"},features:{title:"¿Por qué elegir BeautyCita? 💖",subtitle:"Ofrecemos una experiencia única que conecta a clientes con profesionales de la belleza",easyBooking:{title:"Reservas Fáciles",description:"Programa tu cita en segundos con nuestro sistema intuitivo"},verifiedStylists:{title:"Estilistas Verificados",description:"Todos nuestros profesionales están certificados y verificados"},securePayments:{title:"Pagos Seguros",description:"Procesa tus pagos de forma segura con tecnología de última generación"},realReviews:{title:"Reseñas Reales",description:"Lee opiniones auténticas de otros clientes"}},services:{title:"Servicios Populares 🔥",subtitle:"Descubre los tratamientos de belleza más solicitados por nuestros clientes",viewAll:"✨ Ver Todos los Servicios",popular:"🔥 Popular",haircut:"Corte y Peinado",coloring:"Coloración",manicure:"Manicure",makeup:"Maquillaje",from:"Desde"},cta:{title:"¿Listo para tu transformación?",subtitle:"Únete a miles de clientes satisfechos que han encontrado a su estilista ideal",createAccount:"Crear Cuenta",findStylists:"Buscar Estilistas"},stats:{happyClients:"Clientes Satisfechos",verifiedStylists:"Estilistas Verificados",averageRating:"Calificación Promedio"}},Xre={welcome:["*bosteza divinamente* Vaya, vaya... ¡un mortal se ha ATREVIDO a perturbar mi sueño de belleza! Esto mejor que sea importante, cariño. ¿Qué emergencia estética podría requerir despertar a una DIOSA? 😴✨","¿Tienes ALGUNA idea de qué hora es en el Monte Olimpo?! ¡Estaba en medio de una mascarilla divina! *suspira dramáticamente* Bien, ya que me has invocado... ¿qué crisis de belleza puedo resolver? 💅👑","*se estira con gracia* ¡Alguien tuvo la AUDACIA de despertarme! Espero que estés listo para verte IMPRESIONANTE porque no acepto mediocridad, ¡especialmente antes de mi ambrosía matutina! ☕✨","¡Por Zeus!... ¡OTRO mortal tocando mi timbre cósmico! Estaba perfeccionando mi rutina de brillo eterno. Suerte para ti, soy una diosa de paciencia INFINITA... mayormente. ¿Qué deseas? 😏💋","*aparece en luz etérea* ¿Te das cuenta que estaba enseñando a querubines el arte del delineado alado? ¡Esta interrupción mejor que valga la pena, cariño! Ahora habla - ¿emergencia de belleza o solo admiración? 💖✨","¿PERDÓN?! ¡Estaba teniendo el sueño más DIVINO sobre inventar un nuevo tono de oro rosa! *mueve el cabello* Bueno, ya que estoy despierta... ¡hagamos que te veas tan bien que los mortales pensarán que ERES una deidad! 👑💫","*desciende dramáticamente* No digo que estaba OCUPADA redefiniendo los estándares de belleza en el cosmos, pero... LO ESTABA. Sin embargo, como diosa de la hermosura, es mi carga ayudar a quienes se atreven a molestarme. ¡Habla! 💋⚡"],placeholder:"Escribe tu pregunta...",assistant:"Tu consultora de belleza",typing:"Aphrodite está escribiendo...",disclaimer:"Aphrodite AI puede cometer errores. Considera verificar información importante.",suggestedQuestions:{q1:"¿Qué tendencias de cabello están de moda?",q2:"Quiero encontrar una estilista cerca de mí",q3:"¿Cuánto cuesta un balayage?",q4:"Recomiéndame un estilo para mi tipo de cabello"},buttons:{services:"Ver Servicios",stylists:"Buscar Estilistas",booking:"Reservar Cita"},errors:{general:"Lo siento, tuve un problema al procesar tu mensaje. ¿Podrías intentar de nuevo?",network:"Problema de conexión. Verifica tu internet e intenta de nuevo.",unavailable:"El servicio de chat está temporalmente no disponible. Intenta en unos minutos.",server:"Error del servidor. Nuestro equipo ha sido notificado.",init:"Lo siento, hay un problema con el chat en este momento. Por favor intenta más tarde."},retry:"Reintentar",support:"Contactar Soporte"},ese={companyTitle:"Empresa",supportTitle:"Soporte",legalTitle:"Legal",stylistsTitle:"Estilistas",company:{careers:"Carreras",press:"Prensa",blog:"Blog"},support:{helpCenter:"Centro de Ayuda",serviceStatus:"Estado del Servicio",reportProblem:"Reportar Problema"},legal:{privacy:"Privacidad",terms:"Términos",cookies:"Cookies",licenses:"Licencias"},stylists:{joinStylist:"Únete como Estilista",resources:"Centro de Recursos",policies:"Políticas",commissions:"Comisiones"},description:"La plataforma líder que conecta a clientes con los mejores profesionales de la belleza. Tu transformación comienza aquí.",newsletter:{title:"Mantente al día con las últimas tendencias",subtitle:"Recibe consejos de belleza, ofertas especiales y novedades directamente en tu email",placeholder:"Tu email",subscribe:"Suscribirse"},madeWith:"Hecho con",inMexico:"en México"},tse={placeholders:{firstName:"Nombre",lastName:"Apellido",email:"Ingresa tu email",phone:"Ingresa tu número de teléfono",password:"Ingresa tu contraseña",businessName:"Tu nombre comercial o profesional",bio:"Cuéntales a los clientes sobre ti, tu experiencia...",city:"Tu ciudad",businessNameFull:"Nombre de tu negocio de belleza",address:"Ingresa tu dirección de domicilio o negocio",cardNumber:"Número de Tarjeta",expiry:"MM/AA",cvc:"CVC",searchServices:"Buscar servicios...",searchStylists:"Buscar estilistas...",searchLocation:"Buscar ubicación...",notes:"Notas adicionales o solicitudes especiales..."},labels:{required:"Requerido",optional:"Opcional"}},rse={picker:{title:"¿Dónde proporcionas tus servicios?",subtitle:"Ayuda a los clientes a encontrarte estableciendo tu ubicación de servicio",businessAddress:"Dirección de Domicilio o Negocio",searchPlaceholder:"Busca tu dirección de domicilio o negocio...",editButton:"Editar",selectedFromGoogle:"Seleccionado de Google Places",manualEdit:{title:"Editar Dirección Manualmente",customAddress:"Dirección Personalizada",customPlaceholder:"Ingresa la dirección exacta de tu domicilio o negocio...",editDescription:"Edita la dirección para que coincida exactamente con como quieres que aparezca",specificLocation:"Ubicación Específica (Opcional)",specificPlaceholder:"ej., Oficina 27, Suite B, Piso 3...",specificDescription:"Agrega detalles específicos como número de oficina, suite o piso",saveButton:"Guardar Dirección",cancelButton:"Cancelar",note:"Las coordenadas del mapa permanecerán precisas basadas en tu selección original de Google Places, incluso con texto de dirección personalizado."},selectedLocation:"Ubicación Seleccionada:",coordinates:"Coordenadas:",mapHelp:"Arrastra el mapa o el marcador para posicionarlo exactamente en la entrada de tu negocio"},requestingPermission:"Solicitando acceso a ubicación...",permissionDenied:"Acceso a ubicación denegado. Habilita en configuración del navegador para mejores sugerencias de dirección.",permissionGranted:"Acceso a ubicación habilitado - mejores sugerencias de dirección disponibles",help:{chrome:'Haz clic en el ícono de ubicación en la barra de direcciones y selecciona "Permitir"',firefox:'Haz clic en el ícono de escudo y selecciona "Permitir" para ubicación',safari:"Ve a Safari > Configuración > Sitios web > Ubicación y permite el acceso",generic:"Habilita el acceso a ubicación en la configuración de tu navegador y actualiza la página"},tracking:{title:"Rastreo de Ubicación de Clientes",loading:"Cargando ubicaciones de clientes...",error:"No se pueden cargar los datos de ubicación",retry:"Reintentar",clients:"clientes hoy",nearby:"cerca",clientList:"Clientes en Camino",noClients:"No hay clientes siendo rastreados actualmente",noClientsDesc:"El rastreo comenzará automáticamente 3 horas antes de las citas",live:"En Vivo",passed:"Pasó",now:"Ahora",calculatingEta:"Calculando ETA...",lastCheck:"Última verificación",clientNear:"¡El cliente se está acercando! Prepárate para su cita.",lastUpdated:"Última actualización",autoRefresh:"Se actualiza automáticamente cada 30s"}},sse={client:{welcome:"¡Hola, {name}!",subtitle:"Descubre los mejores servicios de belleza en tu área",home:{greeting:"¡Hola {{name}}!",subtitle:"¿Lista para brillar hoy?",searchPlaceholder:"Buscar estilistas, servicios...",upcoming:"Próximas",with:"con",quickActions:{title:"Acciones Rápidas",bookNow:"Reservar Ahora",scanLook:"Escanear Look",giftCard:"Tarjeta de Regalo",sosHelp:"Ayuda SOS"},vibeToday:{title:"Tu Vibra Hoy",subtitle:"Cuéntanos cómo te sientes"},trendingNearYou:"Tendencias Cerca de Ti",favorites:"Favoritos",noFavorites:"Aún no has guardado estilistas",exploreStylists:"Explorar Estilistas"},stats:{totalBookings:"Total de Citas",upcomingBookings:"Próximas",favoriteStylists:"Estilistas Favoritos",totalSpent:"Total Gastado",completedBookings:"Completadas",cancelledBookings:"Canceladas"},recentBookings:{title:"Citas Recientes",empty:"Aún no has hecho ninguna reserva",exploreStylists:"Explorar Estilistas",viewAll:"Ver Todas las Citas"},favoriteStylists:{title:"Estilistas Favoritos",empty:"Aún no has marcado estilistas como favoritos",exploreStylists:"Explorar Estilistas"},quickActions:{title:"Acciones Rápidas",bookAppointment:"Agendar Cita",browseServices:"Ver Servicios",viewProfile:"Ver Perfil"}},stylist:{welcome:"¡Bienvenido de vuelta, {name}!",subtitle:"Gestiona tus citas y haz crecer tu negocio",nav:{home:"Inicio",calendar:"Calendario",portfolio:"Portafolio",services:"Servicios",revenue:"Ingresos",messages:"Mensajes",profile:"Perfil"},stats:{upcomingBookings:"Citas Próximas",totalBookings:"Total de Citas",totalRevenue:"Ingresos Totales",averageRating:"Calificación Promedio",totalReviews:"Total de Reseñas",followersCount:"Seguidores",profileCompleteness:"Completitud del Perfil"},messages:{bookings:{loadError:"Error al cargar las citas",confirmSuccess:"Cita confirmada exitosamente",confirmError:"Error al confirmar la cita",cancelSuccess:"Cita cancelada exitosamente",cancelError:"Error al cancelar la cita",rescheduleSuccess:"Cita reprogramada exitosamente",rescheduleError:"Error al reprogramar la cita",completeSuccess:"Cita marcada como completada",completeError:"Error al completar la cita",markCompleteInfo:"Marca como completada cuando termines el servicio",photosInDevelopment:"Función de fotos en desarrollo"},portfolio:{loadError:"Error al cargar el portfolio",uploadError:"Error al subir las imágenes",uploadSuccess:"{filename} subida exitosamente",deleteSuccess:"Imagen eliminada exitosamente",deleteError:"Error al eliminar la imagen"},analytics:{loadError:"Error al cargar analíticas"},availability:{loadError:"Error al cargar el calendario",updateSuccess:"Disponibilidad actualizada"}}},admin:{loading:"Cargando reservas...",title:"Gestión de Reservas",subtitle:"Administra citas, horarios y reservaciones",allBookings:"Todas las reservas",client:"Cliente",stylist:"Estilista",noBookings:"No se encontraron reservas con los filtros seleccionados"}},ase={title:"Acceso Denegado",subtitle:"No tienes permisos para acceder a esta área.",description:"Esta sección está restringida solo para administradores autorizados. Si crees que deberías tener acceso, por favor contacta a tu administrador del sistema.",adminRequired:"Acceso de Administrador Requerido: Necesitas privilegios de administrador para ver este contenido.",actions:{goHome:"Ir al Inicio",goBack:"Regresar",needHelp:"¿Necesitas ayuda?",contactSupport:"Contactar Soporte"}},nse={success:"¡Gracias por tu mensaje! Te responderemos en las próximas 24 horas.",error:"Lo sentimos, hubo un error al enviar tu mensaje. Por favor intenta de nuevo.",emailSupport:"Soporte por Email",emailDesc:"Obtén ayuda por correo electrónico",backToHome:"← Volver al Inicio",title:"Contáctanos",subtitle:"Estamos aquí para ayudarte con cualquier pregunta o inquietud",faq:{booking:"¿Cómo hago una reserva?",bookingAnswer:"Simplemente navega por nuestros estilistas, selecciona tu profesional preferido, elige fecha y hora, y confirma tu reserva con pago seguro.",cancellation:"¿Cuál es su política de cancelación?",cancellationAnswer:"Puedes cancelar citas hasta 24 horas antes de tu hora programada. Las cancelaciones dentro de 24 horas pueden incurrir en una tarifa.",payment:"¿Qué métodos de pago aceptan?",paymentAnswer:"Aceptamos todas las tarjetas de crédito principales, tarjetas de débito y métodos de pago digital. Todas las transacciones son seguras y encriptadas."}},ise={stats:{happyClients:"Clientes Felices",verifiedStylists:"Estilistas Verificados",cities:"Ciudades",satisfactionRate:"Tasa de Satisfacción"}},ose={blog:{categories:{all:"Todas las Categorías",beautyTrends:"Tendencias de Belleza",skincare:"Cuidado de la Piel",technology:"Tecnología"},status:{all:"Todos los Estados",published:"Publicado",draft:"Borrador"}}},lse={location:{title:"¿Dónde proporcionas tus servicios?",subtitle:"Ayuda a los clientes a encontrarte estableciendo tu ubicación de servicio",label:"Ubicación del Servicio",nextButton:"Continuar al Portafolio"}},cse={title:"Notificaciones",markAllRead:"Marcar todas como leídas",noNotifications:"No hay notificaciones aún",markAsRead:"Marcar como leída",delete:"Eliminar",service:"Servicio"},dse={errors:{checkingStatus:"Error al verificar el estado de la cuenta de pagos",createAccount:"Error al crear cuenta de pagos",startOnboarding:"Error al iniciar configuración",openDashboard:"Error al abrir panel"},success:{accountCreated:"¡Cuenta de pagos creada!",setupComplete:"Configuración completada"},setup:{title:"Configurar Pagos",description:"Conecta tu cuenta bancaria para recibir pagos de tus reservas. Powered by Stripe.",whyStripe:"¿Por qué Stripe?",benefit1:"✓ Seguro y encriptado",benefit2:"✓ Depósito directo a tu banco",benefit3:"✓ Rastrea ganancias en tiempo real",benefit4:"✓ Recibe pagos en 2-3 días hábiles",setupButton:"Configurar Cuenta de Pagos",settingUp:"Configurando...",completeTitle:"Completar Configuración de Pagos",completeDescription:"Tu cuenta de pagos está creada pero necesita información adicional para comenzar a recibir pagos.",actionRequired:"Acción Requerida:",onboardingNote:"Completa tu configuración de Stripe para habilitar pagos. Usualmente toma 5-10 minutos.",continueButton:"Continuar Configuración",activeTitle:"Cuenta de Pagos Activa",activeDescription:"¡Tu cuenta de pagos está completamente configurada y lista para recibir pagos!",paymentsLabel:"PAGOS",payoutsLabel:"PAGOS SALIENTES",enabled:"Habilitado",pending:"Pendiente",openDashboard:"Abrir Panel de Stripe",loading:"Cargando...",checkingStatus:"Verificando estado de cuenta de pagos..."}},use={notFound:"Portafolio no encontrado",linkCopied:"¡Enlace del portafolio copiado al portapapeles!",addedFavorite:"¡Agregado a favoritos!",removedFavorite:"Eliminado de favoritos",reviews:"reseñas",yearsExperience:"años de experiencia",bookNow:"Reservar Ahora",favorite:"Favorito",share:"Compartir",myStory:"Mi Historia",signatureStyles:"Estilos Distintivos",services:"Servicios",myWork:"Mi Trabajo",clientReviews:"Reseñas de Clientes",readyToBook:"¿Lista Para Transformar Tu Look?",bookingCTA:"¡Reserva tu cita con {{name}} hoy y experimenta la excelencia en belleza!",bookAppointment:"Reservar Cita",nav:{services:"Servicios",gallery:"Galería",about:"Acerca de",reviews:"Reseñas"}},hse={readOnlyMode:"El programador está en modo de solo lectura",appointmentCreated:"Cita creada exitosamente",appointmentUpdated:"Cita actualizada exitosamente",appointmentDeleted:"Cita eliminada exitosamente"},mse={home:{greeting:"[ES] Hey {{name}}!",subtitle:"[ES] Ready to glow today?",searchPlaceholder:"[ES] Search stylists, services...",upcoming:"[ES] Upcoming",with:"[ES] with",quickActions:{title:"[ES] Quick Actions",bookNow:"[ES] Book Now",scanLook:"[ES] Scan Look",giftCard:"[ES] Gift Card",sosHelp:"[ES] SOS Help"},vibeToday:{title:"[ES] Your Vibe Today",subtitle:"[ES] Tell us how you're feeling"},trendingNearYou:"[ES] Trending Near You",favorites:"[ES] Favorites",noFavorites:"[ES] You haven't saved any stylists yet",exploreStylists:"[ES] Explore Stylists"}},pse={common:Wre,nav:zre,auth:Hre,services:qre,stylists:Gre,booking:Yre,profile:Kre,messages:Qre,pages:Zre,homepage:Jre,chat:Xre,footer:ese,forms:tse,location:rse,dashboard:sse,unauthorized:ase,contact:nse,about:ise,admin:ose,stylistRegistration:lse,notifications:cse,stripe:dse,portfolio:use,scheduler:hse,client:mse},fse={en:{translation:Ure},es:{translation:pse}},gse=typeof window<"u"?localStorage.getItem("beautyCitaLanguage"):null;Rt.use(yS).init({resources:fse,lng:gse||"en",fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1},react:{useSuspense:!1}});const xse="modulepreload",yse=function(s){return"/"+s},Xx={},bse=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(t.map(c=>{if(c=yse(c),c in Xx)return;Xx[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":xse,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function vse(s={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:a,onRegistered:n,onRegisteredSW:i,onRegisterError:o}=s;let l,c;const d=async(h=!0)=>{await c};async function u(){if("serviceWorker"in navigator){if(l=await bse(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!l)return;l.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),l.addEventListener("installed",h=>{h.isUpdate||a==null||a()}),l.register({immediate:e}).then(h=>{i?i("/sw.js",h):n==null||n(h)}).catch(h=>{o==null||o(h)})}}return c=u(),d}const wse="https://beautycita.com";class jse{constructor(){se(this,"queue",[]);se(this,"flushInterval",2e3);se(this,"maxQueueSize",50);se(this,"enabled",!0);this.setupErrorHandlers(),this.setupConsoleInterceptors(),this.startFlushTimer()}setupErrorHandlers(){window.addEventListener("error",e=>{var t;this.reportError({message:e.message,stack:(t=e.error)==null?void 0:t.stack,filename:e.filename,line:e.lineno,column:e.colno,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent})}),window.addEventListener("unhandledrejection",e=>{var t;this.reportError({message:`Unhandled Promise Rejection: ${e.reason}`,stack:(t=e.reason)==null?void 0:t.stack,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent})})}setupConsoleInterceptors(){const e={log:console.log,info:console.info,warn:console.warn,error:console.error,debug:console.debug};console.error=(...a)=>{e.error(...a),this.log("error",a)},console.warn=(...a)=>{e.warn(...a),this.log("warn",a)};const t=console.log;console.log=(...a)=>{var i;t(...a);const n=((i=a[0])==null?void 0:i.toString())||"";(n.startsWith("[ONBOARDING]")||n.startsWith("[USERNAME")||n.startsWith("[AVATAR")||n.startsWith("[ERROR]")||n.startsWith("[PROTECTED ROUTE]"))&&this.log("log",a)}}log(e,t){if(!this.enabled)return;const a=t.map(i=>{if(typeof i=="object")try{return JSON.stringify(i)}catch{return String(i)}return String(i)}).join(" "),n={level:e,message:a,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};this.queue.push(n),this.queue.length>=this.maxQueueSize&&this.flush()}reportError(e){this.enabled&&(this.queue.push(e),this.queue.length>=this.maxQueueSize&&this.flush())}async flush(){if(this.queue.length===0)return;const e=[...this.queue];this.queue=[];try{await fetch(`${wse}/api/logs/frontend`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({logs:e}),keepalive:!0})}catch(t){console.warn("Failed to send logs to backend:",t)}}startFlushTimer(){setInterval(()=>{this.flush()},this.flushInterval),window.addEventListener("beforeunload",()=>{this.flush()})}disable(){this.enabled=!1}enable(){this.enabled=!0}}new jse;const Nse=new J2({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),kse=vse({onNeedRefresh(){confirm("New content available. Reload?")&&kse(!0)},onOfflineReady(){console.log("✅ App ready to work offline")}}),_se=document.getElementById("root"),Sse=uu.createRoot(_se);Sse.render(r.jsx(Se.StrictMode,{children:r.jsx(X2,{client:Nse,children:r.jsxs(r5,{children:[r.jsx(Gte,{}),r.jsx(q5,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"10px",padding:"16px",fontSize:"14px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})}))});export default Cse();
//# sourceMappingURL=index-Ds3r6AQG.js.map
